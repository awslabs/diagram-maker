!function(n){var A={};function e(t){if(A[t])return A[t].exports;var o=A[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=A,e.d=function(n,A,t){e.o(n,A)||Object.defineProperty(n,A,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,A){if(1&A&&(n=e(n)),8&A)return n;if(4&A&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&A&&"string"!=typeof n)for(var o in n)e.d(t,o,function(A){return n[A]}.bind(null,o));return t},e.n=function(n){var A=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(A,"a",A),A},e.o=function(n,A){return Object.prototype.hasOwnProperty.call(n,A)},e.p="",e(e.s=334)}([function(n,A,e){"use strict";e.r(A),e.d(A,"h",(function(){return r})),e.d(A,"createElement",(function(){return r})),e.d(A,"cloneElement",(function(){return C})),e.d(A,"createRef",(function(){return P})),e.d(A,"Component",(function(){return U})),e.d(A,"render",(function(){return N})),e.d(A,"rerender",(function(){return E})),e.d(A,"options",(function(){return o}));var t=function(){},o={},l=[],i=[];function r(n,A){var e,r,a,c,s=i;for(c=arguments.length;c-- >2;)l.push(arguments[c]);for(A&&null!=A.children&&(l.length||l.push(A.children),delete A.children);l.length;)if((r=l.pop())&&void 0!==r.pop)for(c=r.length;c--;)l.push(r[c]);else"boolean"==typeof r&&(r=null),(a="function"!=typeof n)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(a=!1)),a&&e?s[s.length-1]+=r:s===i?s=[r]:s.push(r),e=a;var C=new t;return C.nodeName=n,C.children=s,C.attributes=null==A?void 0:A,C.key=null==A?void 0:A.key,void 0!==o.vnode&&o.vnode(C),C}function a(n,A){for(var e in A)n[e]=A[e];return n}function c(n,A){n&&("function"==typeof n?n(A):n.current=A)}var s="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function C(n,A){return r(n.nodeName,a(a({},n.attributes),A),arguments.length>2?[].slice.call(arguments,2):n.children)}var u=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,m=[];function d(n){!n._dirty&&(n._dirty=!0)&&1==m.push(n)&&(o.debounceRendering||s)(E)}function E(){for(var n;n=m.pop();)n._dirty&&T(n)}function p(n,A,e){return"string"==typeof A||"number"==typeof A?void 0!==n.splitText:"string"==typeof A.nodeName?!n._componentConstructor&&f(n,A.nodeName):e||n._componentConstructor===A.nodeName}function f(n,A){return n.normalizedNodeName===A||n.nodeName.toLowerCase()===A.toLowerCase()}function g(n){var A=a({},n.attributes);A.children=n.children;var e=n.nodeName.defaultProps;if(void 0!==e)for(var t in e)void 0===A[t]&&(A[t]=e[t]);return A}function h(n){var A=n.parentNode;A&&A.removeChild(n)}function I(n,A,e,t,o){if("className"===A&&(A="class"),"key"===A);else if("ref"===A)c(e,null),c(t,n);else if("class"!==A||o)if("style"===A){if(t&&"string"!=typeof t&&"string"!=typeof e||(n.style.cssText=t||""),t&&"object"==typeof t){if("string"!=typeof e)for(var l in e)l in t||(n.style[l]="");for(var l in t)n.style[l]="number"==typeof t[l]&&!1===u.test(l)?t[l]+"px":t[l]}}else if("dangerouslySetInnerHTML"===A)t&&(n.innerHTML=t.__html||"");else if("o"==A[0]&&"n"==A[1]){var i=A!==(A=A.replace(/Capture$/,""));A=A.toLowerCase().substring(2),t?e||n.addEventListener(A,y,i):n.removeEventListener(A,y,i),(n._listeners||(n._listeners={}))[A]=t}else if("list"!==A&&"type"!==A&&!o&&A in n){try{n[A]=null==t?"":t}catch(n){}null!=t&&!1!==t||"spellcheck"==A||n.removeAttribute(A)}else{var r=o&&A!==(A=A.replace(/^xlink:?/,""));null==t||!1===t?r?n.removeAttributeNS("http://www.w3.org/1999/xlink",A.toLowerCase()):n.removeAttribute(A):"function"!=typeof t&&(r?n.setAttributeNS("http://www.w3.org/1999/xlink",A.toLowerCase(),t):n.setAttribute(A,t))}else n.className=t||""}function y(n){return this._listeners[n.type](o.event&&o.event(n)||n)}var B=[],M=0,v=!1,b=!1;function O(){for(var n;n=B.shift();)o.afterMount&&o.afterMount(n),n.componentDidMount&&n.componentDidMount()}function G(n,A,e,t,o,l){M++||(v=null!=o&&void 0!==o.ownerSVGElement,b=null!=n&&!("__preactattr_"in n));var i=D(n,A,e,t,l);return o&&i.parentNode!==o&&o.appendChild(i),--M||(b=!1,l||O()),i}function D(n,A,e,t,o){var l=n,i=v;if(null!=A&&"boolean"!=typeof A||(A=""),"string"==typeof A||"number"==typeof A)return n&&void 0!==n.splitText&&n.parentNode&&(!n._component||o)?n.nodeValue!=A&&(n.nodeValue=A):(l=document.createTextNode(A),n&&(n.parentNode&&n.parentNode.replaceChild(l,n),k(n,!0))),l.__preactattr_=!0,l;var r,a,c=A.nodeName;if("function"==typeof c)return function(n,A,e,t){var o=n&&n._component,l=o,i=n,r=o&&n._componentConstructor===A.nodeName,a=r,c=g(A);for(;o&&!a&&(o=o._parentComponent);)a=o.constructor===A.nodeName;o&&a&&(!t||o._component)?(x(o,c,3,e,t),n=o.base):(l&&!r&&(Q(l),n=i=null),o=w(A.nodeName,c,e),n&&!o.nextBase&&(o.nextBase=n,i=null),x(o,c,1,e,t),n=o.base,i&&n!==i&&(i._component=null,k(i,!1)));return n}(n,A,e,t);if(v="svg"===c||"foreignObject"!==c&&v,c=String(c),(!n||!f(n,c))&&(r=c,(a=v?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r)).normalizedNodeName=r,l=a,n)){for(;n.firstChild;)l.appendChild(n.firstChild);n.parentNode&&n.parentNode.replaceChild(l,n),k(n,!0)}var s=l.firstChild,C=l.__preactattr_,u=A.children;if(null==C){C=l.__preactattr_={};for(var m=l.attributes,d=m.length;d--;)C[m[d].name]=m[d].value}return!b&&u&&1===u.length&&"string"==typeof u[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=u[0]&&(s.nodeValue=u[0]):(u&&u.length||null!=s)&&function(n,A,e,t,o){var l,i,r,a,c,s=n.childNodes,C=[],u={},m=0,d=0,E=s.length,f=0,g=A?A.length:0;if(0!==E)for(var I=0;I<E;I++){var y=s[I],B=y.__preactattr_;null!=(M=g&&B?y._component?y._component.__key:B.key:null)?(m++,u[M]=y):(B||(void 0!==y.splitText?!o||y.nodeValue.trim():o))&&(C[f++]=y)}if(0!==g)for(I=0;I<g;I++){var M;if(a=A[I],c=null,null!=(M=a.key))m&&void 0!==u[M]&&(c=u[M],u[M]=void 0,m--);else if(d<f)for(l=d;l<f;l++)if(void 0!==C[l]&&p(i=C[l],a,o)){c=i,C[l]=void 0,l===f-1&&f--,l===d&&d++;break}c=D(c,a,e,t),r=s[I],c&&c!==n&&c!==r&&(null==r?n.appendChild(c):c===r.nextSibling?h(r):n.insertBefore(c,r))}if(m)for(var I in u)void 0!==u[I]&&k(u[I],!1);for(;d<=f;)void 0!==(c=C[f--])&&k(c,!1)}(l,u,e,t,b||null!=C.dangerouslySetInnerHTML),function(n,A,e){var t;for(t in e)A&&null!=A[t]||null==e[t]||I(n,t,e[t],e[t]=void 0,v);for(t in A)"children"===t||"innerHTML"===t||t in e&&A[t]===("value"===t||"checked"===t?n[t]:e[t])||I(n,t,e[t],e[t]=A[t],v)}(l,A.attributes,C),v=i,l}function k(n,A){var e=n._component;e?Q(e):(null!=n.__preactattr_&&c(n.__preactattr_.ref,null),!1!==A&&null!=n.__preactattr_||h(n),K(n))}function K(n){for(n=n.lastChild;n;){var A=n.previousSibling;k(n,!0),n=A}}var S=[];function w(n,A,e){var t,o=S.length;for(n.prototype&&n.prototype.render?(t=new n(A,e),U.call(t,A,e)):((t=new U(A,e)).constructor=n,t.render=_);o--;)if(S[o].constructor===n)return t.nextBase=S[o].nextBase,S.splice(o,1),t;return t}function _(n,A,e){return this.constructor(n,e)}function x(n,A,e,t,l){n._disable||(n._disable=!0,n.__ref=A.ref,n.__key=A.key,delete A.ref,delete A.key,void 0===n.constructor.getDerivedStateFromProps&&(!n.base||l?n.componentWillMount&&n.componentWillMount():n.componentWillReceiveProps&&n.componentWillReceiveProps(A,t)),t&&t!==n.context&&(n.prevContext||(n.prevContext=n.context),n.context=t),n.prevProps||(n.prevProps=n.props),n.props=A,n._disable=!1,0!==e&&(1!==e&&!1===o.syncComponentUpdates&&n.base?d(n):T(n,1,l)),c(n.__ref,n))}function T(n,A,e,t){if(!n._disable){var l,i,r,c=n.props,s=n.state,C=n.context,u=n.prevProps||c,m=n.prevState||s,d=n.prevContext||C,E=n.base,p=n.nextBase,f=E||p,h=n._component,I=!1,y=d;if(n.constructor.getDerivedStateFromProps&&(s=a(a({},s),n.constructor.getDerivedStateFromProps(c,s)),n.state=s),E&&(n.props=u,n.state=m,n.context=d,2!==A&&n.shouldComponentUpdate&&!1===n.shouldComponentUpdate(c,s,C)?I=!0:n.componentWillUpdate&&n.componentWillUpdate(c,s,C),n.props=c,n.state=s,n.context=C),n.prevProps=n.prevState=n.prevContext=n.nextBase=null,n._dirty=!1,!I){l=n.render(c,s,C),n.getChildContext&&(C=a(a({},C),n.getChildContext())),E&&n.getSnapshotBeforeUpdate&&(y=n.getSnapshotBeforeUpdate(u,m));var v,b,D=l&&l.nodeName;if("function"==typeof D){var K=g(l);(i=h)&&i.constructor===D&&K.key==i.__key?x(i,K,1,C,!1):(v=i,n._component=i=w(D,K,C),i.nextBase=i.nextBase||p,i._parentComponent=n,x(i,K,0,C,!1),T(i,1,e,!0)),b=i.base}else r=f,(v=h)&&(r=n._component=null),(f||1===A)&&(r&&(r._component=null),b=G(r,l,C,e||!E,f&&f.parentNode,!0));if(f&&b!==f&&i!==h){var S=f.parentNode;S&&b!==S&&(S.replaceChild(b,f),v||(f._component=null,k(f,!1)))}if(v&&Q(v),n.base=b,b&&!t){for(var _=n,U=n;U=U._parentComponent;)(_=U).base=b;b._component=_,b._componentConstructor=_.constructor}}for(!E||e?B.push(n):I||(n.componentDidUpdate&&n.componentDidUpdate(u,m,y),o.afterUpdate&&o.afterUpdate(n));n._renderCallbacks.length;)n._renderCallbacks.pop().call(n);M||t||O()}}function Q(n){o.beforeUnmount&&o.beforeUnmount(n);var A=n.base;n._disable=!0,n.componentWillUnmount&&n.componentWillUnmount(),n.base=null;var e=n._component;e?Q(e):A&&(null!=A.__preactattr_&&c(A.__preactattr_.ref,null),n.nextBase=A,h(A),S.push(n),K(A)),c(n.__ref,null)}function U(n,A){this._dirty=!0,this.context=A,this.props=n,this.state=this.state||{},this._renderCallbacks=[]}function N(n,A,e){return G(e,n,{},!1,A,!1)}function P(){return{}}a(U.prototype,{setState:function(n,A){this.prevState||(this.prevState=this.state),this.state=a(a({},this.state),"function"==typeof n?n(this.state,this.props):n),A&&this._renderCallbacks.push(A),d(this)},forceUpdate:function(n){n&&this._renderCallbacks.push(n),T(this,2)},render:function(){}});var R={h:r,createElement:r,cloneElement:C,createRef:P,Component:U,render:N,rerender:E,options:o};A.default=R},function(n,A,e){var t;try{t={cloneDeep:e(271),constant:e(70),defaults:e(272),each:e(115),filter:e(118),find:e(273),flatten:e(132),forEach:e(116),forIn:e(276),has:e(119),isUndefined:e(120),last:e(277),map:e(121),mapValues:e(278),max:e(279),merge:e(281),min:e(287),minBy:e(288),now:e(289),pick:e(290),range:e(293),reduce:e(123),sortBy:e(296),uniqueId:e(301),values:e(66),zipObject:e(302)}}catch(n){}t||(t=window._),n.exports=t},function(n,A,e){"use strict";var t=e(55),o="object"==typeof self&&self&&self.Object===Object&&self,l=t.a||o||Function("return this")();A.a=l},function(n,A,e){"use strict";e.d(A,"b",(function(){return xc})),e.d(A,"a",(function(){return Bn})),e.d(A,"h",(function(){return On})),e.d(A,"i",(function(){return vn})),e.d(A,"e",(function(){return Li})),e.d(A,"f",(function(){return ql})),e.d(A,"j",(function(){return Zl})),e.d(A,"k",(function(){return Ke})),e.d(A,"c",(function(){return Uc})),e.d(A,"d",(function(){return Un})),e.d(A,"g",(function(){return Nn}));e(141);var t,o,l,i,r,a,c,s=e(0),C=e(54),u=(t="/Volumes/workplace/diagram-maker/src/components/common/ComposeView.tsx",o="1c2fc6ffb18b9509a0ca519f5b835fc60d540131",l=new(0,function(){}.constructor)("return this")(),r={path:"/Volumes/workplace/diagram-maker/src/components/common/ComposeView.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:13,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:12,column:6}},9:{start:{line:9,column:8},end:{line:9,column:28}},10:{start:{line:10,column:24},end:{line:10,column:45}},11:{start:{line:11,column:8},end:{line:11,column:93}},12:{start:{line:15,column:33},end:{line:41,column:19}},13:{start:{line:16,column:4},end:{line:16,column:35}},14:{start:{line:18,column:20},end:{line:18,column:76}},15:{start:{line:19,column:8},end:{line:21,column:10}},16:{start:{line:20,column:12},end:{line:20,column:41}},17:{start:{line:22,column:8},end:{line:24,column:10}},18:{start:{line:23,column:12},end:{line:23,column:41}},19:{start:{line:25,column:8},end:{line:28,column:10}},20:{start:{line:27,column:12},end:{line:27,column:94}},21:{start:{line:29,column:8},end:{line:33,column:10}},22:{start:{line:31,column:12},end:{line:32,column:97}},23:{start:{line:34,column:8},end:{line:34,column:21}},24:{start:{line:36,column:4},end:{line:39,column:6}},25:{start:{line:37,column:20},end:{line:37,column:24}},26:{start:{line:38,column:8},end:{line:38,column:127}},27:{start:{line:38,column:80},end:{line:38,column:120}},28:{start:{line:40,column:4},end:{line:40,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:13,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:12,column:5}},line:8},5:{name:"__",decl:{start:{line:10,column:17},end:{line:10,column:19}},loc:{start:{line:10,column:22},end:{line:10,column:47}},line:10},6:{name:"(anonymous_6)",decl:{start:{line:15,column:33},end:{line:15,column:34}},loc:{start:{line:15,column:51},end:{line:41,column:1}},line:15},7:{name:"ComposeView",decl:{start:{line:17,column:13},end:{line:17,column:24}},loc:{start:{line:17,column:27},end:{line:35,column:5}},line:17},8:{name:"(anonymous_8)",decl:{start:{line:19,column:34},end:{line:19,column:35}},loc:{start:{line:19,column:46},end:{line:21,column:9}},line:19},9:{name:"(anonymous_9)",decl:{start:{line:22,column:35},end:{line:22,column:36}},loc:{start:{line:22,column:47},end:{line:24,column:9}},line:22},10:{name:"(anonymous_10)",decl:{start:{line:25,column:37},end:{line:25,column:38}},loc:{start:{line:25,column:49},end:{line:28,column:9}},line:25},11:{name:"(anonymous_11)",decl:{start:{line:29,column:37},end:{line:29,column:38}},loc:{start:{line:29,column:49},end:{line:33,column:9}},line:29},12:{name:"(anonymous_12)",decl:{start:{line:36,column:35},end:{line:36,column:36}},loc:{start:{line:36,column:47},end:{line:39,column:5}},line:36},13:{name:"(anonymous_13)",decl:{start:{line:38,column:64},end:{line:38,column:65}},loc:{start:{line:38,column:78},end:{line:38,column:122}},line:38}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:13,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:13,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:11,column:22},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:35},end:{line:11,column:51}},{start:{line:11,column:55},end:{line:11,column:91}}],line:11},4:{loc:{start:{line:18,column:20},end:{line:18,column:76}},type:"binary-expr",locations:[{start:{line:18,column:20},end:{line:18,column:35}},{start:{line:18,column:39},end:{line:18,column:68}},{start:{line:18,column:72},end:{line:18,column:76}}],line:18}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/common/ComposeView.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/common/ComposeView.tsx"],names:[],mappings:";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AASjC;IAAyC,+BAAkC;IAA3E;QAAA,qEA+BC;QAjBQ,uBAAiB,GAAG;YACzB,KAAI,CAAC,oBAAoB,EAAE,CAAC;QAC9B,CAAC,CAAA;QAEM,wBAAkB,GAAG;YAC1B,KAAI,CAAC,oBAAoB,EAAE,CAAC;QAC9B,CAAC,CAAA;QACM,0BAAoB,GAAG;YAC5B,gFAAgF;YAChF,KAAI,CAAC,KAAK,CAAC,eAAe,CAAC,KAAI,CAAC,qBAAoC,EAAE,KAAI,CAAC,iBAAiB,CAAC,CAAC;QAChG,CAAC,CAAA;QAEO,0BAAoB,GAAG;YAC7B,gFAAgF;YAChF,KAAI,CAAC,iBAAiB;gBACpB,KAAI,CAAC,KAAK,CAAC,cAAc,CAAC,KAAI,CAAC,qBAAoC,EAAE,KAAI,CAAC,iBAAiB,CAAC,CAAC;QACjG,CAAC,CAAA;;IACH,CAAC;IA1BQ,4BAAM,GAAb;QAAA,iBAOC;QANC,OAAO,CACL,kBACE,SAAS,EAAC,YAAY,EACtB,GAAG,EAAE,UAAA,EAAE,IAAI,OAAA,KAAI,CAAC,qBAAqB,GAAG,EAAE,EAA/B,CAA+B,GAC1C,CACH,CAAC;IACJ,CAAC;IAmBH,kBAAC;AAAD,CAAC,AA/BD,CAAyC,MAAM,CAAC,SAAS,GA+BxD",sourcesContent:["import * as Preact from 'preact';\n\nimport { BoundRenderCallback, DestroyCallback } from 'diagramMaker/service/ConfigService';\n\ninterface ComposeViewProps {\n  renderCallback: BoundRenderCallback;\n  destroyCallback: DestroyCallback;\n}\n\nexport default class ComposeView extends Preact.Component<ComposeViewProps> {\n\n  private diagramMakerContainer: HTMLElement | undefined;\n  private consumerContainer: HTMLElement | undefined | void;\n\n  public render() {\n    return (\n      <div\n        className=\"dm-content\"\n        ref={el => this.diagramMakerContainer = el}\n      />\n    );\n  }\n\n  public componentDidMount = () => {\n    this.rerenderConsumerNode();\n  }\n\n  public componentDidUpdate = () => {\n    this.rerenderConsumerNode();\n  }\n  public componentWillUnmount = () => {\n    // diagramMakerContainer is always available because this is called after render\n    this.props.destroyCallback(this.diagramMakerContainer as HTMLElement, this.consumerContainer);\n  }\n\n  private rerenderConsumerNode = () => {\n    // diagramMakerContainer is always available because this is called after render\n    this.consumerContainer =\n      this.props.renderCallback(this.diagramMakerContainer as HTMLElement, this.consumerContainer);\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},(a=l[i="__coverage__"]||(l[i]={}))[t]&&a[t].hash===o?a[t]:(r.hash=o,a[t]=r)),m=(u.s[0]++,void u.b[0][0]++&&(u.b[0][1]++,(void 0).__extends)||(u.b[0][2]++,function(){u.f[0]++,u.s[1]++;var n=function(A,e){return u.f[1]++,u.s[2]++,u.b[1][0]++,n=Object.setPrototypeOf||(u.b[1][1]++,{__proto__:[]}instanceof Array&&(u.b[1][2]++,function(n,A){u.f[2]++,u.s[3]++,n.__proto__=A}))||(u.b[1][3]++,function(n,A){for(var e in u.f[3]++,u.s[4]++,A)u.s[5]++,Object.prototype.hasOwnProperty.call(A,e)?(u.b[2][0]++,u.s[6]++,n[e]=A[e]):u.b[2][1]++}),u.s[7]++,n(A,e)};return u.s[8]++,function(A,e){function t(){u.f[5]++,u.s[10]++,this.constructor=A}u.f[4]++,u.s[9]++,n(A,e),u.s[11]++,A.prototype=null===e?(u.b[3][0]++,Object.create(e)):(u.b[3][1]++,t.prototype=e.prototype,new t)}}())),d=(u.s[12]++,function(n){function A(){u.f[7]++;var A=(u.s[14]++,u.b[4][0]++,null!==n&&(u.b[4][1]++,n.apply(this,arguments))||(u.b[4][2]++,this));return u.s[15]++,A.componentDidMount=function(){u.f[8]++,u.s[16]++,A.rerenderConsumerNode()},u.s[17]++,A.componentDidUpdate=function(){u.f[9]++,u.s[18]++,A.rerenderConsumerNode()},u.s[19]++,A.componentWillUnmount=function(){u.f[10]++,u.s[20]++,A.props.destroyCallback(A.diagramMakerContainer,A.consumerContainer)},u.s[21]++,A.rerenderConsumerNode=function(){u.f[11]++,u.s[22]++,A.consumerContainer=A.props.renderCallback(A.diagramMakerContainer,A.consumerContainer)},u.s[23]++,A}return u.f[6]++,u.s[13]++,m(A,n),u.s[24]++,A.prototype.render=function(){u.f[12]++;var n=(u.s[25]++,this);return u.s[26]++,s.h("div",{className:"dm-content",ref:function(A){return u.f[13]++,u.s[27]++,n.diagramMakerContainer=A}})},u.s[28]++,A}(s.Component)),E=(function(){var n="/Volumes/workplace/diagram-maker/src/components/common/index.ts",A="9eea4f03384625cb956156794161c6a4cd7e1b37",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/common/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/common/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/common/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,WAAW,EAAE,MAAM,eAAe,CAAC",sourcesContent:["export { default as ComposeView } from './ComposeView';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),function(){var n="/Volumes/workplace/diagram-maker/src/service/ui/types.ts",A="701409edda748fab8751575dee60e97c65dd59ae",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/service/ui/types.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:77,column:68}},10:{start:{line:18,column:4},end:{line:18,column:76}},11:{start:{line:23,column:4},end:{line:23,column:61}},12:{start:{line:28,column:4},end:{line:28,column:72}},13:{start:{line:33,column:4},end:{line:33,column:80}},14:{start:{line:38,column:4},end:{line:38,column:80}},15:{start:{line:43,column:4},end:{line:43,column:61}},16:{start:{line:50,column:4},end:{line:50,column:76}},17:{start:{line:55,column:4},end:{line:55,column:63}},18:{start:{line:61,column:4},end:{line:61,column:85}},19:{start:{line:66,column:4},end:{line:66,column:86}},20:{start:{line:71,column:4},end:{line:71,column:61}},21:{start:{line:76,column:4},end:{line:76,column:71}},22:{start:{line:78,column:36},end:{line:78,column:76}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:39},end:{line:77,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:77,column:3},end:{line:77,column:66}},type:"binary-expr",locations:[{start:{line:77,column:3},end:{line:77,column:29}},{start:{line:77,column:34},end:{line:77,column:65}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/service/ui/types.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/service/ui/types.ts"],names:[],mappings:";;;;;;;;;;;AAAA,MAAM,CAAN,IAAY,0BAoEX;AApED,WAAY,0BAA0B;IACpC;;;OAGG;IACH,uEAAyC,CAAA;IACzC;;;OAGG;IACH,wDAA0B,CAAA;IAC1B;;;OAGG;IACH,mEAAqC,CAAA;IACrC;;;OAGG;IACH,2EAA6C,CAAA;IAC7C;;;OAGG;IACH,2EAA6C,CAAA;IAC7C;;;OAGG;IACH,wDAA0B,CAAA;IAC1B;;;;;OAKG;IACH,uEAAyC,CAAA;IACzC;;;OAGG;IACH,0DAA4B,CAAA;IAE5B;;;;OAIG;IACH,gFAAkD,CAAA;IAElD;;;OAGG;IACH,iFAAmD,CAAA;IAEnD;;;OAGG;IACH,wDAA0B,CAAA;IAE1B;;;OAGG;IACH,kEAAoC,CAAA;AACtC,CAAC,EApEW,0BAA0B,KAA1B,0BAA0B,QAoErC;AAED,MAAM,CAAC,IAAM,sBAAsB,gBAC9B,0BAA0B,CAC9B,CAAC",sourcesContent:["export enum DiagramMakerComponentsType {\n  /**\n   * Used on context menus rendered by diagram maker.\n   * For internal use only.\n   */\n  CONTEXT_MENU = 'DiagramMaker.ContextMenu',\n  /**\n   * Used on edges rendered by diagram maker.\n   * For internal use only.\n   */\n  EDGE = 'DiagramMaker.Edge',\n  /**\n   * Used on edge badges rendered by diagram maker.\n   * For internal use only.\n   */\n  EDGE_BADGE = 'DiagramMaker.EdgeBadge',\n  /**\n   * Used on potential edges rendered by diagram maker.\n   * For internal use only.\n   */\n  POTENTIAL_EDGE = 'DiagramMaker.PotentialEdge',\n  /**\n   * Used on potential nodes being dragged currently by diagram maker.\n   * Also used by consumers on the drag targets for potential nodes.\n   */\n  POTENTIAL_NODE = 'DiagramMaker.PotentialNode',\n  /**\n   * Used on nodes rendered by diagram maker.\n   * For internal use only.\n   */\n  NODE = 'DiagramMaker.Node',\n  /**\n   * Used on node connectors displayed by diagram maker.\n   * Can also be used within the node to make the entire node,\n   * or parts of the node DOM be droppable for completion of edge creation\n   * or draggable for starting edge creation.\n   */\n  NODE_CONNECTOR = 'DiagramMaker.Connector',\n  /**\n   * Used on panels rendered by diagram maker.\n   * For internal use only.\n   */\n  PANEL = 'DiagramMaker.Panel',\n\n  /**\n   * Used as a drag handle on panels rendered by diagram maker.\n   * If you give an element this data-type in the panel render callback\n   * dragging this element will drag the panel\n   */\n  PANEL_DRAG_HANDLE = 'DiagramMaker.PanelDragHandle',\n\n  /**\n   * Used on selection marquee rendered by diagram maker in select mode.\n   * For internal use only.\n   */\n  SELECTION_MARQUEE = 'DiagramMaker.SelectionMarquee',\n\n  /**\n   * Used on top level container rendered by diagram maker.\n   * For internal use only.\n   */\n  VIEW = 'DiagramMaker.View',\n\n  /**\n   * Used on workspace rendered by diagram maker.\n   * For internal use only.\n   */\n  WORKSPACE = 'DiagramMaker.Workspace'\n}\n\nexport const DiagramMakerComponents = {\n  ...DiagramMakerComponentsType\n};\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),p=(E.s[0]++,void E.b[0][0]++&&(E.b[0][1]++,(void 0).__assign)||(E.b[0][2]++,function(){return E.f[0]++,E.s[1]++,E.b[1][0]++,p=Object.assign||(E.b[1][1]++,function(n){E.f[1]++,E.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in E.s[3]++,A=arguments[e],E.s[4]++,A)E.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(E.b[2][0]++,E.s[6]++,n[o]=A[o]):E.b[2][1]++;return E.s[7]++,n}),E.s[8]++,p.apply(this,arguments)}));E.s[9]++,function(n){E.f[2]++,E.s[10]++,n.CONTEXT_MENU="DiagramMaker.ContextMenu",E.s[11]++,n.EDGE="DiagramMaker.Edge",E.s[12]++,n.EDGE_BADGE="DiagramMaker.EdgeBadge",E.s[13]++,n.POTENTIAL_EDGE="DiagramMaker.PotentialEdge",E.s[14]++,n.POTENTIAL_NODE="DiagramMaker.PotentialNode",E.s[15]++,n.NODE="DiagramMaker.Node",E.s[16]++,n.NODE_CONNECTOR="DiagramMaker.Connector",E.s[17]++,n.PANEL="DiagramMaker.Panel",E.s[18]++,n.PANEL_DRAG_HANDLE="DiagramMaker.PanelDragHandle",E.s[19]++,n.SELECTION_MARQUEE="DiagramMaker.SelectionMarquee",E.s[20]++,n.VIEW="DiagramMaker.View",E.s[21]++,n.WORKSPACE="DiagramMaker.Workspace"}((E.b[3][0]++,c||(E.b[3][1]++,c={})));var f=(E.s[22]++,p({},c)),g=(e(142),function(){var n="/Volumes/workplace/diagram-maker/src/components/contextMenu/ContextMenu.tsx",A="ad5f061502572405db4562261d99ceb96578bcb5",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/contextMenu/ContextMenu.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:13,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:12,column:6}},9:{start:{line:9,column:8},end:{line:9,column:28}},10:{start:{line:10,column:24},end:{line:10,column:45}},11:{start:{line:11,column:8},end:{line:11,column:93}},12:{start:{line:18,column:33},end:{line:31,column:19}},13:{start:{line:19,column:4},end:{line:19,column:35}},14:{start:{line:21,column:8},end:{line:21,column:72}},15:{start:{line:23,column:4},end:{line:29,column:6}},16:{start:{line:24,column:17},end:{line:24,column:36}},17:{start:{line:24,column:42},end:{line:24,column:46}},18:{start:{line:24,column:52},end:{line:24,column:56}},19:{start:{line:25,column:24},end:{line:25,column:66}},20:{start:{line:26,column:17},end:{line:26,column:27}},21:{start:{line:26,column:46},end:{line:26,column:63}},22:{start:{line:26,column:83},end:{line:26,column:101}},23:{start:{line:27,column:8},end:{line:28,column:106}},24:{start:{line:30,column:4},end:{line:30,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:13,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:12,column:5}},line:8},5:{name:"__",decl:{start:{line:10,column:17},end:{line:10,column:19}},loc:{start:{line:10,column:22},end:{line:10,column:47}},line:10},6:{name:"(anonymous_6)",decl:{start:{line:18,column:33},end:{line:18,column:34}},loc:{start:{line:18,column:51},end:{line:31,column:1}},line:18},7:{name:"ContextMenu",decl:{start:{line:20,column:13},end:{line:20,column:24}},loc:{start:{line:20,column:27},end:{line:22,column:5}},line:20},8:{name:"(anonymous_8)",decl:{start:{line:23,column:35},end:{line:23,column:36}},loc:{start:{line:23,column:47},end:{line:29,column:5}},line:23}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:13,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:13,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:11,column:22},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:35},end:{line:11,column:51}},{start:{line:11,column:55},end:{line:11,column:91}}],line:11},4:{loc:{start:{line:21,column:15},end:{line:21,column:71}},type:"binary-expr",locations:[{start:{line:21,column:15},end:{line:21,column:30}},{start:{line:21,column:34},end:{line:21,column:63}},{start:{line:21,column:67},end:{line:21,column:71}}],line:21}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/contextMenu/ContextMenu.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/contextMenu/ContextMenu.tsx"],names:[],mappings:";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,WAAW,EAAE,MAAM,gCAAgC,CAAC;AAE7D,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,oBAAoB,CAAC;AAQ5B;IAAyC,+BAAkC;IAA3E;;IAoBA,CAAC;IAlBQ,4BAAM,GAAb;QACQ,IAAA,KAAW,IAAI,CAAC,KAAK,CAAC,QAAQ,EAA5B,CAAC,OAAA,EAAE,CAAC,OAAwB,CAAC;QACrC,IAAM,SAAS,GAAG,iBAAe,CAAC,YAAO,CAAC,WAAQ,CAAC;QAC7C,IAAA,KAAsC,IAAI,CAAC,KAAK,EAA9C,cAAc,oBAAA,EAAE,eAAe,qBAAe,CAAC;QAEvD,OAAO,CACL,kBACE,SAAS,EAAC,iBAAiB,EAC3B,KAAK,EAAE,EAAE,SAAS,WAAA,EAAE,eACT,0BAA0B,CAAC,YAAY;YAElD,SAAC,WAAW,IACV,cAAc,EAAE,cAAc,EAC9B,eAAe,EAAE,eAAe,GAChC,CACE,CACP,CAAC;IACJ,CAAC;IACH,kBAAC;AAAD,CAAC,AApBD,CAAyC,MAAM,CAAC,SAAS,GAoBxD",sourcesContent:["import * as Preact from 'preact';\n\nimport { ComposeView } from 'diagramMaker/components/common';\nimport { BoundRenderCallback, DestroyCallback } from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position } from 'diagramMaker/state/types';\n\nimport './ContextMenu.scss';\n\nexport interface ContextMenuProps {\n  position: Position;\n  renderCallback: BoundRenderCallback;\n  destroyCallback: DestroyCallback;\n}\n\nexport default class ContextMenu extends Preact.Component<ContextMenuProps> {\n\n  public render(): JSX.Element {\n    const { x, y } = this.props.position;\n    const transform = `translate3d(${x}px, ${y}px, 0)`;\n    const { renderCallback, destroyCallback } = this.props;\n\n    return (\n      <div\n        className=\"dm-context-menu\"\n        style={{ transform }}\n        data-type={DiagramMakerComponentsType.CONTEXT_MENU}\n      >\n        <ComposeView\n          renderCallback={renderCallback}\n          destroyCallback={destroyCallback}\n        />\n      </div>\n    );\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),h=(g.s[0]++,void g.b[0][0]++&&(g.b[0][1]++,(void 0).__extends)||(g.b[0][2]++,function(){g.f[0]++,g.s[1]++;var n=function(A,e){return g.f[1]++,g.s[2]++,g.b[1][0]++,n=Object.setPrototypeOf||(g.b[1][1]++,{__proto__:[]}instanceof Array&&(g.b[1][2]++,function(n,A){g.f[2]++,g.s[3]++,n.__proto__=A}))||(g.b[1][3]++,function(n,A){for(var e in g.f[3]++,g.s[4]++,A)g.s[5]++,Object.prototype.hasOwnProperty.call(A,e)?(g.b[2][0]++,g.s[6]++,n[e]=A[e]):g.b[2][1]++}),g.s[7]++,n(A,e)};return g.s[8]++,function(A,e){function t(){g.f[5]++,g.s[10]++,this.constructor=A}g.f[4]++,g.s[9]++,n(A,e),g.s[11]++,A.prototype=null===e?(g.b[3][0]++,Object.create(e)):(g.b[3][1]++,t.prototype=e.prototype,new t)}}())),I=(g.s[12]++,function(n){function A(){return g.f[7]++,g.s[14]++,g.b[4][0]++,null!==n&&(g.b[4][1]++,n.apply(this,arguments))||(g.b[4][2]++,this)}return g.f[6]++,g.s[13]++,h(A,n),g.s[15]++,A.prototype.render=function(){g.f[8]++;var n=(g.s[16]++,this.props.position),A=(g.s[17]++,n.x),e=(g.s[18]++,n.y),t=(g.s[19]++,"translate3d("+A+"px, "+e+"px, 0)"),o=(g.s[20]++,this.props),l=(g.s[21]++,o.renderCallback),i=(g.s[22]++,o.destroyCallback);return g.s[23]++,s.h("div",{className:"dm-context-menu",style:{transform:t},"data-type":c.CONTEXT_MENU},s.h(d,{renderCallback:l,destroyCallback:i}))},g.s[24]++,A}(s.Component)),y=(function(){var n="/Volumes/workplace/diagram-maker/src/components/contextMenu/index.ts",A="da7e5ea050e55c5702d2f7f655b69ad9a80270ef",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/contextMenu/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/contextMenu/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/contextMenu/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,WAAW,EAAE,MAAM,eAAe,CAAC",sourcesContent:["export { default as ContextMenu } from './ContextMenu';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),e(5));var B=function(n,A,e){return n==n&&(void 0!==e&&(n=n<=e?n:e),void 0!==A&&(n=n>=A?n:A)),n};var M=function(n){var A=typeof n;return null!=n&&("object"==A||"function"==A)},v=e(2),b=v.a.Symbol,O=Object.prototype,G=O.hasOwnProperty,D=O.toString,k=b?b.toStringTag:void 0;var K=function(n){var A=G.call(n,k),e=n[k];try{n[k]=void 0;var t=!0}catch(n){}var o=D.call(n);return t&&(A?n[k]=e:delete n[k]),o},S=Object.prototype.toString;var w=function(n){return S.call(n)},_=b?b.toStringTag:void 0;var x=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":_&&_ in Object(n)?K(n):w(n)};var T=function(n){return null!=n&&"object"==typeof n};var Q=function(n){return"symbol"==typeof n||T(n)&&"[object Symbol]"==x(n)},U=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,R=/^0o[0-7]+$/i,W=parseInt;var Y=function(n){if("number"==typeof n)return n;if(Q(n))return NaN;if(M(n)){var A="function"==typeof n.valueOf?n.valueOf():n;n=M(A)?A+"":A}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(U,"");var e=P.test(n);return e||R.test(n)?W(n.slice(2),e?2:8):N.test(n)?NaN:+n};var z=function(n,A,e){return void 0===e&&(e=A,A=void 0),void 0!==e&&(e=(e=Y(e))==e?e:0),void 0!==A&&(A=(A=Y(A))==A?A:0),B(Y(n),A,e)},L=function(){var n="/Volumes/workplace/diagram-maker/src/service/positionUtils.ts",A="b095d78bcfff66d326369bb7f4f0b2ac51eface0",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/service/positionUtils.ts",statementMap:{0:{start:{line:11,column:12},end:{line:11,column:15}},1:{start:{line:12,column:12},end:{line:12,column:92}},2:{start:{line:13,column:12},end:{line:13,column:92}},3:{start:{line:14,column:4},end:{line:14,column:26}},4:{start:{line:23,column:4},end:{line:26,column:6}},5:{start:{line:35,column:13},end:{line:35,column:55}},6:{start:{line:35,column:64},end:{line:35,column:68}},7:{start:{line:35,column:77},end:{line:35,column:81}},8:{start:{line:36,column:20},end:{line:36,column:43}},9:{start:{line:37,column:20},end:{line:37,column:43}},10:{start:{line:42,column:20},end:{line:42,column:36}},11:{start:{line:46,column:20},end:{line:46,column:36}},12:{start:{line:47,column:4},end:{line:50,column:6}},13:{start:{line:57,column:4},end:{line:60,column:6}},14:{start:{line:72,column:4},end:{line:75,column:6}},15:{start:{line:87,column:4},end:{line:90,column:6}},16:{start:{line:99,column:25},end:{line:99,column:66}},17:{start:{line:100,column:4},end:{line:100,column:52}},18:{start:{line:109,column:4},end:{line:109,column:55}},19:{start:{line:119,column:4},end:{line:119,column:49}},20:{start:{line:129,column:4},end:{line:129,column:47}},21:{start:{line:138,column:4},end:{line:138,column:97}},22:{start:{line:141,column:4},end:{line:141,column:40}},23:{start:{line:150,column:12},end:{line:150,column:22}},24:{start:{line:150,column:28},end:{line:150,column:38}},25:{start:{line:151,column:15},end:{line:151,column:34}},26:{start:{line:152,column:16},end:{line:152,column:42}},27:{start:{line:153,column:14},end:{line:153,column:33}},28:{start:{line:154,column:17},end:{line:154,column:43}},29:{start:{line:155,column:4},end:{line:156,column:37}},30:{start:{line:174,column:4},end:{line:174,column:42}},31:{start:{line:174,column:29},end:{line:174,column:40}},32:{start:{line:175,column:15},end:{line:175,column:111}},33:{start:{line:176,column:15},end:{line:176,column:113}},34:{start:{line:177,column:15},end:{line:177,column:52}},35:{start:{line:178,column:15},end:{line:178,column:52}},36:{start:{line:179,column:4},end:{line:182,column:6}}},fnMap:{0:{name:"getCenterCoordinateForCurve",decl:{start:{line:10,column:16},end:{line:10,column:43}},loc:{start:{line:10,column:64},end:{line:15,column:1}},line:10},1:{name:"getMidpoint",decl:{start:{line:22,column:16},end:{line:22,column:27}},loc:{start:{line:22,column:59},end:{line:27,column:1}},line:22},2:{name:"getInflectionPoint",decl:{start:{line:34,column:16},end:{line:34,column:34}},loc:{start:{line:34,column:66},end:{line:51,column:1}},line:34},3:{name:"getScrollPosition",decl:{start:{line:56,column:16},end:{line:56,column:33}},loc:{start:{line:56,column:36},end:{line:61,column:1}},line:56},4:{name:"add",decl:{start:{line:71,column:16},end:{line:71,column:19}},loc:{start:{line:71,column:51},end:{line:76,column:1}},line:71},5:{name:"subtract",decl:{start:{line:86,column:16},end:{line:86,column:24}},loc:{start:{line:86,column:56},end:{line:91,column:1}},line:86},6:{name:"fromScreenToPage",decl:{start:{line:98,column:16},end:{line:98,column:32}},loc:{start:{line:98,column:45},end:{line:101,column:1}},line:98},7:{name:"fromPageToScreen",decl:{start:{line:108,column:16},end:{line:108,column:32}},loc:{start:{line:108,column:47},end:{line:110,column:1}},line:108},8:{name:"fromPageToContainer",decl:{start:{line:118,column:16},end:{line:118,column:35}},loc:{start:{line:118,column:65},end:{line:120,column:1}},line:118},9:{name:"fromContainerToPage",decl:{start:{line:128,column:16},end:{line:128,column:35}},loc:{start:{line:128,column:68},end:{line:130,column:1}},line:128},10:{name:"getCenteredPosition",decl:{start:{line:137,column:16},end:{line:137,column:35}},loc:{start:{line:137,column:59},end:{line:139,column:1}},line:137},11:{name:"isBetween",decl:{start:{line:140,column:9},end:{line:140,column:18}},loc:{start:{line:140,column:36},end:{line:142,column:1}},line:140},12:{name:"isPositionInRectangle",decl:{start:{line:149,column:16},end:{line:149,column:37}},loc:{start:{line:149,column:58},end:{line:157,column:1}},line:149},13:{name:"constrainRectangleWithinRectangle",decl:{start:{line:173,column:16},end:{line:173,column:49}},loc:{start:{line:173,column:93},end:{line:183,column:1}},line:173}},branchMap:{0:{loc:{start:{line:141,column:11},end:{line:141,column:39}},type:"binary-expr",locations:[{start:{line:141,column:11},end:{line:141,column:23}},{start:{line:141,column:27},end:{line:141,column:39}}],line:141},1:{loc:{start:{line:155,column:11},end:{line:156,column:36}},type:"binary-expr",locations:[{start:{line:155,column:11},end:{line:155,column:36}},{start:{line:156,column:11},end:{line:156,column:36}}],line:155},2:{loc:{start:{line:174,column:4},end:{line:174,column:42}},type:"if",locations:[{start:{line:174,column:4},end:{line:174,column:42}},{start:{line:174,column:4},end:{line:174,column:42}}],line:174}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/service/positionUtils.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/service/positionUtils.ts"],names:[],mappings:"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",sourcesContent:["import clamp from 'lodash-es/clamp';\n\nimport { Position, Rectangle, Size } from 'diagramMaker/state/types';\n\n/**\n * Finds a center point within a Bezier curve\n * https://stackoverflow.com/questions/5634460/quadratic-b%C3%A9zier-curve-calculate-points#5634528\n * @param {Position} src\n * @param {Position} dest\n * @param {Position} control\n * @return {Position} The center Position\n */\nexport function getCenterCoordinateForCurve(src: Position, dest: Position, control: Position) {\n  const t = 0.5;\n  const x = ((1 - t) * (1 - t) * (src.x)) + (2 * (1 - t) * t * control.x) + (t * t * dest.x);\n  const y = ((1 - t) * (1 - t) * (src.y)) + (2 * (1 - t) * t * control.y) + (t * t * dest.y);\n  return { x, y };\n}\n\n/**\n * Finds the center between two position objects.\n * @param {Position} firstPosition\n * @param {Position} secondPosition\n * @return {Position} The center position object\n */\nexport function getMidpoint(firstPosition: Position, secondPosition: Position): Position {\n  return {\n    x: (firstPosition.x + secondPosition.x) / 2,\n    y: (firstPosition.y + secondPosition.y) / 2\n  };\n}\n\n/**\n * Finds point to draw curve between two position objects\n * @param {Position} firstPosition\n * @param {Position} secondPosition\n * @return {Position} The inflection point position object\n */\nexport function getInflectionPoint(firstPosition: Position, secondPosition: Position): Position {\n  const { x: midX, y: midY } = getMidpoint(firstPosition, secondPosition);\n  const distanceX = midX - secondPosition.x;\n  const distanceY = midY - secondPosition.y;\n\n  // Q = Inflection point = (-distanceY, distanceX)\n  // startingX (Qx)\n  // -distanceY = Qx - midX\n  // Qx = midX - distanceY\n  const startingX = midX - distanceY;\n\n  // startingY (Qy)\n  // distanceX = Qy - Py (midY)\n  // distanceX + midY = Qy\n  const startingY = midY + distanceX;\n\n  return {\n    x: startingX,\n    y: startingY\n  };\n}\n\n/**\n * Returns the current scroll position.\n * @return {Position} The current scroll position.\n */\nexport function getScrollPosition(): Position {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n}\n\n/**\n * Adds two position objects.\n * Keep in mind that one of the positions should be of the entity that the other position is relative to.\n * For example: firstPosition is position of A relative to B & secondPosition is position of\n * B relative to C, then this function returns position of A relative to C.\n * @param {Position} firstPosition\n * @param {Position} secondPosition\n * @return {Position} The added position object.\n */\nexport function add(firstPosition: Position, secondPosition: Position): Position {\n  return {\n    x: firstPosition.x + secondPosition.x,\n    y: firstPosition.y + secondPosition.y\n  };\n}\n\n/**\n * Subtracts the second position object from the first.\n * Keep in mind that both positions should be relative to the same entity.\n * For example: firstPosition is position of A relative to C & secondPosition is position of\n * B relative to C, then this function returns position of A relative to B.\n * @param {Position} firstPosition\n * @param {Position} secondPosition\n * @return {Position} The subtracted position object.\n */\nexport function subtract(firstPosition: Position, secondPosition: Position): Position {\n  return {\n    x: firstPosition.x - secondPosition.x,\n    y: firstPosition.y - secondPosition.y\n  };\n}\n\n/**\n * Converts an object returned by getBoundingClientRect from screen relative coordiantes to\n * page/document relative coordinates.\n * @param {ClientRect | DOMRect} screenRect - An object returned by getBoundingClientRect\n * @return {Position} The position relative to the page/document.\n */\nexport function fromScreenToPage(screenRect: ClientRect | DOMRect): Position {\n  const screenPosition = { x: screenRect.left, y: screenRect.top };\n  return add(screenPosition, getScrollPosition());\n}\n\n/**\n * Converts a position relative to the page/document to a position relative to the screen.\n * Relies on the current scroll position.\n * @param {Position} pagePosition - position relative to the page/document\n * @return {Position} The position relative to the screen.\n */\nexport function fromPageToScreen(pagePosition: Position): Position {\n  return subtract(pagePosition, getScrollPosition());\n}\n\n/**\n * Converts a position relative to the page/document to a position relative to the container.\n * Relies on container's position relative to the page/document.\n * @param {Position} pagePosition - position relative to page/document\n * @param {Position} contextOffset - position of container relative to page/document\n * @return {Position} The position relative to the container.\n */\nexport function fromPageToContainer(pagePosition: Position, contextOffset: Position): Position {\n  return subtract(pagePosition, contextOffset);\n}\n\n/**\n * Converts a position relative to the container to a position relative to page/document.\n * Relies on container's position relative to the page/document.\n * @param {Position} contextPosition - position relative to container\n * @param {Position} contextOffset - position of container relative to page/document\n * @return {Position} The position relative to the page/document.\n */\nexport function fromContainerToPage(contextPosition: Position, contextOffset: Position): Position {\n  return add(contextPosition, contextOffset);\n}\n\n/**\n * Returns the centered position inside the container.\n * @param {Position} topLeftPosition - Position of the top left edge of the container\n * @param {Size} size - Size of the container\n * @return {Position} Position for the center of the container\n */\nexport function getCenteredPosition(topLeftPosition: Position, size: Size) {\n  return { x: topLeftPosition.x - (size.width / 2), y: topLeftPosition.y - (size.height / 2) };\n}\n\nfunction isBetween(value: number, min: number, max: number): boolean {\n  return value >= min && value <= max;\n}\n\n/**\n * Returns true if the given position is within the given rectangle\n * @param {Position} position - the position which much be in the rectangle\n * @param {Rectangle} rectange - the rectangle which must contain the position\n * @return {boolean} indicates whether the position is inside of the rectangle\n */\nexport function isPositionInRectangle(position: Position, rectange: Rectangle): boolean {\n  const { x, y } = position;\n  const left = rectange.position.x;\n  const right = left + rectange.size.width;\n  const top = rectange.position.y;\n  const bottom = top + rectange.size.height;\n\n  return isBetween(x, left, right)\n      && isBetween(y, top, bottom);\n}\n/**\n * Returns a position which is based off of innerRectangle's position but is modified so that\n * the etirety of the innerRectangle fits inside of the boundingRectangle if possible.\n *\n * The difference between the returned position and innerRectangle.position should be as\n * small as possible while still constraining the innerRectangle within the boundingRectangle.\n *\n * If the innerRectangle is already fully within the boundingRectangle, the returned position\n * is the same as innerRectangle.position.\n *\n * @param {Rectangle} innerRectangle - the rectangle which we need to fit inside of the boundingRectangle\n * @param {Rectangle} boundingRectangle - the rectangle which the innerRectangle must fit inside\n * @param {number} margin - extra margin to be applied [optional, defaults to 0]\n * @return {Position} the new position for innerRectangle in order to constrain it within the boundingRectangle\n */\nexport function constrainRectangleWithinRectangle(\n  innerRectangle: Rectangle,\n  boundingRectangle: Rectangle,\n  margin = 0\n): Position {\n\n  const maxX = boundingRectangle.size.width + boundingRectangle.position.x - innerRectangle.size.width - margin;\n  const maxY = boundingRectangle.size.height + boundingRectangle.position.y - innerRectangle.size.height - margin;\n\n  const minX = boundingRectangle.position.x + margin;\n  const minY = boundingRectangle.position.y + margin;\n\n  return {\n    x: clamp(\n      innerRectangle.position.x,\n      minX,\n      maxX\n    ),\n    y: clamp(\n      innerRectangle.position.y,\n      minY,\n      maxY\n    )\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function j(n,A){L.f[2]++;var e=(L.s[5]++,function(n,A){return L.f[1]++,L.s[4]++,{x:(n.x+A.x)/2,y:(n.y+A.y)/2}}(n,A)),t=(L.s[6]++,e.x),o=(L.s[7]++,e.y),l=(L.s[8]++,t-A.x),i=(L.s[9]++,o-A.y),r=(L.s[10]++,t-i),a=(L.s[11]++,o+l);return L.s[12]++,{x:r,y:a}}function F(){return L.f[3]++,L.s[13]++,{x:window.pageXOffset,y:window.pageYOffset}}function V(n,A){return L.f[4]++,L.s[14]++,{x:n.x+A.x,y:n.y+A.y}}function H(n,A){return L.f[5]++,L.s[15]++,{x:n.x-A.x,y:n.y-A.y}}function q(n){L.f[6]++;var A=(L.s[16]++,{x:n.left,y:n.top});return L.s[17]++,V(A,F())}function X(n,A){return L.f[8]++,L.s[19]++,H(n,A)}function Z(n,A){return L.f[9]++,L.s[20]++,V(n,A)}function J(n,A){return L.f[10]++,L.s[21]++,{x:n.x-A.width/2,y:n.y-A.height/2}}function $(n,A,e){return L.f[11]++,L.s[22]++,L.b[0][0]++,n>=A&&(L.b[0][1]++,n<=e)}function nn(n,A,e){L.f[13]++,L.s[30]++,void 0===e?(L.b[2][0]++,L.s[31]++,e=0):L.b[2][1]++;var t=(L.s[32]++,A.size.width+A.position.x-n.size.width-e),o=(L.s[33]++,A.size.height+A.position.y-n.size.height-e),l=(L.s[34]++,A.position.x+e),i=(L.s[35]++,A.position.y+e);return L.s[36]++,{x:z(n.position.x,l,t),y:z(n.position.y,i,o)}}var An,en=function(){var n="/Volumes/workplace/diagram-maker/src/components/edge/EdgeCurve.tsx",A="10527795a3ac95359ff4f229148dcc3efad9412d",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/edge/EdgeCurve.tsx",statementMap:{0:{start:{line:7,column:0},end:{line:12,column:34}},1:{start:{line:8,column:4},end:{line:8,column:72}},2:{start:{line:9,column:4},end:{line:9,column:72}},3:{start:{line:10,column:4},end:{line:10,column:54}},4:{start:{line:11,column:4},end:{line:11,column:70}},5:{start:{line:13,column:29},end:{line:20,column:1}},6:{start:{line:14,column:13},end:{line:14,column:18}},7:{start:{line:14,column:25},end:{line:14,column:30}},8:{start:{line:15,column:13},end:{line:15,column:19}},9:{start:{line:15,column:26},end:{line:15,column:32}},10:{start:{line:16,column:13},end:{line:16,column:42}},11:{start:{line:16,column:56},end:{line:16,column:60}},12:{start:{line:16,column:74},end:{line:16,column:78}},13:{start:{line:17,column:21},end:{line:17,column:53}},14:{start:{line:18,column:19},end:{line:18,column:97}},15:{start:{line:19,column:4},end:{line:19,column:93}},16:{start:{line:21,column:29},end:{line:29,column:1}},17:{start:{line:22,column:13},end:{line:22,column:18}},18:{start:{line:22,column:25},end:{line:22,column:30}},19:{start:{line:23,column:13},end:{line:23,column:19}},20:{start:{line:23,column:26},end:{line:23,column:32}},21:{start:{line:24,column:16},end:{line:24,column:23}},22:{start:{line:25,column:20},end:{line:25,column:29}},23:{start:{line:26,column:21},end:{line:26,column:53}},24:{start:{line:27,column:19},end:{line:27,column:153}},25:{start:{line:28,column:4},end:{line:28,column:93}},26:{start:{line:30,column:29},end:{line:38,column:1}},27:{start:{line:31,column:13},end:{line:31,column:18}},28:{start:{line:31,column:25},end:{line:31,column:30}},29:{start:{line:32,column:13},end:{line:32,column:19}},30:{start:{line:32,column:26},end:{line:32,column:32}},31:{start:{line:33,column:17},end:{line:33,column:24}},32:{start:{line:34,column:21},end:{line:34,column:31}},33:{start:{line:35,column:21},end:{line:35,column:53}},34:{start:{line:36,column:19},end:{line:36,column:155}},35:{start:{line:37,column:4},end:{line:37,column:93}},36:{start:{line:39,column:22},end:{line:42,column:1}},37:{start:{line:40,column:21},end:{line:40,column:53}},38:{start:{line:41,column:4},end:{line:41,column:126}},39:{start:{line:43,column:16},end:{line:59,column:1}},40:{start:{line:44,column:14},end:{line:44,column:23}},41:{start:{line:44,column:32},end:{line:44,column:42}},42:{start:{line:44,column:56},end:{line:44,column:71}},43:{start:{line:44,column:85},end:{line:44,column:100}},44:{start:{line:44,column:118},end:{line:44,column:137}},45:{start:{line:46,column:4},end:{line:48,column:5}},46:{start:{line:47,column:8},end:{line:47,column:34}},47:{start:{line:49,column:4},end:{line:58,column:5}},48:{start:{line:51,column:12},end:{line:51,column:75}},49:{start:{line:53,column:12},end:{line:53,column:75}},50:{start:{line:55,column:12},end:{line:55,column:68}},51:{start:{line:57,column:12},end:{line:57,column:75}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:1},end:{line:7,column:2}},loc:{start:{line:7,column:22},end:{line:12,column:1}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:13,column:29},end:{line:13,column:30}},loc:{start:{line:13,column:72},end:{line:20,column:1}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:21,column:29},end:{line:21,column:30}},loc:{start:{line:21,column:72},end:{line:29,column:1}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:30,column:29},end:{line:30,column:30}},loc:{start:{line:30,column:72},end:{line:38,column:1}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:39,column:22},end:{line:39,column:23}},loc:{start:{line:39,column:65},end:{line:42,column:1}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:43,column:16},end:{line:43,column:17}},loc:{start:{line:43,column:33},end:{line:59,column:1}},line:43}},branchMap:{0:{loc:{start:{line:12,column:3},end:{line:12,column:32}},type:"binary-expr",locations:[{start:{line:12,column:3},end:{line:12,column:12}},{start:{line:12,column:17},end:{line:12,column:31}}],line:12},1:{loc:{start:{line:46,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:48,column:5}},{start:{line:46,column:4},end:{line:48,column:5}}],line:46},2:{loc:{start:{line:49,column:4},end:{line:58,column:5}},type:"switch",locations:[{start:{line:50,column:8},end:{line:51,column:75}},{start:{line:52,column:8},end:{line:53,column:75}},{start:{line:54,column:8},end:{line:55,column:68}},{start:{line:56,column:8},end:{line:57,column:75}}],line:49}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0,0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/edge/EdgeCurve.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/edge/EdgeCurve.tsx"],names:[],mappings:"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",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport { getInflectionPoint } from 'diagramMaker/service/positionUtils';\nimport { Position } from 'diagramMaker/state/types';\n\n// @NOTE: Depending on node connector placement\n// the bezier curve is drawn differently, so we have two types\nexport enum EdgeStyle {\n  LEFT_RIGHT_BEZIER,\n  TOP_BOTTOM_BEZIER,\n  STRAIGHT,\n  QUADRATIC_BEZIER\n}\n\nexport interface EdgeCurveProps {\n  src: Position;\n  dest: Position;\n  edgeStyle: EdgeStyle;\n  className?: string;\n  showArrowhead?: boolean;\n}\n\nconst getQuadraticBezierPath = (src: Position, dest: Position, className?: string, markerEnd?: string): JSX.Element => {\n  const { x: x1, y: y1 } = src;\n  const { x: x2, y: y2 } = dest;\n  const { x: startingX, y: startingY } = getInflectionPoint(src, dest);\n  const classNames = classnames('dm-path', className);\n\n  const pathData = `M${x1},${y1} Q${startingX},${startingY} ${x2},${y2}`;\n  return <path className={classNames} d={pathData} marker-end={markerEnd} />;\n};\n\nconst getLeftRightBezierPath = (src: Position, dest: Position, className?: string, markerEnd?: string): JSX.Element => {\n  const { x: x1, y: y1 } = src;\n  const { x: x2, y: y2 } = dest;\n  const width = x2 - x1;\n  const halfWidth = width / 2;\n  const classNames = classnames('dm-path', className);\n\n  const pathData = `M${x1},${y1} C${x1 + Math.abs(halfWidth)},${y1} ${x2 - Math.abs(halfWidth)},${y2} ${x2},${y2}`;\n  return <path className={classNames} d={pathData} marker-end={markerEnd} />;\n};\n\nconst getTopBottomBezierPath = (src: Position, dest: Position, className?: string, markerEnd?: string): JSX.Element => {\n  const { x: x1, y: y1 } = src;\n  const { x: x2, y: y2 } = dest;\n  const height = y2 - y1;\n  const halfHeight = height / 2;\n  const classNames = classnames('dm-path', className);\n\n  const pathData = `M${x1},${y1} C${x1},${y1 + Math.abs(halfHeight)} ${x2},${y2 - Math.abs(halfHeight)} ${x2},${y2}`;\n  return <path className={classNames} d={pathData} marker-end={markerEnd} />;\n};\n\nconst getStraightPath = (src: Position, dest: Position, className?: string, markerEnd?: string): JSX.Element => {\n  const classNames = classnames('dm-path', className);\n  return <line className={classNames} x1={src.x} y1={src.y} x2={dest.x} y2={dest.y} marker-end={markerEnd} />;\n};\n\nconst EdgeCurve = (props: Preact.RenderableProps<EdgeCurveProps>): JSX.Element => {\n  const { src, dest, edgeStyle, className, showArrowhead } = props;\n  let markerEnd;\n  if (showArrowhead) {\n    markerEnd = 'url(#arrow)';\n  }\n  switch (edgeStyle) {\n    case EdgeStyle.LEFT_RIGHT_BEZIER:\n      return getLeftRightBezierPath(src, dest, className, markerEnd);\n    case EdgeStyle.TOP_BOTTOM_BEZIER:\n      return getTopBottomBezierPath(src, dest, className, markerEnd);\n    case EdgeStyle.STRAIGHT:\n      return getStraightPath(src, dest, className, markerEnd);\n    case EdgeStyle.QUADRATIC_BEZIER:\n      return getQuadraticBezierPath(src, dest, className, markerEnd);\n  }\n};\n\nexport default EdgeCurve;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();en.s[0]++,function(n){en.f[0]++,en.s[1]++,n[n.LEFT_RIGHT_BEZIER=0]="LEFT_RIGHT_BEZIER",en.s[2]++,n[n.TOP_BOTTOM_BEZIER=1]="TOP_BOTTOM_BEZIER",en.s[3]++,n[n.STRAIGHT=2]="STRAIGHT",en.s[4]++,n[n.QUADRATIC_BEZIER=3]="QUADRATIC_BEZIER"}((en.b[0][0]++,An||(en.b[0][1]++,An={}))),en.s[5]++;en.s[16]++;en.s[26]++;en.s[36]++;en.s[39]++;var tn=function(n){en.f[5]++;var A,e=(en.s[40]++,n.src),t=(en.s[41]++,n.dest),o=(en.s[42]++,n.edgeStyle),l=(en.s[43]++,n.className),i=(en.s[44]++,n.showArrowhead);switch(en.s[45]++,i?(en.b[1][0]++,en.s[46]++,A="url(#arrow)"):en.b[1][1]++,en.s[47]++,o){case An.LEFT_RIGHT_BEZIER:return en.b[2][0]++,en.s[48]++,function(n,A,e,t){en.f[2]++;var o=(en.s[17]++,n.x),l=(en.s[18]++,n.y),i=(en.s[19]++,A.x),r=(en.s[20]++,A.y),a=(en.s[21]++,i-o),c=(en.s[22]++,a/2),C=(en.s[23]++,y("dm-path",e)),u=(en.s[24]++,"M"+o+","+l+" C"+(o+Math.abs(c))+","+l+" "+(i-Math.abs(c))+","+r+" "+i+","+r);return en.s[25]++,s.h("path",{className:C,d:u,"marker-end":t})}(e,t,l,A);case An.TOP_BOTTOM_BEZIER:return en.b[2][1]++,en.s[49]++,function(n,A,e,t){en.f[3]++;var o=(en.s[27]++,n.x),l=(en.s[28]++,n.y),i=(en.s[29]++,A.x),r=(en.s[30]++,A.y),a=(en.s[31]++,r-l),c=(en.s[32]++,a/2),C=(en.s[33]++,y("dm-path",e)),u=(en.s[34]++,"M"+o+","+l+" C"+o+","+(l+Math.abs(c))+" "+i+","+(r-Math.abs(c))+" "+i+","+r);return en.s[35]++,s.h("path",{className:C,d:u,"marker-end":t})}(e,t,l,A);case An.STRAIGHT:return en.b[2][2]++,en.s[50]++,function(n,A,e,t){en.f[4]++;var o=(en.s[37]++,y("dm-path",e));return en.s[38]++,s.h("line",{className:o,x1:n.x,y1:n.y,x2:A.x,y2:A.y,"marker-end":t})}(e,t,l,A);case An.QUADRATIC_BEZIER:return en.b[2][3]++,en.s[51]++,function(n,A,e,t){en.f[1]++;var o=(en.s[6]++,n.x),l=(en.s[7]++,n.y),i=(en.s[8]++,A.x),r=(en.s[9]++,A.y),a=(en.s[10]++,j(n,A)),c=(en.s[11]++,a.x),C=(en.s[12]++,a.y),u=(en.s[13]++,y("dm-path",e)),m=(en.s[14]++,"M"+o+","+l+" Q"+c+","+C+" "+i+","+r);return en.s[15]++,s.h("path",{className:u,d:m,"marker-end":t})}(e,t,l,A)}},on=(e(76),function(){var n="/Volumes/workplace/diagram-maker/src/components/edge/Edge.tsx",A="545a4141ceed2afd337b6965295384c84576571c",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/edge/Edge.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:13,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:12,column:6}},9:{start:{line:9,column:8},end:{line:9,column:28}},10:{start:{line:10,column:24},end:{line:10,column:45}},11:{start:{line:11,column:8},end:{line:11,column:93}},12:{start:{line:20,column:26},end:{line:39,column:19}},13:{start:{line:21,column:4},end:{line:21,column:28}},14:{start:{line:23,column:20},end:{line:23,column:76}},15:{start:{line:24,column:8},end:{line:26,column:10}},16:{start:{line:25,column:12},end:{line:25,column:139}},17:{start:{line:27,column:8},end:{line:27,column:21}},18:{start:{line:29,column:4},end:{line:37,column:6}},19:{start:{line:30,column:17},end:{line:30,column:27}},20:{start:{line:30,column:35},end:{line:30,column:41}},21:{start:{line:30,column:50},end:{line:30,column:57}},22:{start:{line:30,column:71},end:{line:30,column:83}},23:{start:{line:30,column:97},end:{line:30,column:109}},24:{start:{line:30,column:116},end:{line:30,column:121}},25:{start:{line:30,column:134},end:{line:30,column:145}},26:{start:{line:30,column:163},end:{line:30,column:179}},27:{start:{line:31,column:25},end:{line:31,column:86}},28:{start:{line:32,column:29},end:{line:32,column:96}},29:{start:{line:33,column:29},end:{line:33,column:96}},30:{start:{line:34,column:8},end:{line:36,column:29}},31:{start:{line:38,column:4},end:{line:38,column:16}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:13,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:12,column:5}},line:8},5:{name:"__",decl:{start:{line:10,column:17},end:{line:10,column:19}},loc:{start:{line:10,column:22},end:{line:10,column:47}},line:10},6:{name:"(anonymous_6)",decl:{start:{line:20,column:26},end:{line:20,column:27}},loc:{start:{line:20,column:44},end:{line:39,column:1}},line:20},7:{name:"Edge",decl:{start:{line:22,column:13},end:{line:22,column:17}},loc:{start:{line:22,column:20},end:{line:28,column:5}},line:22},8:{name:"(anonymous_8)",decl:{start:{line:24,column:25},end:{line:24,column:26}},loc:{start:{line:24,column:83},end:{line:26,column:9}},line:24},9:{name:"(anonymous_9)",decl:{start:{line:29,column:28},end:{line:29,column:29}},loc:{start:{line:29,column:40},end:{line:37,column:5}},line:29}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:13,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:13,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:11,column:22},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:35},end:{line:11,column:51}},{start:{line:11,column:55},end:{line:11,column:91}}],line:11},4:{loc:{start:{line:23,column:20},end:{line:23,column:76}},type:"binary-expr",locations:[{start:{line:23,column:20},end:{line:23,column:35}},{start:{line:23,column:39},end:{line:23,column:68}},{start:{line:23,column:72},end:{line:23,column:76}}],line:23}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/edge/Edge.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/edge/Edge.tsx"],names:[],mappings:";;;;;;;;;;;;;AAAA,OAAO,KAAK,UAAU,MAAM,YAAY,CAAC;AACzC,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,EAAE,OAAO,IAAI,SAAS,EAAa,MAAM,aAAa,CAAC;AAE9D,OAAO,aAAa,CAAC;AAcrB,0DAA0D;AAC1D;IAAkC,wBAA2B;IAA7D;QAAA,qEA+BC;QAJS,cAAQ,GAAG,UACjB,GAAa,EAAE,IAAc,EAAE,SAAoB,EAAE,SAAiB,EAAE,aAAuB;YAE/F,OAAA,SAAC,SAAS,IAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,aAAa,EAAE,aAAa,GAAI;QAA7G,CAA6G,CAAA;;IACjH,CAAC;IA7BQ,qBAAM,GAAb;QACQ,IAAA,KAEF,IAAI,CAAC,KAAK,EADZ,GAAG,SAAA,EAAE,IAAI,UAAA,EAAE,SAAS,eAAA,EAAE,SAAS,eAAA,EAAE,EAAE,QAAA,EAAE,QAAQ,cAAA,EAAE,aAAa,mBAChD,CAAC;QAEf,IAAM,UAAU,GAAG,UAAU,CAAC,SAAS,EAAE,SAAS,EAAE,EAAE,aAAa,EAAE,QAAQ,EAAE,CAAC,CAAC;QAEjF,IAAM,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;QAC3F,IAAM,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;QAE3F,OAAM,CACJ,gBACE,SAAS,EAAE,UAAU,aACZ,EAAE,eACA,0BAA0B,CAAC,IAAI,uBACvB,IAAI,2BACA,IAAI,CAAC,KAAK,CAAC,SAAS,yBACtB,IAAI,CAAC,KAAK,CAAC,UAAU;YAEzC,cAAc;YACd,cAAc,CACb,CACL,CAAC;IACJ,CAAC;IAMH,WAAC;AAAD,CAAC,AA/BD,CAAkC,MAAM,CAAC,SAAS,GA+BjD",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position } from 'diagramMaker/state/types';\n\nimport { default as EdgeCurve, EdgeStyle } from './EdgeCurve';\n\nimport './Edge.scss';\n\nexport interface EdgeProps {\n  id: string;\n  src: Position;\n  dest: Position;\n  edgeStyle: EdgeStyle;\n  srcTypeId?: string;\n  destTypeId?: string;\n  selected?: boolean;\n  className?: string | string[];\n  showArrowhead?: boolean;\n}\n\n// @TODO: Make edge and label fully interactive like nodes\nexport default class Edge extends Preact.Component<EdgeProps> {\n\n  public render() {\n    const {\n      src, dest, className, edgeStyle, id, selected, showArrowhead\n    } = this.props;\n\n    const classNames = classnames('dm-edge', className, { 'dm-selected': selected });\n\n    const curvePathInner = this.getCurve(src, dest, edgeStyle, 'dm-path-inner', showArrowhead);\n    const curvePathOuter = this.getCurve(src, dest, edgeStyle, 'dm-path-outer', showArrowhead);\n\n    return(\n      <g\n        className={classNames}\n        data-id={id}\n        data-type={DiagramMakerComponentsType.EDGE}\n        data-event-target={true}\n        data-edge-source-type={this.props.srcTypeId}\n        data-edge-dest-type={this.props.destTypeId}\n      >\n        {curvePathInner}\n        {curvePathOuter}\n      </g>\n    );\n  }\n\n  private getCurve = (\n    src: Position, dest: Position, edgeStyle: EdgeStyle, className: string, showArrowhead?: boolean\n  ) =>\n    <EdgeCurve src={src} dest={dest} edgeStyle={edgeStyle} className={className} showArrowhead={showArrowhead} />\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),ln=(on.s[0]++,void on.b[0][0]++&&(on.b[0][1]++,(void 0).__extends)||(on.b[0][2]++,function(){on.f[0]++,on.s[1]++;var n=function(A,e){return on.f[1]++,on.s[2]++,on.b[1][0]++,n=Object.setPrototypeOf||(on.b[1][1]++,{__proto__:[]}instanceof Array&&(on.b[1][2]++,function(n,A){on.f[2]++,on.s[3]++,n.__proto__=A}))||(on.b[1][3]++,function(n,A){for(var e in on.f[3]++,on.s[4]++,A)on.s[5]++,Object.prototype.hasOwnProperty.call(A,e)?(on.b[2][0]++,on.s[6]++,n[e]=A[e]):on.b[2][1]++}),on.s[7]++,n(A,e)};return on.s[8]++,function(A,e){function t(){on.f[5]++,on.s[10]++,this.constructor=A}on.f[4]++,on.s[9]++,n(A,e),on.s[11]++,A.prototype=null===e?(on.b[3][0]++,Object.create(e)):(on.b[3][1]++,t.prototype=e.prototype,new t)}}())),rn=(on.s[12]++,function(n){function A(){on.f[7]++;var A=(on.s[14]++,on.b[4][0]++,null!==n&&(on.b[4][1]++,n.apply(this,arguments))||(on.b[4][2]++,this));return on.s[15]++,A.getCurve=function(n,A,e,t,o){return on.f[8]++,on.s[16]++,s.h(tn,{src:n,dest:A,edgeStyle:e,className:t,showArrowhead:o})},on.s[17]++,A}return on.f[6]++,on.s[13]++,ln(A,n),on.s[18]++,A.prototype.render=function(){on.f[9]++;var n=(on.s[19]++,this.props),A=(on.s[20]++,n.src),e=(on.s[21]++,n.dest),t=(on.s[22]++,n.className),o=(on.s[23]++,n.edgeStyle),l=(on.s[24]++,n.id),i=(on.s[25]++,n.selected),r=(on.s[26]++,n.showArrowhead),a=(on.s[27]++,y("dm-edge",t,{"dm-selected":i})),C=(on.s[28]++,this.getCurve(A,e,o,"dm-path-inner",r)),u=(on.s[29]++,this.getCurve(A,e,o,"dm-path-outer",r));return on.s[30]++,s.h("g",{className:a,"data-id":l,"data-type":c.EDGE,"data-event-target":!0,"data-edge-source-type":this.props.srcTypeId,"data-edge-dest-type":this.props.destTypeId},C,u)},on.s[31]++,A}(s.Component)),an=(e(143),function(){var n="/Volumes/workplace/diagram-maker/src/components/edge/EdgeBadge.tsx",A="bd7a19a1c929a0ceb2697fcb7c2d0751de613cc4",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/edge/EdgeBadge.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:13,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:12,column:6}},9:{start:{line:9,column:8},end:{line:9,column:28}},10:{start:{line:10,column:24},end:{line:10,column:45}},11:{start:{line:11,column:8},end:{line:11,column:93}},12:{start:{line:19,column:31},end:{line:42,column:19}},13:{start:{line:20,column:4},end:{line:20,column:33}},14:{start:{line:22,column:8},end:{line:22,column:72}},15:{start:{line:24,column:4},end:{line:40,column:6}},16:{start:{line:25,column:17},end:{line:25,column:27}},17:{start:{line:25,column:34},end:{line:25,column:39}},18:{start:{line:25,column:47},end:{line:25,column:53}},19:{start:{line:25,column:62},end:{line:25,column:69}},20:{start:{line:25,column:88},end:{line:25,column:105}},21:{start:{line:25,column:125},end:{line:25,column:143}},22:{start:{line:25,column:164},end:{line:25,column:183}},23:{start:{line:26,column:19},end:{line:26,column:42}},24:{start:{line:27,column:18},end:{line:27,column:41}},25:{start:{line:28,column:20},end:{line:28,column:44}},26:{start:{line:29,column:21},end:{line:29,column:45}},27:{start:{line:30,column:8},end:{line:35,column:9}},28:{start:{line:31,column:20},end:{line:31,column:49}},29:{start:{line:32,column:35},end:{line:32,column:76}},30:{start:{line:33,column:12},end:{line:33,column:54}},31:{start:{line:34,column:12},end:{line:34,column:54}},32:{start:{line:36,column:20},end:{line:36,column:74}},33:{start:{line:37,column:8},end:{line:39,column:111}},34:{start:{line:41,column:4},end:{line:41,column:21}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:13,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:12,column:5}},line:8},5:{name:"__",decl:{start:{line:10,column:17},end:{line:10,column:19}},loc:{start:{line:10,column:22},end:{line:10,column:47}},line:10},6:{name:"(anonymous_6)",decl:{start:{line:19,column:31},end:{line:19,column:32}},loc:{start:{line:19,column:49},end:{line:42,column:1}},line:19},7:{name:"EdgeBadge",decl:{start:{line:21,column:13},end:{line:21,column:22}},loc:{start:{line:21,column:25},end:{line:23,column:5}},line:21},8:{name:"(anonymous_8)",decl:{start:{line:24,column:33},end:{line:24,column:34}},loc:{start:{line:24,column:45},end:{line:40,column:5}},line:24}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:13,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:13,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:11,column:22},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:35},end:{line:11,column:51}},{start:{line:11,column:55},end:{line:11,column:91}}],line:11},4:{loc:{start:{line:22,column:15},end:{line:22,column:71}},type:"binary-expr",locations:[{start:{line:22,column:15},end:{line:22,column:30}},{start:{line:22,column:34},end:{line:22,column:63}},{start:{line:22,column:67},end:{line:22,column:71}}],line:22},5:{loc:{start:{line:30,column:8},end:{line:35,column:9}},type:"if",locations:[{start:{line:30,column:8},end:{line:35,column:9}},{start:{line:30,column:8},end:{line:35,column:9}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/edge/EdgeBadge.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/edge/EdgeBadge.tsx"],names:[],mappings:";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,WAAW,EAAE,MAAM,gCAAgC,CAAC;AAE7D,OAAO,EAAE,2BAA2B,EAAE,kBAAkB,EAAE,MAAM,oCAAoC,CAAC;AACrG,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,kBAAkB,CAAC;AAW1B;IAAuC,6BAAgC;IAAvE;;IAoCA,CAAC;IAnCQ,0BAAM,GAAb;QACQ,IAAA,KAAuE,IAAI,CAAC,KAAK,EAA/E,EAAE,QAAA,EAAE,GAAG,SAAA,EAAE,IAAI,UAAA,EAAE,cAAc,oBAAA,EAAE,eAAe,qBAAA,EAAE,gBAAgB,sBAAe,CAAC;QAExF,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QACnC,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QAClC,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvC,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAExC,IAAI,gBAAgB,EAAE;YACpB,IAAM,CAAC,GAAG,kBAAkB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;YACxC,IAAM,gBAAgB,GAAG,2BAA2B,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YACnE,IAAI,GAAG,gBAAgB,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;YAC1C,GAAG,GAAG,gBAAgB,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC;SAC3C;QACD,IAAM,KAAK,GAAG,EAAE,IAAI,MAAA,EAAE,GAAG,KAAA,EAAE,KAAK,OAAA,EAAE,MAAM,QAAA,EAAE,CAAC;QAE3C,OAAM,CACJ,kBACE,SAAS,EAAC,UAAU,EACpB,KAAK,EAAE,KAAK;YAEZ,6BACW,EAAE,eACA,0BAA0B,CAAC,UAAU,uBAC7B,IAAI,EACvB,SAAS,EAAC,gBAAgB;gBAE1B,SAAC,WAAW,IACV,cAAc,EAAE,cAAc,EAC9B,eAAe,EAAE,eAAe,GAChC,CACE,CACF,CACP,CAAC;IACJ,CAAC;IACH,gBAAC;AAAD,CAAC,AApCD,CAAuC,MAAM,CAAC,SAAS,GAoCtD",sourcesContent:["import * as Preact from 'preact';\n\nimport { ComposeView } from 'diagramMaker/components/common';\nimport { BoundRenderCallback, DestroyCallback } from 'diagramMaker/service/ConfigService';\nimport { getCenterCoordinateForCurve, getInflectionPoint } from 'diagramMaker/service/positionUtils';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position } from 'diagramMaker/state/types';\n\nimport './EdgeBadge.scss';\n\nexport interface EdgeBadgeProps {\n  id: string;\n  src: Position;\n  dest: Position;\n  renderCallback: BoundRenderCallback;\n  destroyCallback: DestroyCallback;\n  isPartOfEdgePair?: boolean;\n}\n\nexport default class EdgeBadge extends Preact.Component<EdgeBadgeProps> {\n  public render() {\n    const { id, src, dest, renderCallback, destroyCallback, isPartOfEdgePair } = this.props;\n\n    let left = Math.min(src.x, dest.x);\n    let top = Math.min(src.y, dest.y);\n    const width = Math.abs(src.x - dest.x);\n    const height = Math.abs(src.y - dest.y);\n\n    if (isPartOfEdgePair) {\n      const q = getInflectionPoint(src, dest);\n      const centerCoordinate = getCenterCoordinateForCurve(src, dest, q);\n      left = centerCoordinate.x - (width * 0.5);\n      top = centerCoordinate.y - (height * 0.5);\n    }\n    const style = { left, top, width, height };\n\n    return(\n      <div\n        className=\"dm-badge\"\n        style={style}\n      >\n        <div\n          data-id={id}\n          data-type={DiagramMakerComponentsType.EDGE_BADGE}\n          data-event-target={true}\n          className=\"dm-badge-inner\"\n        >\n          <ComposeView\n            renderCallback={renderCallback}\n            destroyCallback={destroyCallback}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),cn=(an.s[0]++,void an.b[0][0]++&&(an.b[0][1]++,(void 0).__extends)||(an.b[0][2]++,function(){an.f[0]++,an.s[1]++;var n=function(A,e){return an.f[1]++,an.s[2]++,an.b[1][0]++,n=Object.setPrototypeOf||(an.b[1][1]++,{__proto__:[]}instanceof Array&&(an.b[1][2]++,function(n,A){an.f[2]++,an.s[3]++,n.__proto__=A}))||(an.b[1][3]++,function(n,A){for(var e in an.f[3]++,an.s[4]++,A)an.s[5]++,Object.prototype.hasOwnProperty.call(A,e)?(an.b[2][0]++,an.s[6]++,n[e]=A[e]):an.b[2][1]++}),an.s[7]++,n(A,e)};return an.s[8]++,function(A,e){function t(){an.f[5]++,an.s[10]++,this.constructor=A}an.f[4]++,an.s[9]++,n(A,e),an.s[11]++,A.prototype=null===e?(an.b[3][0]++,Object.create(e)):(an.b[3][1]++,t.prototype=e.prototype,new t)}}())),sn=(an.s[12]++,function(n){function A(){return an.f[7]++,an.s[14]++,an.b[4][0]++,null!==n&&(an.b[4][1]++,n.apply(this,arguments))||(an.b[4][2]++,this)}return an.f[6]++,an.s[13]++,cn(A,n),an.s[15]++,A.prototype.render=function(){an.f[8]++;var n=(an.s[16]++,this.props),A=(an.s[17]++,n.id),e=(an.s[18]++,n.src),t=(an.s[19]++,n.dest),o=(an.s[20]++,n.renderCallback),l=(an.s[21]++,n.destroyCallback),i=(an.s[22]++,n.isPartOfEdgePair),r=(an.s[23]++,Math.min(e.x,t.x)),a=(an.s[24]++,Math.min(e.y,t.y)),C=(an.s[25]++,Math.abs(e.x-t.x)),u=(an.s[26]++,Math.abs(e.y-t.y));if(an.s[27]++,i){an.b[5][0]++;var m=(an.s[28]++,j(e,t)),E=(an.s[29]++,function(n,A,e){L.f[0]++;var t=(L.s[0]++,.5),o=(L.s[1]++,(1-t)*(1-t)*n.x+2*(1-t)*t*e.x+t*t*A.x),l=(L.s[2]++,(1-t)*(1-t)*n.y+2*(1-t)*t*e.y+t*t*A.y);return L.s[3]++,{x:o,y:l}}(e,t,m));an.s[30]++,r=E.x-.5*C,an.s[31]++,a=E.y-.5*u}else an.b[5][1]++;var p=(an.s[32]++,{left:r,top:a,width:C,height:u});return an.s[33]++,s.h("div",{className:"dm-badge",style:p},s.h("div",{"data-id":A,"data-type":c.EDGE_BADGE,"data-event-target":!0,className:"dm-badge-inner"},s.h(d,{renderCallback:o,destroyCallback:l})))},an.s[34]++,A}(s.Component)),Cn=function(){var n="/Volumes/workplace/diagram-maker/src/components/edge/PotentialEdge.tsx",A="240d63ffeab7418e069002827aea93c5756848af",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/edge/PotentialEdge.tsx",statementMap:{0:{start:{line:6,column:15},end:{line:8,column:1}},1:{start:{line:7,column:4},end:{line:7,column:131}},2:{start:{line:9,column:20},end:{line:14,column:1}},3:{start:{line:10,column:14},end:{line:10,column:23}},4:{start:{line:10,column:32},end:{line:10,column:42}},5:{start:{line:10,column:56},end:{line:10,column:71}},6:{start:{line:10,column:85},end:{line:10,column:100}},7:{start:{line:10,column:118},end:{line:10,column:137}},8:{start:{line:11,column:21},end:{line:11,column:53}},9:{start:{line:12,column:20},end:{line:12,column:82}},10:{start:{line:13,column:4},end:{line:13,column:121}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:15},end:{line:6,column:16}},loc:{start:{line:6,column:73},end:{line:8,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:20},end:{line:9,column:21}},loc:{start:{line:9,column:37},end:{line:14,column:1}},line:9}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/edge/PotentialEdge.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/edge/PotentialEdge.tsx"],names:[],mappings:"AAAA,OAAO,KAAK,UAAU,MAAM,YAAY,CAAC;AACzC,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,EAAE,OAAO,IAAI,SAAS,EAAa,MAAM,aAAa,CAAC;AAE9D,OAAO,aAAa,CAAC;AAUrB,IAAM,QAAQ,GAAG,UACb,GAAa,EAAE,IAAc,EAAE,SAAoB,EAAE,SAAiB,EAAE,aAAuB;IAE/F,OAAA,SAAC,SAAS,IAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,aAAa,EAAE,aAAa,GAAI;AAA7G,CAA6G,CAAC;AAElH,IAAM,aAAa,GAAG,UAAC,KAAiD;IAC9D,IAAA,GAAG,GAAgD,KAAK,IAArD,EAAE,IAAI,GAA0C,KAAK,KAA/C,EAAE,SAAS,GAA+B,KAAK,UAApC,EAAE,SAAS,GAAoB,KAAK,UAAzB,EAAE,aAAa,GAAK,KAAK,cAAV,CAAW;IAEjE,IAAM,UAAU,GAAG,UAAU,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;IAEpD,IAAM,SAAS,GAAG,QAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IAEjF,OAAM,CACJ,gBACE,SAAS,EAAE,UAAU,eACV,0BAA0B,CAAC,cAAc,IAEnD,SAAS,CACR,CACL,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,aAAa,CAAC",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position } from 'diagramMaker/state/types';\n\nimport { default as EdgeCurve, EdgeStyle } from './EdgeCurve';\n\nimport './Edge.scss';\n\nexport interface PotentialEdgeProps {\n  src: Position;\n  dest: Position;\n  edgeStyle: EdgeStyle;\n  className?: string | string[];\n  showArrowhead?: boolean;\n}\n\nconst getCurve = (\n    src: Position, dest: Position, edgeStyle: EdgeStyle, className: string, showArrowhead?: boolean\n  ) =>\n    <EdgeCurve src={src} dest={dest} edgeStyle={edgeStyle} className={className} showArrowhead={showArrowhead} />;\n\nconst PotentialEdge = (props: Preact.RenderableProps<PotentialEdgeProps>): JSX.Element => {\n  const { src, dest, className, edgeStyle, showArrowhead } = props;\n\n  const classNames = classnames('dm-edge', className);\n\n  const curvePath = getCurve(src, dest, edgeStyle, 'dm-path-inner', showArrowhead);\n\n  return(\n    <g\n      className={classNames}\n      data-type={DiagramMakerComponentsType.POTENTIAL_EDGE}\n    >\n      {curvePath}\n    </g>\n  );\n};\n\nexport default PotentialEdge;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();Cn.s[0]++;Cn.s[2]++;var un,mn=function(n){Cn.f[1]++;var A=(Cn.s[3]++,n.src),e=(Cn.s[4]++,n.dest),t=(Cn.s[5]++,n.className),o=(Cn.s[6]++,n.edgeStyle),l=(Cn.s[7]++,n.showArrowhead),i=(Cn.s[8]++,y("dm-edge",t)),r=(Cn.s[9]++,function(n,A,e,t,o){return Cn.f[0]++,Cn.s[1]++,s.h(tn,{src:n,dest:A,edgeStyle:e,className:t,showArrowhead:o})}(A,e,o,"dm-path-inner",l));return Cn.s[10]++,s.h("g",{className:i,"data-type":c.POTENTIAL_EDGE},r)},dn=(function(){var n="/Volumes/workplace/diagram-maker/src/components/edge/index.ts",A="33be0c01eabbf2807a90f870ea6dddb3a20b03f2",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/edge/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/edge/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/edge/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAC;AACxC,OAAO,EAAE,OAAO,IAAI,IAAI,EAAE,SAAS,EAAE,MAAM,QAAQ,CAAC;AACpD,OAAO,EAAE,OAAO,IAAI,SAAS,EAAE,cAAc,EAAE,MAAM,aAAa,CAAC;AACnE,OAAO,EAAE,OAAO,IAAI,aAAa,EAAE,kBAAkB,EAAE,MAAM,iBAAiB,CAAC",sourcesContent:["export { EdgeStyle } from './EdgeCurve';\nexport { default as Edge, EdgeProps } from './Edge';\nexport { default as EdgeBadge, EdgeBadgeProps } from './EdgeBadge';\nexport { default as PotentialEdge, PotentialEdgeProps } from './PotentialEdge';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),e(144),function(){var n="/Volumes/workplace/diagram-maker/src/components/connector/Connector.tsx",A="7de76ae2246d485778d0da44b5771811cc6f7ca6",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/connector/Connector.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:13,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:12,column:6}},9:{start:{line:9,column:8},end:{line:9,column:28}},10:{start:{line:10,column:24},end:{line:10,column:45}},11:{start:{line:11,column:8},end:{line:11,column:93}},12:{start:{line:14,column:15},end:{line:24,column:1}},13:{start:{line:15,column:4},end:{line:22,column:6}},14:{start:{line:16,column:8},end:{line:20,column:9}},15:{start:{line:17,column:12},end:{line:17,column:29}},16:{start:{line:18,column:12},end:{line:19,column:28}},17:{start:{line:18,column:29},end:{line:19,column:28}},18:{start:{line:19,column:16},end:{line:19,column:28}},19:{start:{line:21,column:8},end:{line:21,column:17}},20:{start:{line:23,column:4},end:{line:23,column:43}},21:{start:{line:30,column:0},end:{line:33,column:42}},22:{start:{line:31,column:4},end:{line:31,column:56}},23:{start:{line:32,column:4},end:{line:32,column:58}},24:{start:{line:34,column:31},end:{line:60,column:19}},25:{start:{line:35,column:4},end:{line:35,column:33}},26:{start:{line:37,column:8},end:{line:37,column:72}},27:{start:{line:39,column:4},end:{line:58,column:6}},28:{start:{line:40,column:17},end:{line:40,column:27}},29:{start:{line:40,column:34},end:{line:40,column:39}},30:{start:{line:40,column:52},end:{line:40,column:63}},31:{start:{line:40,column:72},end:{line:40,column:79}},32:{start:{line:41,column:16},end:{line:41,column:26}},33:{start:{line:41,column:32},end:{line:41,column:42}},34:{start:{line:42,column:22},end:{line:45,column:10}},35:{start:{line:46,column:24},end:{line:46,column:66}},36:{start:{line:47,column:31},end:{line:49,column:9}},37:{start:{line:50,column:8},end:{line:55,column:9}},38:{start:{line:51,column:12},end:{line:51,column:53}},39:{start:{line:54,column:12},end:{line:54,column:54}},40:{start:{line:56,column:8},end:{line:57,column:58}},41:{start:{line:59,column:4},end:{line:59,column:21}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:13,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:12,column:5}},line:8},5:{name:"__",decl:{start:{line:10,column:17},end:{line:10,column:19}},loc:{start:{line:10,column:22},end:{line:10,column:47}},line:10},6:{name:"(anonymous_6)",decl:{start:{line:14,column:42},end:{line:14,column:43}},loc:{start:{line:14,column:54},end:{line:24,column:1}},line:14},7:{name:"(anonymous_7)",decl:{start:{line:15,column:32},end:{line:15,column:33}},loc:{start:{line:15,column:44},end:{line:22,column:5}},line:15},8:{name:"(anonymous_8)",decl:{start:{line:30,column:1},end:{line:30,column:2}},loc:{start:{line:30,column:26},end:{line:33,column:1}},line:30},9:{name:"(anonymous_9)",decl:{start:{line:34,column:31},end:{line:34,column:32}},loc:{start:{line:34,column:49},end:{line:60,column:1}},line:34},10:{name:"Connector",decl:{start:{line:36,column:13},end:{line:36,column:22}},loc:{start:{line:36,column:25},end:{line:38,column:5}},line:36},11:{name:"(anonymous_11)",decl:{start:{line:39,column:33},end:{line:39,column:34}},loc:{start:{line:39,column:45},end:{line:58,column:5}},line:39}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:13,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:13,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:11,column:22},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:35},end:{line:11,column:51}},{start:{line:11,column:55},end:{line:11,column:91}}],line:11},4:{loc:{start:{line:14,column:15},end:{line:24,column:1}},type:"binary-expr",locations:[{start:{line:14,column:16},end:{line:14,column:20}},{start:{line:14,column:24},end:{line:14,column:37}},{start:{line:14,column:42},end:{line:24,column:1}}],line:14},5:{loc:{start:{line:15,column:15},end:{line:22,column:5}},type:"binary-expr",locations:[{start:{line:15,column:15},end:{line:15,column:28}},{start:{line:15,column:32},end:{line:22,column:5}}],line:15},6:{loc:{start:{line:18,column:29},end:{line:19,column:28}},type:"if",locations:[{start:{line:18,column:29},end:{line:19,column:28}},{start:{line:18,column:29},end:{line:19,column:28}}],line:18},7:{loc:{start:{line:33,column:3},end:{line:33,column:40}},type:"binary-expr",locations:[{start:{line:33,column:3},end:{line:33,column:16}},{start:{line:33,column:21},end:{line:33,column:39}}],line:33},8:{loc:{start:{line:37,column:15},end:{line:37,column:71}},type:"binary-expr",locations:[{start:{line:37,column:15},end:{line:37,column:30}},{start:{line:37,column:34},end:{line:37,column:63}},{start:{line:37,column:67},end:{line:37,column:71}}],line:37},9:{loc:{start:{line:50,column:8},end:{line:55,column:9}},type:"if",locations:[{start:{line:50,column:8},end:{line:55,column:9}},{start:{line:50,column:8},end:{line:55,column:9}}],line:50}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0,0],9:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/connector/Connector.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/connector/Connector.tsx"],names:[],mappings:";;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,UAAU,MAAM,YAAY,CAAC;AACzC,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,kBAAkB,CAAC;AAE1B,MAAM,CAAN,IAAY,aAGX;AAHD,WAAY,aAAa;IACvB,mDAAK,CAAA;IACL,qDAAM,CAAA;AACR,CAAC,EAHW,aAAa,KAAb,aAAa,QAGxB;AAQD;IAAuC,6BAAoC;IAA3E;;IA4BA,CAAC;IA3BQ,0BAAM,GAAb;QACQ,IAAA,KAAyB,IAAI,CAAC,KAAK,EAAjC,EAAE,QAAA,EAAE,QAAQ,cAAA,EAAE,IAAI,UAAe,CAAC;QAClC,IAAA,CAAC,GAAQ,QAAQ,EAAhB,EAAE,CAAC,GAAK,QAAQ,EAAb,CAAc;QAC1B,IAAM,OAAO,GAAG,UAAU,CAAC,cAAc,EAAE;YACzC,oBAAoB,EAAE,IAAI,KAAK,aAAa,CAAC,KAAK;YAClD,qBAAqB,EAAE,IAAI,KAAK,aAAa,CAAC,MAAM;SACrD,CAAC,CAAC;QACH,IAAM,SAAS,GAAG,iBAAe,CAAC,YAAO,CAAC,WAAQ,CAAC;QACnD,IAAM,gBAAgB,GAA0C;YAC9D,SAAS,EAAE,EAAE,EAAE,WAAW,EAAE,0BAA0B,CAAC,cAAc;SACtE,CAAC;QACF,IAAI,IAAI,KAAK,aAAa,CAAC,KAAK,EAAE;YAChC,gBAAgB,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;SAC1C;aAAM;YACL,gBAAgB,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC;SAC3C;QAED,OAAO,CACL,2BACE,SAAS,EAAE,OAAO,EAClB,KAAK,EAAE,EAAE,SAAS,WAAA,EAAE,IAChB,gBAAgB;YAEpB,kBAAK,SAAS,EAAC,WAAW,GAAG,CACzB,CACP,CAAC;IACJ,CAAC;IACH,gBAAC;AAAD,CAAC,AA5BD,CAAuC,MAAM,CAAC,SAAS,GA4BtD",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position } from 'diagramMaker/state/types';\n\nimport './Connector.scss';\n\nexport enum ConnectorType {\n  INPUT,\n  OUTPUT\n}\n\nexport interface ConnectorProps {\n  id: string;\n  position: Position;\n  type: ConnectorType;\n}\n\nexport default class Connector extends Preact.Component<ConnectorProps, {}> {\n  public render(): JSX.Element {\n    const { id, position, type } = this.props;\n    const { x, y } = position;\n    const classes = classnames('dm-connector', {\n      'dm-connector-input': type === ConnectorType.INPUT,\n      'dm-connector-output': type === ConnectorType.OUTPUT\n    });\n    const transform = `translate3d(${x}px, ${y}px, 0)`;\n    const interactionProps: { [index: string]: string | boolean } = {\n      'data-id': id, 'data-type': DiagramMakerComponentsType.NODE_CONNECTOR\n    };\n    if (type === ConnectorType.INPUT) {\n      interactionProps['data-dropzone'] = true;\n    } else {\n      interactionProps['data-draggable'] = true;\n    }\n\n    return (\n      <div\n        className={classes}\n        style={{ transform }}\n        {...interactionProps}\n      >\n        <div className=\"dm-handle\" />\n      </div>\n    );\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),En=(dn.s[0]++,void dn.b[0][0]++&&(dn.b[0][1]++,(void 0).__extends)||(dn.b[0][2]++,function(){dn.f[0]++,dn.s[1]++;var n=function(A,e){return dn.f[1]++,dn.s[2]++,dn.b[1][0]++,n=Object.setPrototypeOf||(dn.b[1][1]++,{__proto__:[]}instanceof Array&&(dn.b[1][2]++,function(n,A){dn.f[2]++,dn.s[3]++,n.__proto__=A}))||(dn.b[1][3]++,function(n,A){for(var e in dn.f[3]++,dn.s[4]++,A)dn.s[5]++,Object.prototype.hasOwnProperty.call(A,e)?(dn.b[2][0]++,dn.s[6]++,n[e]=A[e]):dn.b[2][1]++}),dn.s[7]++,n(A,e)};return dn.s[8]++,function(A,e){function t(){dn.f[5]++,dn.s[10]++,this.constructor=A}dn.f[4]++,dn.s[9]++,n(A,e),dn.s[11]++,A.prototype=null===e?(dn.b[3][0]++,Object.create(e)):(dn.b[3][1]++,t.prototype=e.prototype,new t)}}())),pn=(dn.s[12]++,void dn.b[4][0]++&&(dn.b[4][1]++,(void 0).__assign)||(dn.b[4][2]++,function(){return dn.f[6]++,dn.s[13]++,dn.b[5][0]++,pn=Object.assign||(dn.b[5][1]++,function(n){dn.f[7]++,dn.s[14]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in dn.s[15]++,A=arguments[e],dn.s[16]++,A)dn.s[17]++,Object.prototype.hasOwnProperty.call(A,o)?(dn.b[6][0]++,dn.s[18]++,n[o]=A[o]):dn.b[6][1]++;return dn.s[19]++,n}),dn.s[20]++,pn.apply(this,arguments)}));dn.s[21]++,function(n){dn.f[8]++,dn.s[22]++,n[n.INPUT=0]="INPUT",dn.s[23]++,n[n.OUTPUT=1]="OUTPUT"}((dn.b[7][0]++,un||(dn.b[7][1]++,un={})));var fn,gn=(dn.s[24]++,function(n){function A(){return dn.f[10]++,dn.s[26]++,dn.b[8][0]++,null!==n&&(dn.b[8][1]++,n.apply(this,arguments))||(dn.b[8][2]++,this)}return dn.f[9]++,dn.s[25]++,En(A,n),dn.s[27]++,A.prototype.render=function(){dn.f[11]++;var n=(dn.s[28]++,this.props),A=(dn.s[29]++,n.id),e=(dn.s[30]++,n.position),t=(dn.s[31]++,n.type),o=(dn.s[32]++,e.x),l=(dn.s[33]++,e.y),i=(dn.s[34]++,y("dm-connector",{"dm-connector-input":t===un.INPUT,"dm-connector-output":t===un.OUTPUT})),r=(dn.s[35]++,"translate3d("+o+"px, "+l+"px, 0)"),a=(dn.s[36]++,{"data-id":A,"data-type":c.NODE_CONNECTOR});return dn.s[37]++,t===un.INPUT?(dn.b[9][0]++,dn.s[38]++,a["data-dropzone"]=!0):(dn.b[9][1]++,dn.s[39]++,a["data-draggable"]=!0),dn.s[40]++,s.h("div",pn({className:i,style:{transform:r}},a),s.h("div",{className:"dm-handle"}))},dn.s[41]++,A}(s.Component)),hn=(function(){var n="/Volumes/workplace/diagram-maker/src/components/connector/index.ts",A="0e5abba5e54325b8eeb92a094b922ef580ae09a1",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/connector/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/connector/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/connector/index.ts"],names:[],mappings:"AAAA,OAAO,EACL,OAAO,IAAI,SAAS,EAAE,cAAc,EAAE,aAAa,EACpD,MAAM,aAAa,CAAC",sourcesContent:["export {\n  default as Connector, ConnectorProps, ConnectorType\n} from './Connector';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),function(){var n="/Volumes/workplace/diagram-maker/src/service/ConfigService.ts",A="8a6a5c26c05419fed6a9675a25ed52e6f4324836",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/service/ConfigService.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:14,column:0},end:{line:36,column:60}},10:{start:{line:20,column:4},end:{line:20,column:52}},11:{start:{line:25,column:4},end:{line:25,column:52}},12:{start:{line:30,column:4},end:{line:30,column:55}},13:{start:{line:35,column:4},end:{line:35,column:55}},14:{start:{line:37,column:32},end:{line:37,column:68}},15:{start:{line:39,column:0},end:{line:48,column:72}},16:{start:{line:41,column:4},end:{line:41,column:50}},17:{start:{line:43,column:4},end:{line:43,column:57}},18:{start:{line:45,column:4},end:{line:45,column:59}},19:{start:{line:47,column:4},end:{line:47,column:50}},20:{start:{line:49,column:35},end:{line:49,column:77}},21:{start:{line:51,column:0},end:{line:58,column:34}},22:{start:{line:57,column:4},end:{line:57,column:35}},23:{start:{line:59,column:19},end:{line:59,column:42}},24:{start:{line:60,column:35},end:{line:131,column:3}},25:{start:{line:62,column:20},end:{line:62,column:24}},26:{start:{line:63,column:8},end:{line:63,column:29}},27:{start:{line:64,column:8},end:{line:66,column:10}},28:{start:{line:65,column:12},end:{line:65,column:51}},29:{start:{line:67,column:8},end:{line:69,column:10}},30:{start:{line:68,column:12},end:{line:68,column:51}},31:{start:{line:70,column:8},end:{line:72,column:10}},32:{start:{line:71,column:12},end:{line:71,column:59}},33:{start:{line:73,column:8},end:{line:75,column:10}},34:{start:{line:74,column:12},end:{line:74,column:60}},35:{start:{line:76,column:8},end:{line:78,column:10}},36:{start:{line:77,column:12},end:{line:77,column:54}},37:{start:{line:79,column:8},end:{line:94,column:10}},38:{start:{line:80,column:39},end:{line:80,column:67}},39:{start:{line:81,column:12},end:{line:83,column:13}},40:{start:{line:82,column:16},end:{line:82,column:23}},41:{start:{line:84,column:12},end:{line:93,column:13}},42:{start:{line:86,column:20},end:{line:86,column:97}},43:{start:{line:88,column:20},end:{line:88,column:97}},44:{start:{line:90,column:20},end:{line:90,column:99}},45:{start:{line:92,column:20},end:{line:92,column:58}},46:{start:{line:95,column:8},end:{line:97,column:10}},47:{start:{line:96,column:12},end:{line:96,column:116}},48:{start:{line:98,column:8},end:{line:100,column:10}},49:{start:{line:99,column:12},end:{line:99,column:89}},50:{start:{line:101,column:8},end:{line:103,column:10}},51:{start:{line:102,column:12},end:{line:102,column:50}},52:{start:{line:104,column:8},end:{line:107,column:10}},53:{start:{line:105,column:29},end:{line:105,column:67}},54:{start:{line:106,column:12},end:{line:106,column:49}},55:{start:{line:108,column:8},end:{line:111,column:10}},56:{start:{line:109,column:29},end:{line:109,column:67}},57:{start:{line:110,column:12},end:{line:110,column:106}},58:{start:{line:112,column:8},end:{line:115,column:10}},59:{start:{line:113,column:29},end:{line:113,column:67}},60:{start:{line:114,column:12},end:{line:114,column:50}},61:{start:{line:116,column:8},end:{line:119,column:10}},62:{start:{line:117,column:29},end:{line:117,column:67}},63:{start:{line:118,column:12},end:{line:118,column:66}},64:{start:{line:120,column:8},end:{line:122,column:10}},65:{start:{line:121,column:12},end:{line:121,column:86}},66:{start:{line:123,column:8},end:{line:125,column:10}},67:{start:{line:124,column:12},end:{line:124,column:58}},68:{start:{line:126,column:8},end:{line:128,column:10}},69:{start:{line:127,column:12},end:{line:127,column:48}},70:{start:{line:130,column:4},end:{line:130,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:14,column:1},end:{line:14,column:2}},loc:{start:{line:14,column:35},end:{line:36,column:1}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:39,column:1},end:{line:39,column:2}},loc:{start:{line:39,column:41},end:{line:48,column:1}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:51,column:1},end:{line:51,column:2}},loc:{start:{line:51,column:22},end:{line:58,column:1}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:35},end:{line:60,column:36}},loc:{start:{line:60,column:47},end:{line:131,column:1}},line:60},6:{name:"ConfigService",decl:{start:{line:61,column:13},end:{line:61,column:26}},loc:{start:{line:61,column:35},end:{line:129,column:5}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:64,column:29},end:{line:64,column:30}},loc:{start:{line:64,column:41},end:{line:66,column:9}},line:64},8:{name:"(anonymous_8)",decl:{start:{line:67,column:29},end:{line:67,column:30}},loc:{start:{line:67,column:41},end:{line:69,column:9}},line:67},9:{name:"(anonymous_9)",decl:{start:{line:70,column:30},end:{line:70,column:31}},loc:{start:{line:70,column:46},end:{line:72,column:9}},line:70},10:{name:"(anonymous_10)",decl:{start:{line:73,column:38},end:{line:73,column:39}},loc:{start:{line:73,column:50},end:{line:75,column:9}},line:73},11:{name:"(anonymous_11)",decl:{start:{line:76,column:32},end:{line:76,column:33}},loc:{start:{line:76,column:44},end:{line:78,column:9}},line:76},12:{name:"(anonymous_12)",decl:{start:{line:79,column:41},end:{line:79,column:42}},loc:{start:{line:79,column:61},end:{line:94,column:9}},line:79},13:{name:"(anonymous_13)",decl:{start:{line:95,column:37},end:{line:95,column:38}},loc:{start:{line:95,column:49},end:{line:97,column:9}},line:95},14:{name:"(anonymous_14)",decl:{start:{line:98,column:32},end:{line:98,column:33}},loc:{start:{line:98,column:44},end:{line:100,column:9}},line:98},15:{name:"(anonymous_15)",decl:{start:{line:101,column:36},end:{line:101,column:37}},loc:{start:{line:101,column:48},end:{line:103,column:9}},line:101},16:{name:"(anonymous_16)",decl:{start:{line:104,column:34},end:{line:104,column:35}},loc:{start:{line:104,column:52},end:{line:107,column:9}},line:104},17:{name:"(anonymous_17)",decl:{start:{line:108,column:48},end:{line:108,column:49}},loc:{start:{line:108,column:66},end:{line:111,column:9}},line:108},18:{name:"(anonymous_18)",decl:{start:{line:112,column:35},end:{line:112,column:36}},loc:{start:{line:112,column:53},end:{line:115,column:9}},line:112},19:{name:"(anonymous_19)",decl:{start:{line:116,column:51},end:{line:116,column:52}},loc:{start:{line:116,column:69},end:{line:119,column:9}},line:116},20:{name:"(anonymous_20)",decl:{start:{line:120,column:40},end:{line:120,column:41}},loc:{start:{line:120,column:58},end:{line:122,column:9}},line:120},21:{name:"(anonymous_21)",decl:{start:{line:123,column:36},end:{line:123,column:37}},loc:{start:{line:123,column:48},end:{line:125,column:9}},line:123},22:{name:"(anonymous_22)",decl:{start:{line:126,column:34},end:{line:126,column:35}},loc:{start:{line:126,column:46},end:{line:128,column:9}},line:126}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:36,column:3},end:{line:36,column:58}},type:"binary-expr",locations:[{start:{line:36,column:3},end:{line:36,column:25}},{start:{line:36,column:30},end:{line:36,column:57}}],line:36},4:{loc:{start:{line:48,column:3},end:{line:48,column:70}},type:"binary-expr",locations:[{start:{line:48,column:3},end:{line:48,column:31}},{start:{line:48,column:36},end:{line:48,column:69}}],line:48},5:{loc:{start:{line:58,column:3},end:{line:58,column:32}},type:"binary-expr",locations:[{start:{line:58,column:3},end:{line:58,column:12}},{start:{line:58,column:17},end:{line:58,column:31}}],line:58},6:{loc:{start:{line:81,column:12},end:{line:83,column:13}},type:"if",locations:[{start:{line:81,column:12},end:{line:83,column:13}},{start:{line:81,column:12},end:{line:83,column:13}}],line:81},7:{loc:{start:{line:84,column:12},end:{line:93,column:13}},type:"switch",locations:[{start:{line:85,column:16},end:{line:86,column:97}},{start:{line:87,column:16},end:{line:88,column:97}},{start:{line:89,column:16},end:{line:90,column:99}},{start:{line:91,column:16},end:{line:92,column:58}}],line:84},8:{loc:{start:{line:86,column:27},end:{line:86,column:96}},type:"binary-expr",locations:[{start:{line:86,column:27},end:{line:86,column:52}},{start:{line:86,column:56},end:{line:86,column:96}}],line:86},9:{loc:{start:{line:88,column:27},end:{line:88,column:96}},type:"binary-expr",locations:[{start:{line:88,column:27},end:{line:88,column:52}},{start:{line:88,column:56},end:{line:88,column:96}}],line:88},10:{loc:{start:{line:90,column:27},end:{line:90,column:98}},type:"binary-expr",locations:[{start:{line:90,column:27},end:{line:90,column:53}},{start:{line:90,column:57},end:{line:90,column:98}}],line:90},11:{loc:{start:{line:96,column:19},end:{line:96,column:115}},type:"binary-expr",locations:[{start:{line:96,column:20},end:{line:96,column:40}},{start:{line:96,column:44},end:{line:96,column:83}},{start:{line:96,column:88},end:{line:96,column:115}}],line:96},12:{loc:{start:{line:99,column:19},end:{line:99,column:88}},type:"binary-expr",locations:[{start:{line:99,column:20},end:{line:99,column:40}},{start:{line:99,column:44},end:{line:99,column:78}},{start:{line:99,column:83},end:{line:99,column:88}}],line:99},13:{loc:{start:{line:106,column:19},end:{line:106,column:48}},type:"binary-expr",locations:[{start:{line:106,column:19},end:{line:106,column:29}},{start:{line:106,column:33},end:{line:106,column:48}}],line:106},14:{loc:{start:{line:110,column:19},end:{line:110,column:105}},type:"binary-expr",locations:[{start:{line:110,column:20},end:{line:110,column:30}},{start:{line:110,column:34},end:{line:110,column:71}},{start:{line:110,column:76},end:{line:110,column:105}}],line:110},15:{loc:{start:{line:114,column:19},end:{line:114,column:49}},type:"binary-expr",locations:[{start:{line:114,column:19},end:{line:114,column:29}},{start:{line:114,column:33},end:{line:114,column:49}}],line:114},16:{loc:{start:{line:118,column:19},end:{line:118,column:65}},type:"binary-expr",locations:[{start:{line:118,column:19},end:{line:118,column:29}},{start:{line:118,column:33},end:{line:118,column:65}}],line:118},17:{loc:{start:{line:121,column:19},end:{line:121,column:85}},type:"binary-expr",locations:[{start:{line:121,column:19},end:{line:121,column:46}},{start:{line:121,column:50},end:{line:121,column:85}}],line:121}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0,0],12:[0,0,0],13:[0,0],14:[0,0,0],15:[0,0],16:[0,0],17:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/service/ConfigService.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/service/ConfigService.ts"],names:[],mappings:"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",sourcesContent:["import { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { ActionInterceptor } from 'diagramMaker/state/middleware';\nimport {\n  DiagramMakerData, DiagramMakerEdge, DiagramMakerNode, DiagramMakerPanel, DiagramMakerPotentialNode, Size\n} from 'diagramMaker/state/types';\n\nexport enum ConnectorPlacementType {\n  /**\n   * Allows edges to be start & end at the boundary of the node.\n   * This falls back to CENTERED if the shape is not known for any given node.\n   * Doesn't render connectors by default.\n   */\n  BOUNDARY = 'Boundary',\n  /**\n   * Edges start & end at the geometric center of the node.\n   * Doesn't render connectors by default.\n   */\n  CENTERED = 'Centered',\n  /**\n   * Edges start at the right edge & end at the left edge of node bounding box.\n   * Does render connectors by default.\n   */\n  LEFT_RIGHT = 'LeftRight',\n  /**\n   * Edges start at the bottom edge & end at the top edge of node bounding box.\n   * Does render connectors by default.\n   */\n  TOP_BOTTOM = 'TopBottom'\n}\n\nexport const ConnectorPlacement = {\n  ...ConnectorPlacementType\n};\n\nexport type BoundRenderCallback = (\n  diagramMakerContainer: HTMLElement,\n  consumerContainer?: HTMLElement | void\n) => (HTMLElement | undefined | void);\n\n/**\n * This callback is called to cleanup event handlers for DOM rendered by the consumer\n * before diagram maker removes the DOM.\n * @callback DestroyCallback\n * @param diagramMakerContainer - The container in which consumer rendered some DOM.\n * @param consumerContainer - This is passed only if the consumer returned this in renderCallback.\n * Useful for Preact, where you need to provide the element within the container to diff against.\n * @returns {void}\n * @example <caption> Destroy callback when using React </caption>\n * (diagramMakerContainer: HTMLElement) => ReactDOM.unmountComponentAtNode(diagramMakerContainer)\n */\nexport type DestroyCallback = (\n  diagramMakerContainer: HTMLElement,\n  consumerContainer?: HTMLElement | void\n) => void;\n\n/**\n * This callback is called to render context menu for elements with IDs like node, edge, panel.\n * @callback ContextMenuRenderCallbackWithId\n * @param id - The ID of the element which was clicked. Since, we have different callbacks for node, edge, panel,\n * it is assumed that the type of the element is known before hand.\n * @param diagramMakerContainer - The container in which the consumer renders the context menu.\n * This is an empty container with only the position set correctly.\n * Could diff against content already present in the container using React, Preact or any other VDOM.\n * @param consumerContainer - This is passed only if the consumer returned this in prior calls to this callback.\n * Useful for Preact, where you need to provide the element within the container to diff against.\n * @returns {HTMLElement | undefined | void} - HTMLElement in case of Preact, or void or undefined everywhere else.\n */\ntype ContextMenuRenderCallbackWithId = (\n  id: string | undefined,\n  diagramMakerContainer: HTMLElement,\n  consumerContainer?: HTMLElement | void\n) => (HTMLElement | undefined | void);\n\n/**\n * This callback is called to render context menu for elements without IDs like workspace.\n * Since, we have different callbacks for node, edge, panel,\n * it is assumed that the type of the element is known before hand.\n * @callback ContextMenuRenderCallback\n * @param diagramMakerContainer - The container in which the consumer renders the context menu.\n * This is an empty container with only the position set correctly.\n * Could diff against content already present in the container using React, Preact or any other VDOM.\n * @param consumerContainer - This is passed only if the consumer returned this in prior calls to this callback.\n * Useful for Preact, where you need to provide the element within the container to diff against.\n * @returns {HTMLElement | undefined | void} - HTMLElement in case of Preact, or void or undefined everywhere else.\n */\ntype ContextMenuRenderCallback = (\n  diagramMakerContainer: HTMLElement,\n  consumerContainer?: HTMLElement | void\n) => (HTMLElement | undefined | void);\n\n/**\n * Object containing render callbacks for context menu.\n */\nexport interface ContextMenuRenderCallbacks {\n  /**\n   * Render callback for context menu for node. Optional.\n   * @type {ContextMenuRenderCallbackWithId}\n   */\n  node?: ContextMenuRenderCallbackWithId;\n  /**\n   * Render callback for context menu for edge. Optional.\n   * @type {ContextMenuRenderCallbackWithId}\n   */\n  edge?: ContextMenuRenderCallbackWithId;\n  /**\n   * Render callback for context menu for panel. Optional.\n   * @type {ContextMenuRenderCallbackWithId}\n   */\n  panel?: ContextMenuRenderCallbackWithId;\n  /**\n   * Render callback for context menu for workspace. Optional.\n   * @type {ContextMenuRenderCallback}\n   */\n  workspace?: ContextMenuRenderCallback;\n}\n\n/** Object containing callbacks for rendering & destroying various entities (like nodes, edges, panels, etc) */\ninterface RenderCallbacks<NodeType, EdgeType> {\n  /**\n   * Callback to cleanup DOM rendered by the consumer properly\n   * before diagram maker removes it.\n   * In case, consumers are using React or any other rendering framework,\n   * the framework attaches event handlers that if not removed correctly,\n   * could cause a memory leak.\n   * @type {DestroyCallback}\n   */\n  destroy: DestroyCallback;\n  /**\n   * Callback to render a badge centered within the edge.\n   * @param {DiagramMakerEdge<EdgeType>} - The object representing the current state of the edge\n   * for which the badge is being rendered.\n   * @param {HTMLElement} diagramMakerContainer - Container managed by diagram maker to render content in\n   * Could diff against content already present in the container using React, Preact or any other VDOM.\n   * @param {HTMLElement} consumerContainer - Container used by consumer to render. Optional.\n   * Useful only when using Preact, since Preact appends by default\n   * and needs an Element to diff against in the container.\n   * @returns {HTMLElement | undefined | void} - Element rendered by consumer when using Preact,\n   * or undefined or void everywhere else.\n   */\n  edge?: (\n    edge: DiagramMakerEdge<EdgeType>,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void);\n  /**\n   * Callback to render a node.\n   * @param {DiagramMakerNode<NodeType>} - The object representing the current state of the node being rendered.\n   * @param {HTMLElement} diagramMakerContainer - Container managed by diagram maker to render content in\n   * Could diff against content already present in the container using React, Preact or any other VDOM.\n   * @param {HTMLElement} consumerContainer - Container used by consumer to render. Optional.\n   * Useful only when using Preact, since Preact appends by default\n   * and needs an Element to diff against in the container.\n   * @returns {HTMLElement | undefined | void} - Element rendered by consumer when using Preact,\n   * or undefined or void everywhere else.\n   */\n  node: (\n    node: DiagramMakerNode<NodeType>,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void);\n  /**\n   * Callback to render a potential node. Optional. Only useful when user might be dragging new nodes out of a panel.\n   * @param {DiagramMakerPotentialNode} - The object representing the current state of the potential node\n   * being rendered.\n   * @param {HTMLElement} diagramMakerContainer - Container managed by diagram maker to render content in\n   * Could diff against content already present in the container using React, Preact or any other VDOM.\n   * @param {HTMLElement} consumerContainer - Container used by consumer to render. Optional.\n   * Useful only when using Preact, since Preact appends by default\n   * and needs an Element to diff against in the container.\n   * @returns {HTMLElement | undefined | void} - Element rendered by consumer when using Preact,\n   * or undefined or void everywhere else.\n   */\n  potentialNode?: (\n    node: DiagramMakerPotentialNode,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void);\n  /** Object containing render callbacks for several panels keyed on panel name */\n  panels: {\n    /**\n     * Callback to render a panel.\n     * @param {DiagramMakerPanel} - The object representing the current state of the panel being rendered.\n     * @param {HTMLElement} diagramMakerContainer - Container managed by diagram maker to render content in\n     * Could diff against content already present in the container using React, Preact or any other VDOM.\n     * @param {HTMLElement} consumerContainer - Container used by consumer to render. Optional.\n     * Useful only when using Preact, since Preact appends by default\n     * and needs an Element to diff against in the container.\n     * @returns {HTMLElement | undefined | void} - Element rendered by consumer when using Preact,\n     * or undefined or void everywhere else.\n     */\n    [name: string]: (\n      panel: DiagramMakerPanel,\n      state: DiagramMakerData<NodeType, EdgeType>,\n      diagramMakerContainer: HTMLElement,\n      consumerContainer?: HTMLElement | void\n    ) => (HTMLElement | undefined | void);\n  };\n  /**\n   * Object containing render callbacks for context menus for various targets. Optional.\n   * If provided, diagram maker will use these context menu render callbacks to show a context menu,\n   * and suppress the browser rendered context menu.\n   */\n  contextMenu?: ContextMenuRenderCallbacks;\n}\n\nexport enum TypeForVisibleConnectorTypes {\n  /** Render both input & output connectors. Default Behavior. */\n  BOTH = 'Both',\n  /** Render only input connector. */\n  INPUT_ONLY = 'Input',\n  /** Render only output connector. */\n  OUTPUT_ONLY = 'Output',\n  /** Render none of the connectors. */\n  NONE = 'None'\n}\n\nexport const VisibleConnectorTypes = {\n  ...TypeForVisibleConnectorTypes\n};\n\nexport enum ShapeType {\n  /**\n   * Denotes a circle shaped node.\n   * Assumes that node width & height are equal\n   * and the radius is equal to half of each of them\n   */\n  CIRCLE = 'Circle'\n}\n\nexport const Shape = {\n  ...ShapeType\n};\n\n/** Interface for storing configuration for a given node type */\nexport interface DiagramMakerNodeTypeConfiguration {\n  /**\n   * Size used if override not provided by data attrs for potential nodes using this type.\n   */\n  size: Size;\n  /**\n   * Used for overriding visible connectors for nodes using this type.\n   * This is useful only in case diagram maker renders connectors by default i.e. LEFT_RIGHT or TOP_BOTTOM.\n   */\n  visibleConnectorTypes?: TypeForVisibleConnectorTypes;\n  /**\n   * Used for overriding the connector placement for nodes using this type.\n   */\n  connectorPlacementOverride?: ConnectorPlacementType;\n  /**\n   * Used for providing shape for nodes using this type.\n   * Used in conjunction with BOUNDARY connector placement.\n   */\n  shape?: ShapeType;\n}\n\nexport interface DiagramMakerConfig<NodeType, EdgeType> {\n  /**\n   * Optional configuration for diagram maker\n   */\n  options?: {\n    /**\n     * Connector placement. Determines how the edges are rendered.\n     * Also renders default connectors for some placement types.\n     * Defaults to CENTERED placement.\n     */\n    connectorPlacement?: ConnectorPlacementType;\n    /**\n     * Show an arrowhead at the destination end of the edge.\n     * Defaults to false.\n     */\n    showArrowhead?: boolean;\n  };\n  /**\n   * Render Callbacks for rendering nodes, potential nodes, edges, panels,\n   * context menus, etc.\n   */\n  renderCallbacks: RenderCallbacks<NodeType, EdgeType>;\n  /**\n   * Action interceptor. Before any action is dispatched to the store,\n   * you may intercept and modify it or cancel it entirely.\n   * Please keep in mind that in case you implement an interceptor,\n   * you're responsible for dispatching the action.\n   *\n   * @example <caption>Logging an action</caption>\n   * const log = (action, dispatch, getState) => {\n   *   console.log(action);\n   *   dispatch(action);\n   * };\n   */\n  actionInterceptor?: ActionInterceptor<NodeType, EdgeType>;\n  /**\n   * Node Type Configuration. Optional.\n   * Useful for specifying overrides for connector placement or visible connectors.\n   * Also, useful for providing for size for potential nodes being dragged using the same type.\n   * Is required when using boundary connector placement to provide shapes for different\n   * node types.\n   */\n  nodeTypeConfig?: {\n    [typeId: string]: DiagramMakerNodeTypeConfiguration;\n  };\n}\nexport default class ConfigService<NodeType, EdgeType> {\n  constructor(private config: DiagramMakerConfig<NodeType, EdgeType>) {\n  }\n\n  public getRenderNode = (): (\n    node: DiagramMakerNode<NodeType>,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void) => {\n    return this.getRenderCallbacks().node;\n  }\n\n  public getRenderEdge = (): ((\n    edge: DiagramMakerEdge<EdgeType>,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void)) | undefined => {\n    return this.getRenderCallbacks().edge;\n  }\n\n  public getRenderPanel = (name: string): (\n    panel: DiagramMakerPanel,\n    state: DiagramMakerData<NodeType, EdgeType>,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void) => {\n    return this.getRenderCallbacks().panels[name];\n  }\n\n  public getRenderPotentialNode = (): ((\n    node: DiagramMakerPotentialNode,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void)) | undefined => {\n    return this.getRenderCallbacks().potentialNode;\n  }\n\n  public getRenderDestroy = (): DestroyCallback => {\n    return this.getRenderCallbacks().destroy;\n  }\n\n  public getBoundRenderContextMenu = (type: string, id?: string): BoundRenderCallback | undefined => {\n    const contextMenuCallbacks = this.getRenderContextMenu();\n    if (!contextMenuCallbacks) {\n      return;\n    }\n\n    switch (type) {\n      case DiagramMakerComponentsType.NODE:\n        return contextMenuCallbacks.node && contextMenuCallbacks.node.bind(null, id);\n      case DiagramMakerComponentsType.EDGE:\n        return contextMenuCallbacks.edge && contextMenuCallbacks.edge.bind(null, id);\n      case DiagramMakerComponentsType.PANEL:\n        return contextMenuCallbacks.panel && contextMenuCallbacks.panel.bind(null, id);\n      case DiagramMakerComponentsType.WORKSPACE:\n        return contextMenuCallbacks.workspace;\n    }\n  }\n\n  public getConnectorPlacement = (): ConnectorPlacementType => {\n    return (this.config.options && this.config.options.connectorPlacement) || ConnectorPlacement.CENTERED;\n  }\n\n  public getShowArrowhead = (): boolean => {\n    return (this.config.options && this.config.options.showArrowhead) || false;\n  }\n\n  public getActionInterceptor = (): ActionInterceptor<NodeType, EdgeType> | undefined => {\n    return this.config.actionInterceptor;\n  }\n\n  public getSizeForNodeType = (typeId: string): Size | undefined => {\n    const typeConfig = this.getNodeTypeConfiguration(typeId);\n    return typeConfig && typeConfig.size;\n  }\n\n  public getConnectorPlacementForNodeType = (typeId: string): ConnectorPlacementType => {\n    const typeConfig = this.getNodeTypeConfiguration(typeId);\n    return (typeConfig && typeConfig.connectorPlacementOverride) || this.getConnectorPlacement();\n  }\n\n  public getShapeForNodeType = (typeId: string): ShapeType | undefined => {\n    const typeConfig = this.getNodeTypeConfiguration(typeId);\n    return typeConfig && typeConfig.shape;\n  }\n\n  public getVisibleConnectorTypesForNodeType = (typeId: string): TypeForVisibleConnectorTypes | undefined => {\n    const typeConfig = this.getNodeTypeConfiguration(typeId);\n    return typeConfig && typeConfig.visibleConnectorTypes;\n  }\n\n  private getNodeTypeConfiguration = (typeId: string): DiagramMakerNodeTypeConfiguration | undefined => {\n    return this.config.nodeTypeConfig && this.config.nodeTypeConfig[typeId];\n  }\n\n  private getRenderContextMenu = (): ContextMenuRenderCallbacks | undefined => {\n    return this.getRenderCallbacks().contextMenu;\n  }\n\n  private getRenderCallbacks = (): RenderCallbacks<NodeType, EdgeType> => {\n    return this.config.renderCallbacks;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),In=(hn.s[0]++,void hn.b[0][0]++&&(hn.b[0][1]++,(void 0).__assign)||(hn.b[0][2]++,function(){return hn.f[0]++,hn.s[1]++,hn.b[1][0]++,In=Object.assign||(hn.b[1][1]++,function(n){hn.f[1]++,hn.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in hn.s[3]++,A=arguments[e],hn.s[4]++,A)hn.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(hn.b[2][0]++,hn.s[6]++,n[o]=A[o]):hn.b[2][1]++;return hn.s[7]++,n}),hn.s[8]++,In.apply(this,arguments)}));hn.s[9]++,function(n){hn.f[2]++,hn.s[10]++,n.BOUNDARY="Boundary",hn.s[11]++,n.CENTERED="Centered",hn.s[12]++,n.LEFT_RIGHT="LeftRight",hn.s[13]++,n.TOP_BOTTOM="TopBottom"}((hn.b[3][0]++,fn||(hn.b[3][1]++,fn={})));var yn,Bn=(hn.s[14]++,In({},fn));hn.s[15]++,function(n){hn.f[3]++,hn.s[16]++,n.BOTH="Both",hn.s[17]++,n.INPUT_ONLY="Input",hn.s[18]++,n.OUTPUT_ONLY="Output",hn.s[19]++,n.NONE="None"}((hn.b[4][0]++,yn||(hn.b[4][1]++,yn={})));var Mn,vn=(hn.s[20]++,In({},yn));hn.s[21]++,function(n){hn.f[4]++,hn.s[22]++,n.CIRCLE="Circle"}((hn.b[5][0]++,Mn||(hn.b[5][1]++,Mn={})));var bn,On=(hn.s[23]++,In({},Mn)),Gn=(hn.s[24]++,hn.f[5]++,hn.s[70]++,function(n){hn.f[6]++;var A=(hn.s[25]++,this);hn.s[26]++,this.config=n,hn.s[27]++,this.getRenderNode=function(){return hn.f[7]++,hn.s[28]++,A.getRenderCallbacks().node},hn.s[29]++,this.getRenderEdge=function(){return hn.f[8]++,hn.s[30]++,A.getRenderCallbacks().edge},hn.s[31]++,this.getRenderPanel=function(n){return hn.f[9]++,hn.s[32]++,A.getRenderCallbacks().panels[n]},hn.s[33]++,this.getRenderPotentialNode=function(){return hn.f[10]++,hn.s[34]++,A.getRenderCallbacks().potentialNode},hn.s[35]++,this.getRenderDestroy=function(){return hn.f[11]++,hn.s[36]++,A.getRenderCallbacks().destroy},hn.s[37]++,this.getBoundRenderContextMenu=function(n,e){hn.f[12]++;var t=(hn.s[38]++,A.getRenderContextMenu());if(hn.s[39]++,!t)return hn.b[6][0]++,void hn.s[40]++;switch(hn.b[6][1]++,hn.s[41]++,n){case c.NODE:return hn.b[7][0]++,hn.s[42]++,hn.b[8][0]++,t.node&&(hn.b[8][1]++,t.node.bind(null,e));case c.EDGE:return hn.b[7][1]++,hn.s[43]++,hn.b[9][0]++,t.edge&&(hn.b[9][1]++,t.edge.bind(null,e));case c.PANEL:return hn.b[7][2]++,hn.s[44]++,hn.b[10][0]++,t.panel&&(hn.b[10][1]++,t.panel.bind(null,e));case c.WORKSPACE:return hn.b[7][3]++,hn.s[45]++,t.workspace}},hn.s[46]++,this.getConnectorPlacement=function(){return hn.f[13]++,hn.s[47]++,hn.b[11][0]++,A.config.options&&(hn.b[11][1]++,A.config.options.connectorPlacement)||(hn.b[11][2]++,Bn.CENTERED)},hn.s[48]++,this.getShowArrowhead=function(){return hn.f[14]++,hn.s[49]++,hn.b[12][0]++,A.config.options&&(hn.b[12][1]++,A.config.options.showArrowhead)||(hn.b[12][2]++,!1)},hn.s[50]++,this.getActionInterceptor=function(){return hn.f[15]++,hn.s[51]++,A.config.actionInterceptor},hn.s[52]++,this.getSizeForNodeType=function(n){hn.f[16]++;var e=(hn.s[53]++,A.getNodeTypeConfiguration(n));return hn.s[54]++,hn.b[13][0]++,e&&(hn.b[13][1]++,e.size)},hn.s[55]++,this.getConnectorPlacementForNodeType=function(n){hn.f[17]++;var e=(hn.s[56]++,A.getNodeTypeConfiguration(n));return hn.s[57]++,hn.b[14][0]++,e&&(hn.b[14][1]++,e.connectorPlacementOverride)||(hn.b[14][2]++,A.getConnectorPlacement())},hn.s[58]++,this.getShapeForNodeType=function(n){hn.f[18]++;var e=(hn.s[59]++,A.getNodeTypeConfiguration(n));return hn.s[60]++,hn.b[15][0]++,e&&(hn.b[15][1]++,e.shape)},hn.s[61]++,this.getVisibleConnectorTypesForNodeType=function(n){hn.f[19]++;var e=(hn.s[62]++,A.getNodeTypeConfiguration(n));return hn.s[63]++,hn.b[16][0]++,e&&(hn.b[16][1]++,e.visibleConnectorTypes)},hn.s[64]++,this.getNodeTypeConfiguration=function(n){return hn.f[20]++,hn.s[65]++,hn.b[17][0]++,A.config.nodeTypeConfig&&(hn.b[17][1]++,A.config.nodeTypeConfig[n])},hn.s[66]++,this.getRenderContextMenu=function(){return hn.f[21]++,hn.s[67]++,A.getRenderCallbacks().contextMenu},hn.s[68]++,this.getRenderCallbacks=function(){return hn.f[22]++,hn.s[69]++,A.config.renderCallbacks}}),Dn=(e(77),function(){var n="/Volumes/workplace/diagram-maker/src/components/node/Node.tsx",A="10cd6a9d375da5d8b95342ea3ed678523d593c91",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/node/Node.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:13,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:12,column:6}},9:{start:{line:9,column:8},end:{line:9,column:28}},10:{start:{line:10,column:24},end:{line:10,column:45}},11:{start:{line:11,column:8},end:{line:11,column:93}},12:{start:{line:20,column:26},end:{line:84,column:19}},13:{start:{line:21,column:4},end:{line:21,column:28}},14:{start:{line:23,column:20},end:{line:23,column:76}},15:{start:{line:24,column:8},end:{line:26,column:10}},16:{start:{line:25,column:12},end:{line:25,column:79}},17:{start:{line:27,column:8},end:{line:27,column:21}},18:{start:{line:29,column:4},end:{line:38,column:6}},19:{start:{line:30,column:17},end:{line:30,column:44}},20:{start:{line:30,column:65},end:{line:30,column:84}},21:{start:{line:30,column:91},end:{line:30,column:96}},22:{start:{line:31,column:17},end:{line:31,column:42}},23:{start:{line:31,column:48},end:{line:31,column:52}},24:{start:{line:31,column:58},end:{line:31,column:62}},25:{start:{line:32,column:17},end:{line:32,column:38}},26:{start:{line:32,column:48},end:{line:32,column:56}},27:{start:{line:32,column:67},end:{line:32,column:76}},28:{start:{line:33,column:24},end:{line:33,column:66}},29:{start:{line:34,column:17},end:{line:34,column:27}},30:{start:{line:34,column:46},end:{line:34,column:63}},31:{start:{line:34,column:83},end:{line:34,column:101}},32:{start:{line:35,column:8},end:{line:37,column:38}},33:{start:{line:39,column:4},end:{line:60,column:6}},34:{start:{line:40,column:17},end:{line:40,column:44}},35:{start:{line:40,column:51},end:{line:40,column:56}},36:{start:{line:40,column:77},end:{line:40,column:96}},37:{start:{line:41,column:33},end:{line:41,column:62}},38:{start:{line:42,column:17},end:{line:42,column:38}},39:{start:{line:42,column:48},end:{line:42,column:56}},40:{start:{line:42,column:67},end:{line:42,column:76}},41:{start:{line:43,column:31},end:{line:43,column:40}},42:{start:{line:44,column:29},end:{line:44,column:39}},43:{start:{line:45,column:20},end:{line:45,column:39}},44:{start:{line:45,column:50},end:{line:45,column:70}},45:{start:{line:46,column:8},end:{line:59,column:9}},46:{start:{line:48,column:16},end:{line:51,column:18}},47:{start:{line:53,column:16},end:{line:56,column:18}},48:{start:{line:58,column:16},end:{line:58,column:26}},49:{start:{line:61,column:4},end:{line:76,column:6}},50:{start:{line:62,column:29},end:{line:62,column:49}},51:{start:{line:63,column:8},end:{line:65,column:9}},52:{start:{line:64,column:12},end:{line:64,column:34}},53:{start:{line:66,column:20},end:{line:66,column:39}},54:{start:{line:66,column:50},end:{line:66,column:70}},55:{start:{line:67,column:8},end:{line:74,column:9}},56:{start:{line:69,column:16},end:{line:69,column:112}},57:{start:{line:69,column:72},end:{line:69,column:108}},58:{start:{line:71,column:16},end:{line:71,column:113}},59:{start:{line:71,column:72},end:{line:71,column:109}},60:{start:{line:73,column:16},end:{line:73,column:26}},61:{start:{line:75,column:8},end:{line:75,column:30}},62:{start:{line:77,column:4},end:{line:82,column:6}},63:{start:{line:78,column:8},end:{line:81,column:11}},64:{start:{line:79,column:21},end:{line:79,column:33}},65:{start:{line:79,column:42},end:{line:79,column:56}},66:{start:{line:79,column:69},end:{line:79,column:87}},67:{start:{line:80,column:12},end:{line:80,column:91}},68:{start:{line:83,column:4},end:{line:83,column:16}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:13,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:12,column:5}},line:8},5:{name:"__",decl:{start:{line:10,column:17},end:{line:10,column:19}},loc:{start:{line:10,column:22},end:{line:10,column:47}},line:10},6:{name:"(anonymous_6)",decl:{start:{line:20,column:26},end:{line:20,column:27}},loc:{start:{line:20,column:44},end:{line:84,column:1}},line:20},7:{name:"Node",decl:{start:{line:22,column:13},end:{line:22,column:17}},loc:{start:{line:22,column:20},end:{line:28,column:5}},line:22},8:{name:"(anonymous_8)",decl:{start:{line:24,column:38},end:{line:24,column:39}},loc:{start:{line:24,column:59},end:{line:26,column:9}},line:24},9:{name:"(anonymous_9)",decl:{start:{line:29,column:28},end:{line:29,column:29}},loc:{start:{line:29,column:40},end:{line:38,column:5}},line:29},10:{name:"(anonymous_10)",decl:{start:{line:39,column:35},end:{line:39,column:36}},loc:{start:{line:39,column:47},end:{line:60,column:5}},line:39},11:{name:"(anonymous_11)",decl:{start:{line:61,column:43},end:{line:61,column:44}},loc:{start:{line:61,column:55},end:{line:76,column:5}},line:61},12:{name:"(anonymous_12)",decl:{start:{line:69,column:45},end:{line:69,column:46}},loc:{start:{line:69,column:70},end:{line:69,column:110}},line:69},13:{name:"(anonymous_13)",decl:{start:{line:71,column:45},end:{line:71,column:46}},loc:{start:{line:71,column:70},end:{line:71,column:111}},line:71},14:{name:"(anonymous_14)",decl:{start:{line:77,column:38},end:{line:77,column:39}},loc:{start:{line:77,column:50},end:{line:82,column:5}},line:77},15:{name:"(anonymous_15)",decl:{start:{line:78,column:48},end:{line:78,column:49}},loc:{start:{line:78,column:72},end:{line:81,column:9}},line:78}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:13,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:13,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:11,column:22},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:35},end:{line:11,column:51}},{start:{line:11,column:55},end:{line:11,column:91}}],line:11},4:{loc:{start:{line:23,column:20},end:{line:23,column:76}},type:"binary-expr",locations:[{start:{line:23,column:20},end:{line:23,column:35}},{start:{line:23,column:39},end:{line:23,column:68}},{start:{line:23,column:72},end:{line:23,column:76}}],line:23},5:{loc:{start:{line:46,column:8},end:{line:59,column:9}},type:"switch",locations:[{start:{line:47,column:12},end:{line:51,column:18}},{start:{line:52,column:12},end:{line:56,column:18}},{start:{line:57,column:12},end:{line:58,column:26}}],line:46},6:{loc:{start:{line:63,column:8},end:{line:65,column:9}},type:"if",locations:[{start:{line:63,column:8},end:{line:65,column:9}},{start:{line:63,column:8},end:{line:65,column:9}}],line:63},7:{loc:{start:{line:67,column:8},end:{line:74,column:9}},type:"switch",locations:[{start:{line:68,column:12},end:{line:69,column:112}},{start:{line:70,column:12},end:{line:71,column:113}},{start:{line:72,column:12},end:{line:73,column:26}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0,0],6:[0,0],7:[0,0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/node/Node.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/node/Node.tsx"],names:[],mappings:"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",sourcesContent:["import * as Preact from 'preact';\n\nimport { ComposeView } from 'diagramMaker/components/common';\nimport {\n  Connector, ConnectorProps, ConnectorType\n} from 'diagramMaker/components/connector';\nimport {\n  BoundRenderCallback, ConnectorPlacement, ConnectorPlacementType, DestroyCallback,\n  TypeForVisibleConnectorTypes, VisibleConnectorTypes\n} from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { DiagramMakerNode } from 'diagramMaker/state/types';\n\nimport './Node.scss';\n\nexport interface NodeProps<NodeType> {\n  connectorPlacement?: ConnectorPlacementType;\n  renderCallback: BoundRenderCallback;\n  destroyCallback: DestroyCallback;\n  diagramMakerNode: DiagramMakerNode<NodeType>;\n  visibleConnectorTypes?: TypeForVisibleConnectorTypes;\n}\n\nexport default class Node<NodeType> extends Preact.Component<NodeProps<NodeType>, {}> {\n\n  public render(): JSX.Element {\n    const { diagramMakerData, id } = this.props.diagramMakerNode;\n    const { x, y } = diagramMakerData.position;\n    const { width, height } = diagramMakerData.size;\n    const transform = `translate3d(${x}px, ${y}px, 0)`;\n    const { renderCallback, destroyCallback } = this.props;\n\n    return (\n      <div\n        className=\"dm-node\"\n        style={{ width, height, transform }}\n        data-id={id}\n        data-type={DiagramMakerComponentsType.NODE}\n        data-event-target={true}\n        data-draggable={true}\n      >\n        <ComposeView\n          renderCallback={renderCallback}\n          destroyCallback={destroyCallback}\n        />\n        {this.renderConnectors()}\n      </div>\n    );\n  }\n\n  public shouldComponentUpdate = (nextProps: NodeProps<NodeType>): boolean => {\n    return nextProps.diagramMakerNode !== this.props.diagramMakerNode;\n  }\n\n  private getConnectors(): ConnectorProps[] {\n    const { id, diagramMakerData } = this.props.diagramMakerNode;\n    const { connectorPlacement } = this.props;\n    const { width, height } = diagramMakerData.size;\n    const horizontalCenter = width / 2;\n    const verticalCenter = height / 2;\n    const { INPUT, OUTPUT } = ConnectorType;\n\n    switch (connectorPlacement) {\n      case ConnectorPlacement.LEFT_RIGHT:\n        return [\n          { id, position: { x: 0, y: verticalCenter }, type: INPUT },\n          { id, position: { x: width, y: verticalCenter }, type: OUTPUT }\n        ];\n      case ConnectorPlacement.TOP_BOTTOM:\n        return [\n          { id, position: { x: horizontalCenter, y: 0 }, type: INPUT },\n          { id, position: { x: horizontalCenter, y: height }, type: OUTPUT }\n        ];\n      default:\n        return [];\n    }\n  }\n\n  private getFilteredConnectors(): ConnectorProps[] {\n    const connectorProps = this.getConnectors();\n\n    if (!this.props.visibleConnectorTypes) {\n      return connectorProps;\n    }\n\n    const { INPUT, OUTPUT } = ConnectorType;\n    switch (this.props.visibleConnectorTypes) {\n      case VisibleConnectorTypes.INPUT_ONLY:\n        return connectorProps.filter(connectorProp => connectorProp.type === INPUT);\n      case VisibleConnectorTypes.OUTPUT_ONLY:\n        return connectorProps.filter(connectorProp => connectorProp.type === OUTPUT);\n      case VisibleConnectorTypes.NONE:\n        return [];\n    }\n    return connectorProps;\n  }\n\n  private renderConnectors(): JSX.Element[] {\n    return this.getFilteredConnectors().map((connector, i) => {\n      const { id, type, position } = connector;\n      return <Connector id={id} key={i} type={type} position={position} />;\n    });\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),kn=(Dn.s[0]++,void Dn.b[0][0]++&&(Dn.b[0][1]++,(void 0).__extends)||(Dn.b[0][2]++,function(){Dn.f[0]++,Dn.s[1]++;var n=function(A,e){return Dn.f[1]++,Dn.s[2]++,Dn.b[1][0]++,n=Object.setPrototypeOf||(Dn.b[1][1]++,{__proto__:[]}instanceof Array&&(Dn.b[1][2]++,function(n,A){Dn.f[2]++,Dn.s[3]++,n.__proto__=A}))||(Dn.b[1][3]++,function(n,A){for(var e in Dn.f[3]++,Dn.s[4]++,A)Dn.s[5]++,Object.prototype.hasOwnProperty.call(A,e)?(Dn.b[2][0]++,Dn.s[6]++,n[e]=A[e]):Dn.b[2][1]++}),Dn.s[7]++,n(A,e)};return Dn.s[8]++,function(A,e){function t(){Dn.f[5]++,Dn.s[10]++,this.constructor=A}Dn.f[4]++,Dn.s[9]++,n(A,e),Dn.s[11]++,A.prototype=null===e?(Dn.b[3][0]++,Object.create(e)):(Dn.b[3][1]++,t.prototype=e.prototype,new t)}}())),Kn=(Dn.s[12]++,function(n){function A(){Dn.f[7]++;var A=(Dn.s[14]++,Dn.b[4][0]++,null!==n&&(Dn.b[4][1]++,n.apply(this,arguments))||(Dn.b[4][2]++,this));return Dn.s[15]++,A.shouldComponentUpdate=function(n){return Dn.f[8]++,Dn.s[16]++,n.diagramMakerNode!==A.props.diagramMakerNode},Dn.s[17]++,A}return Dn.f[6]++,Dn.s[13]++,kn(A,n),Dn.s[18]++,A.prototype.render=function(){Dn.f[9]++;var n=(Dn.s[19]++,this.props.diagramMakerNode),A=(Dn.s[20]++,n.diagramMakerData),e=(Dn.s[21]++,n.id),t=(Dn.s[22]++,A.position),o=(Dn.s[23]++,t.x),l=(Dn.s[24]++,t.y),i=(Dn.s[25]++,A.size),r=(Dn.s[26]++,i.width),a=(Dn.s[27]++,i.height),C=(Dn.s[28]++,"translate3d("+o+"px, "+l+"px, 0)"),u=(Dn.s[29]++,this.props),m=(Dn.s[30]++,u.renderCallback),E=(Dn.s[31]++,u.destroyCallback);return Dn.s[32]++,s.h("div",{className:"dm-node",style:{width:r,height:a,transform:C},"data-id":e,"data-type":c.NODE,"data-event-target":!0,"data-draggable":!0},s.h(d,{renderCallback:m,destroyCallback:E}),this.renderConnectors())},Dn.s[33]++,A.prototype.getConnectors=function(){Dn.f[10]++;var n=(Dn.s[34]++,this.props.diagramMakerNode),A=(Dn.s[35]++,n.id),e=(Dn.s[36]++,n.diagramMakerData),t=(Dn.s[37]++,this.props.connectorPlacement),o=(Dn.s[38]++,e.size),l=(Dn.s[39]++,o.width),i=(Dn.s[40]++,o.height),r=(Dn.s[41]++,l/2),a=(Dn.s[42]++,i/2),c=(Dn.s[43]++,un.INPUT),s=(Dn.s[44]++,un.OUTPUT);switch(Dn.s[45]++,t){case Bn.LEFT_RIGHT:return Dn.b[5][0]++,Dn.s[46]++,[{id:A,position:{x:0,y:a},type:c},{id:A,position:{x:l,y:a},type:s}];case Bn.TOP_BOTTOM:return Dn.b[5][1]++,Dn.s[47]++,[{id:A,position:{x:r,y:0},type:c},{id:A,position:{x:r,y:i},type:s}];default:return Dn.b[5][2]++,Dn.s[48]++,[]}},Dn.s[49]++,A.prototype.getFilteredConnectors=function(){Dn.f[11]++;var n=(Dn.s[50]++,this.getConnectors());if(Dn.s[51]++,!this.props.visibleConnectorTypes)return Dn.b[6][0]++,Dn.s[52]++,n;Dn.b[6][1]++;var A=(Dn.s[53]++,un.INPUT),e=(Dn.s[54]++,un.OUTPUT);switch(Dn.s[55]++,this.props.visibleConnectorTypes){case vn.INPUT_ONLY:return Dn.b[7][0]++,Dn.s[56]++,n.filter((function(n){return Dn.f[12]++,Dn.s[57]++,n.type===A}));case vn.OUTPUT_ONLY:return Dn.b[7][1]++,Dn.s[58]++,n.filter((function(n){return Dn.f[13]++,Dn.s[59]++,n.type===e}));case vn.NONE:return Dn.b[7][2]++,Dn.s[60]++,[]}return Dn.s[61]++,n},Dn.s[62]++,A.prototype.renderConnectors=function(){return Dn.f[14]++,Dn.s[63]++,this.getFilteredConnectors().map((function(n,A){Dn.f[15]++;var e=(Dn.s[64]++,n.id),t=(Dn.s[65]++,n.type),o=(Dn.s[66]++,n.position);return Dn.s[67]++,s.h(gn,{id:e,key:A,type:t,position:o})}))},Dn.s[68]++,A}(s.Component)),Sn=function(){var n="/Volumes/workplace/diagram-maker/src/components/node/PotentialNode.tsx",A="d01a7456f8211b1ecfb25255043b5a32753f3490",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/node/PotentialNode.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:13,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:12,column:6}},9:{start:{line:9,column:8},end:{line:9,column:28}},10:{start:{line:10,column:24},end:{line:10,column:45}},11:{start:{line:11,column:8},end:{line:11,column:93}},12:{start:{line:18,column:35},end:{line:32,column:19}},13:{start:{line:19,column:4},end:{line:19,column:37}},14:{start:{line:21,column:8},end:{line:21,column:72}},15:{start:{line:23,column:4},end:{line:30,column:6}},16:{start:{line:24,column:17},end:{line:24,column:27}},17:{start:{line:24,column:38},end:{line:24,column:47}},18:{start:{line:24,column:60},end:{line:24,column:71}},19:{start:{line:24,column:90},end:{line:24,column:107}},20:{start:{line:24,column:127},end:{line:24,column:145}},21:{start:{line:24,column:154},end:{line:24,column:161}},22:{start:{line:25,column:16},end:{line:25,column:26}},23:{start:{line:25,column:32},end:{line:25,column:42}},24:{start:{line:26,column:20},end:{line:26,column:30}},25:{start:{line:26,column:41},end:{line:26,column:52}},26:{start:{line:27,column:24},end:{line:27,column:66}},27:{start:{line:28,column:8},end:{line:29,column:106}},28:{start:{line:31,column:4},end:{line:31,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:13,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:12,column:5}},line:8},5:{name:"__",decl:{start:{line:10,column:17},end:{line:10,column:19}},loc:{start:{line:10,column:22},end:{line:10,column:47}},line:10},6:{name:"(anonymous_6)",decl:{start:{line:18,column:35},end:{line:18,column:36}},loc:{start:{line:18,column:53},end:{line:32,column:1}},line:18},7:{name:"PotentialNode",decl:{start:{line:20,column:13},end:{line:20,column:26}},loc:{start:{line:20,column:29},end:{line:22,column:5}},line:20},8:{name:"(anonymous_8)",decl:{start:{line:23,column:37},end:{line:23,column:38}},loc:{start:{line:23,column:49},end:{line:30,column:5}},line:23}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:13,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:13,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:11,column:22},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:35},end:{line:11,column:51}},{start:{line:11,column:55},end:{line:11,column:91}}],line:11},4:{loc:{start:{line:21,column:15},end:{line:21,column:71}},type:"binary-expr",locations:[{start:{line:21,column:15},end:{line:21,column:30}},{start:{line:21,column:34},end:{line:21,column:63}},{start:{line:21,column:67},end:{line:21,column:71}}],line:21}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/node/PotentialNode.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/node/PotentialNode.tsx"],names:[],mappings:";;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,WAAW,EAAE,MAAM,gCAAgC,CAAC;AAE7D,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,aAAa,CAAC;AAUrB;IAA2C,iCAAwC;IAAnF;;IAuBA,CAAC;IArBQ,8BAAM,GAAb;QACQ,IAAA,KAA8D,IAAI,CAAC,KAAK,EAAtE,MAAM,YAAA,EAAE,QAAQ,cAAA,EAAE,cAAc,oBAAA,EAAE,eAAe,qBAAA,EAAE,IAAI,UAAe,CAAC;QACvE,IAAA,CAAC,GAAQ,QAAQ,EAAhB,EAAE,CAAC,GAAK,QAAQ,EAAb,CAAc;QAClB,IAAA,KAAK,GAAa,IAAI,MAAjB,EAAE,MAAM,GAAK,IAAI,OAAT,CAAU;QAC/B,IAAM,SAAS,GAAG,iBAAe,CAAC,YAAO,CAAC,WAAQ,CAAC;QAEnD,OAAO,CACL,kBACE,SAAS,EAAC,mBAAmB,EAC7B,KAAK,EAAE,EAAE,KAAK,OAAA,EAAE,MAAM,QAAA,EAAE,SAAS,WAAA,EAAE,aAC1B,MAAM,eACJ,0BAA0B,CAAC,cAAc,uBACjC,IAAI;YAEvB,SAAC,WAAW,IACV,cAAc,EAAE,cAAc,EAC9B,eAAe,EAAE,eAAe,GAChC,CACE,CACP,CAAC;IACJ,CAAC;IACH,oBAAC;AAAD,CAAC,AAvBD,CAA2C,MAAM,CAAC,SAAS,GAuB1D",sourcesContent:["import * as Preact from 'preact';\n\nimport { ComposeView } from 'diagramMaker/components/common';\nimport { BoundRenderCallback, DestroyCallback } from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position, Size } from 'diagramMaker/state/types';\n\nimport './Node.scss';\n\nexport interface PotentialNodeProps {\n  typeId: string;\n  position: Position;\n  size: Size;\n  renderCallback: BoundRenderCallback;\n  destroyCallback: DestroyCallback;\n}\n\nexport default class PotentialNode extends Preact.Component<PotentialNodeProps, {}> {\n\n  public render(): JSX.Element {\n    const { typeId, position, renderCallback, destroyCallback, size } = this.props;\n    const { x, y } = position;\n    const { width, height } = size;\n    const transform = `translate3d(${x}px, ${y}px, 0)`;\n\n    return (\n      <div\n        className=\"dm-potential-node\"\n        style={{ width, height, transform }}\n        data-id={typeId}\n        data-type={DiagramMakerComponentsType.POTENTIAL_NODE}\n        data-event-target={true}\n      >\n        <ComposeView\n          renderCallback={renderCallback}\n          destroyCallback={destroyCallback}\n        />\n      </div>\n    );\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),wn=(Sn.s[0]++,void Sn.b[0][0]++&&(Sn.b[0][1]++,(void 0).__extends)||(Sn.b[0][2]++,function(){Sn.f[0]++,Sn.s[1]++;var n=function(A,e){return Sn.f[1]++,Sn.s[2]++,Sn.b[1][0]++,n=Object.setPrototypeOf||(Sn.b[1][1]++,{__proto__:[]}instanceof Array&&(Sn.b[1][2]++,function(n,A){Sn.f[2]++,Sn.s[3]++,n.__proto__=A}))||(Sn.b[1][3]++,function(n,A){for(var e in Sn.f[3]++,Sn.s[4]++,A)Sn.s[5]++,Object.prototype.hasOwnProperty.call(A,e)?(Sn.b[2][0]++,Sn.s[6]++,n[e]=A[e]):Sn.b[2][1]++}),Sn.s[7]++,n(A,e)};return Sn.s[8]++,function(A,e){function t(){Sn.f[5]++,Sn.s[10]++,this.constructor=A}Sn.f[4]++,Sn.s[9]++,n(A,e),Sn.s[11]++,A.prototype=null===e?(Sn.b[3][0]++,Object.create(e)):(Sn.b[3][1]++,t.prototype=e.prototype,new t)}}())),_n=(Sn.s[12]++,function(n){function A(){return Sn.f[7]++,Sn.s[14]++,Sn.b[4][0]++,null!==n&&(Sn.b[4][1]++,n.apply(this,arguments))||(Sn.b[4][2]++,this)}return Sn.f[6]++,Sn.s[13]++,wn(A,n),Sn.s[15]++,A.prototype.render=function(){Sn.f[8]++;var n=(Sn.s[16]++,this.props),A=(Sn.s[17]++,n.typeId),e=(Sn.s[18]++,n.position),t=(Sn.s[19]++,n.renderCallback),o=(Sn.s[20]++,n.destroyCallback),l=(Sn.s[21]++,n.size),i=(Sn.s[22]++,e.x),r=(Sn.s[23]++,e.y),a=(Sn.s[24]++,l.width),C=(Sn.s[25]++,l.height),u=(Sn.s[26]++,"translate3d("+i+"px, "+r+"px, 0)");return Sn.s[27]++,s.h("div",{className:"dm-potential-node",style:{width:a,height:C,transform:u},"data-id":A,"data-type":c.POTENTIAL_NODE,"data-event-target":!0},s.h(d,{renderCallback:t,destroyCallback:o}))},Sn.s[28]++,A}(s.Component)),xn=(function(){var n="/Volumes/workplace/diagram-maker/src/components/node/index.ts",A="b9a9159ee81f2d98af54a17e24f47bd4cf5f0422",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/node/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/node/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/node/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,IAAI,EAAE,SAAS,EAAE,MAAM,QAAQ,CAAC;AACpD,OAAO,EAAE,OAAO,IAAI,aAAa,EAAE,kBAAkB,EAAE,MAAM,iBAAiB,CAAC",sourcesContent:["export { default as Node, NodeProps } from './Node';\nexport { default as PotentialNode, PotentialNodeProps } from './PotentialNode';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),function(){var n="/Volumes/workplace/diagram-maker/src/state/types.ts",A="cfbcab6e3509c390de5714418e6c99806fe68f2c",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/types.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:26,column:44}},10:{start:{line:17,column:4},end:{line:17,column:36}},11:{start:{line:21,column:4},end:{line:21,column:45}},12:{start:{line:25,column:4},end:{line:25,column:40}},13:{start:{line:27,column:24},end:{line:27,column:52}},14:{start:{line:28,column:28},end:{line:33,column:1}},15:{start:{line:35,column:0},end:{line:44,column:52}},16:{start:{line:37,column:4},end:{line:37,column:47}},17:{start:{line:39,column:4},end:{line:39,column:49}},18:{start:{line:41,column:4},end:{line:41,column:53}},19:{start:{line:43,column:4},end:{line:43,column:55}},20:{start:{line:45,column:28},end:{line:45,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:27},end:{line:26,column:1}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:35,column:1},end:{line:35,column:2}},loc:{start:{line:35,column:31},end:{line:44,column:1}},line:35}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:26,column:3},end:{line:26,column:42}},type:"binary-expr",locations:[{start:{line:26,column:3},end:{line:26,column:17}},{start:{line:26,column:22},end:{line:26,column:41}}],line:26},4:{loc:{start:{line:44,column:3},end:{line:44,column:50}},type:"binary-expr",locations:[{start:{line:44,column:3},end:{line:44,column:21}},{start:{line:44,column:26},end:{line:44,column:49}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/types.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/types.ts"],names:[],mappings:";;;;;;;;;;;AAeA,MAAM,CAAN,IAAY,cAaX;AAbD,WAAY,cAAc;IACxB;;OAEG;IACH,+BAAa,CAAA;IACb;;OAEG;IACH,wCAAsB,CAAA;IACtB;;OAEG;IACH,mCAAiB,CAAA;AACnB,CAAC,EAbW,cAAc,KAAd,cAAc,QAazB;AAED,MAAM,CAAC,IAAM,UAAU,gBAClB,cAAc,CAClB,CAAC;AASF,MAAM,CAAC,IAAM,cAAc,GAA2C;IACpE,IAAI,EAAE,MAAM;IACZ,UAAU,EAAE,OAAO;IACnB,IAAI,EAAE,MAAM;IACZ,WAAW,EAAE,QAAQ;CACtB,CAAC;AA2BF,MAAM,CAAN,IAAY,kBASX;AATD,WAAY,kBAAkB;IAC5B,mEAAmE;IACnE,0CAAoB,CAAA;IACpB,oEAAoE;IACpE,4CAAsB,CAAA;IACtB,sEAAsE;IACtE,gDAA0B,CAAA;IAC1B,uEAAuE;IACvE,kDAA4B,CAAA;AAC9B,CAAC,EATW,kBAAkB,KAAlB,kBAAkB,QAS7B;AAED,MAAM,CAAC,IAAM,cAAc,gBACtB,kBAAkB,CACtB,CAAC",sourcesContent:["import { UndoHistoryState } from 'redux-undo-redo';\n\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\n\nexport interface Position {\n  x: number;\n  y: number;\n}\n\nexport interface Size {\n  width: number;\n  height: number;\n}\n\nexport enum EditorModeType {\n  /**\n   * Allows the workspace to be dragged to pan the visible area across the window.\n   */\n  DRAG = 'Drag',\n  /**\n   * Prevents UI interactions other than panning and zooming the workspace.\n   */\n  READ_ONLY = 'ReadOnly',\n  /**\n   * Allows selection of multiple nodes with a rectangular marquee.\n   */\n  SELECT = 'Select'\n}\n\nexport const EditorMode = {\n  ...EditorModeType\n};\n\nexport interface Rectangle {\n  position: Position;\n  size: Size;\n}\n\nexport type ShowConnectorsType = 'Input' | 'Output' | 'Both' | 'None';\n\nexport const ShowConnectors: { [type: string]: ShowConnectorsType } = {\n  BOTH: 'Both',\n  INPUT_ONLY: 'Input',\n  NONE: 'None',\n  OUTPUT_ONLY: 'Output'\n};\n\n/** Interface for storing the state of the diagram maker workspace */\nexport interface DiagramMakerWorkspace {\n  /**\n   * Denotes the pixel values that the workspace has been translated by on x & y axis\n   */\n  readonly position: Position;\n  /**\n   * Denotes the scale of the workspace, where 1 denotes natural scale.\n   * Smaller than 1 denotes that the workspace has been zoomed out.\n   * Greater than 1 denotes that the workspace has been zoomed in.\n   */\n  readonly scale: number;\n  /**\n   * Denotes the size of the workspace that the customer can move nodes around in.\n   * Every object within the workspace, i.e. nodes, edges, potential nodes stays within these bounds.\n   */\n  readonly canvasSize: Size;\n  /**\n   * Denotes the size of the container diagram maker is rendered in.\n   * To update due to window resizing, or panels outside diagram maker shifting content,\n   * call the `updateContainer` API.\n   */\n  readonly viewContainerSize: Size;\n}\n\nexport enum PositionAnchorType {\n  /** Top Left edge of the container that diagram maker renders in */\n  TOP_LEFT = 'TopLeft',\n  /** Top Right edge of the container that diagram maker renders in */\n  TOP_RIGHT = 'TopRight',\n  /** Bottom Left edge of the container that diagram maker renders in */\n  BOTTOM_LEFT = 'BottomLeft',\n  /** Bottom Right edge of the container that diagram maker renders in */\n  BOTTOM_RIGHT = 'BottomRight'\n}\n\nexport const PositionAnchor = {\n  ...PositionAnchorType\n};\n\n/**\n * Interface for storing the state of a given diagram maker node.\n * @template NodeType - The type of data stored per node by the consumer.\n */\nexport interface DiagramMakerNode<NodeType> {\n  /**\n   * Unique identifier for the node.\n   * Autogenerated for nodes newly created.\n   * Supplied for nodes already present when diagram maker initializes.\n   * In the case it is supplied, please ensure that this is unique.\n   */\n  readonly id: string;\n  /**\n   * Type of the node. Optional.\n   * References to the id present on the potential node when it was dragged in.\n   * Also useful to specify override connector placements, hiding specific connectors\n   * or providing the shape for boundary connector placements.\n   */\n  readonly typeId?: string;\n  /**\n   * Contains node data managed by diagram maker.\n   */\n  readonly diagramMakerData: {\n    /**\n     * Current position of the node w.r.t the workspace\n     */\n    readonly position: Position;\n    /**\n     * Current size of the node\n     */\n    readonly size: Size;\n    /**\n     * Denotes whether the node is currently selected.\n     */\n    readonly selected?: boolean;\n    /**\n     * Denotes whether the node is currently being dragged.\n     */\n    readonly dragging?: boolean;\n  };\n  /** Contains data managed by the consumer */\n  readonly consumerData?: NodeType;\n}\n\n/**\n * Interface for storing state of several diagram maker nodes.\n * @template NodeType - The type of data stored per node by the consumer.\n */\nexport interface DiagramMakerNodes<NodeType> {\n  readonly [id: string]: DiagramMakerNode<NodeType>;\n}\n\n/** Interface for storing state of diagram maker potential node i.e. a new node being dragged onto the workspace */\nexport interface DiagramMakerPotentialNode {\n  /** Type of the node. Mandatory for providing context during node creation */\n  readonly typeId: string;\n  /** Current position of the potential node w.r.t the workspace */\n  readonly position: Position;\n  /** Size of the potential node as detected via tha data attrs on the drag target or via the type config */\n  readonly size: Size;\n}\n\n/**\n * Interface for storing state of a given diagram maker edge.\n * @template EdgeType - The type of data stored per edge by the consumer\n */\nexport interface DiagramMakerEdge<EdgeType> {\n  /**\n   * Unique identifier for the edge.\n   * Autogenerated for edges newly created.\n   * Supplied for edges already present when diagram maker initializes.\n   * In the case it is supplied, please ensure that this is unique.\n   */\n  readonly id: string;\n  /**\n   * References the id for the node where this edge originates.\n   * Leads to inconsistencies if this refers to a node that doesnt exist.\n   */\n  readonly src: string;\n  /**\n   * References the id for the node where this edge ends.\n   * Leads to inconsistencies if this refers to a node that doesnt exist.\n   */\n  readonly dest: string;\n  /** Contains edge data managed by diagram maker */\n  readonly diagramMakerData: {\n    /** Denotes whether the edge is selected */\n    readonly selected?: boolean;\n  };\n  /** Contains data managed by the consumer */\n  readonly consumerData?: EdgeType;\n}\n\n/**\n * Interface for storing state of several diagram maker edges.\n * @template EdgeType - The type of data stored per edge by the consumer\n */\nexport interface DiagramMakerEdges<EdgeType> {\n  readonly [id: string]: DiagramMakerEdge<EdgeType>;\n}\n\n/** Interface for storing state of diagram maker potential edge i.e. a new edge being drawn on the workspace */\nexport interface DiagramMakerPotentialEdge {\n  /**\n   * References the id for the node where this edge originates.\n   * Leads to inconsistencies if this refers to a node that doesnt exist.\n   */\n  readonly src: string;\n  /**\n   * Current position where the potential edge is pointing.\n   * Usually refers to the cursor position relative to the workspace scale & position.\n   */\n  readonly position: Position;\n}\n\n/** Interface for storing state of a diagram maker panel */\nexport interface DiagramMakerPanel {\n  /**\n   * Unique identifier for the panel.\n   * Provided by the consumer.\n   * Used for referencing the render callback.\n   */\n  readonly id: string;\n  /**\n   * Current position of the panel in the view container.\n   * Please note that panels remain outside the workspace\n   * so are not affected by its scale & panning.\n   */\n  readonly position: Position;\n  /**\n   * Current size for the panel.\n   * Used for providing a container to render the panel content in.\n   */\n  readonly size: Size;\n  /**\n   * Position Anchor. Optional. Used for docking panels.\n   * When not specified, panels are assumed to be relative to Top Left corner of view container.\n   * When specified, position is assumed to be relative to the anchor.\n   */\n  readonly positionAnchor?: PositionAnchorType;\n\n  /**\n   * Denoted whether the panel is in undocking mode.\n   * Panel is in undocking mode when it was previously docked,\n   * is currently being dragged and is within the docking bounds.\n   */\n  readonly undocking?: boolean;\n}\n\n/** Interface for storing state for several diagram maker panels */\nexport interface DiagramMakerPanels {\n  readonly [id: string]: DiagramMakerPanel;\n}\n\n/** Interface for storing state for a diagram maker plugin */\nexport interface DiagramMakerPlugin {\n  readonly data: any;\n}\n\n/** Interface for storing state for several diagram maker plugins */\nexport interface DiagramMakerPlugins {\n  readonly [id: string]: DiagramMakerPlugin;\n}\n\n/** Interface for storing state for diagram maker context menu */\nexport interface DiagramMakerContextMenu {\n  /**\n   * Current position of the context menu in the view container.\n   * Please note context menus are not part of the workspace\n   * so not affected by its scale & panning.\n   */\n  readonly position: Position;\n  /**\n   * Type of the object that the context menu is being displayed for.\n   * For example, node, edge, panel, workspace, etc.\n   */\n  readonly targetType: DiagramMakerComponentsType;\n  /**\n   * Unique identifier to identify the specific node or edge or panel.\n   * Absent for the workspace.\n   */\n  readonly targetId?: string;\n}\n\n/** Interface for storing state for diagram maker selection marquee */\nexport interface DiagramMakerSelectionMarquee {\n  /**\n   * Position where the user clicked to start the selection.\n   * This remains one of the 4 corners of the selections marquee\n   */\n  readonly anchor: Position;\n  /**\n   * Current position of the cursor.\n   */\n  readonly position: Position;\n}\n\n/** Interface for storing state for diagram maker editor */\nexport interface DiagramMakerEditor {\n  /**\n   * Current context menu state if one needs to be rendered currently.\n   */\n  readonly contextMenu?: DiagramMakerContextMenu;\n  /**\n   * Current mode of the editor.\n   */\n  readonly mode: EditorModeType;\n  /**\n   * Current selection marquee state if one needs to be rendered currently.\n   */\n  readonly selectionMarquee?: DiagramMakerSelectionMarquee;\n}\n\nexport interface DiagramMakerData<NodeType, EdgeType> {\n  /** Current state for all nodes */\n  readonly nodes: DiagramMakerNodes<NodeType>;\n  /** Current state for all edges */\n  readonly edges: DiagramMakerEdges<EdgeType>;\n  /** Current state for all panels */\n  readonly panels: DiagramMakerPanels;\n  /** Current state for all plugins */\n  readonly plugins?: DiagramMakerPlugins;\n  /** Current state for diagram maker workspace */\n  readonly workspace: DiagramMakerWorkspace;\n  /** Current state for diagram maker potential node if one needs to be rendered currently */\n  readonly potentialEdge?: DiagramMakerPotentialEdge | null;\n  /** Current state for diagram maker potential edge if one needs to be rendered currently */\n  readonly potentialNode?: DiagramMakerPotentialNode | null;\n  /** Current state for diagram maker editor */\n  readonly editor: DiagramMakerEditor;\n  /** History of undoable actions */\n  readonly undoHistory?: UndoHistoryState<DiagramMakerAction<NodeType, EdgeType>>;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),Tn=(xn.s[0]++,void xn.b[0][0]++&&(xn.b[0][1]++,(void 0).__assign)||(xn.b[0][2]++,function(){return xn.f[0]++,xn.s[1]++,xn.b[1][0]++,Tn=Object.assign||(xn.b[1][1]++,function(n){xn.f[1]++,xn.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in xn.s[3]++,A=arguments[e],xn.s[4]++,A)xn.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(xn.b[2][0]++,xn.s[6]++,n[o]=A[o]):xn.b[2][1]++;return xn.s[7]++,n}),xn.s[8]++,Tn.apply(this,arguments)}));xn.s[9]++,function(n){xn.f[2]++,xn.s[10]++,n.DRAG="Drag",xn.s[11]++,n.READ_ONLY="ReadOnly",xn.s[12]++,n.SELECT="Select"}((xn.b[3][0]++,bn||(xn.b[3][1]++,bn={})));var Qn,Un=(xn.s[13]++,Tn({},bn));xn.s[14]++;xn.s[15]++,function(n){xn.f[3]++,xn.s[16]++,n.TOP_LEFT="TopLeft",xn.s[17]++,n.TOP_RIGHT="TopRight",xn.s[18]++,n.BOTTOM_LEFT="BottomLeft",xn.s[19]++,n.BOTTOM_RIGHT="BottomRight"}((xn.b[4][0]++,Qn||(xn.b[4][1]++,Qn={})));var Nn=(xn.s[20]++,Tn({},Qn)),Pn=(e(145),function(){var n="/Volumes/workplace/diagram-maker/src/components/panel/Panel.tsx",A="066bfe010c15f8e6fb4d4ceb8d2fabb5ac915f9a",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/panel/Panel.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:13,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:12,column:6}},9:{start:{line:9,column:8},end:{line:9,column:28}},10:{start:{line:10,column:24},end:{line:10,column:45}},11:{start:{line:11,column:8},end:{line:11,column:93}},12:{start:{line:19,column:18},end:{line:40,column:1}},13:{start:{line:20,column:4},end:{line:39,column:5}},14:{start:{line:22,column:12},end:{line:22,column:34}},15:{start:{line:25,column:28},end:{line:25,column:73}},16:{start:{line:26,column:28},end:{line:26,column:29}},17:{start:{line:27,column:12},end:{line:27,column:50}},18:{start:{line:30,column:30},end:{line:30,column:31}},19:{start:{line:31,column:30},end:{line:31,column:77}},20:{start:{line:32,column:12},end:{line:32,column:54}},21:{start:{line:35,column:31},end:{line:35,column:76}},22:{start:{line:36,column:31},end:{line:36,column:78}},23:{start:{line:37,column:12},end:{line:37,column:56}},24:{start:{line:41,column:27},end:{line:57,column:19}},25:{start:{line:42,column:4},end:{line:42,column:29}},26:{start:{line:44,column:8},end:{line:44,column:72}},27:{start:{line:46,column:4},end:{line:55,column:6}},28:{start:{line:47,column:17},end:{line:47,column:36}},29:{start:{line:47,column:42},end:{line:47,column:46}},30:{start:{line:47,column:52},end:{line:47,column:56}},31:{start:{line:48,column:17},end:{line:48,column:32}},32:{start:{line:48,column:42},end:{line:48,column:50}},33:{start:{line:48,column:61},end:{line:48,column:70}},34:{start:{line:49,column:29},end:{line:49,column:85}},35:{start:{line:50,column:17},end:{line:50,column:27}},36:{start:{line:50,column:47},end:{line:50,column:65}},37:{start:{line:50,column:84},end:{line:50,column:101}},38:{start:{line:50,column:123},end:{line:50,column:143}},39:{start:{line:51,column:17},end:{line:51,column:86}},40:{start:{line:51,column:101},end:{line:51,column:105}},41:{start:{line:51,column:120},end:{line:51,column:124}},42:{start:{line:52,column:24},end:{line:52,column:84}},43:{start:{line:53,column:8},end:{line:54,column:106}},44:{start:{line:56,column:4},end:{line:56,column:17}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:13,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:12,column:5}},line:8},5:{name:"__",decl:{start:{line:10,column:17},end:{line:10,column:19}},loc:{start:{line:10,column:22},end:{line:10,column:47}},line:10},6:{name:"(anonymous_6)",decl:{start:{line:19,column:18},end:{line:19,column:19}},loc:{start:{line:19,column:80},end:{line:40,column:1}},line:19},7:{name:"(anonymous_7)",decl:{start:{line:41,column:27},end:{line:41,column:28}},loc:{start:{line:41,column:45},end:{line:57,column:1}},line:41},8:{name:"Panel",decl:{start:{line:43,column:13},end:{line:43,column:18}},loc:{start:{line:43,column:21},end:{line:45,column:5}},line:43},9:{name:"(anonymous_9)",decl:{start:{line:46,column:29},end:{line:46,column:30}},loc:{start:{line:46,column:41},end:{line:55,column:5}},line:46}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:13,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:13,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:11,column:22},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:35},end:{line:11,column:51}},{start:{line:11,column:55},end:{line:11,column:91}}],line:11},4:{loc:{start:{line:20,column:4},end:{line:39,column:5}},type:"switch",locations:[{start:{line:21,column:8},end:{line:23,column:9}},{start:{line:24,column:8},end:{line:28,column:9}},{start:{line:29,column:8},end:{line:33,column:9}},{start:{line:34,column:8},end:{line:38,column:9}}],line:20},5:{loc:{start:{line:44,column:15},end:{line:44,column:71}},type:"binary-expr",locations:[{start:{line:44,column:15},end:{line:44,column:30}},{start:{line:44,column:34},end:{line:44,column:63}},{start:{line:44,column:67},end:{line:44,column:71}}],line:44},6:{loc:{start:{line:49,column:29},end:{line:49,column:85}},type:"binary-expr",locations:[{start:{line:49,column:29},end:{line:49,column:54}},{start:{line:49,column:58},end:{line:49,column:85}}],line:49}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0,0,0],5:[0,0,0],6:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/panel/Panel.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/panel/Panel.tsx"],names:[],mappings:";;;;;;;;;;;;;AACA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,WAAW,EAAE,MAAM,gCAAgC,CAAC;AAE7D,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAC3E,OAAO,EAAY,kBAAkB,EAAS,MAAM,0BAA0B,CAAC;AAE/E,OAAO,cAAc,CAAC;AAYtB,IAAM,WAAW,GAAG,UAClB,CAAS,EACT,CAAS,EACT,cAAkC,EAClC,SAAe,EACf,iBAAuB;IAEvB,QAAQ,cAAc,EAAE;QACtB,KAAK,kBAAkB,CAAC,QAAQ,CAAC,CAAC;YAChC,OAAO,EAAE,CAAC,GAAA,EAAE,CAAC,GAAA,EAAE,CAAC;SACjB;QACD,KAAK,kBAAkB,CAAC,SAAS,CAAC,CAAC;YACjC,IAAM,SAAS,GAAG,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,GAAG,CAAC,CAAC;YAChE,IAAM,SAAS,GAAG,CAAC,CAAC;YAEpB,OAAO,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC;SACvC;QACD,KAAK,kBAAkB,CAAC,WAAW,CAAC,CAAC;YACnC,IAAM,WAAW,GAAG,CAAC,CAAC;YACtB,IAAM,WAAW,GAAG,iBAAiB,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;YAEpE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC;SAC3C;QACD,KAAK,kBAAkB,CAAC,YAAY,CAAC,CAAC;YACpC,IAAM,YAAY,GAAG,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,GAAG,CAAC,CAAC;YACnE,IAAM,YAAY,GAAG,iBAAiB,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;YAErE,OAAO,EAAE,CAAC,EAAE,YAAY,EAAE,CAAC,EAAE,YAAY,EAAE,CAAC;SAC7C;KACF;AACH,CAAC,CAAC;AAEF;IAAmC,yBAA4B;IAA/D;;IA0BA,CAAC;IAxBQ,sBAAM,GAAb;QACQ,IAAA,KAAW,IAAI,CAAC,KAAK,CAAC,QAAQ,EAA5B,CAAC,OAAA,EAAE,CAAC,OAAwB,CAAC;QAC/B,IAAA,KAAoB,IAAI,CAAC,KAAK,CAAC,IAAI,EAAjC,KAAK,WAAA,EAAE,MAAM,YAAoB,CAAC;QAC1C,IAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,kBAAkB,CAAC,QAAQ,CAAC;QAC1E,IAAA,KAAyD,IAAI,CAAC,KAAK,EAAjE,eAAe,qBAAA,EAAE,cAAc,oBAAA,EAAE,iBAAiB,uBAAe,CAAC;QAEpE,IAAA,KAAmC,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,iBAAiB,CAAC,EAAnG,UAAU,OAAA,EAAK,UAAU,OAA0E,CAAC;QAC/G,IAAM,SAAS,GAAG,iBAAe,UAAU,YAAO,UAAU,WAAQ,CAAC;QAErE,OAAO,CACL,6BACW,IAAI,CAAC,KAAK,CAAC,EAAE,eACX,0BAA0B,CAAC,KAAK,uBACxB,IAAI,EACvB,SAAS,EAAC,UAAU,EACpB,KAAK,EAAE,EAAE,KAAK,OAAA,EAAE,MAAM,QAAA,EAAE,SAAS,WAAA,EAAE;YAEnC,SAAC,WAAW,IACV,cAAc,EAAE,cAAc,EAC9B,eAAe,EAAE,eAAe,GAChC,CACE,CACP,CAAC;IACJ,CAAC;IACH,YAAC;AAAD,CAAC,AA1BD,CAAmC,MAAM,CAAC,SAAS,GA0BlD",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport { ComposeView } from 'diagramMaker/components/common';\nimport { BoundRenderCallback, DestroyCallback } from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position, PositionAnchorType, Size  } from 'diagramMaker/state/types';\n\nimport './Panel.scss';\n\nexport interface PanelProps {\n  id: string;\n  size: Size;\n  position: Position;\n  renderCallback: BoundRenderCallback;\n  destroyCallback: DestroyCallback;\n  viewContainerSize: Size;\n  positionAnchor?: PositionAnchorType;\n}\n\nconst getPosition = (\n  x: number,\n  y: number,\n  positionAnchor: PositionAnchorType,\n  panelSize: Size,\n  viewContainerSize: Size\n): Position => {\n  switch (positionAnchor) {\n    case PositionAnchorType.TOP_LEFT: {\n      return { x, y };\n    }\n    case PositionAnchorType.TOP_RIGHT: {\n      const topRightX = viewContainerSize.width - panelSize.width - x;\n      const topRightY = y;\n\n      return { x: topRightX, y: topRightY };\n    }\n    case PositionAnchorType.BOTTOM_LEFT: {\n      const bottomLeftX = x;\n      const bottomLeftY = viewContainerSize.height - panelSize.height - y;\n\n      return { x: bottomLeftX, y: bottomLeftY };\n    }\n    case PositionAnchorType.BOTTOM_RIGHT: {\n      const bottomRightX = viewContainerSize.width - panelSize.width - x;\n      const bottomRightY = viewContainerSize.height - panelSize.height - y;\n\n      return { x: bottomRightX, y: bottomRightY };\n    }\n  }\n};\n\nexport default class Panel extends Preact.Component<PanelProps> {\n\n  public render(): JSX.Element {\n    const { x, y } = this.props.position;\n    const { width, height } = this.props.size;\n    const positionAnchor = this.props.positionAnchor || PositionAnchorType.TOP_LEFT;\n    const { destroyCallback, renderCallback, viewContainerSize } = this.props;\n\n    const { x: translateX, y: translateY } = getPosition(x, y, positionAnchor, this.props.size, viewContainerSize);\n    const transform = `translate3d(${translateX}px, ${translateY}px, 0)`;\n\n    return (\n      <div\n        data-id={this.props.id}\n        data-type={DiagramMakerComponentsType.PANEL}\n        data-event-target={true}\n        className=\"dm-panel\"\n        style={{ width, height, transform }}\n      >\n        <ComposeView\n          renderCallback={renderCallback}\n          destroyCallback={destroyCallback}\n        />\n      </div>\n    );\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),Rn=(Pn.s[0]++,void Pn.b[0][0]++&&(Pn.b[0][1]++,(void 0).__extends)||(Pn.b[0][2]++,function(){Pn.f[0]++,Pn.s[1]++;var n=function(A,e){return Pn.f[1]++,Pn.s[2]++,Pn.b[1][0]++,n=Object.setPrototypeOf||(Pn.b[1][1]++,{__proto__:[]}instanceof Array&&(Pn.b[1][2]++,function(n,A){Pn.f[2]++,Pn.s[3]++,n.__proto__=A}))||(Pn.b[1][3]++,function(n,A){for(var e in Pn.f[3]++,Pn.s[4]++,A)Pn.s[5]++,Object.prototype.hasOwnProperty.call(A,e)?(Pn.b[2][0]++,Pn.s[6]++,n[e]=A[e]):Pn.b[2][1]++}),Pn.s[7]++,n(A,e)};return Pn.s[8]++,function(A,e){function t(){Pn.f[5]++,Pn.s[10]++,this.constructor=A}Pn.f[4]++,Pn.s[9]++,n(A,e),Pn.s[11]++,A.prototype=null===e?(Pn.b[3][0]++,Object.create(e)):(Pn.b[3][1]++,t.prototype=e.prototype,new t)}}()));Pn.s[12]++;var Wn=(Pn.s[24]++,function(n){function A(){return Pn.f[8]++,Pn.s[26]++,Pn.b[5][0]++,null!==n&&(Pn.b[5][1]++,n.apply(this,arguments))||(Pn.b[5][2]++,this)}return Pn.f[7]++,Pn.s[25]++,Rn(A,n),Pn.s[27]++,A.prototype.render=function(){Pn.f[9]++;var n=(Pn.s[28]++,this.props.position),A=(Pn.s[29]++,n.x),e=(Pn.s[30]++,n.y),t=(Pn.s[31]++,this.props.size),o=(Pn.s[32]++,t.width),l=(Pn.s[33]++,t.height),i=(Pn.s[34]++,Pn.b[6][0]++,this.props.positionAnchor||(Pn.b[6][1]++,Qn.TOP_LEFT)),r=(Pn.s[35]++,this.props),a=(Pn.s[36]++,r.destroyCallback),C=(Pn.s[37]++,r.renderCallback),u=(Pn.s[38]++,r.viewContainerSize),m=(Pn.s[39]++,function(n,A,e,t,o){switch(Pn.f[6]++,Pn.s[13]++,e){case Qn.TOP_LEFT:return Pn.b[4][0]++,Pn.s[14]++,{x:n,y:A};case Qn.TOP_RIGHT:Pn.b[4][1]++;var l=(Pn.s[15]++,o.width-t.width-n),i=(Pn.s[16]++,A);return Pn.s[17]++,{x:l,y:i};case Qn.BOTTOM_LEFT:Pn.b[4][2]++;var r=(Pn.s[18]++,n),a=(Pn.s[19]++,o.height-t.height-A);return Pn.s[20]++,{x:r,y:a};case Qn.BOTTOM_RIGHT:Pn.b[4][3]++;var c=(Pn.s[21]++,o.width-t.width-n),s=(Pn.s[22]++,o.height-t.height-A);return Pn.s[23]++,{x:c,y:s}}}(A,e,i,this.props.size,u)),E=(Pn.s[40]++,m.x),p=(Pn.s[41]++,m.y),f=(Pn.s[42]++,"translate3d("+E+"px, "+p+"px, 0)");return Pn.s[43]++,s.h("div",{"data-id":this.props.id,"data-type":c.PANEL,"data-event-target":!0,className:"dm-panel",style:{width:o,height:l,transform:f}},s.h(d,{renderCallback:C,destroyCallback:a}))},Pn.s[44]++,A}(s.Component)),Yn=(function(){var n="/Volumes/workplace/diagram-maker/src/components/panel/index.ts",A="23d55e6037206d931e295610115b17e2ada5bb86",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/panel/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/panel/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/panel/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,KAAK,EAAE,UAAU,EAAE,MAAM,SAAS,CAAC",sourcesContent:["export { default as Panel, PanelProps } from './Panel';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),e(146),function(){var n="/Volumes/workplace/diagram-maker/src/components/selectionMarquee/SelectionMarquee.tsx",A="332664c23845a40f523e0a5c020942b7e6a7cd70",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/selectionMarquee/SelectionMarquee.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:13,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:12,column:6}},9:{start:{line:9,column:8},end:{line:9,column:28}},10:{start:{line:10,column:24},end:{line:10,column:45}},11:{start:{line:11,column:8},end:{line:11,column:93}},12:{start:{line:17,column:38},end:{line:42,column:19}},13:{start:{line:18,column:4},end:{line:18,column:40}},14:{start:{line:20,column:8},end:{line:20,column:72}},15:{start:{line:22,column:4},end:{line:33,column:6}},16:{start:{line:23,column:17},end:{line:23,column:27}},17:{start:{line:23,column:38},end:{line:23,column:47}},18:{start:{line:23,column:60},end:{line:23,column:71}},19:{start:{line:24,column:17},end:{line:24,column:60}},20:{start:{line:24,column:69},end:{line:24,column:76}},21:{start:{line:24,column:84},end:{line:24,column:90}},22:{start:{line:24,column:100},end:{line:24,column:108}},23:{start:{line:24,column:119},end:{line:24,column:128}},24:{start:{line:25,column:22},end:{line:25,column:34}},25:{start:{line:26,column:20},end:{line:31,column:9}},26:{start:{line:32,column:8},end:{line:32,column:157}},27:{start:{line:34,column:4},end:{line:40,column:6}},28:{start:{line:35,column:19},end:{line:35,column:49}},29:{start:{line:36,column:18},end:{line:36,column:48}},30:{start:{line:37,column:20},end:{line:37,column:51}},31:{start:{line:38,column:21},end:{line:38,column:52}},32:{start:{line:39,column:8},end:{line:39,column:70}},33:{start:{line:41,column:4},end:{line:41,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:13,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:12,column:5}},line:8},5:{name:"__",decl:{start:{line:10,column:17},end:{line:10,column:19}},loc:{start:{line:10,column:22},end:{line:10,column:47}},line:10},6:{name:"(anonymous_6)",decl:{start:{line:17,column:38},end:{line:17,column:39}},loc:{start:{line:17,column:56},end:{line:42,column:1}},line:17},7:{name:"SelectionMarquee",decl:{start:{line:19,column:13},end:{line:19,column:29}},loc:{start:{line:19,column:32},end:{line:21,column:5}},line:19},8:{name:"(anonymous_8)",decl:{start:{line:22,column:40},end:{line:22,column:41}},loc:{start:{line:22,column:52},end:{line:33,column:5}},line:22},9:{name:"(anonymous_9)",decl:{start:{line:34,column:54},end:{line:34,column:55}},loc:{start:{line:34,column:82},end:{line:40,column:5}},line:34}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:13,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:13,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:11,column:22},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:35},end:{line:11,column:51}},{start:{line:11,column:55},end:{line:11,column:91}}],line:11},4:{loc:{start:{line:20,column:15},end:{line:20,column:71}},type:"binary-expr",locations:[{start:{line:20,column:15},end:{line:20,column:30}},{start:{line:20,column:34},end:{line:20,column:63}},{start:{line:20,column:67},end:{line:20,column:71}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/selectionMarquee/SelectionMarquee.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/selectionMarquee/SelectionMarquee.tsx"],names:[],mappings:";;;;;;;;;;;;;AAAA,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAE3E,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,yBAAyB,CAAC;AAcjC;IAA8C,oCAAuC;IAArF;;IA6BA,CAAC;IA5BQ,iCAAM,GAAb;QACQ,IAAA,KAAuB,IAAI,CAAC,KAAK,EAA/B,MAAM,YAAA,EAAE,QAAQ,cAAe,CAAC;QAClC,IAAA,KAA+B,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,QAAQ,CAAC,EAAxE,IAAI,UAAA,EAAE,GAAG,SAAA,EAAE,KAAK,WAAA,EAAE,MAAM,YAAgD,CAAC;QACjF,IAAM,OAAO,GAAG,YAAY,CAAC;QAC7B,IAAM,KAAK,GAAG;YACZ,MAAM,QAAA;YACN,IAAI,MAAA;YACJ,GAAG,KAAA;YACH,KAAK,OAAA;SACN,CAAC;QAEF,OAAM,CACJ,kBACE,SAAS,EAAE,OAAO,EAClB,KAAK,EAAE,KAAK,uBACO,IAAI,eACZ,0BAA0B,CAAC,iBAAiB,GACvD,CACH,CAAC;IACJ,CAAC;IAEO,+CAAoB,GAA5B,UAA6B,MAAgB,EAAE,QAAkB;QAC/D,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC5C,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC3C,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC9C,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC/C,OAAO,EAAE,IAAI,MAAA,EAAE,GAAG,KAAA,EAAE,KAAK,OAAA,EAAE,MAAM,QAAA,EAAE,CAAC;IACtC,CAAC;IACH,uBAAC;AAAD,CAAC,AA7BD,CAA8C,MAAM,CAAC,SAAS,GA6B7D",sourcesContent:["import { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position, Size } from 'diagramMaker/state/types';\nimport * as Preact from 'preact';\n\nimport './SelectionMarquee.scss';\n\nexport interface SelectionMarqueeProps {\n  anchor: Position;\n  position: Position;\n}\n\ninterface MarqueeDimensions {\n  left: number;\n  top: number;\n  width: number;\n  height: number;\n}\n\nexport default class SelectionMarquee extends Preact.Component<SelectionMarqueeProps> {\n  public render(): JSX.Element {\n    const { anchor, position } = this.props;\n    const { left, top, width, height } = this.getMarqueeDimensions(anchor, position);\n    const classes = 'dm-marquee';\n    const style = {\n      height,\n      left,\n      top,\n      width\n    };\n\n    return(\n      <div\n        className={classes}\n        style={style}\n        data-event-target={true}\n        data-type={DiagramMakerComponentsType.SELECTION_MARQUEE}\n      />\n    );\n  }\n\n  private getMarqueeDimensions(anchor: Position, position: Position): MarqueeDimensions {\n    const left = Math.min(anchor.x, position.x);\n    const top = Math.min(anchor.y, position.y);\n    const width = Math.abs(anchor.x - position.x);\n    const height = Math.abs(anchor.y - position.y);\n    return { left, top, width, height };\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),zn=(Yn.s[0]++,void Yn.b[0][0]++&&(Yn.b[0][1]++,(void 0).__extends)||(Yn.b[0][2]++,function(){Yn.f[0]++,Yn.s[1]++;var n=function(A,e){return Yn.f[1]++,Yn.s[2]++,Yn.b[1][0]++,n=Object.setPrototypeOf||(Yn.b[1][1]++,{__proto__:[]}instanceof Array&&(Yn.b[1][2]++,function(n,A){Yn.f[2]++,Yn.s[3]++,n.__proto__=A}))||(Yn.b[1][3]++,function(n,A){for(var e in Yn.f[3]++,Yn.s[4]++,A)Yn.s[5]++,Object.prototype.hasOwnProperty.call(A,e)?(Yn.b[2][0]++,Yn.s[6]++,n[e]=A[e]):Yn.b[2][1]++}),Yn.s[7]++,n(A,e)};return Yn.s[8]++,function(A,e){function t(){Yn.f[5]++,Yn.s[10]++,this.constructor=A}Yn.f[4]++,Yn.s[9]++,n(A,e),Yn.s[11]++,A.prototype=null===e?(Yn.b[3][0]++,Object.create(e)):(Yn.b[3][1]++,t.prototype=e.prototype,new t)}}())),Ln=(Yn.s[12]++,function(n){function A(){return Yn.f[7]++,Yn.s[14]++,Yn.b[4][0]++,null!==n&&(Yn.b[4][1]++,n.apply(this,arguments))||(Yn.b[4][2]++,this)}return Yn.f[6]++,Yn.s[13]++,zn(A,n),Yn.s[15]++,A.prototype.render=function(){Yn.f[8]++;var n=(Yn.s[16]++,this.props),A=(Yn.s[17]++,n.anchor),e=(Yn.s[18]++,n.position),t=(Yn.s[19]++,this.getMarqueeDimensions(A,e)),o=(Yn.s[20]++,t.left),l=(Yn.s[21]++,t.top),i=(Yn.s[22]++,t.width),r=(Yn.s[23]++,t.height),a=(Yn.s[24]++,"dm-marquee"),C=(Yn.s[25]++,{height:r,left:o,top:l,width:i});return Yn.s[26]++,s.h("div",{className:a,style:C,"data-event-target":!0,"data-type":c.SELECTION_MARQUEE})},Yn.s[27]++,A.prototype.getMarqueeDimensions=function(n,A){Yn.f[9]++;var e=(Yn.s[28]++,Math.min(n.x,A.x)),t=(Yn.s[29]++,Math.min(n.y,A.y)),o=(Yn.s[30]++,Math.abs(n.x-A.x)),l=(Yn.s[31]++,Math.abs(n.y-A.y));return Yn.s[32]++,{left:e,top:t,width:o,height:l}},Yn.s[33]++,A}(s.Component)),jn=(function(){var n="/Volumes/workplace/diagram-maker/src/components/selectionMarquee/index.ts",A="5e7e294de21d222f29599aa0cc4260e65483cb07",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/selectionMarquee/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/selectionMarquee/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/selectionMarquee/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,gBAAgB,EAAE,MAAM,oBAAoB,CAAC",sourcesContent:["export { default as SelectionMarquee } from './SelectionMarquee';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),e(147),function(){var n="/Volumes/workplace/diagram-maker/src/components/canvas/Canvas.tsx",A="b0309a6a73d26414de621c7aa0411bd3fc3abaa1",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/canvas/Canvas.tsx",statementMap:{0:{start:{line:4,column:13},end:{line:7,column:1}},1:{start:{line:5,column:20},end:{line:5,column:60}},2:{start:{line:6,column:4},end:{line:6,column:71}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:30},end:{line:7,column:1}},line:4}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/canvas/Canvas.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/canvas/Canvas.tsx"],names:[],mappings:"AAAA,OAAO,KAAK,UAAU,MAAM,YAAY,CAAC;AACzC,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,eAAe,CAAC;AAMvB,IAAM,MAAM,GAAG,UAAC,KAA0C;IACxD,IAAM,SAAS,GAAG,UAAU,CAAC,WAAW,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;IAE3D,OAAO,CACL,kBAAK,SAAS,EAAE,SAAS,IACpB,KAAK,CAAC,QAAQ,CACb,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,MAAM,CAAC",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport './Canvas.scss';\n\nexport interface CanvasProps {\n  className?: string | string[];\n}\n\nconst Canvas = (props: Preact.RenderableProps<CanvasProps>): JSX.Element => {\n  const className = classnames('dm-canvas', props.className);\n\n  return (\n    <div className={className}>\n        {props.children}\n    </div>\n  );\n};\n\nexport default Canvas;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}());jn.s[0]++;var Fn=function(n){jn.f[0]++;var A=(jn.s[1]++,y("dm-canvas",n.className));return jn.s[2]++,s.h("div",{className:A},n.children)},Vn=function(){var n="/Volumes/workplace/diagram-maker/src/components/canvas/patterns/DotPattern.tsx",A="9639e464ae365ba9066ff664d21bc22391b0fa3c",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/canvas/patterns/DotPattern.tsx",statementMap:{0:{start:{line:2,column:31},end:{line:4,column:1}},1:{start:{line:3,column:4},end:{line:3,column:137}},2:{start:{line:5,column:17},end:{line:19,column:1}},3:{start:{line:6,column:19},end:{line:6,column:33}},4:{start:{line:6,column:44},end:{line:6,column:56}},5:{start:{line:7,column:17},end:{line:7,column:55}},6:{start:{line:8,column:17},end:{line:8,column:62}},7:{start:{line:9,column:17},end:{line:9,column:69}},8:{start:{line:10,column:17},end:{line:10,column:62}},9:{start:{line:11,column:4},end:{line:18,column:92}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:31},end:{line:2,column:32}},loc:{start:{line:2,column:52},end:{line:4,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:5,column:17},end:{line:5,column:18}},loc:{start:{line:5,column:34},end:{line:19,column:1}},line:5}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/canvas/patterns/DotPattern.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/canvas/patterns/DotPattern.tsx"],names:[],mappings:"AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAOjC,IAAM,wBAAwB,GAAG,UAAC,EAAU,EAAE,EAAU,EAAE,CAAS;IACjE,OAAO,MAAI,EAAE,SAAI,EAAE,UAAK,CAAC,CAAC,YAAO,CAAC,SAAI,CAAC,eAAU,CAAC,GAAG,CAAC,YAAO,CAAC,SAAI,CAAC,eAAU,CAAC,CAAC,GAAG,CAAC,OAAI,CAAC;AAC1F,CAAC,CAAC;AAEF,IAAM,UAAU,GAAG,UAAC,KAAsB;IAChC,IAAA,QAAQ,GAAa,KAAK,SAAlB,EAAE,MAAM,GAAK,KAAK,OAAV,CAAW;IACnC,IAAM,MAAM,GAAG,wBAAwB,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;IACtD,IAAM,MAAM,GAAG,wBAAwB,CAAC,QAAQ,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;IAC7D,IAAM,MAAM,GAAG,wBAAwB,CAAC,QAAQ,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;IACpE,IAAM,MAAM,GAAG,wBAAwB,CAAC,CAAC,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;IAE7D,OAAO,CACL,kBAAK,SAAS,EAAC,SAAS,EAAC,KAAK,EAAC,4BAA4B;QACzD;YACE,sBAAS,EAAE,EAAC,gBAAgB,EAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAC,gBAAgB;gBAC3F,mBAAM,CAAC,EAAE,MAAM,GAAI;gBACnB,mBAAM,CAAC,EAAE,MAAM,GAAI;gBACnB,mBAAM,CAAC,EAAE,MAAM,GAAI;gBACnB,mBAAM,CAAC,EAAE,MAAM,GAAI,CACX,CACL;QACP,mBAAM,IAAI,EAAC,sBAAsB,EAAC,KAAK,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM,GAAG,CAC3D,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,UAAU,CAAC",sourcesContent:['import * as Preact from \'preact\';\n\nexport interface DotPatternProps {\n  cellSize: number;\n  radius: number;\n}\n\nconst getQuarterCirclePathData = (cx: number, cy: number, r: number): string => {\n  return `M${cx},${cy} m${-r},0 a${r},${r} 0 1,1 ${r * 2},0 a${r},${r} 0 1,1 ${-r * 2},0`;\n};\n\nconst DotPattern = (props: DotPatternProps): JSX.Element => {\n  const { cellSize, radius } = props;\n  const pathTL = getQuarterCirclePathData(0, 0, radius);\n  const pathTR = getQuarterCirclePathData(cellSize, 0, radius);\n  const pathBR = getQuarterCirclePathData(cellSize, cellSize, radius);\n  const pathBL = getQuarterCirclePathData(0, cellSize, radius);\n\n  return (\n    <svg className="dm-dots" xmlns="http://www.w3.org/2000/svg">\n      <defs>\n        <pattern id="dm-dot-pattern" width={cellSize} height={cellSize} patternUnits="userSpaceOnUse">\n          <path d={pathTL} />\n          <path d={pathTR} />\n          <path d={pathBR} />\n          <path d={pathBL} />\n        </pattern>\n      </defs>\n      <rect fill="url(#dm-dot-pattern)" width="100%" height="100%" />\n    </svg>\n  );\n};\n\nexport default DotPattern;\n']},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();Vn.s[0]++;var Hn=function(n,A,e){return Vn.f[0]++,Vn.s[1]++,"M"+n+","+A+" m"+-e+",0 a"+e+","+e+" 0 1,1 "+2*e+",0 a"+e+","+e+" 0 1,1 "+2*-e+",0"};Vn.s[2]++;var qn=function(n){Vn.f[1]++;var A=(Vn.s[3]++,n.cellSize),e=(Vn.s[4]++,n.radius),t=(Vn.s[5]++,Hn(0,0,e)),o=(Vn.s[6]++,Hn(A,0,e)),l=(Vn.s[7]++,Hn(A,A,e)),i=(Vn.s[8]++,Hn(0,A,e));return Vn.s[9]++,s.h("svg",{className:"dm-dots",xmlns:"http://www.w3.org/2000/svg"},s.h("defs",null,s.h("pattern",{id:"dm-dot-pattern",width:A,height:A,patternUnits:"userSpaceOnUse"},s.h("path",{d:t}),s.h("path",{d:o}),s.h("path",{d:l}),s.h("path",{d:i}))),s.h("rect",{fill:"url(#dm-dot-pattern)",width:"100%",height:"100%"}))},Xn=(e(148),function(){var n="/Volumes/workplace/diagram-maker/src/components/workspace/Workspace.tsx",A="c6a399e12f4addd1a25aceeb8e04f081963975d3",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/workspace/Workspace.tsx",statementMap:{0:{start:{line:7,column:36},end:{line:7,column:85}},1:{start:{line:8,column:16},end:{line:18,column:1}},2:{start:{line:9,column:20},end:{line:9,column:63}},3:{start:{line:10,column:13},end:{line:10,column:29}},4:{start:{line:10,column:40},end:{line:10,column:49}},5:{start:{line:10,column:59},end:{line:10,column:67}},6:{start:{line:11,column:13},end:{line:11,column:27}},7:{start:{line:11,column:33},end:{line:11,column:37}},8:{start:{line:11,column:43},end:{line:11,column:47}},9:{start:{line:12,column:16},end:{line:12,column:27}},10:{start:{line:13,column:20},end:{line:13,column:83}},11:{start:{line:14,column:24},end:{line:14,column:69}},12:{start:{line:15,column:4},end:{line:17,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:16},end:{line:8,column:17}},loc:{start:{line:8,column:33},end:{line:18,column:1}},line:8}},branchMap:{0:{loc:{start:{line:14,column:24},end:{line:14,column:69}},type:"binary-expr",locations:[{start:{line:14,column:24},end:{line:14,column:43}},{start:{line:14,column:47},end:{line:14,column:69}}],line:14}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/workspace/Workspace.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/workspace/Workspace.tsx"],names:[],mappings:"AAAA,OAAO,KAAK,UAAU,MAAM,YAAY,CAAC;AACzC,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,MAAM,MAAM,uCAAuC,CAAC;AAC3D,OAAO,UAAU,MAAM,oDAAoD,CAAC;AAC5E,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,kBAAkB,CAAC;AAU1B,MAAM,CAAC,IAAM,sBAAsB,GAAgB,SAAC,UAAU,IAAC,QAAQ,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,GAAI,CAAC;AAE3F,IAAM,SAAS,GAAG,UAAC,KAA6C;IAC9D,IAAM,SAAS,GAAG,UAAU,CAAC,cAAc,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;IACxD,IAAA,KAAoB,KAAK,CAAC,UAAU,EAAlC,MAAM,YAAA,EAAE,KAAK,WAAqB,CAAC;IACrC,IAAA,KAAW,KAAK,CAAC,QAAQ,EAAvB,CAAC,OAAA,EAAE,CAAC,OAAmB,CAAC;IAChC,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;IAE1B,IAAM,SAAS,GAAG,iBAAe,CAAC,YAAO,CAAC,qBAAgB,KAAK,MAAG,CAAC;IAEnE,IAAM,aAAa,GAAG,KAAK,CAAC,aAAa,IAAI,sBAAsB,CAAC;IAEpE,OAAO,CACL,kBACE,SAAS,EAAE,SAAS,EACpB,KAAK,EAAE,EAAE,MAAM,QAAA,EAAE,KAAK,OAAA,EAAE,SAAS,WAAA,EAAE,eACxB,0BAA0B,CAAC,SAAS,uBAC5B,IAAI,oBACP,IAAI,mBACL,IAAI;QAEjB,SAAC,MAAM,QACJ,aAAa,CACP;QACR,KAAK,CAAC,QAAQ,CACb,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,SAAS,CAAC",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport Canvas from 'diagramMaker/components/canvas/Canvas';\nimport DotPattern from 'diagramMaker/components/canvas/patterns/DotPattern';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position, Size } from 'diagramMaker/state/types';\n\nimport './Workspace.scss';\n\nexport interface WorkspaceProps {\n  canvasPattern?: JSX.Element;\n  className?: string | string[];\n  position: Position;\n  scale: number;\n  canvasSize: Size;\n}\n\nexport const DEFAULT_CANVAS_PATTERN: JSX.Element = <DotPattern cellSize={10} radius={1} />;\n\nconst Workspace = (props: Preact.RenderableProps<WorkspaceProps>): JSX.Element => {\n  const className = classnames('dm-workspace', props.className);\n  const { height, width } = props.canvasSize;\n  const { x, y } = props.position;\n  const scale = props.scale;\n\n  const transform = `translate3d(${x}px, ${y}px, 0) scale(${scale})`;\n\n  const canvasPattern = props.canvasPattern || DEFAULT_CANVAS_PATTERN;\n\n  return (\n    <div\n      className={className}\n      style={{ height, width, transform }}\n      data-type={DiagramMakerComponentsType.WORKSPACE}\n      data-event-target={true}\n      data-draggable={true}\n      data-dropzone={true}\n    >\n        <Canvas>\n          {canvasPattern}\n        </Canvas>\n        {props.children}\n    </div>\n  );\n};\n\nexport default Workspace;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),Zn=(Xn.s[0]++,s.h(qn,{cellSize:10,radius:1}));Xn.s[1]++;var Jn,$n=function(n){Xn.f[0]++;var A=(Xn.s[2]++,y("dm-workspace",n.className)),e=(Xn.s[3]++,n.canvasSize),t=(Xn.s[4]++,e.height),o=(Xn.s[5]++,e.width),l=(Xn.s[6]++,n.position),i=(Xn.s[7]++,l.x),r=(Xn.s[8]++,l.y),a=(Xn.s[9]++,n.scale),C=(Xn.s[10]++,"translate3d("+i+"px, "+r+"px, 0) scale("+a+")"),u=(Xn.s[11]++,Xn.b[0][0]++,n.canvasPattern||(Xn.b[0][1]++,Zn));return Xn.s[12]++,s.h("div",{className:A,style:{height:t,width:o,transform:C},"data-type":c.WORKSPACE,"data-event-target":!0,"data-draggable":!0,"data-dropzone":!0},s.h(Fn,null,u),n.children)},nA=(function(){var n="/Volumes/workplace/diagram-maker/src/components/workspace/index.ts",A="0ac7c5f17d15a8e9efc2b06c64de614180ee0730",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/workspace/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/workspace/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/workspace/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,SAAS,EAAE,cAAc,EAAE,MAAM,aAAa,CAAC",sourcesContent:["export { default as Workspace, WorkspaceProps } from './Workspace';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),e(149),function(){var n="/Volumes/workplace/diagram-maker/src/components/view/View.tsx",A="1d519c50ace5696f7df9697c5be25fd2eb6f7fc1",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/view/View.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:13,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:12,column:6}},9:{start:{line:9,column:8},end:{line:9,column:28}},10:{start:{line:10,column:24},end:{line:10,column:45}},11:{start:{line:11,column:8},end:{line:11,column:93}},12:{start:{line:26,column:40},end:{line:31,column:6}},13:{start:{line:32,column:35},end:{line:38,column:1}},14:{start:{line:33,column:17},end:{line:33,column:28}},15:{start:{line:34,column:4},end:{line:36,column:5}},16:{start:{line:35,column:8},end:{line:35,column:53}},17:{start:{line:37,column:4},end:{line:37,column:66}},18:{start:{line:39,column:38},end:{line:45,column:1}},19:{start:{line:40,column:13},end:{line:40,column:34}},20:{start:{line:40,column:47},end:{line:40,column:58}},21:{start:{line:40,column:67},end:{line:40,column:74}},22:{start:{line:41,column:4},end:{line:44,column:6}},23:{start:{line:46,column:45},end:{line:52,column:1}},24:{start:{line:47,column:13},end:{line:47,column:34}},25:{start:{line:47,column:47},end:{line:47,column:58}},26:{start:{line:47,column:67},end:{line:47,column:74}},27:{start:{line:48,column:4},end:{line:51,column:6}},28:{start:{line:53,column:50},end:{line:59,column:1}},29:{start:{line:54,column:13},end:{line:54,column:34}},30:{start:{line:54,column:47},end:{line:54,column:58}},31:{start:{line:54,column:67},end:{line:54,column:74}},32:{start:{line:55,column:4},end:{line:58,column:6}},33:{start:{line:60,column:50},end:{line:66,column:1}},34:{start:{line:61,column:13},end:{line:61,column:34}},35:{start:{line:61,column:47},end:{line:61,column:58}},36:{start:{line:61,column:67},end:{line:61,column:74}},37:{start:{line:62,column:4},end:{line:65,column:6}},38:{start:{line:67,column:45},end:{line:73,column:1}},39:{start:{line:68,column:13},end:{line:68,column:34}},40:{start:{line:68,column:47},end:{line:68,column:58}},41:{start:{line:68,column:67},end:{line:68,column:74}},42:{start:{line:69,column:4},end:{line:72,column:6}},43:{start:{line:74,column:30},end:{line:87,column:1}},44:{start:{line:76,column:29},end:{line:76,column:78}},45:{start:{line:77,column:4},end:{line:85,column:5}},46:{start:{line:78,column:8},end:{line:78,column:73}},47:{start:{line:80,column:9},end:{line:85,column:5}},48:{start:{line:81,column:8},end:{line:81,column:73}},49:{start:{line:84,column:8},end:{line:84,column:66}},50:{start:{line:86,column:4},end:{line:86,column:29}},51:{start:{line:88,column:35},end:{line:101,column:1}},52:{start:{line:90,column:29},end:{line:90,column:78}},53:{start:{line:91,column:4},end:{line:99,column:5}},54:{start:{line:92,column:8},end:{line:92,column:78}},55:{start:{line:94,column:9},end:{line:99,column:5}},56:{start:{line:95,column:8},end:{line:95,column:78}},57:{start:{line:98,column:8},end:{line:98,column:66}},58:{start:{line:100,column:4},end:{line:100,column:29}},59:{start:{line:102,column:18},end:{line:106,column:1}},60:{start:{line:103,column:16},end:{line:103,column:46}},61:{start:{line:104,column:16},end:{line:104,column:46}},62:{start:{line:105,column:4},end:{line:105,column:56}},63:{start:{line:107,column:38},end:{line:121,column:1}},64:{start:{line:108,column:19},end:{line:108,column:67}},65:{start:{line:109,column:4},end:{line:111,column:5}},66:{start:{line:110,column:8},end:{line:110,column:30}},67:{start:{line:113,column:13},end:{line:113,column:29}},68:{start:{line:113,column:36},end:{line:113,column:52}},69:{start:{line:114,column:13},end:{line:114,column:34}},70:{start:{line:114,column:41},end:{line:114,column:62}},71:{start:{line:115,column:12},end:{line:115,column:32}},72:{start:{line:116,column:12},end:{line:116,column:24}},73:{start:{line:117,column:4},end:{line:120,column:6}},74:{start:{line:122,column:29},end:{line:128,column:1}},75:{start:{line:123,column:4},end:{line:126,column:5}},76:{start:{line:125,column:12},end:{line:125,column:93}},77:{start:{line:127,column:4},end:{line:127,column:26}},78:{start:{line:129,column:25},end:{line:139,column:1}},79:{start:{line:130,column:35},end:{line:130,column:87}},80:{start:{line:132,column:4},end:{line:134,column:5}},81:{start:{line:133,column:8},end:{line:133,column:72}},82:{start:{line:135,column:4},end:{line:137,column:5}},83:{start:{line:136,column:8},end:{line:136,column:109}},84:{start:{line:138,column:4},end:{line:138,column:23}},85:{start:{line:140,column:28},end:{line:163,column:1}},86:{start:{line:141,column:22},end:{line:144,column:5}},87:{start:{line:145,column:19},end:{line:145,column:35}},88:{start:{line:146,column:18},end:{line:146,column:33}},89:{start:{line:152,column:4},end:{line:156,column:5}},90:{start:{line:153,column:17},end:{line:153,column:54}},91:{start:{line:153,column:68},end:{line:153,column:72}},92:{start:{line:153,column:86},end:{line:153,column:90}},93:{start:{line:154,column:8},end:{line:154,column:50}},94:{start:{line:155,column:8},end:{line:155,column:49}},95:{start:{line:157,column:17},end:{line:157,column:86}},96:{start:{line:158,column:18},end:{line:158,column:88}},97:{start:{line:159,column:4},end:{line:162,column:6}},98:{start:{line:164,column:19},end:{line:169,column:1}},99:{start:{line:165,column:4},end:{line:167,column:5}},100:{start:{line:166,column:8},end:{line:166,column:74}},101:{start:{line:168,column:4},end:{line:168,column:30}},102:{start:{line:170,column:26},end:{line:349,column:19}},103:{start:{line:171,column:4},end:{line:171,column:28}},104:{start:{line:173,column:8},end:{line:173,column:72}},105:{start:{line:175,column:4},end:{line:198,column:6}},106:{start:{line:176,column:17},end:{line:176,column:43}},107:{start:{line:176,column:65},end:{line:176,column:76}},108:{start:{line:176,column:94},end:{line:176,column:107}},109:{start:{line:176,column:126},end:{line:176,column:134}},110:{start:{line:184,column:24},end:{line:184,column:132}},111:{start:{line:185,column:8},end:{line:197,column:82}},112:{start:{line:199,column:4},end:{line:206,column:6}},113:{start:{line:200,column:8},end:{line:202,column:9}},114:{start:{line:201,column:12},end:{line:201,column:19}},115:{start:{line:203,column:8},end:{line:205,column:62}},116:{start:{line:207,column:4},end:{line:222,column:6}},117:{start:{line:208,column:20},end:{line:208,column:24}},118:{start:{line:209,column:20},end:{line:209,column:42}},119:{start:{line:210,column:29},end:{line:210,column:69}},120:{start:{line:211,column:30},end:{line:211,column:73}},121:{start:{line:212,column:23},end:{line:212,column:41}},122:{start:{line:213,column:8},end:{line:221,column:11}},123:{start:{line:214,column:25},end:{line:214,column:46}},124:{start:{line:215,column:37},end:{line:215,column:108}},125:{start:{line:217,column:12},end:{line:219,column:13}},126:{start:{line:218,column:16},end:{line:218,column:110}},127:{start:{line:220,column:12},end:{line:220,column:287}},128:{start:{line:223,column:4},end:{line:232,column:6}},129:{start:{line:224,column:19},end:{line:224,column:49}},130:{start:{line:225,column:29},end:{line:225,column:78}},131:{start:{line:226,column:30},end:{line:226,column:73}},132:{start:{line:227,column:8},end:{line:229,column:9}},133:{start:{line:228,column:12},end:{line:228,column:19}},134:{start:{line:230,column:21},end:{line:230,column:32}},135:{start:{line:230,column:45},end:{line:230,column:58}},136:{start:{line:230,column:67},end:{line:230,column:76}},137:{start:{line:231,column:8},end:{line:231,column:198}},138:{start:{line:233,column:4},end:{line:242,column:6}},139:{start:{line:234,column:20},end:{line:234,column:24}},140:{start:{line:235,column:17},end:{line:235,column:32}},141:{start:{line:235,column:48},end:{line:235,column:58}},142:{start:{line:235,column:72},end:{line:235,column:80}},143:{start:{line:236,column:24},end:{line:236,column:26}},144:{start:{line:237,column:8},end:{line:239,column:11}},145:{start:{line:238,column:12},end:{line:238,column:119}},146:{start:{line:238,column:75},end:{line:238,column:114}},147:{start:{line:240,column:26},end:{line:240,column:99}},148:{start:{line:240,column:63},end:{line:240,column:96}},149:{start:{line:241,column:8},end:{line:241,column:45}},150:{start:{line:243,column:4},end:{line:251,column:6}},151:{start:{line:244,column:20},end:{line:244,column:42}},152:{start:{line:245,column:20},end:{line:245,column:42}},153:{start:{line:246,column:25},end:{line:246,column:50}},154:{start:{line:247,column:30},end:{line:247,column:56}},155:{start:{line:248,column:30},end:{line:248,column:118}},156:{start:{line:249,column:24},end:{line:249,column:219}},157:{start:{line:250,column:8},end:{line:250,column:347}},158:{start:{line:252,column:4},end:{line:275,column:6}},159:{start:{line:253,column:20},end:{line:253,column:24}},160:{start:{line:254,column:20},end:{line:254,column:42}},161:{start:{line:255,column:20},end:{line:255,column:42}},162:{start:{line:256,column:29},end:{line:256,column:69}},163:{start:{line:257,column:30},end:{line:257,column:73}},164:{start:{line:258,column:8},end:{line:260,column:9}},165:{start:{line:259,column:12},end:{line:259,column:19}},166:{start:{line:261,column:17},end:{line:261,column:32}},167:{start:{line:261,column:48},end:{line:261,column:58}},168:{start:{line:261,column:72},end:{line:261,column:80}},169:{start:{line:262,column:24},end:{line:262,column:26}},170:{start:{line:263,column:8},end:{line:268,column:11}},171:{start:{line:264,column:12},end:{line:267,column:16}},172:{start:{line:265,column:38},end:{line:265,column:147}},173:{start:{line:266,column:16},end:{line:266,column:272}},174:{start:{line:269,column:26},end:{line:273,column:10}},175:{start:{line:271,column:34},end:{line:271,column:137}},176:{start:{line:272,column:12},end:{line:272,column:244}},177:{start:{line:274,column:8},end:{line:274,column:45}},178:{start:{line:276,column:4},end:{line:309,column:6}},179:{start:{line:277,column:20},end:{line:277,column:42}},180:{start:{line:278,column:20},end:{line:278,column:42}},181:{start:{line:279,column:23},end:{line:279,column:41}},182:{start:{line:280,column:26},end:{line:280,column:133}},183:{start:{line:280,column:63},end:{line:280,column:130}},184:{start:{line:281,column:33},end:{line:281,column:81}},185:{start:{line:282,column:26},end:{line:282,column:28}},186:{start:{line:283,column:24},end:{line:283,column:26}},187:{start:{line:284,column:8},end:{line:287,column:9}},188:{start:{line:286,column:12},end:{line:286,column:55}},189:{start:{line:288,column:8},end:{line:303,column:11}},190:{start:{line:289,column:30},end:{line:289,column:44}},191:{start:{line:290,column:29},end:{line:290,column:51}},192:{start:{line:291,column:34},end:{line:291,column:57}},193:{start:{line:292,column:28},end:{line:292,column:69}},194:{start:{line:293,column:33},end:{line:293,column:74}},195:{start:{line:295,column:12},end:{line:302,column:13}},196:{start:{line:296,column:16},end:{line:296,column:58}},197:{start:{line:297,column:16},end:{line:297,column:62}},198:{start:{line:298,column:16},end:{line:298,column:51}},199:{start:{line:301,column:16},end:{line:301,column:56}},200:{start:{line:304,column:26},end:{line:304,column:99}},201:{start:{line:304,column:72},end:{line:304,column:96}},202:{start:{line:305,column:8},end:{line:308,column:10}},203:{start:{line:310,column:4},end:{line:318,column:6}},204:{start:{line:311,column:20},end:{line:311,column:36}},205:{start:{line:312,column:21},end:{line:312,column:44}},206:{start:{line:313,column:32},end:{line:313,column:76}},207:{start:{line:314,column:29},end:{line:314,column:68}},208:{start:{line:315,column:30},end:{line:315,column:73}},209:{start:{line:316,column:24},end:{line:316,column:43}},210:{start:{line:317,column:8},end:{line:317,column:411}},211:{start:{line:317,column:51},end:{line:317,column:407}},212:{start:{line:319,column:4},end:{line:328,column:6}},213:{start:{line:320,column:20},end:{line:320,column:42}},214:{start:{line:321,column:19},end:{line:321,column:49}},215:{start:{line:322,column:8},end:{line:324,column:9}},216:{start:{line:323,column:12},end:{line:323,column:19}},217:{start:{line:325,column:32},end:{line:325,column:98}},218:{start:{line:326,column:24},end:{line:326,column:159}},219:{start:{line:327,column:8},end:{line:327,column:194}},220:{start:{line:329,column:4},end:{line:335,column:6}},221:{start:{line:330,column:22},end:{line:330,column:62}},222:{start:{line:331,column:8},end:{line:333,column:9}},223:{start:{line:332,column:12},end:{line:332,column:19}},224:{start:{line:334,column:8},end:{line:334,column:100}},225:{start:{line:336,column:4},end:{line:347,column:6}},226:{start:{line:337,column:19},end:{line:337,column:54}},227:{start:{line:338,column:8},end:{line:340,column:9}},228:{start:{line:339,column:12},end:{line:339,column:19}},229:{start:{line:341,column:29},end:{line:341,column:111}},230:{start:{line:342,column:30},end:{line:342,column:73}},231:{start:{line:343,column:8},end:{line:345,column:9}},232:{start:{line:344,column:12},end:{line:344,column:19}},233:{start:{line:346,column:8},end:{line:346,column:134}},234:{start:{line:348,column:4},end:{line:348,column:16}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:13,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:12,column:5}},line:8},5:{name:"__",decl:{start:{line:10,column:17},end:{line:10,column:19}},loc:{start:{line:10,column:22},end:{line:10,column:47}},line:10},6:{name:"(anonymous_6)",decl:{start:{line:32,column:35},end:{line:32,column:36}},loc:{start:{line:32,column:66},end:{line:38,column:1}},line:32},7:{name:"(anonymous_7)",decl:{start:{line:39,column:38},end:{line:39,column:39}},loc:{start:{line:39,column:54},end:{line:45,column:1}},line:39},8:{name:"(anonymous_8)",decl:{start:{line:46,column:45},end:{line:46,column:46}},loc:{start:{line:46,column:61},end:{line:52,column:1}},line:46},9:{name:"(anonymous_9)",decl:{start:{line:53,column:50},end:{line:53,column:51}},loc:{start:{line:53,column:66},end:{line:59,column:1}},line:53},10:{name:"(anonymous_10)",decl:{start:{line:60,column:50},end:{line:60,column:51}},loc:{start:{line:60,column:66},end:{line:66,column:1}},line:60},11:{name:"(anonymous_11)",decl:{start:{line:67,column:45},end:{line:67,column:46}},loc:{start:{line:67,column:61},end:{line:73,column:1}},line:67},12:{name:"(anonymous_12)",decl:{start:{line:74,column:30},end:{line:74,column:31}},loc:{start:{line:74,column:61},end:{line:87,column:1}},line:74},13:{name:"(anonymous_13)",decl:{start:{line:88,column:35},end:{line:88,column:36}},loc:{start:{line:88,column:66},end:{line:101,column:1}},line:88},14:{name:"(anonymous_14)",decl:{start:{line:102,column:18},end:{line:102,column:19}},loc:{start:{line:102,column:55},end:{line:106,column:1}},line:102},15:{name:"(anonymous_15)",decl:{start:{line:107,column:38},end:{line:107,column:39}},loc:{start:{line:107,column:97},end:{line:121,column:1}},line:107},16:{name:"(anonymous_16)",decl:{start:{line:122,column:29},end:{line:122,column:30}},loc:{start:{line:122,column:94},end:{line:128,column:1}},line:122},17:{name:"(anonymous_17)",decl:{start:{line:129,column:25},end:{line:129,column:26}},loc:{start:{line:129,column:86},end:{line:139,column:1}},line:129},18:{name:"(anonymous_18)",decl:{start:{line:140,column:28},end:{line:140,column:29}},loc:{start:{line:140,column:89},end:{line:163,column:1}},line:140},19:{name:"(anonymous_19)",decl:{start:{line:164,column:19},end:{line:164,column:20}},loc:{start:{line:164,column:86},end:{line:169,column:1}},line:164},20:{name:"(anonymous_20)",decl:{start:{line:170,column:26},end:{line:170,column:27}},loc:{start:{line:170,column:44},end:{line:349,column:1}},line:170},21:{name:"View",decl:{start:{line:172,column:13},end:{line:172,column:17}},loc:{start:{line:172,column:20},end:{line:174,column:5}},line:172},22:{name:"(anonymous_22)",decl:{start:{line:175,column:28},end:{line:175,column:29}},loc:{start:{line:175,column:40},end:{line:198,column:5}},line:175},23:{name:"(anonymous_23)",decl:{start:{line:199,column:43},end:{line:199,column:44}},loc:{start:{line:199,column:55},end:{line:206,column:5}},line:199},24:{name:"(anonymous_24)",decl:{start:{line:207,column:33},end:{line:207,column:34}},loc:{start:{line:207,column:45},end:{line:222,column:5}},line:207},25:{name:"(anonymous_25)",decl:{start:{line:213,column:28},end:{line:213,column:29}},loc:{start:{line:213,column:47},end:{line:221,column:9}},line:213},26:{name:"(anonymous_26)",decl:{start:{line:223,column:41},end:{line:223,column:42}},loc:{start:{line:223,column:53},end:{line:232,column:5}},line:223},27:{name:"(anonymous_27)",decl:{start:{line:233,column:33},end:{line:233,column:34}},loc:{start:{line:233,column:45},end:{line:242,column:5}},line:233},28:{name:"(anonymous_28)",decl:{start:{line:237,column:26},end:{line:237,column:27}},loc:{start:{line:237,column:46},end:{line:239,column:9}},line:237},29:{name:"(anonymous_29)",decl:{start:{line:238,column:54},end:{line:238,column:55}},loc:{start:{line:238,column:73},end:{line:238,column:116}},line:238},30:{name:"(anonymous_30)",decl:{start:{line:240,column:42},end:{line:240,column:43}},loc:{start:{line:240,column:61},end:{line:240,column:98}},line:240},31:{name:"(anonymous_31)",decl:{start:{line:243,column:32},end:{line:243,column:33}},loc:{start:{line:243,column:63},end:{line:251,column:5}},line:243},32:{name:"(anonymous_32)",decl:{start:{line:252,column:38},end:{line:252,column:39}},loc:{start:{line:252,column:50},end:{line:275,column:5}},line:252},33:{name:"(anonymous_33)",decl:{start:{line:263,column:26},end:{line:263,column:27}},loc:{start:{line:263,column:46},end:{line:268,column:9}},line:263},34:{name:"(anonymous_34)",decl:{start:{line:264,column:54},end:{line:264,column:55}},loc:{start:{line:264,column:80},end:{line:267,column:13}},line:264},35:{name:"(anonymous_35)",decl:{start:{line:270,column:17},end:{line:270,column:18}},loc:{start:{line:270,column:36},end:{line:273,column:9}},line:270},36:{name:"(anonymous_36)",decl:{start:{line:276,column:30},end:{line:276,column:31}},loc:{start:{line:276,column:42},end:{line:309,column:5}},line:276},37:{name:"(anonymous_37)",decl:{start:{line:280,column:42},end:{line:280,column:43}},loc:{start:{line:280,column:61},end:{line:280,column:132}},line:280},38:{name:"(anonymous_38)",decl:{start:{line:288,column:28},end:{line:288,column:29}},loc:{start:{line:288,column:47},end:{line:303,column:9}},line:288},39:{name:"(anonymous_39)",decl:{start:{line:304,column:55},end:{line:304,column:56}},loc:{start:{line:304,column:70},end:{line:304,column:98}},line:304},40:{name:"(anonymous_40)",decl:{start:{line:310,column:34},end:{line:310,column:35}},loc:{start:{line:310,column:46},end:{line:318,column:5}},line:310},41:{name:"(anonymous_41)",decl:{start:{line:317,column:29},end:{line:317,column:30}},loc:{start:{line:317,column:49},end:{line:317,column:409}},line:317},42:{name:"(anonymous_42)",decl:{start:{line:319,column:41},end:{line:319,column:42}},loc:{start:{line:319,column:53},end:{line:328,column:5}},line:319},43:{name:"(anonymous_43)",decl:{start:{line:329,column:44},end:{line:329,column:45}},loc:{start:{line:329,column:56},end:{line:335,column:5}},line:329},44:{name:"(anonymous_44)",decl:{start:{line:336,column:39},end:{line:336,column:40}},loc:{start:{line:336,column:51},end:{line:347,column:5}},line:336}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:13,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:13,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:11,column:22},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:35},end:{line:11,column:51}},{start:{line:11,column:55},end:{line:11,column:91}}],line:11},4:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:34,column:4},end:{line:36,column:5}}],line:34},5:{loc:{start:{line:77,column:4},end:{line:85,column:5}},type:"if",locations:[{start:{line:77,column:4},end:{line:85,column:5}},{start:{line:77,column:4},end:{line:85,column:5}}],line:77},6:{loc:{start:{line:80,column:9},end:{line:85,column:5}},type:"if",locations:[{start:{line:80,column:9},end:{line:85,column:5}},{start:{line:80,column:9},end:{line:85,column:5}}],line:80},7:{loc:{start:{line:91,column:4},end:{line:99,column:5}},type:"if",locations:[{start:{line:91,column:4},end:{line:99,column:5}},{start:{line:91,column:4},end:{line:99,column:5}}],line:91},8:{loc:{start:{line:94,column:9},end:{line:99,column:5}},type:"if",locations:[{start:{line:94,column:9},end:{line:99,column:5}},{start:{line:94,column:9},end:{line:99,column:5}}],line:94},9:{loc:{start:{line:109,column:4},end:{line:111,column:5}},type:"if",locations:[{start:{line:109,column:4},end:{line:111,column:5}},{start:{line:109,column:4},end:{line:111,column:5}}],line:109},10:{loc:{start:{line:123,column:4},end:{line:126,column:5}},type:"switch",locations:[{start:{line:124,column:8},end:{line:125,column:93}}],line:123},11:{loc:{start:{line:132,column:4},end:{line:134,column:5}},type:"if",locations:[{start:{line:132,column:4},end:{line:134,column:5}},{start:{line:132,column:4},end:{line:134,column:5}}],line:132},12:{loc:{start:{line:135,column:4},end:{line:137,column:5}},type:"if",locations:[{start:{line:135,column:4},end:{line:137,column:5}},{start:{line:135,column:4},end:{line:137,column:5}}],line:135},13:{loc:{start:{line:152,column:4},end:{line:156,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:156,column:5}},{start:{line:152,column:4},end:{line:156,column:5}}],line:152},14:{loc:{start:{line:165,column:4},end:{line:167,column:5}},type:"if",locations:[{start:{line:165,column:4},end:{line:167,column:5}},{start:{line:165,column:4},end:{line:167,column:5}}],line:165},15:{loc:{start:{line:173,column:15},end:{line:173,column:71}},type:"binary-expr",locations:[{start:{line:173,column:15},end:{line:173,column:30}},{start:{line:173,column:34},end:{line:173,column:63}},{start:{line:173,column:67},end:{line:173,column:71}}],line:173},16:{loc:{start:{line:200,column:8},end:{line:202,column:9}},type:"if",locations:[{start:{line:200,column:8},end:{line:202,column:9}},{start:{line:200,column:8},end:{line:202,column:9}}],line:200},17:{loc:{start:{line:217,column:12},end:{line:219,column:13}},type:"if",locations:[{start:{line:217,column:12},end:{line:219,column:13}},{start:{line:217,column:12},end:{line:219,column:13}}],line:217},18:{loc:{start:{line:227,column:8},end:{line:229,column:9}},type:"if",locations:[{start:{line:227,column:8},end:{line:229,column:9}},{start:{line:227,column:8},end:{line:229,column:9}}],line:227},19:{loc:{start:{line:227,column:12},end:{line:227,column:36}},type:"binary-expr",locations:[{start:{line:227,column:12},end:{line:227,column:17}},{start:{line:227,column:21},end:{line:227,column:36}}],line:227},20:{loc:{start:{line:249,column:24},end:{line:249,column:219}},type:"cond-expr",locations:[{start:{line:249,column:37},end:{line:249,column:63}},{start:{line:249,column:66},end:{line:249,column:219}}],line:249},21:{loc:{start:{line:258,column:8},end:{line:260,column:9}},type:"if",locations:[{start:{line:258,column:8},end:{line:260,column:9}},{start:{line:258,column:8},end:{line:260,column:9}}],line:258},22:{loc:{start:{line:280,column:73},end:{line:280,column:128}},type:"binary-expr",locations:[{start:{line:280,column:73},end:{line:280,column:98}},{start:{line:280,column:102},end:{line:280,column:128}}],line:280},23:{loc:{start:{line:284,column:8},end:{line:287,column:9}},type:"if",locations:[{start:{line:284,column:8},end:{line:287,column:9}},{start:{line:284,column:8},end:{line:287,column:9}}],line:284},24:{loc:{start:{line:284,column:12},end:{line:285,column:68}},type:"binary-expr",locations:[{start:{line:284,column:12},end:{line:284,column:68}},{start:{line:285,column:12},end:{line:285,column:68}}],line:284},25:{loc:{start:{line:295,column:12},end:{line:302,column:13}},type:"if",locations:[{start:{line:295,column:12},end:{line:302,column:13}},{start:{line:295,column:12},end:{line:302,column:13}}],line:295},26:{loc:{start:{line:322,column:8},end:{line:324,column:9}},type:"if",locations:[{start:{line:322,column:8},end:{line:324,column:9}},{start:{line:322,column:8},end:{line:324,column:9}}],line:322},27:{loc:{start:{line:331,column:8},end:{line:333,column:9}},type:"if",locations:[{start:{line:331,column:8},end:{line:333,column:9}},{start:{line:331,column:8},end:{line:333,column:9}}],line:331},28:{loc:{start:{line:338,column:8},end:{line:340,column:9}},type:"if",locations:[{start:{line:338,column:8},end:{line:340,column:9}},{start:{line:338,column:8},end:{line:340,column:9}}],line:338},29:{loc:{start:{line:343,column:8},end:{line:345,column:9}},type:"if",locations:[{start:{line:343,column:8},end:{line:345,column:9}},{start:{line:343,column:8},end:{line:345,column:9}}],line:343}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/view/View.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/view/View.tsx"],names:[],mappings:"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",sourcesContent:['import * as Preact from \'preact\';\n\nimport { ContextMenu } from \'diagramMaker/components/contextMenu\';\nimport { Edge, EdgeBadge, EdgeStyle, PotentialEdge } from \'diagramMaker/components/edge\';\nimport { Node, PotentialNode } from \'diagramMaker/components/node\';\nimport { Panel } from \'diagramMaker/components/panel\';\nimport { SelectionMarquee } from \'diagramMaker/components/selectionMarquee\';\nimport { Workspace } from \'diagramMaker/components/workspace\';\nimport ConfigService, {\n  ConnectorPlacement, ConnectorPlacementType, DestroyCallback, Shape, ShapeType, TypeForVisibleConnectorTypes\n} from \'diagramMaker/service/ConfigService\';\nimport { getInflectionPoint } from \'diagramMaker/service/positionUtils\';\nimport { DiagramMakerComponentsType } from \'diagramMaker/service/ui/types\';\nimport {\n  DiagramMakerData,\n  DiagramMakerEdge,\n  DiagramMakerEdges,\n  DiagramMakerNode,\n  Position,\n  Size\n} from \'diagramMaker/state/types\';\n\nimport \'./View.scss\';\n\nconst CONNECTOR_PLACEMENT_TO_EDGE_TYPE = {\n  [ConnectorPlacement.LEFT_RIGHT]: EdgeStyle.LEFT_RIGHT_BEZIER,\n  [ConnectorPlacement.TOP_BOTTOM]: EdgeStyle.TOP_BOTTOM_BEZIER,\n  [ConnectorPlacement.CENTERED]: EdgeStyle.STRAIGHT,\n  [ConnectorPlacement.BOUNDARY]: EdgeStyle.STRAIGHT\n};\n\ninterface EdgeCoordinatePair {\n  src: Position;\n  dest: Position;\n}\n\nexport interface ViewProps<NodeType, EdgeType> {\n  state: DiagramMakerData<NodeType, EdgeType>;\n  configService: ConfigService<NodeType, EdgeType>;\n}\n\nconst getConnectorPlacementForNode = <NodeType, EdgeType>(\n  node: DiagramMakerNode<NodeType>,\n  configService: ConfigService<NodeType, EdgeType>\n) => {\n  const typeId = node.typeId;\n  if (!typeId) {\n    return configService.getConnectorPlacement();\n  }\n\n  return configService.getConnectorPlacementForNodeType(typeId);\n};\n\nconst getCenteredConnectorCoordinates =\n<NodeType extends any>(node: DiagramMakerNode<NodeType>): Position => {\n  const { position, size } = node.diagramMakerData;\n  return {\n    x: position.x + size.width / 2,\n    y: position.y + size.height / 2\n  };\n};\n\nconst getLeftRightConnectorCoordinatesSource =\n<NodeType extends any>(node: DiagramMakerNode<NodeType>): Position => {\n  const { position, size } = node.diagramMakerData;\n  return {\n    x: position.x + size.width,\n    y: position.y + size.height / 2\n  };\n};\n\nconst getLeftRightConnectorCoordinatesDestination =\n<NodeType extends any>(node: DiagramMakerNode<NodeType>): Position => {\n  const { position, size } = node.diagramMakerData;\n  return {\n    x: position.x,\n    y: position.y + size.height / 2\n  };\n};\n\nconst getTopBottomConnectorCoordinatesDestination =\n<NodeType extends any>(node: DiagramMakerNode<NodeType>): Position => {\n  const { position, size } = node.diagramMakerData;\n  return {\n    x: position.x + size.width / 2,\n    y: position.y\n  };\n};\n\nconst getTopBottomConnectorCoordinatesSource =\n<NodeType extends any>(node: DiagramMakerNode<NodeType>): Position => {\n  const { position, size } = node.diagramMakerData;\n  return {\n    x: position.x + size.width / 2,\n    y: position.y + size.height\n  };\n};\n\nconst getEdgeCoordinateSource =\n<NodeType, EdgeType>(\n  node: DiagramMakerNode<NodeType>,\n  configService: ConfigService<NodeType, EdgeType>\n): Position => {\n  let sourceCoordinates: Position;\n  const connectorPlacement = getConnectorPlacementForNode(node, configService);\n  if (connectorPlacement === ConnectorPlacement.LEFT_RIGHT) {\n    sourceCoordinates = getLeftRightConnectorCoordinatesSource(node);\n  } else if (connectorPlacement === ConnectorPlacement.TOP_BOTTOM) {\n    sourceCoordinates = getTopBottomConnectorCoordinatesSource(node);\n  } else {\n    sourceCoordinates = getCenteredConnectorCoordinates(node);\n  }\n  return sourceCoordinates;\n};\n\nconst getEdgeCoordinateDestination =\n<NodeType, EdgeType>(\n  node: DiagramMakerNode<NodeType>,\n  configService: ConfigService<NodeType, EdgeType>\n): Position => {\n  let sourceCoordinates: Position;\n  const connectorPlacement = getConnectorPlacementForNode(node, configService);\n  if (connectorPlacement === ConnectorPlacement.LEFT_RIGHT) {\n    sourceCoordinates = getLeftRightConnectorCoordinatesDestination(node);\n  } else if (connectorPlacement === ConnectorPlacement.TOP_BOTTOM) {\n    sourceCoordinates = getTopBottomConnectorCoordinatesDestination(node);\n  } else {\n    sourceCoordinates = getCenteredConnectorCoordinates(node);\n  }\n  return sourceCoordinates;\n};\n\nconst getDistance = (srcPosition: Position, destPosition: Position) => {\n  const diffX = destPosition.x - srcPosition.x;\n  const diffY = destPosition.y - srcPosition.y;\n  return Math.sqrt((diffX * diffX) + (diffY * diffY));\n};\n\nconst getBoundaryCoordinatesForCircle = (\n  sourcePosition: Position,\n  sourceSize: Size,\n  destinationPosition: Position\n): Position => {\n  const distance = getDistance(sourcePosition, destinationPosition);\n  if (distance === 0) {\n    return sourcePosition;\n  }\n  // Using this formula to compute the coordinates: https://brilliant.org/wiki/section-formula/\n  const { x: x1, y: y1 } = sourcePosition;\n  const { x: x2, y: y2 } = destinationPosition;\n  const m = sourceSize.width / 2;\n  const n = distance - m;\n  return {\n    x: ((m * x2) + (n * x1)) / distance,\n    y: ((m * y2) + (n * y1)) / distance\n  };\n};\n\nconst getBoundaryCoordinates = (\n  sourcePosition: Position,\n  sourceShape: ShapeType | undefined,\n  sourceSize: Size,\n  destPosition: Position\n): Position => {\n  switch (sourceShape) {\n    case Shape.CIRCLE:\n      return getBoundaryCoordinatesForCircle(sourcePosition, sourceSize, destPosition);\n  }\n  return sourcePosition;\n};\n\nconst applyBoundaryCheck =\n<NodeType, EdgeType>(\n  configService: ConfigService<NodeType, EdgeType>,\n  nodeSrc: DiagramMakerNode<NodeType>,\n  positionSrc: Position,\n  positionDest: Position\n) => {\n  const sourceConnectorPlacement = getConnectorPlacementForNode(nodeSrc, configService);\n  let sourceShape: ShapeType | undefined;\n  if (nodeSrc.typeId) {\n    sourceShape = configService.getShapeForNodeType(nodeSrc.typeId);\n  }\n  if (sourceConnectorPlacement === ConnectorPlacement.BOUNDARY) {\n    return getBoundaryCoordinates(\n      positionSrc,\n      sourceShape,\n      nodeSrc.diagramMakerData.size,\n      positionDest\n    );\n  }\n\n  return positionSrc;\n};\n\nconst getEdgeCoordinatePair =\n<NodeType, EdgeType>(\n  nodeSrc: DiagramMakerNode<NodeType>,\n  nodeDest: DiagramMakerNode<NodeType>,\n  configService: ConfigService<NodeType, EdgeType>,\n  overlappingEdge?: boolean\n): EdgeCoordinatePair => {\n  const coordinates: EdgeCoordinatePair = {\n    src: getEdgeCoordinateSource(nodeSrc, configService),\n    dest: getEdgeCoordinateDestination(nodeDest, configService)\n  };\n  let tempDest = coordinates.dest;\n  let tempSrc = coordinates.src;\n\n  /**\n   * To find the point to cut based on overlapping edges\n   * We estimate the x/y coordinates of dest & src by creating a bezier curve\n   * https://stackoverflow.com/questions/51811935/point-of-intersection-between-bezier-curve-and-circle\n   */\n  if (overlappingEdge) {\n    const { x: startingX, y: startingY } = getInflectionPoint(tempSrc, tempDest);\n    tempDest = { x: startingX, y: startingY };\n    tempSrc = { x: startingX, y: startingY };\n  }\n\n  const newSrc = applyBoundaryCheck(configService, nodeSrc, coordinates.src, tempDest);\n  const newDest = applyBoundaryCheck(configService, nodeDest, coordinates.dest, tempSrc);\n\n  return {\n    src: newSrc,\n    dest: newDest\n  };\n};\n\nconst getEdgeStyle = (\n  sourceConnectorPlacement: ConnectorPlacementType,\n  destinationConnectorPlacement: ConnectorPlacementType\n): EdgeStyle => {\n  if (sourceConnectorPlacement === destinationConnectorPlacement) {\n    return CONNECTOR_PLACEMENT_TO_EDGE_TYPE[sourceConnectorPlacement];\n  }\n  return EdgeStyle.STRAIGHT;\n};\n\nclass View<NodeType, EdgeType> extends Preact.Component<ViewProps<NodeType, EdgeType>> {\n\n  public render() {\n    const {\n      position: workspacePosition,\n      canvasSize: workspaceSize,\n      scale: workspaceScale\n    } = this.props.state.workspace;\n\n    /**\n     * We need to put interim on top of the panels so that we can make the potential nodes appear on top of the panels.\n     * This is because workspace has a stacking context of its own and we cannot make the node appear on top of the\n     * panel from within the workspace.\n     * To make it so that when the node comes out of the panel, it appears the same size as it would in the workspace,\n     * we need to apply the same transforms on the interim as well.\n     */\n    const transform = `translate3d(${workspacePosition.x}px, ${workspacePosition.y}px, 0) scale(${workspaceScale})`;\n\n    return (\n      <div className="dm-view" tabIndex={0} data-type={DiagramMakerComponentsType.VIEW}>\n        <Workspace\n          position={workspacePosition}\n          canvasSize={workspaceSize}\n          scale={workspaceScale}\n        >\n          <div className="dm-elements">\n            <svg className="dm-edges" xmlns="http://www.w3.org/2000/svg">\n              {this.renderArrowheadMarker()}\n              {this.renderEdges()}\n            </svg>\n            {this.renderEdgeBadges()}\n            {this.renderNodes()}\n            <svg className="dm-potential-edge" xmlns="http://www.w3.org/2000/svg">\n              {this.renderPotentialEdge()}\n            </svg>\n          </div>\n        </Workspace>\n        <div className="dm-panels">\n          {this.renderPanels()}\n        </div>\n        <div\n          className="dm-interim"\n          style={{ transform }}\n        >\n          {this.renderPotentialNode()}\n        </div>\n        <div\n          className="dm-selection"\n          style={{ transform }}\n        >\n          {this.renderSelectionMarquee()}\n        </div>\n        <div className="dm-menu">\n          {this.renderContextMenu()}\n        </div>\n      </div>\n    );\n  }\n\n  private renderArrowheadMarker() {\n    if (!this.props.configService.getShowArrowhead()) {\n      return;\n    }\n\n    return (\n      <defs>\n        <marker\n          id="arrow"\n          markerWidth="5"\n          markerHeight="5"\n          orient="auto"\n          refY="2.5"\n          refX="5"\n          stroke="#879596"\n          fill="#879596"\n        >\n          <path d="M0,0 L5,2.5 0,5" />\n        </marker>\n      </defs>\n    );\n  }\n\n  private renderNodes() {\n    const nodes = this.props.state.nodes;\n    const renderCallback = this.props.configService.getRenderNode();\n    const destroyCallback = this.props.configService.getRenderDestroy();\n    const nodeKeys = Object.keys(nodes);\n    return nodeKeys.map((nodeKey: string) => {\n      const typeId = nodes[nodeKey].typeId;\n      const connectorPlacement = getConnectorPlacementForNode(nodes[nodeKey], this.props.configService);\n      let visibleConnectorTypes: TypeForVisibleConnectorTypes | undefined;\n      if (typeId) {\n        visibleConnectorTypes = this.props.configService.getVisibleConnectorTypesForNodeType(typeId);\n      }\n\n      return (\n        <Node\n          key={`node_${nodes[nodeKey].id}`}\n          renderCallback={renderCallback.bind(null, nodes[nodeKey])}\n          destroyCallback={destroyCallback}\n          connectorPlacement={connectorPlacement}\n          diagramMakerNode={nodes[nodeKey]}\n          visibleConnectorTypes={visibleConnectorTypes}\n        />\n      );\n    });\n  }\n\n  private renderPotentialNode() {\n    const node = this.props.state.potentialNode;\n    const renderCallback = this.props.configService.getRenderPotentialNode();\n    const destroyCallback = this.props.configService.getRenderDestroy();\n\n    if (!node || !renderCallback) {\n      return;\n    }\n\n    const { typeId, position, size } = node;\n\n    return (\n      <PotentialNode\n        key="potentialNode"\n        typeId={typeId}\n        position={position}\n        size={size}\n        renderCallback={renderCallback.bind(null, node)}\n        destroyCallback={destroyCallback}\n      />\n    );\n  }\n\n  private renderEdges() {\n    const { singles: edgeSingles, pairs: edgePairs } = this.getEdges();\n    let pairEdges: JSX.Element[] = [];\n\n    edgePairs.forEach((edgePair: string[]) => {\n      pairEdges = pairEdges.concat(edgePair.map(edgeKey => this.renderEdge(edgeKey, true)));\n    });\n\n    const singleEdges = edgeSingles.map(edgeKey => this.renderEdge(edgeKey));\n\n    return singleEdges.concat(pairEdges);\n  }\n\n  private renderEdge(edgeKey: string, isEdgePair?: boolean) {\n    const nodes = this.props.state.nodes;\n    const edges = this.props.state.edges;\n    const edgeSource = nodes[edges[edgeKey].src];\n    const edgeDestination = nodes[edges[edgeKey].dest];\n    const edgeCoordinates = getEdgeCoordinatePair(\n        edgeSource,\n        edgeDestination,\n        this.props.configService,\n        isEdgePair\n      );\n    const edgeStyle = isEdgePair ? EdgeStyle.QUADRATIC_BEZIER : getEdgeStyle(\n      getConnectorPlacementForNode(edgeSource, this.props.configService),\n      getConnectorPlacementForNode(edgeDestination, this.props.configService)\n    );\n\n    return (\n      <Edge\n        key={`edge_${edges[edgeKey].id}`}\n        id={edges[edgeKey].id}\n        src={edgeCoordinates.src}\n        dest={edgeCoordinates.dest}\n        srcTypeId={edgeSource.typeId}\n        destTypeId={edgeDestination.typeId}\n        edgeStyle={edgeStyle}\n        selected={edges[edgeKey].diagramMakerData.selected}\n        showArrowhead={this.props.configService.getShowArrowhead()}\n      />\n    );\n  }\n\n  private renderEdgeBadges() {\n    const nodes = this.props.state.nodes;\n    const edges = this.props.state.edges;\n    const renderCallback = this.props.configService.getRenderEdge();\n    const destroyCallback = this.props.configService.getRenderDestroy();\n\n    if (!renderCallback) {\n      return;\n    }\n\n    const { singles: edgeSingles, pairs: edgePairs } = this.getEdges();\n    let pairEdges: JSX.Element[] = [];\n    edgePairs.forEach((edgePair: string[]) => {\n      pairEdges = pairEdges.concat(edgePair.map((edgeKey: string, index: number) => {\n        const edgeCoordinates = getEdgeCoordinatePair(\n          nodes[edges[edgeKey].src],\n          nodes[edges[edgeKey].dest],\n          this.props.configService,\n          true\n        );\n\n        return (\n          <EdgeBadge\n            id={edgeKey}\n            key={`edgeBadge_${edges[edgeKey].id}`}\n            src={edgeCoordinates.src}\n            dest={edgeCoordinates.dest}\n            renderCallback={renderCallback.bind(null, edges[edgeKey])}\n            destroyCallback={destroyCallback}\n            isPartOfEdgePair={true}\n          />\n        );\n      }));\n    });\n\n    const singleEdges = edgeSingles\n      .map((edgeKey: string) => {\n        const edgeCoordinates = getEdgeCoordinatePair(\n          nodes[edges[edgeKey].src],\n          nodes[edges[edgeKey].dest],\n          this.props.configService\n        );\n\n        return (\n          <EdgeBadge\n            id={edgeKey}\n            key={`edgeBadge_${edges[edgeKey].id}`}\n            src={edgeCoordinates.src}\n            dest={edgeCoordinates.dest}\n            renderCallback={renderCallback.bind(null, edges[edgeKey])}\n            destroyCallback={destroyCallback}\n          />\n        );\n      });\n\n    return singleEdges.concat(pairEdges);\n  }\n\n  private getEdges(): { singles: string[], pairs: string[][]} {\n    const nodes = this.props.state.nodes;\n    const edges = this.props.state.edges;\n    const edgeKeys = Object.keys(edges);\n    const activeEdges = edgeKeys.filter(\n      (edgeKey: string) => !!(nodes[edges[edgeKey].src] && nodes[edges[edgeKey].dest])\n    );\n    const connectorPlacement = this.props.configService.getConnectorPlacement();\n    const edgeMapping: { [key: string]: string } = {};\n    const edgePairs: string[][] = [];\n    if (\n      connectorPlacement === ConnectorPlacementType.LEFT_RIGHT ||\n      connectorPlacement === ConnectorPlacementType.TOP_BOTTOM\n    ) {\n      return { singles: activeEdges, pairs: [] };\n    }\n\n    activeEdges.forEach((edgeKey: string) => {\n      const currentEdge = edges[edgeKey];\n      const edgeSource = nodes[currentEdge.src];\n      const edgeDestination = nodes[currentEdge.dest];\n      const edgeMapId = `${edgeSource.id}__${edgeDestination.id}`;\n      const matchingEdgeId = `${edgeDestination.id}__${edgeSource.id}`;\n      let edgeOverlap;\n      if (edgeMapping[matchingEdgeId]) {\n        edgeOverlap = edgeMapping[matchingEdgeId];\n        edgePairs.push([currentEdge.id, edgeOverlap]);\n        delete edgeMapping[matchingEdgeId];\n      } else {\n        edgeMapping[edgeMapId] = currentEdge.id;\n      }\n    });\n\n    const edgeSingles: string[] = Object.keys(edgeMapping).map(val => edgeMapping[val]);\n    return {\n      singles: edgeSingles,\n      pairs: edgePairs\n    };\n  }\n\n  private renderPanels() {\n    const state = this.props.state;\n    const panels = this.props.state.panels;\n    const viewContainerSize = this.props.state.workspace.viewContainerSize;\n    const renderCallback = this.props.configService.getRenderPanel;\n    const destroyCallback = this.props.configService.getRenderDestroy();\n\n    const panelKeys = Object.keys(panels);\n    return panelKeys.map((panelKey: string) => (\n      <Panel\n        positionAnchor={panels[panelKey].positionAnchor}\n        key={`panel_${panels[panelKey].id}`}\n        id={panels[panelKey].id}\n        position={panels[panelKey].position}\n        size={panels[panelKey].size}\n        renderCallback={renderCallback(panelKey).bind(null, panels[panelKey], state)}\n        destroyCallback={destroyCallback}\n        viewContainerSize={viewContainerSize}\n      />\n    ));\n  }\n\n  private renderPotentialEdge() {\n    const nodes = this.props.state.nodes;\n    const edge = this.props.state.potentialEdge;\n    if (!edge) {\n      return;\n    }\n\n    const sourceCoordinates = getEdgeCoordinateSource(nodes[edge.src], this.props.configService);\n    const edgeStyle = getEdgeStyle(\n      getConnectorPlacementForNode(nodes[edge.src], this.props.configService),\n      this.props.configService.getConnectorPlacement()\n    );\n    return (\n      <PotentialEdge\n        key="potentialEdge"\n        src={sourceCoordinates}\n        dest={edge.position}\n        edgeStyle={edgeStyle}\n        showArrowhead={this.props.configService.getShowArrowhead()}\n      />\n    );\n  }\n\n  private renderSelectionMarquee() {\n    const marquee = this.props.state.editor.selectionMarquee;\n    if (!marquee) {\n      return;\n    }\n    return (\n      <SelectionMarquee\n        anchor={marquee.anchor}\n        position={marquee.position}\n      />\n    );\n  }\n\n  private renderContextMenu() {\n    const menu = this.props.state.editor.contextMenu;\n    if (!menu) {\n      return;\n    }\n    const renderCallback = this.props.configService.getBoundRenderContextMenu(menu.targetType, menu.targetId);\n    const destroyCallback = this.props.configService.getRenderDestroy();\n    if (!renderCallback) {\n      return;\n    }\n\n    return (\n      <ContextMenu\n        position={menu.position}\n        renderCallback={renderCallback}\n        destroyCallback={destroyCallback}\n      />\n    );\n  }\n}\n\nexport { View };\n']},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),AA=(nA.s[0]++,void nA.b[0][0]++&&(nA.b[0][1]++,(void 0).__extends)||(nA.b[0][2]++,function(){nA.f[0]++,nA.s[1]++;var n=function(A,e){return nA.f[1]++,nA.s[2]++,nA.b[1][0]++,n=Object.setPrototypeOf||(nA.b[1][1]++,{__proto__:[]}instanceof Array&&(nA.b[1][2]++,function(n,A){nA.f[2]++,nA.s[3]++,n.__proto__=A}))||(nA.b[1][3]++,function(n,A){for(var e in nA.f[3]++,nA.s[4]++,A)nA.s[5]++,Object.prototype.hasOwnProperty.call(A,e)?(nA.b[2][0]++,nA.s[6]++,n[e]=A[e]):nA.b[2][1]++}),nA.s[7]++,n(A,e)};return nA.s[8]++,function(A,e){function t(){nA.f[5]++,nA.s[10]++,this.constructor=A}nA.f[4]++,nA.s[9]++,n(A,e),nA.s[11]++,A.prototype=null===e?(nA.b[3][0]++,Object.create(e)):(nA.b[3][1]++,t.prototype=e.prototype,new t)}}())),eA=(nA.s[12]++,(Jn={})[Bn.LEFT_RIGHT]=An.LEFT_RIGHT_BEZIER,Jn[Bn.TOP_BOTTOM]=An.TOP_BOTTOM_BEZIER,Jn[Bn.CENTERED]=An.STRAIGHT,Jn[Bn.BOUNDARY]=An.STRAIGHT,Jn);nA.s[13]++;var tA=function(n,A){nA.f[6]++;var e=(nA.s[14]++,n.typeId);return nA.s[15]++,e?(nA.b[4][1]++,nA.s[17]++,A.getConnectorPlacementForNodeType(e)):(nA.b[4][0]++,nA.s[16]++,A.getConnectorPlacement())};nA.s[18]++;var oA=function(n){nA.f[7]++;var A=(nA.s[19]++,n.diagramMakerData),e=(nA.s[20]++,A.position),t=(nA.s[21]++,A.size);return nA.s[22]++,{x:e.x+t.width/2,y:e.y+t.height/2}};nA.s[23]++;nA.s[28]++;nA.s[33]++;nA.s[38]++;nA.s[43]++;var lA=function(n,A){var e;nA.f[12]++;var t=(nA.s[44]++,tA(n,A));return nA.s[45]++,t===Bn.LEFT_RIGHT?(nA.b[5][0]++,nA.s[46]++,e=function(n){nA.f[8]++;var A=(nA.s[24]++,n.diagramMakerData),e=(nA.s[25]++,A.position),t=(nA.s[26]++,A.size);return nA.s[27]++,{x:e.x+t.width,y:e.y+t.height/2}}(n)):(nA.b[5][1]++,nA.s[47]++,t===Bn.TOP_BOTTOM?(nA.b[6][0]++,nA.s[48]++,e=function(n){nA.f[11]++;var A=(nA.s[39]++,n.diagramMakerData),e=(nA.s[40]++,A.position),t=(nA.s[41]++,A.size);return nA.s[42]++,{x:e.x+t.width/2,y:e.y+t.height}}(n)):(nA.b[6][1]++,nA.s[49]++,e=oA(n))),nA.s[50]++,e};nA.s[51]++;var iA=function(n,A){var e;nA.f[13]++;var t=(nA.s[52]++,tA(n,A));return nA.s[53]++,t===Bn.LEFT_RIGHT?(nA.b[7][0]++,nA.s[54]++,e=function(n){nA.f[9]++;var A=(nA.s[29]++,n.diagramMakerData),e=(nA.s[30]++,A.position),t=(nA.s[31]++,A.size);return nA.s[32]++,{x:e.x,y:e.y+t.height/2}}(n)):(nA.b[7][1]++,nA.s[55]++,t===Bn.TOP_BOTTOM?(nA.b[8][0]++,nA.s[56]++,e=function(n){nA.f[10]++;var A=(nA.s[34]++,n.diagramMakerData),e=(nA.s[35]++,A.position),t=(nA.s[36]++,A.size);return nA.s[37]++,{x:e.x+t.width/2,y:e.y}}(n)):(nA.b[8][1]++,nA.s[57]++,e=oA(n))),nA.s[58]++,e};nA.s[59]++;nA.s[63]++;var rA=function(n,A,e){nA.f[15]++;var t=(nA.s[64]++,function(n,A){nA.f[14]++;var e=(nA.s[60]++,A.x-n.x),t=(nA.s[61]++,A.y-n.y);return nA.s[62]++,Math.sqrt(e*e+t*t)}(n,e));if(nA.s[65]++,0===t)return nA.b[9][0]++,nA.s[66]++,n;nA.b[9][1]++;var o=(nA.s[67]++,n.x),l=(nA.s[68]++,n.y),i=(nA.s[69]++,e.x),r=(nA.s[70]++,e.y),a=(nA.s[71]++,A.width/2),c=(nA.s[72]++,t-a);return nA.s[73]++,{x:(a*i+c*o)/t,y:(a*r+c*l)/t}};nA.s[74]++;nA.s[78]++;var aA=function(n,A,e,t){nA.f[17]++;var o,l=(nA.s[79]++,tA(A,n));return nA.s[80]++,A.typeId?(nA.b[11][0]++,nA.s[81]++,o=n.getShapeForNodeType(A.typeId)):nA.b[11][1]++,nA.s[82]++,l===Bn.BOUNDARY?(nA.b[12][0]++,nA.s[83]++,function(n,A,e,t){switch(nA.f[16]++,nA.s[75]++,A){case On.CIRCLE:return nA.b[10][0]++,nA.s[76]++,rA(n,e,t)}return nA.s[77]++,n}(e,o,A.diagramMakerData.size,t)):(nA.b[12][1]++,nA.s[84]++,e)};nA.s[85]++;var cA=function(n,A,e,t){nA.f[18]++;var o=(nA.s[86]++,{src:lA(n,e),dest:iA(A,e)}),l=(nA.s[87]++,o.dest),i=(nA.s[88]++,o.src);if(nA.s[89]++,t){nA.b[13][0]++;var r=(nA.s[90]++,j(i,l)),a=(nA.s[91]++,r.x),c=(nA.s[92]++,r.y);nA.s[93]++,l={x:a,y:c},nA.s[94]++,i={x:a,y:c}}else nA.b[13][1]++;var s=(nA.s[95]++,aA(e,n,o.src,l)),C=(nA.s[96]++,aA(e,A,o.dest,i));return nA.s[97]++,{src:s,dest:C}};nA.s[98]++;var sA=function(n,A){return nA.f[19]++,nA.s[99]++,n===A?(nA.b[14][0]++,nA.s[100]++,eA[n]):(nA.b[14][1]++,nA.s[101]++,An.STRAIGHT)},CA=(nA.s[102]++,function(n){function A(){return nA.f[21]++,nA.s[104]++,nA.b[15][0]++,null!==n&&(nA.b[15][1]++,n.apply(this,arguments))||(nA.b[15][2]++,this)}return nA.f[20]++,nA.s[103]++,AA(A,n),nA.s[105]++,A.prototype.render=function(){nA.f[22]++;var n=(nA.s[106]++,this.props.state.workspace),A=(nA.s[107]++,n.position),e=(nA.s[108]++,n.canvasSize),t=(nA.s[109]++,n.scale),o=(nA.s[110]++,"translate3d("+A.x+"px, "+A.y+"px, 0) scale("+t+")");return nA.s[111]++,s.h("div",{className:"dm-view",tabIndex:0,"data-type":c.VIEW},s.h($n,{position:A,canvasSize:e,scale:t},s.h("div",{className:"dm-elements"},s.h("svg",{className:"dm-edges",xmlns:"http://www.w3.org/2000/svg"},this.renderArrowheadMarker(),this.renderEdges()),this.renderEdgeBadges(),this.renderNodes(),s.h("svg",{className:"dm-potential-edge",xmlns:"http://www.w3.org/2000/svg"},this.renderPotentialEdge()))),s.h("div",{className:"dm-panels"},this.renderPanels()),s.h("div",{className:"dm-interim",style:{transform:o}},this.renderPotentialNode()),s.h("div",{className:"dm-selection",style:{transform:o}},this.renderSelectionMarquee()),s.h("div",{className:"dm-menu"},this.renderContextMenu()))},nA.s[112]++,A.prototype.renderArrowheadMarker=function(){return nA.f[23]++,nA.s[113]++,this.props.configService.getShowArrowhead()?(nA.b[16][1]++,nA.s[115]++,s.h("defs",null,s.h("marker",{id:"arrow",markerWidth:"5",markerHeight:"5",orient:"auto",refY:"2.5",refX:"5",stroke:"#879596",fill:"#879596"},s.h("path",{d:"M0,0 L5,2.5 0,5"})))):(nA.b[16][0]++,void nA.s[114]++)},nA.s[116]++,A.prototype.renderNodes=function(){nA.f[24]++;var n=(nA.s[117]++,this),A=(nA.s[118]++,this.props.state.nodes),e=(nA.s[119]++,this.props.configService.getRenderNode()),t=(nA.s[120]++,this.props.configService.getRenderDestroy()),o=(nA.s[121]++,Object.keys(A));return nA.s[122]++,o.map((function(o){nA.f[25]++;var l,i=(nA.s[123]++,A[o].typeId),r=(nA.s[124]++,tA(A[o],n.props.configService));return nA.s[125]++,i?(nA.b[17][0]++,nA.s[126]++,l=n.props.configService.getVisibleConnectorTypesForNodeType(i)):nA.b[17][1]++,nA.s[127]++,s.h(Kn,{key:"node_"+A[o].id,renderCallback:e.bind(null,A[o]),destroyCallback:t,connectorPlacement:r,diagramMakerNode:A[o],visibleConnectorTypes:l})}))},nA.s[128]++,A.prototype.renderPotentialNode=function(){nA.f[26]++;var n=(nA.s[129]++,this.props.state.potentialNode),A=(nA.s[130]++,this.props.configService.getRenderPotentialNode()),e=(nA.s[131]++,this.props.configService.getRenderDestroy());if(nA.s[132]++,nA.b[19][0]++,!n||(nA.b[19][1]++,!A))return nA.b[18][0]++,void nA.s[133]++;nA.b[18][1]++;var t=(nA.s[134]++,n.typeId),o=(nA.s[135]++,n.position),l=(nA.s[136]++,n.size);return nA.s[137]++,s.h(_n,{key:"potentialNode",typeId:t,position:o,size:l,renderCallback:A.bind(null,n),destroyCallback:e})},nA.s[138]++,A.prototype.renderEdges=function(){nA.f[27]++;var n=(nA.s[139]++,this),A=(nA.s[140]++,this.getEdges()),e=(nA.s[141]++,A.singles),t=(nA.s[142]++,A.pairs),o=(nA.s[143]++,[]);nA.s[144]++,t.forEach((function(A){nA.f[28]++,nA.s[145]++,o=o.concat(A.map((function(A){return nA.f[29]++,nA.s[146]++,n.renderEdge(A,!0)})))}));var l=(nA.s[147]++,e.map((function(A){return nA.f[30]++,nA.s[148]++,n.renderEdge(A)})));return nA.s[149]++,l.concat(o)},nA.s[150]++,A.prototype.renderEdge=function(n,A){nA.f[31]++;var e=(nA.s[151]++,this.props.state.nodes),t=(nA.s[152]++,this.props.state.edges),o=(nA.s[153]++,e[t[n].src]),l=(nA.s[154]++,e[t[n].dest]),i=(nA.s[155]++,cA(o,l,this.props.configService,A)),r=(nA.s[156]++,A?(nA.b[20][0]++,An.QUADRATIC_BEZIER):(nA.b[20][1]++,sA(tA(o,this.props.configService),tA(l,this.props.configService))));return nA.s[157]++,s.h(rn,{key:"edge_"+t[n].id,id:t[n].id,src:i.src,dest:i.dest,srcTypeId:o.typeId,destTypeId:l.typeId,edgeStyle:r,selected:t[n].diagramMakerData.selected,showArrowhead:this.props.configService.getShowArrowhead()})},nA.s[158]++,A.prototype.renderEdgeBadges=function(){nA.f[32]++;var n=(nA.s[159]++,this),A=(nA.s[160]++,this.props.state.nodes),e=(nA.s[161]++,this.props.state.edges),t=(nA.s[162]++,this.props.configService.getRenderEdge()),o=(nA.s[163]++,this.props.configService.getRenderDestroy());if(nA.s[164]++,!t)return nA.b[21][0]++,void nA.s[165]++;nA.b[21][1]++;var l=(nA.s[166]++,this.getEdges()),i=(nA.s[167]++,l.singles),r=(nA.s[168]++,l.pairs),a=(nA.s[169]++,[]);nA.s[170]++,r.forEach((function(l){nA.f[33]++,nA.s[171]++,a=a.concat(l.map((function(l,i){nA.f[34]++;var r=(nA.s[172]++,cA(A[e[l].src],A[e[l].dest],n.props.configService,!0));return nA.s[173]++,s.h(sn,{id:l,key:"edgeBadge_"+e[l].id,src:r.src,dest:r.dest,renderCallback:t.bind(null,e[l]),destroyCallback:o,isPartOfEdgePair:!0})})))}));var c=(nA.s[174]++,i.map((function(l){nA.f[35]++;var i=(nA.s[175]++,cA(A[e[l].src],A[e[l].dest],n.props.configService));return nA.s[176]++,s.h(sn,{id:l,key:"edgeBadge_"+e[l].id,src:i.src,dest:i.dest,renderCallback:t.bind(null,e[l]),destroyCallback:o})})));return nA.s[177]++,c.concat(a)},nA.s[178]++,A.prototype.getEdges=function(){nA.f[36]++;var n=(nA.s[179]++,this.props.state.nodes),A=(nA.s[180]++,this.props.state.edges),e=(nA.s[181]++,Object.keys(A)),t=(nA.s[182]++,e.filter((function(e){return nA.f[37]++,nA.s[183]++,nA.b[22][0]++,!(!n[A[e].src]||(nA.b[22][1]++,!n[A[e].dest]))}))),o=(nA.s[184]++,this.props.configService.getConnectorPlacement()),l=(nA.s[185]++,{}),i=(nA.s[186]++,[]);if(nA.s[187]++,nA.b[24][0]++,o===fn.LEFT_RIGHT||(nA.b[24][1]++,o===fn.TOP_BOTTOM))return nA.b[23][0]++,nA.s[188]++,{singles:t,pairs:[]};nA.b[23][1]++,nA.s[189]++,t.forEach((function(e){nA.f[38]++;var t,o=(nA.s[190]++,A[e]),r=(nA.s[191]++,n[o.src]),a=(nA.s[192]++,n[o.dest]),c=(nA.s[193]++,r.id+"__"+a.id),s=(nA.s[194]++,a.id+"__"+r.id);nA.s[195]++,l[s]?(nA.b[25][0]++,nA.s[196]++,t=l[s],nA.s[197]++,i.push([o.id,t]),nA.s[198]++,delete l[s]):(nA.b[25][1]++,nA.s[199]++,l[c]=o.id)}));var r=(nA.s[200]++,Object.keys(l).map((function(n){return nA.f[39]++,nA.s[201]++,l[n]})));return nA.s[202]++,{singles:r,pairs:i}},nA.s[203]++,A.prototype.renderPanels=function(){nA.f[40]++;var n=(nA.s[204]++,this.props.state),A=(nA.s[205]++,this.props.state.panels),e=(nA.s[206]++,this.props.state.workspace.viewContainerSize),t=(nA.s[207]++,this.props.configService.getRenderPanel),o=(nA.s[208]++,this.props.configService.getRenderDestroy()),l=(nA.s[209]++,Object.keys(A));return nA.s[210]++,l.map((function(l){return nA.f[41]++,nA.s[211]++,s.h(Wn,{positionAnchor:A[l].positionAnchor,key:"panel_"+A[l].id,id:A[l].id,position:A[l].position,size:A[l].size,renderCallback:t(l).bind(null,A[l],n),destroyCallback:o,viewContainerSize:e})}))},nA.s[212]++,A.prototype.renderPotentialEdge=function(){nA.f[42]++;var n=(nA.s[213]++,this.props.state.nodes),A=(nA.s[214]++,this.props.state.potentialEdge);if(nA.s[215]++,!A)return nA.b[26][0]++,void nA.s[216]++;nA.b[26][1]++;var e=(nA.s[217]++,lA(n[A.src],this.props.configService)),t=(nA.s[218]++,sA(tA(n[A.src],this.props.configService),this.props.configService.getConnectorPlacement()));return nA.s[219]++,s.h(mn,{key:"potentialEdge",src:e,dest:A.position,edgeStyle:t,showArrowhead:this.props.configService.getShowArrowhead()})},nA.s[220]++,A.prototype.renderSelectionMarquee=function(){nA.f[43]++;var n=(nA.s[221]++,this.props.state.editor.selectionMarquee);return nA.s[222]++,n?(nA.b[27][1]++,nA.s[224]++,s.h(Ln,{anchor:n.anchor,position:n.position})):(nA.b[27][0]++,void nA.s[223]++)},nA.s[225]++,A.prototype.renderContextMenu=function(){nA.f[44]++;var n=(nA.s[226]++,this.props.state.editor.contextMenu);if(nA.s[227]++,!n)return nA.b[28][0]++,void nA.s[228]++;nA.b[28][1]++;var A=(nA.s[229]++,this.props.configService.getBoundRenderContextMenu(n.targetType,n.targetId)),e=(nA.s[230]++,this.props.configService.getRenderDestroy());return nA.s[231]++,A?(nA.b[29][1]++,nA.s[233]++,s.h(I,{position:n.position,renderCallback:A,destroyCallback:e})):(nA.b[29][0]++,void nA.s[232]++)},nA.s[234]++,A}(s.Component)),uA=function(){var n="/Volumes/workplace/diagram-maker/src/components/view/ConnectedView.ts",A="0d24b00d125e4214388f489f9460db1a88c2c264",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/view/ConnectedView.ts",statementMap:{0:{start:{line:4,column:4},end:{line:4,column:28}},1:{start:{line:7,column:23},end:{line:9,column:1}},2:{start:{line:8,column:4},end:{line:8,column:42}}},fnMap:{0:{name:"mapStateToProps",decl:{start:{line:3,column:9},end:{line:3,column:24}},loc:{start:{line:3,column:32},end:{line:5,column:1}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:7,column:23},end:{line:7,column:24}},loc:{start:{line:7,column:35},end:{line:9,column:1}},line:7}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/view/ConnectedView.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/view/ConnectedView.ts"],names:[],mappings:"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,cAAc,CAAC;AAKvC,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAU9B,SAAS,eAAe,CACtB,KAA2C;IAE3C,OAAO,EAAE,KAAK,OAAA,EAAE,CAAC;AACnB,CAAC;AAED,yGAAyG;AAEzG,IAAM,gBAAgB,GACpB;IACA,OAAA,OAAO,CACL,eAAe,CAChB,CAAC,IAAI,CAAC;AAFP,CAEO,CAAC;AAEV,OAAO,EACL,gBAAgB,EACjB,CAAC",sourcesContent:["import * as Preact from 'preact';\nimport { connect } from 'preact-redux';\n\nimport ConfigService from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerData } from 'diagramMaker/state/types';\n\nimport { View } from './View';\n\ninterface ConnectedViewStateProps<NodeType, EdgeType> {\n  state: DiagramMakerData<NodeType, EdgeType>;\n}\n\nexport interface ConnectedViewOwnProps<NodeType, EdgeType> {\n  configService: ConfigService<NodeType, EdgeType>;\n}\n\nfunction mapStateToProps<NodeType, EdgeType>(\n  state: DiagramMakerData<NodeType, EdgeType>\n): { state: DiagramMakerData<NodeType, EdgeType> } {\n  return { state };\n}\n\n// exporting a function instead of just a normal value lets us pass types to the ConnectedView component.\n\nconst getConnectedView =\n  <NodeType, EdgeType>(): Preact.ComponentConstructor<ConnectedViewOwnProps<NodeType, EdgeType>> =>\n  connect<ConnectedViewStateProps<NodeType, EdgeType>, {}, ConnectedViewOwnProps<NodeType, EdgeType>>(\n    mapStateToProps\n  )(View);\n\nexport {\n  getConnectedView\n};\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function mA(n){return uA.f[0]++,uA.s[0]++,{state:n}}uA.s[1]++;var dA=function(){var n="/Volumes/workplace/diagram-maker/src/components/renderUtils.tsx",A="eb95956e578f2237c463390873a4871a8c600f75",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/components/renderUtils.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:5,column:42}},1:{start:{line:6,column:4},end:{line:7,column:85}},2:{start:{line:10,column:4},end:{line:10,column:48}}},fnMap:{0:{name:"render",decl:{start:{line:4,column:16},end:{line:4,column:22}},loc:{start:{line:4,column:62},end:{line:8,column:1}},line:4},1:{name:"destroy",decl:{start:{line:9,column:16},end:{line:9,column:23}},loc:{start:{line:9,column:41},end:{line:11,column:1}},line:9}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/components/renderUtils.tsx",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/components/renderUtils.tsx"],names:[],mappings:"AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AACjC,OAAO,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AAGxC,OAAO,EAAE,gBAAgB,EAAE,MAAM,4CAA4C,CAAC;AAI9E,MAAM,UAAU,MAAM,CACpB,KAAkD,EAClD,SAAsB,EACtB,aAAgD,EAChD,IAAc;IAEd,IAAM,aAAa,GAAG,gBAAgB,EAAsB,CAAC;IAC7D,OAAO,MAAM,CAAC,MAAM,CAClB,SAAC,QAAQ,IAAC,KAAK,EAAE,KAAK;QACpB,SAAC,aAAa,IAAC,aAAa,EAAE,aAAa,GAAI,CACtC,EACX,SAAS,EAAE,IAAI,CAChB,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,OAAO,CAAC,SAAsB,EAAE,IAAa;IAC3D,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;AAC9C,CAAC",sourcesContent:["import * as Preact from 'preact';\nimport { Provider } from 'preact-redux';\nimport { Store } from 'redux';\n\nimport { getConnectedView } from 'diagramMaker/components/view/ConnectedView';\nimport ConfigService from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerData } from 'diagramMaker/state/types';\n\nexport function render<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  container: HTMLElement,\n  configService: ConfigService<NodeType, EdgeType>,\n  root?: Element\n) {\n  const ConnectedView = getConnectedView<NodeType, EdgeType>();\n  return Preact.render(\n    <Provider store={store}>\n      <ConnectedView configService={configService} />\n    </Provider>,\n    container, root\n  );\n}\n\nexport function destroy(container: HTMLElement, root: Element) {\n  return Preact.render(null, container, root);\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function EA(n,A,e,t){dA.f[0]++;var o=(dA.s[0]++,uA.f[1]++,uA.s[2]++,Object(C.b)(mA)(CA));return dA.s[1]++,s.render(s.h(C.a,{store:n},s.h(o,{configService:e})),A,t)}var pA,fA=e(22),gA=function(){var n="/Volumes/workplace/diagram-maker/src/state/editor/editorActions.ts",A="d5fafbe431450de5fbb06f44995e8c38c8f9d7b7",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/editor/editorActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:30,column:50}},10:{start:{line:15,column:4},end:{line:15,column:61}},11:{start:{line:17,column:4},end:{line:17,column:65}},12:{start:{line:19,column:4},end:{line:19,column:65}},13:{start:{line:21,column:4},end:{line:21,column:75}},14:{start:{line:23,column:4},end:{line:23,column:79}},15:{start:{line:25,column:4},end:{line:25,column:75}},16:{start:{line:27,column:4},end:{line:27,column:51}},17:{start:{line:29,column:4},end:{line:29,column:37}},18:{start:{line:31,column:27},end:{line:31,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:30},end:{line:30,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:30,column:3},end:{line:30,column:48}},type:"binary-expr",locations:[{start:{line:30,column:3},end:{line:30,column:20}},{start:{line:30,column:25},end:{line:30,column:47}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/editor/editorActions.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/editor/editorActions.ts"],names:[],mappings:";;;;;;;;;;;AAKA,MAAM,CAAN,IAAY,iBAiBX;AAjBD,WAAY,iBAAiB;IAC3B,mCAAmC;IACnC,wDAAmC,CAAA;IACnC,6BAA6B;IAC7B,4DAAuC,CAAA;IACvC,6BAA6B;IAC7B,4DAAuC,CAAA;IACvC,kCAAkC;IAClC,sEAAiD,CAAA;IACjD,oCAAoC;IACpC,0EAAqD,CAAA;IACrD,kCAAkC;IAClC,sEAAiD,CAAA;IACjD,2BAA2B;IAC3B,8CAAyB,CAAA;IACzB,+BAA+B;IAC/B,gCAAW,CAAA;AACb,CAAC,EAjBW,iBAAiB,KAAjB,iBAAiB,QAiB5B;AAED,MAAM,CAAC,IAAM,aAAa,gBACrB,iBAAiB,CACrB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { EditorModeType, Position, Rectangle, Size } from 'diagramMaker/state/types';\n\nexport enum EditorActionsType {\n  /** Set the mode for the editor. */\n  SET_EDITOR_MODE = 'SET_EDITOR_MODE',\n  /** Show the context menu. */\n  SHOW_CONTEXT_MENU = 'SHOW_CONTEXT_MENU',\n  /** Hide the context menu. */\n  HIDE_CONTEXT_MENU = 'HIDE_CONTEXT_MENU',\n  /** Show the selection marquee. */\n  SHOW_SELECTION_MARQUEE = 'SHOW_SELECTION_MARQUEE',\n  /** Update the selection marquee. */\n  UPDATE_SELECTION_MARQUEE = 'UPDATE_SELECTION_MARQUEE',\n  /** Hide the selection marquee. */\n  HIDE_SELECTION_MARQUEE = 'HIDE_SELECTION_MARQUEE',\n  /** Focus the given node */\n  FOCUS_NODE = 'FOCUS_NODE',\n  /** Fits all nodes into view */\n  FIT = 'FIT'\n}\n\nexport const EditorActions = {\n  ...EditorActionsType\n};\n\n/** Action fired to set the mode for the editor */\nexport interface SetEditorModeAction extends Action {\n  type: EditorActionsType.SET_EDITOR_MODE;\n  payload: {\n    /** Requested mode for the editor */\n    mode: EditorModeType\n  };\n}\n\n/** Action fired to show the context menu */\nexport interface ShowContextMenuAction extends Action {\n  type: EditorActionsType.SHOW_CONTEXT_MENU;\n  payload: {\n    /** Position to render the context menu */\n    position: Position,\n    /** Type of UI Element to show the context menu for. */\n    targetType: DiagramMakerComponentsType,\n    /** ID of the UI Element in case it was a node, edge or a panel. */\n    targetId?: string\n  };\n}\n\n/** Action fired to hide the context menu */\nexport interface HideContextMenuAction extends Action {\n  type: EditorActionsType.HIDE_CONTEXT_MENU;\n}\n\n/** Action fired to show the selection marquee */\nexport interface ShowSelectionMarqueeAction extends Action {\n  type: EditorActionsType.SHOW_SELECTION_MARQUEE;\n  payload: {\n    /**\n     * Position to anchor the selection marquee.\n     * Usually the position where mouse was clicked to start the selection.\n     */\n    anchor: Position\n  };\n}\n\n/** Action fired to update the selection marquee */\nexport interface UpdateSelectionMarqueeAction extends Action {\n  type: EditorActionsType.UPDATE_SELECTION_MARQUEE;\n  payload: {\n    /**\n     * Position to anchor the selection marquee.\n     * Usually the position where mouse was clicked to start the selection.\n     */\n    anchor: Position,\n    /** The diagonally opposite corner from the anchor. Usually the current mouse position. */\n    position: Position\n  };\n}\n\n/** Action fired to hide the selection marquee */\nexport interface HideSelectionMarqueeAction extends Action {\n  type: EditorActionsType.HIDE_SELECTION_MARQUEE;\n}\n\n/** Action fired to focus on a specific node */\nexport interface FocusNodeAction extends Action {\n  type: EditorActionsType.FOCUS_NODE;\n  payload: {\n    /** ID of the node to focus */\n    id: string;\n    /** position of the node to focus */\n    position: Position;\n    /** size of the node to focus */\n    size: Size;\n    /** Width of fixed left panel */\n    leftPanelWidth?: number;\n    /** Width of fixed right panel */\n    rightPanelWidth?: number;\n  };\n}\n\n/** Action fired to fit all nodes into view */\nexport interface FitAction extends Action {\n  type: EditorActionsType.FIT;\n  payload: {\n    /** Position & sizes of nodes that need to be fit into view */\n    nodeRects: Rectangle[],\n    /** Width of fixed left panel */\n    leftPanelWidth?: number;\n    /** Width of fixed right panel */\n    rightPanelWidth?: number;\n  };\n}\n\nexport type EditorAction =\n  SetEditorModeAction | ShowContextMenuAction | HideContextMenuAction | ShowSelectionMarqueeAction |\n  UpdateSelectionMarqueeAction | HideSelectionMarqueeAction | FocusNodeAction | FitAction;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),hA=(gA.s[0]++,void gA.b[0][0]++&&(gA.b[0][1]++,(void 0).__assign)||(gA.b[0][2]++,function(){return gA.f[0]++,gA.s[1]++,gA.b[1][0]++,hA=Object.assign||(gA.b[1][1]++,function(n){gA.f[1]++,gA.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in gA.s[3]++,A=arguments[e],gA.s[4]++,A)gA.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(gA.b[2][0]++,gA.s[6]++,n[o]=A[o]):gA.b[2][1]++;return gA.s[7]++,n}),gA.s[8]++,hA.apply(this,arguments)}));gA.s[9]++,function(n){gA.f[2]++,gA.s[10]++,n.SET_EDITOR_MODE="SET_EDITOR_MODE",gA.s[11]++,n.SHOW_CONTEXT_MENU="SHOW_CONTEXT_MENU",gA.s[12]++,n.HIDE_CONTEXT_MENU="HIDE_CONTEXT_MENU",gA.s[13]++,n.SHOW_SELECTION_MARQUEE="SHOW_SELECTION_MARQUEE",gA.s[14]++,n.UPDATE_SELECTION_MARQUEE="UPDATE_SELECTION_MARQUEE",gA.s[15]++,n.HIDE_SELECTION_MARQUEE="HIDE_SELECTION_MARQUEE",gA.s[16]++,n.FOCUS_NODE="FOCUS_NODE",gA.s[17]++,n.FIT="FIT"}((gA.b[3][0]++,pA||(gA.b[3][1]++,pA={})));var IA=(gA.s[18]++,hA({},pA)),yA=function(){var n="/Volumes/workplace/diagram-maker/src/state/editor/editorActionDispatcher.ts",A="07ce680aadb5d40a92375caaf1320884c1cc75e5",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/editor/editorActionDispatcher.ts",statementMap:{0:{start:{line:3,column:4},end:{line:5,column:6}},1:{start:{line:8,column:4},end:{line:15,column:6}},2:{start:{line:18,column:4},end:{line:23,column:6}},3:{start:{line:26,column:4},end:{line:32,column:6}},4:{start:{line:35,column:4},end:{line:37,column:6}},5:{start:{line:40,column:4},end:{line:43,column:6}},6:{start:{line:46,column:4},end:{line:49,column:6}},7:{start:{line:52,column:4},end:{line:55,column:6}},8:{start:{line:58,column:24},end:{line:58,column:43}},9:{start:{line:58,column:56},end:{line:58,column:70}},10:{start:{line:58,column:81},end:{line:58,column:93}},11:{start:{line:59,column:15},end:{line:59,column:26}},12:{start:{line:59,column:33},end:{line:59,column:42}},13:{start:{line:60,column:4},end:{line:67,column:5}},14:{start:{line:61,column:32},end:{line:61,column:74}},15:{start:{line:62,column:8},end:{line:66,column:9}},16:{start:{line:63,column:12},end:{line:63,column:43}},17:{start:{line:64,column:25},end:{line:64,column:72}},18:{start:{line:65,column:12},end:{line:65,column:35}},19:{start:{line:70,column:16},end:{line:70,column:32}},20:{start:{line:71,column:4},end:{line:74,column:5}},21:{start:{line:72,column:21},end:{line:72,column:50}},22:{start:{line:73,column:8},end:{line:73,column:31}},23:{start:{line:77,column:17},end:{line:77,column:57}},24:{start:{line:78,column:4},end:{line:78,column:27}},25:{start:{line:81,column:16},end:{line:81,column:32}},26:{start:{line:82,column:4},end:{line:86,column:5}},27:{start:{line:83,column:21},end:{line:83,column:57}},28:{start:{line:84,column:21},end:{line:84,column:73}},29:{start:{line:85,column:8},end:{line:85,column:31}},30:{start:{line:89,column:16},end:{line:89,column:32}},31:{start:{line:90,column:4},end:{line:93,column:5}},32:{start:{line:91,column:21},end:{line:91,column:55}},33:{start:{line:92,column:8},end:{line:92,column:31}}},fnMap:{0:{name:"createHideContextMenuAction",decl:{start:{line:2,column:9},end:{line:2,column:36}},loc:{start:{line:2,column:39},end:{line:6,column:1}},line:2},1:{name:"createShowContextMenuAction",decl:{start:{line:7,column:9},end:{line:7,column:36}},loc:{start:{line:7,column:69},end:{line:16,column:1}},line:7},2:{name:"createShowSelectionMarqueeAction",decl:{start:{line:17,column:9},end:{line:17,column:41}},loc:{start:{line:17,column:50},end:{line:24,column:1}},line:17},3:{name:"createUpdateSelectionMarqueeAction",decl:{start:{line:25,column:9},end:{line:25,column:43}},loc:{start:{line:25,column:62},end:{line:33,column:1}},line:25},4:{name:"createHideSelectionMarqueeAction",decl:{start:{line:34,column:9},end:{line:34,column:41}},loc:{start:{line:34,column:44},end:{line:38,column:1}},line:34},5:{name:"createSetEditorModeAction",decl:{start:{line:39,column:16},end:{line:39,column:41}},loc:{start:{line:39,column:48},end:{line:44,column:1}},line:39},6:{name:"createFocusNodeAction",decl:{start:{line:45,column:16},end:{line:45,column:37}},loc:{start:{line:45,column:91},end:{line:50,column:1}},line:45},7:{name:"createFitAction",decl:{start:{line:51,column:16},end:{line:51,column:31}},loc:{start:{line:51,column:76},end:{line:56,column:1}},line:51},8:{name:"handleShowContextMenu",decl:{start:{line:57,column:16},end:{line:57,column:37}},loc:{start:{line:57,column:60},end:{line:68,column:1}},line:57},9:{name:"handleHideContextMenu",decl:{start:{line:69,column:16},end:{line:69,column:37}},loc:{start:{line:69,column:45},end:{line:75,column:1}},line:69},10:{name:"handleShowSelectionMarquee",decl:{start:{line:76,column:16},end:{line:76,column:42}},loc:{start:{line:76,column:58},end:{line:79,column:1}},line:76},11:{name:"handleUpdateSelectionMarquee",decl:{start:{line:80,column:16},end:{line:80,column:44}},loc:{start:{line:80,column:62},end:{line:87,column:1}},line:80},12:{name:"handleHideSelectionMarquee",decl:{start:{line:88,column:16},end:{line:88,column:42}},loc:{start:{line:88,column:50},end:{line:94,column:1}},line:88}},branchMap:{0:{loc:{start:{line:60,column:4},end:{line:67,column:5}},type:"if",locations:[{start:{line:60,column:4},end:{line:67,column:5}},{start:{line:60,column:4},end:{line:67,column:5}}],line:60},1:{loc:{start:{line:62,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:62,column:8},end:{line:66,column:9}},{start:{line:62,column:8},end:{line:66,column:9}}],line:62},2:{loc:{start:{line:71,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:74,column:5}},{start:{line:71,column:4},end:{line:74,column:5}}],line:71},3:{loc:{start:{line:71,column:8},end:{line:71,column:48}},type:"binary-expr",locations:[{start:{line:71,column:8},end:{line:71,column:20}},{start:{line:71,column:24},end:{line:71,column:48}}],line:71},4:{loc:{start:{line:82,column:4},end:{line:86,column:5}},type:"if",locations:[{start:{line:82,column:4},end:{line:86,column:5}},{start:{line:82,column:4},end:{line:86,column:5}}],line:82},5:{loc:{start:{line:90,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:90,column:4},end:{line:93,column:5}},{start:{line:90,column:4},end:{line:93,column:5}}],line:90}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/editor/editorActionDispatcher.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/editor/editorActionDispatcher.ts"],names:[],mappings:"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",sourcesContent:["import { Store } from 'redux';\n\nimport ConfigService from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { NormalizedMouseClickEvent } from 'diagramMaker/service/ui/UIEventNormalizer';\nimport { DiagramMakerData, EditorModeType, Position, Rectangle, Size } from 'diagramMaker/state/types';\n\nimport {\n  EditorActionsType,\n  FitAction,\n  FocusNodeAction,\n  HideContextMenuAction,\n  HideSelectionMarqueeAction,\n  SetEditorModeAction,\n  ShowContextMenuAction,\n  ShowSelectionMarqueeAction,\n  UpdateSelectionMarqueeAction\n} from './editorActions';\n\nfunction createHideContextMenuAction(): HideContextMenuAction {\n  return {\n    type: EditorActionsType.HIDE_CONTEXT_MENU\n  };\n}\n\nfunction createShowContextMenuAction(\n  position: Position, targetType: DiagramMakerComponentsType, targetId?: string\n): ShowContextMenuAction {\n  return {\n    type: EditorActionsType.SHOW_CONTEXT_MENU,\n    payload: {\n      position,\n      targetType,\n      targetId\n    }\n  };\n}\n\nfunction createShowSelectionMarqueeAction(anchor: Position): ShowSelectionMarqueeAction {\n  return {\n    type: EditorActionsType.SHOW_SELECTION_MARQUEE,\n    payload: {\n      anchor\n    }\n  };\n}\n\nfunction createUpdateSelectionMarqueeAction(anchor: Position, position: Position): UpdateSelectionMarqueeAction {\n  return {\n    type: EditorActionsType.UPDATE_SELECTION_MARQUEE,\n    payload: {\n      anchor,\n      position\n    }\n  };\n}\n\nfunction createHideSelectionMarqueeAction(): HideSelectionMarqueeAction {\n  return {\n    type: EditorActionsType.HIDE_SELECTION_MARQUEE\n  };\n}\n\nexport function createSetEditorModeAction(mode: EditorModeType): SetEditorModeAction {\n  return {\n    type: EditorActionsType.SET_EDITOR_MODE,\n    payload: { mode }\n  };\n}\n\nexport function createFocusNodeAction(\n  id: string, position: Position, size: Size, leftPanelWidth?: number, rightPanelWidth?: number\n): FocusNodeAction {\n  return {\n    type: EditorActionsType.FOCUS_NODE,\n    payload: { id, position, size, leftPanelWidth, rightPanelWidth }\n  };\n}\n\nexport function createFitAction(nodeRects: Rectangle[], leftPanelWidth?: number, rightPanelWidth?: number): FitAction {\n  return {\n    type: EditorActionsType.FIT,\n    payload: { nodeRects, leftPanelWidth, rightPanelWidth }\n  };\n}\n\nexport function handleShowContextMenu<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  config: ConfigService<NodeType, EdgeType>,\n  event: NormalizedMouseClickEvent\n) {\n  const { originalEvent, position, target } = event;\n  const { type, id } = target;\n  if (type) {\n    const renderContextMenu = config.getBoundRenderContextMenu(type, id);\n    if (renderContextMenu) {\n      originalEvent.preventDefault();\n      const action = createShowContextMenuAction(position, type as DiagramMakerComponentsType, id);\n\n      store.dispatch(action);\n    }\n  }\n}\n\nexport function handleHideContextMenu<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>\n) {\n  const state = store.getState();\n  if (state.editor && state.editor.contextMenu) {\n    const action = createHideContextMenuAction();\n\n    store.dispatch(action);\n  }\n}\n\nexport function handleShowSelectionMarquee<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  anchor: Position\n) {\n  const action = createShowSelectionMarqueeAction(anchor);\n\n  store.dispatch(action);\n}\n\nexport function handleUpdateSelectionMarquee<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  position: Position\n) {\n  const state = store.getState();\n  if (state.editor.selectionMarquee) {\n    const anchor = state.editor.selectionMarquee.anchor;\n    const action = createUpdateSelectionMarqueeAction(anchor, position);\n\n    store.dispatch(action);\n  }\n}\n\nexport function handleHideSelectionMarquee<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>\n) {\n  const state = store.getState();\n  if (state.editor.selectionMarquee) {\n    const action = createHideSelectionMarqueeAction();\n\n    store.dispatch(action);\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function BA(n,A,e){yA.f[8]++;var t=(yA.s[8]++,e.originalEvent),o=(yA.s[9]++,e.position),l=(yA.s[10]++,e.target),i=(yA.s[11]++,l.type),r=(yA.s[12]++,l.id);if(yA.s[13]++,i){yA.b[0][0]++;var a=(yA.s[14]++,A.getBoundRenderContextMenu(i,r));if(yA.s[15]++,a){yA.b[1][0]++,yA.s[16]++,t.preventDefault();var c=(yA.s[17]++,function(n,A,e){return yA.f[1]++,yA.s[1]++,{type:pA.SHOW_CONTEXT_MENU,payload:{position:n,targetType:A,targetId:e}}}(o,i,r));yA.s[18]++,n.dispatch(c)}else yA.b[1][1]++}else yA.b[0][1]++}function MA(n){yA.f[9]++;var A=(yA.s[19]++,n.getState());if(yA.s[20]++,yA.b[3][0]++,A.editor&&(yA.b[3][1]++,A.editor.contextMenu)){yA.b[2][0]++;var e=(yA.s[21]++,yA.f[0]++,yA.s[0]++,{type:pA.HIDE_CONTEXT_MENU});yA.s[22]++,n.dispatch(e)}else yA.b[2][1]++}function vA(n,A){yA.f[10]++;var e=(yA.s[23]++,function(n){return yA.f[2]++,yA.s[2]++,{type:pA.SHOW_SELECTION_MARQUEE,payload:{anchor:n}}}(A));yA.s[24]++,n.dispatch(e)}function bA(n,A){yA.f[11]++;var e=(yA.s[25]++,n.getState());if(yA.s[26]++,e.editor.selectionMarquee){yA.b[4][0]++;var t=(yA.s[27]++,e.editor.selectionMarquee.anchor),o=(yA.s[28]++,function(n,A){return yA.f[3]++,yA.s[3]++,{type:pA.UPDATE_SELECTION_MARQUEE,payload:{anchor:n,position:A}}}(t,A));yA.s[29]++,n.dispatch(o)}else yA.b[4][1]++}function OA(n){yA.f[12]++;var A=(yA.s[30]++,n.getState());if(yA.s[31]++,A.editor.selectionMarquee){yA.b[5][0]++;var e=(yA.s[32]++,yA.f[4]++,yA.s[4]++,{type:pA.HIDE_SELECTION_MARQUEE});yA.s[33]++,n.dispatch(e)}else yA.b[5][1]++}function GA(n){for(var A=arguments.length,e=Array(A>1?A-1:0),t=1;t<A;t++)e[t-1]=arguments[t];throw Error("[Immer] minified error nr: "+n+(e.length?" "+e.map((function(n){return"'"+n+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function DA(n){return!!n&&!!n[Ee]}function kA(n){return!!n&&(function(n){if(!n||"object"!=typeof n)return!1;var A=Object.getPrototypeOf(n);return!A||A===Object.prototype}(n)||Array.isArray(n)||!!n[de]||!!n.constructor[de]||QA(n)||UA(n))}function KA(n,A,e){void 0===e&&(e=!1),0===SA(n)?(e?Object.keys:pe)(n).forEach((function(t){e&&"symbol"==typeof t||A(t,n[t],n)})):n.forEach((function(e,t){return A(t,e,n)}))}function SA(n){var A=n[Ee];return A?A.i>3?A.i-4:A.i:Array.isArray(n)?1:QA(n)?2:UA(n)?3:0}function wA(n,A){return 2===SA(n)?n.has(A):Object.prototype.hasOwnProperty.call(n,A)}function _A(n,A){return 2===SA(n)?n.get(A):n[A]}function xA(n,A,e){var t=SA(n);2===t?n.set(A,e):3===t?(n.delete(A),n.add(e)):n[A]=e}function TA(n,A){return n===A?0!==n||1/n==1/A:n!=n&&A!=A}function QA(n){return se&&n instanceof Map}function UA(n){return Ce&&n instanceof Set}function NA(n){return n.o||n.t}function PA(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var A=fe(n);delete A[Ee];for(var e=pe(A),t=0;t<e.length;t++){var o=e[t],l=A[o];!1===l.writable&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(A[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:n[o]})}return Object.create(Object.getPrototypeOf(n),A)}function RA(n,A){return void 0===A&&(A=!1),YA(n)||DA(n)||!kA(n)||(SA(n)>1&&(n.set=n.add=n.clear=n.delete=WA),Object.freeze(n),A&&KA(n,(function(n,A){return RA(A,!0)}),!0)),n}function WA(){GA(2)}function YA(n){return null==n||"object"!=typeof n||Object.isFrozen(n)}function zA(n){var A=ge[n];return A||GA(18,n),A}function LA(){return ae}function jA(n,A){A&&(zA("Patches"),n.u=[],n.s=[],n.v=A)}function FA(n){VA(n),n.p.forEach(qA),n.p=null}function VA(n){n===ae&&(ae=n.l)}function HA(n){return ae={p:[],l:ae,h:n,m:!0,_:0}}function qA(n){var A=n[Ee];0===A.i||1===A.i?A.j():A.g=!0}function XA(n,A){A._=A.p.length;var e=A.p[0],t=void 0!==n&&n!==e;return A.h.O||zA("ES5").S(A,n,t),t?(e[Ee].P&&(FA(A),GA(4)),kA(n)&&(n=ZA(A,n),A.l||$A(A,n)),A.u&&zA("Patches").M(e[Ee],n,A.u,A.s)):n=ZA(A,e,[]),FA(A),A.u&&A.v(A.u,A.s),n!==me?n:void 0}function ZA(n,A,e){if(YA(A))return A;var t=A[Ee];if(!t)return KA(A,(function(o,l){return JA(n,t,A,o,l,e)}),!0),A;if(t.A!==n)return A;if(!t.P)return $A(n,t.t,!0),t.t;if(!t.I){t.I=!0,t.A._--;var o=4===t.i||5===t.i?t.o=PA(t.k):t.o;KA(3===t.i?new Set(o):o,(function(A,l){return JA(n,t,o,A,l,e)})),$A(n,o,!1),e&&n.u&&zA("Patches").R(t,e,n.u,n.s)}return t.o}function JA(n,A,e,t,o,l){if(DA(o)){var i=ZA(n,o,l&&A&&3!==A.i&&!wA(A.D,t)?l.concat(t):void 0);if(xA(e,t,i),!DA(i))return;n.m=!1}if(kA(o)&&!YA(o)){if(!n.h.N&&n._<1)return;ZA(n,o),A&&A.A.l||$A(n,o)}}function $A(n,A,e){void 0===e&&(e=!1),n.h.N&&n.m&&RA(A,e)}function ne(n,A){var e=n[Ee];return(e?NA(e):n)[A]}function Ae(n,A){if(A in n)for(var e=Object.getPrototypeOf(n);e;){var t=Object.getOwnPropertyDescriptor(e,A);if(t)return t;e=Object.getPrototypeOf(e)}}function ee(n){n.P||(n.P=!0,n.l&&ee(n.l))}function te(n){n.o||(n.o=PA(n.t))}function oe(n,A,e){var t=QA(A)?zA("MapSet").T(A,e):UA(A)?zA("MapSet").F(A,e):n.O?function(n,A){var e=Array.isArray(n),t={i:e?1:0,A:A?A.A:LA(),P:!1,I:!1,D:{},l:A,t:n,k:null,o:null,j:null,C:!1},o=t,l=he;e&&(o=[t],l=Ie);var i=Proxy.revocable(o,l),r=i.revoke,a=i.proxy;return t.k=a,t.j=r,a}(A,e):zA("ES5").J(A,e);return(e?e.A:LA()).p.push(t),t}function le(n){return DA(n)||GA(22,n),function n(A){if(!kA(A))return A;var e,t=A[Ee],o=SA(A);if(t){if(!t.P&&(t.i<4||!zA("ES5").K(t)))return t.t;t.I=!0,e=ie(A,o),t.I=!1}else e=ie(A,o);return KA(e,(function(A,o){t&&_A(t.t,A)===o||xA(e,A,n(o))})),3===o?new Set(e):e}(n)}function ie(n,A){switch(A){case 2:return new Map(n);case 3:return Array.from(n)}return PA(n)}var re,ae,ce="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),se="undefined"!=typeof Map,Ce="undefined"!=typeof Set,ue="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,me=ce?Symbol.for("immer-nothing"):((re={})["immer-nothing"]=!0,re),de=ce?Symbol.for("immer-draftable"):"__$immer_draftable",Ee=ce?Symbol.for("immer-state"):"__$immer_state",pe=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames),fe=Object.getOwnPropertyDescriptors||function(n){var A={};return pe(n).forEach((function(e){A[e]=Object.getOwnPropertyDescriptor(n,e)})),A},ge={},he={get:function(n,A){if(A===Ee)return n;var e=NA(n);if(!wA(e,A))return function(n,A,e){var t,o=Ae(A,e);return o?"value"in o?o.value:null===(t=o.get)||void 0===t?void 0:t.call(n.k):void 0}(n,e,A);var t=e[A];return n.I||!kA(t)?t:t===ne(n.t,A)?(te(n),n.o[A]=oe(n.A.h,t,n)):t},has:function(n,A){return A in NA(n)},ownKeys:function(n){return Reflect.ownKeys(NA(n))},set:function(n,A,e){var t=Ae(NA(n),A);if(null==t?void 0:t.set)return t.set.call(n.k,e),!0;if(!n.P){var o=ne(NA(n),A),l=null==o?void 0:o[Ee];if(l&&l.t===e)return n.o[A]=e,n.D[A]=!1,!0;if(TA(e,o)&&(void 0!==e||wA(n.t,A)))return!0;te(n),ee(n)}return n.o[A]=e,n.D[A]=!0,!0},deleteProperty:function(n,A){return void 0!==ne(n.t,A)||A in n.t?(n.D[A]=!1,te(n),ee(n)):delete n.D[A],n.o&&delete n.o[A],!0},getOwnPropertyDescriptor:function(n,A){var e=NA(n),t=Reflect.getOwnPropertyDescriptor(e,A);return t?{writable:!0,configurable:1!==n.i||"length"!==A,enumerable:t.enumerable,value:e[A]}:t},defineProperty:function(){GA(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){GA(12)}},Ie={};KA(he,(function(n,A){Ie[n]=function(){return arguments[0]=arguments[0][0],A.apply(this,arguments)}})),Ie.deleteProperty=function(n,A){return he.deleteProperty.call(this,n[0],A)},Ie.set=function(n,A,e){return he.set.call(this,n[0],A,e,n[0])};var ye,Be=new(function(){function n(n){this.O=ue,this.N=!0,"boolean"==typeof(null==n?void 0:n.useProxies)&&this.setUseProxies(n.useProxies),"boolean"==typeof(null==n?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var A=n.prototype;return A.produce=function(n,A,e){if("function"==typeof n&&"function"!=typeof A){var t=A;A=n;var o=this;return function(n){var e=this;void 0===n&&(n=t);for(var l=arguments.length,i=Array(l>1?l-1:0),r=1;r<l;r++)i[r-1]=arguments[r];return o.produce(n,(function(n){var t;return(t=A).call.apply(t,[e,n].concat(i))}))}}var l;if("function"!=typeof A&&GA(6),void 0!==e&&"function"!=typeof e&&GA(7),kA(n)){var i=HA(this),r=oe(this,n,void 0),a=!0;try{l=A(r),a=!1}finally{a?FA(i):VA(i)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(n){return jA(i,e),XA(n,i)}),(function(n){throw FA(i),n})):(jA(i,e),XA(l,i))}if(!n||"object"!=typeof n){if((l=A(n))===me)return;return void 0===l&&(l=n),this.N&&RA(l,!0),l}GA(21,n)},A.produceWithPatches=function(n,A){var e,t,o=this;return"function"==typeof n?function(A){for(var e=arguments.length,t=Array(e>1?e-1:0),l=1;l<e;l++)t[l-1]=arguments[l];return o.produceWithPatches(A,(function(A){return n.apply(void 0,[A].concat(t))}))}:[this.produce(n,A,(function(n,A){e=n,t=A})),e,t]},A.createDraft=function(n){kA(n)||GA(8),DA(n)&&(n=le(n));var A=HA(this),e=oe(this,n,void 0);return e[Ee].C=!0,VA(A),e},A.finishDraft=function(n,A){var e=(n&&n[Ee]).A;return jA(e,A),XA(void 0,e)},A.setAutoFreeze=function(n){this.N=n},A.setUseProxies=function(n){n&&!ue&&GA(20),this.O=n},A.applyPatches=function(n,A){var e;for(e=A.length-1;e>=0;e--){var t=A[e];if(0===t.path.length&&"replace"===t.op){n=t.value;break}}var o=zA("Patches").$;return DA(n)?o(n,A):this.produce(n,(function(n){return o(n,A.slice(e+1))}))},n}()),Me=Be.produce,ve=(Be.produceWithPatches.bind(Be),Be.setAutoFreeze.bind(Be),Be.setUseProxies.bind(Be),Be.applyPatches.bind(Be),Be.createDraft.bind(Be),Be.finishDraft.bind(Be),function(){var n="/Volumes/workplace/diagram-maker/src/state/node/nodeActions.ts",A="19932f41c0f4a4adf1f9fb1bc240e013eb7a9815",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/node/nodeActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:24,column:46}},10:{start:{line:14,column:4},end:{line:14,column:51}},11:{start:{line:15,column:4},end:{line:15,column:51}},12:{start:{line:16,column:4},end:{line:16,column:51}},13:{start:{line:17,column:4},end:{line:17,column:59}},14:{start:{line:18,column:4},end:{line:18,column:55}},15:{start:{line:19,column:4},end:{line:19,column:47}},16:{start:{line:20,column:4},end:{line:20,column:51}},17:{start:{line:21,column:4},end:{line:21,column:79}},18:{start:{line:22,column:4},end:{line:22,column:67}},19:{start:{line:23,column:4},end:{line:23,column:75}},20:{start:{line:25,column:25},end:{line:25,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:28},end:{line:24,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:24,column:3},end:{line:24,column:44}},type:"binary-expr",locations:[{start:{line:24,column:3},end:{line:24,column:18}},{start:{line:24,column:23},end:{line:24,column:43}}],line:24}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/node/nodeActions.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/node/nodeActions.ts"],names:[],mappings:";;;;;;;;;;;AAIA,MAAM,CAAN,IAAY,eAWX;AAXD,WAAY,eAAe;IACzB,8CAA2B,CAAA;IAC3B,8CAA2B,CAAA;IAC3B,8CAA2B,CAAA;IAC3B,sDAAmC,CAAA;IACnC,kDAA+B,CAAA;IAC/B,0CAAuB,CAAA;IACvB,8CAA2B,CAAA;IAC3B,0EAAuD,CAAA;IACvD,8DAA2C,CAAA;IAC3C,sEAAmD,CAAA;AACrD,CAAC,EAXW,eAAe,KAAf,eAAe,QAW1B;AAED,MAAM,CAAC,IAAM,WAAW,gBACnB,eAAe,CACnB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nimport { Position, Rectangle, Size } from 'diagramMaker/state/types';\n\nexport enum NodeActionsType {\n  NODE_CREATE = 'NODE_CREATE',\n  NODE_DELETE = 'NODE_DELETE',\n  NODE_SELECT = 'NODE_SELECT',\n  NODE_DRAG_START = 'NODE_DRAG_START',\n  NODE_DRAG_END = 'NODE_DRAG_END',\n  NODE_DRAG = 'NODE_DRAG',\n  NODE_LAYOUT = 'NODE_LAYOUT',\n  POTENTIAL_NODE_DRAG_START = 'POTENTIAL_NODE_DRAG_START',\n  POTENTIAL_NODE_DRAG = 'POTENTIAL_NODE_DRAG',\n  POTENTIAL_NODE_DRAG_END = 'POTENTIAL_NODE_DRAG_END'\n}\n\nexport const NodeActions = {\n  ...NodeActionsType\n};\n\n/** Action fired to create a new node */\nexport interface CreateNodeAction<NodeType> extends Action {\n  type: NodeActionsType.NODE_CREATE;\n  payload: {\n    /** ID for the new node that needs to be created. Needs to be unique. */\n    id: string,\n    /** type ID of the new node. Picked up from the potential node that was used to create this node. */\n    typeId: string,\n    /** Position where the new node will be created. */\n    position: Position,\n    /** Size of the new node */\n    size: Size,\n    /** Consumer data that needs to be added for the newly created node. */\n    consumerData?: NodeType\n  };\n}\n\n/** Action fired when a new potential node starts being dragged */\nexport interface DragStartPotentialNodeAction extends Action {\n  type: NodeActionsType.POTENTIAL_NODE_DRAG_START;\n  payload: {\n    /**\n     * type ID of the new node that will be created if this is dropped on the workspace.\n     * Picked up from the potential node that was used to create this potential node.\n     */\n    typeId: string,\n    /** Current position of the potential node */\n    position: Position,\n    /** Size for the node that will be created if this is dropped on the workspace. */\n    size: Size\n  };\n}\n\n/** Action fired to update the position for a potential node */\nexport interface DragPotentialNodeAction extends Action {\n  type: NodeActionsType.POTENTIAL_NODE_DRAG;\n  payload: {\n    /** Updated position for the potential node */\n    position: Position,\n\n    /** A Rectangle representing the workspace */\n    workspaceRectangle: Rectangle\n  };\n}\n\n/** Action fired to end dragging the potential node */\nexport interface DragEndPotentialNodeAction extends Action {\n  type: NodeActionsType.POTENTIAL_NODE_DRAG_END;\n}\n\n/** Action fired to select a node */\nexport interface SelectNodeAction extends Action {\n  type: NodeActionsType.NODE_SELECT;\n  payload: {\n    /** ID of the node to select */\n    id: string;\n  };\n}\n\n/**\n * Action fired to delete a node.\n * Please note that this doesn't delete the connected edges\n * and may lead to edges that remain in state but are not rendered.\n */\nexport interface DeleteNodeAction extends Action {\n  type: NodeActionsType.NODE_DELETE;\n  payload: {\n    /** ID of the node to delete */\n    id: string;\n  };\n}\n\n/** Action fired to start dragging a node */\nexport interface DragStartNodeAction extends Action {\n  type: NodeActionsType.NODE_DRAG_START;\n  payload: {\n    /** ID of the node to start dragging for */\n    id: string;\n  };\n}\n\n/** Action fired to end dragging a node */\nexport interface DragEndNodeAction extends Action {\n  type: NodeActionsType.NODE_DRAG_END;\n  payload: {\n    /** ID of the node to end dragging for */\n    id: string;\n  };\n}\n\n/** Action fired to update the position for the node */\nexport interface DragNodeAction extends Action {\n  type: NodeActionsType.NODE_DRAG;\n  payload: {\n    /** ID of the node to update position for */\n    id: string;\n    /** Updated position for the node */\n    position: Position;\n    workspaceRectangle: Rectangle;\n    size: Size;\n  };\n}\n\nexport type NodeAction<NodeType> =\n  SelectNodeAction | DeleteNodeAction | DragStartNodeAction | DragEndNodeAction | DragNodeAction |\n  DragPotentialNodeAction | DragStartPotentialNodeAction | DragEndPotentialNodeAction | CreateNodeAction<NodeType>;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()),be=(ve.s[0]++,void ve.b[0][0]++&&(ve.b[0][1]++,(void 0).__assign)||(ve.b[0][2]++,function(){return ve.f[0]++,ve.s[1]++,ve.b[1][0]++,be=Object.assign||(ve.b[1][1]++,function(n){ve.f[1]++,ve.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in ve.s[3]++,A=arguments[e],ve.s[4]++,A)ve.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(ve.b[2][0]++,ve.s[6]++,n[o]=A[o]):ve.b[2][1]++;return ve.s[7]++,n}),ve.s[8]++,be.apply(this,arguments)}));ve.s[9]++,function(n){ve.f[2]++,ve.s[10]++,n.NODE_CREATE="NODE_CREATE",ve.s[11]++,n.NODE_DELETE="NODE_DELETE",ve.s[12]++,n.NODE_SELECT="NODE_SELECT",ve.s[13]++,n.NODE_DRAG_START="NODE_DRAG_START",ve.s[14]++,n.NODE_DRAG_END="NODE_DRAG_END",ve.s[15]++,n.NODE_DRAG="NODE_DRAG",ve.s[16]++,n.NODE_LAYOUT="NODE_LAYOUT",ve.s[17]++,n.POTENTIAL_NODE_DRAG_START="POTENTIAL_NODE_DRAG_START",ve.s[18]++,n.POTENTIAL_NODE_DRAG="POTENTIAL_NODE_DRAG",ve.s[19]++,n.POTENTIAL_NODE_DRAG_END="POTENTIAL_NODE_DRAG_END"}((ve.b[3][0]++,ye||(ve.b[3][1]++,ye={})));var Oe,Ge=(ve.s[20]++,be({},ye)),De=function(){var n="/Volumes/workplace/diagram-maker/src/state/workspace/workspaceActions.ts",A="9c59e8f1dfea425b7c7f865045b224c2ddd39530",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/workspace/workspaceActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:28,column:56}},10:{start:{line:15,column:4},end:{line:15,column:70}},11:{start:{line:17,column:4},end:{line:17,column:74}},12:{start:{line:19,column:4},end:{line:19,column:62}},13:{start:{line:21,column:4},end:{line:21,column:62}},14:{start:{line:23,column:4},end:{line:23,column:66}},15:{start:{line:25,column:4},end:{line:25,column:80}},16:{start:{line:27,column:4},end:{line:27,column:74}},17:{start:{line:29,column:30},end:{line:29,column:64}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:33},end:{line:28,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:28,column:3},end:{line:28,column:54}},type:"binary-expr",locations:[{start:{line:28,column:3},end:{line:28,column:23}},{start:{line:28,column:28},end:{line:28,column:53}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/workspace/workspaceActions.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/workspace/workspaceActions.ts"],names:[],mappings:";;;;;;;;;;;AAIA,MAAM,CAAN,IAAY,oBAeX;AAfD,WAAY,oBAAoB;IAC9B,kCAAkC;IAClC,iEAAyC,CAAA;IACzC,wCAAwC;IACxC,qEAA6C,CAAA;IAC7C,yBAAyB;IACzB,yDAAiC,CAAA;IACjC,0BAA0B;IAC1B,yDAAiC,CAAA;IACjC,2BAA2B;IAC3B,6DAAqC,CAAA;IACpC,kCAAkC;IACnC,2EAAmD,CAAA;IACnD,sBAAsB;IACtB,qEAA6C,CAAA;AAC/C,CAAC,EAfW,oBAAoB,KAApB,oBAAoB,QAe/B;AAED,MAAM,CAAC,IAAM,gBAAgB,gBACxB,oBAAoB,CACxB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nimport { Position, Size } from 'diagramMaker/state/types';\n\nexport enum WorkspaceActionsType {\n  /** Deselect all selected items */\n  WORKSPACE_DESELECT = 'WORKSPACE_DESELECT',\n  /** Select all items in the workspace */\n  WORKSPACE_SELECT_ALL = 'WORKSPACE_SELECT_ALL',\n  /** Move the workspace */\n  WORKSPACE_DRAG = 'WORKSPACE_DRAG',\n  /** Zoom the workspacce */\n  WORKSPACE_ZOOM = 'WORKSPACE_ZOOM',\n  /** Resize the container */\n  WORKSPACE_RESIZE = 'WORKSPACE_RESIZE',\n   /** Resize the workspace canvas */\n  WORKSPACE_CANVAS_RESIZE = 'WORKSPACE_CANVAS_RESIZE',\n  /** Resets the zoom */\n  WORKSPACE_RESET_ZOOM = 'WORKSPACE_RESET_ZOOM'\n}\n\nexport const WorkspaceActions = {\n  ...WorkspaceActionsType\n};\n\n/** Action fired to deselect all items */\nexport interface DeselectAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_DESELECT;\n}\n\n/** Action fired to select all items */\nexport interface SelectAllAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_SELECT_ALL;\n}\n\n/** Action fired to move the worksapce around */\nexport interface DragWorkspaceAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_DRAG;\n  payload: {\n    /** Updated position for the workspace */\n    position: Position;\n  };\n}\n\n/** Action fired to zoom the workspace */\nexport interface ZoomWorkspaceAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_ZOOM;\n  payload: {\n    /**\n     * Incremental zoom to change the workspace scale by.\n     * Positive means zooming in. Negative means zooming out.\n     */\n    zoom: number;\n    /**\n     * The zoom origin. Usually the cursor position.\n     */\n    position: Position;\n  };\n}\n\n/** Action fired to resize the container */\nexport interface ResizeWorkspaceAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_RESIZE;\n  payload: {\n    /** New container size that the workspace is rendering in. */\n    containerSize: Size;\n  };\n}\n\n/** Action fired to resize the workspace canvas */\nexport interface ResizeWorkspaceCanvasAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_CANVAS_RESIZE;\n  payload: {\n    /** New canvas size of the workspace */\n    canvasSize: Size;\n  };\n}\n\n/** Action fired to reset the zoom level for the workspace */\nexport interface WorkspaceResetZoomAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_RESET_ZOOM;\n}\n\nexport type WorkspaceAction = DeselectAction | DragWorkspaceAction | ResizeWorkspaceCanvasAction |\n  ResizeWorkspaceAction | SelectAllAction | ZoomWorkspaceAction | WorkspaceResetZoomAction;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),ke=(De.s[0]++,void De.b[0][0]++&&(De.b[0][1]++,(void 0).__assign)||(De.b[0][2]++,function(){return De.f[0]++,De.s[1]++,De.b[1][0]++,ke=Object.assign||(De.b[1][1]++,function(n){De.f[1]++,De.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in De.s[3]++,A=arguments[e],De.s[4]++,A)De.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(De.b[2][0]++,De.s[6]++,n[o]=A[o]):De.b[2][1]++;return De.s[7]++,n}),De.s[8]++,ke.apply(this,arguments)}));De.s[9]++,function(n){De.f[2]++,De.s[10]++,n.WORKSPACE_DESELECT="WORKSPACE_DESELECT",De.s[11]++,n.WORKSPACE_SELECT_ALL="WORKSPACE_SELECT_ALL",De.s[12]++,n.WORKSPACE_DRAG="WORKSPACE_DRAG",De.s[13]++,n.WORKSPACE_ZOOM="WORKSPACE_ZOOM",De.s[14]++,n.WORKSPACE_RESIZE="WORKSPACE_RESIZE",De.s[15]++,n.WORKSPACE_CANVAS_RESIZE="WORKSPACE_CANVAS_RESIZE",De.s[16]++,n.WORKSPACE_RESET_ZOOM="WORKSPACE_RESET_ZOOM"}((De.b[3][0]++,Oe||(De.b[3][1]++,Oe={})));var Ke=(De.s[17]++,ke({},Oe)),Se=function(){var n="/Volumes/workplace/diagram-maker/src/state/workspace/workspaceActionDispatcher.ts",A="218797d01d52565b0db412efee11eae8e312d5e3",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/workspace/workspaceActionDispatcher.ts",statementMap:{0:{start:{line:3,column:4},end:{line:6,column:6}},1:{start:{line:9,column:4},end:{line:12,column:6}},2:{start:{line:15,column:4},end:{line:17,column:6}},3:{start:{line:20,column:4},end:{line:22,column:6}},4:{start:{line:25,column:4},end:{line:28,column:6}},5:{start:{line:31,column:4},end:{line:34,column:6}},6:{start:{line:37,column:4},end:{line:39,column:6}},7:{start:{line:42,column:17},end:{line:42,column:52}},8:{start:{line:43,column:4},end:{line:43,column:27}},9:{start:{line:46,column:17},end:{line:46,column:58}},10:{start:{line:47,column:4},end:{line:47,column:27}},11:{start:{line:50,column:17},end:{line:50,column:39}},12:{start:{line:51,column:4},end:{line:51,column:27}},13:{start:{line:54,column:17},end:{line:54,column:59}},14:{start:{line:55,column:4},end:{line:55,column:27}},15:{start:{line:58,column:17},end:{line:58,column:40}},16:{start:{line:59,column:4},end:{line:59,column:27}}},fnMap:{0:{name:"createDragWorkspaceAction",decl:{start:{line:2,column:16},end:{line:2,column:41}},loc:{start:{line:2,column:52},end:{line:7,column:1}},line:2},1:{name:"createZoomWorkspaceAction",decl:{start:{line:8,column:16},end:{line:8,column:41}},loc:{start:{line:8,column:58},end:{line:13,column:1}},line:8},2:{name:"createWorkspaceResetZoomAction",decl:{start:{line:14,column:16},end:{line:14,column:46}},loc:{start:{line:14,column:49},end:{line:18,column:1}},line:14},3:{name:"createDeselectAction",decl:{start:{line:19,column:9},end:{line:19,column:29}},loc:{start:{line:19,column:32},end:{line:23,column:1}},line:19},4:{name:"createResizeWorkspaceAction",decl:{start:{line:24,column:9},end:{line:24,column:36}},loc:{start:{line:24,column:52},end:{line:29,column:1}},line:24},5:{name:"createResizeWorkspaceCanvasAction",decl:{start:{line:30,column:16},end:{line:30,column:49}},loc:{start:{line:30,column:62},end:{line:35,column:1}},line:30},6:{name:"createSelectAllAction",decl:{start:{line:36,column:9},end:{line:36,column:30}},loc:{start:{line:36,column:33},end:{line:40,column:1}},line:36},7:{name:"handleWorkspaceDrag",decl:{start:{line:41,column:16},end:{line:41,column:35}},loc:{start:{line:41,column:53},end:{line:44,column:1}},line:41},8:{name:"handleWorkspaceZoom",decl:{start:{line:45,column:16},end:{line:45,column:35}},loc:{start:{line:45,column:59},end:{line:48,column:1}},line:45},9:{name:"handleWorkspaceClick",decl:{start:{line:49,column:16},end:{line:49,column:36}},loc:{start:{line:49,column:44},end:{line:52,column:1}},line:49},10:{name:"handleWorkspaceResize",decl:{start:{line:53,column:16},end:{line:53,column:37}},loc:{start:{line:53,column:60},end:{line:56,column:1}},line:53},11:{name:"handleSelectAll",decl:{start:{line:57,column:16},end:{line:57,column:31}},loc:{start:{line:57,column:39},end:{line:60,column:1}},line:57}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/workspace/workspaceActionDispatcher.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/workspace/workspaceActionDispatcher.ts"],names:[],mappings:"AAGA,OAAO,EAML,oBAAoB,EAGpB,MAAM,oBAAoB,CAAC;AAE7B,MAAM,UAAU,yBAAyB,CAAC,QAAkB;IAC1D,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,cAAc;QACzC,OAAO,EAAE,EAAE,QAAQ,UAAA,EAAE;KACtB,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,yBAAyB,CAAC,IAAY,EAAE,QAAkB;IACxE,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,cAAc;QACzC,OAAO,EAAE,EAAE,IAAI,MAAA,EAAE,QAAQ,UAAA,EAAE;KAC5B,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,8BAA8B;IAC5C,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,oBAAoB;KAChD,CAAC;AACJ,CAAC;AAED,SAAS,oBAAoB;IAC3B,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,kBAAkB;KAC9C,CAAC;AACJ,CAAC;AAED,SAAS,2BAA2B,CAAC,aAAmB;IACtD,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,gBAAgB;QAC3C,OAAO,EAAE,EAAE,aAAa,eAAA,EAAE;KAC3B,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,iCAAiC,CAAC,UAAgB;IAChE,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,uBAAuB;QAClD,OAAO,EAAE,EAAE,UAAU,YAAA,EAAE;KACxB,CAAC;AACJ,CAAC;AAED,SAAS,qBAAqB;IAC5B,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,oBAAoB;KAChD,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,mBAAmB,CACjC,KAAkD,EAClD,QAAkB;IAElB,IAAM,MAAM,GAAG,yBAAyB,CAAC,QAAQ,CAAC,CAAC;IACnD,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC;AAED,MAAM,UAAU,mBAAmB,CACjC,KAAkD,EAClD,IAAY,EACZ,QAAkB;IAElB,IAAM,MAAM,GAAG,yBAAyB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IACzD,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC;AAED,MAAM,UAAU,oBAAoB,CAClC,KAAkD;IAElD,IAAM,MAAM,GAAG,oBAAoB,EAAE,CAAC;IACtC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC;AAED,MAAM,UAAU,qBAAqB,CACnC,KAAkD,EAClD,aAAmB;IAEnB,IAAM,MAAM,GAAG,2BAA2B,CAAC,aAAa,CAAC,CAAC;IAC1D,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC;AAED,MAAM,UAAU,eAAe,CAC7B,KAAkD;IAElD,IAAM,MAAM,GAAG,qBAAqB,EAAE,CAAC;IACvC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC",sourcesContent:["import { Store } from 'redux';\n\nimport { DiagramMakerData, Position, Size } from 'diagramMaker/state/types';\nimport {\n  DeselectAction,\n  DragWorkspaceAction,\n  ResizeWorkspaceAction,\n  ResizeWorkspaceCanvasAction,\n  SelectAllAction,\n  WorkspaceActionsType,\n  WorkspaceResetZoomAction,\n  ZoomWorkspaceAction\n } from './workspaceActions';\n\nexport function createDragWorkspaceAction(position: Position): DragWorkspaceAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_DRAG,\n    payload: { position }\n  };\n}\n\nexport function createZoomWorkspaceAction(zoom: number, position: Position): ZoomWorkspaceAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_ZOOM,\n    payload: { zoom, position }\n  };\n}\n\nexport function createWorkspaceResetZoomAction(): WorkspaceResetZoomAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_RESET_ZOOM\n  };\n}\n\nfunction createDeselectAction(): DeselectAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_DESELECT\n  };\n}\n\nfunction createResizeWorkspaceAction(containerSize: Size): ResizeWorkspaceAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_RESIZE,\n    payload: { containerSize }\n  };\n}\n\nexport function createResizeWorkspaceCanvasAction(canvasSize: Size): ResizeWorkspaceCanvasAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_CANVAS_RESIZE,\n    payload: { canvasSize }\n  };\n}\n\nfunction createSelectAllAction(): SelectAllAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_SELECT_ALL\n  };\n}\n\nexport function handleWorkspaceDrag<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  position: Position\n) {\n  const action = createDragWorkspaceAction(position);\n  store.dispatch(action);\n}\n\nexport function handleWorkspaceZoom<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  zoom: number,\n  position: Position\n) {\n  const action = createZoomWorkspaceAction(zoom, position);\n  store.dispatch(action);\n}\n\nexport function handleWorkspaceClick<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>\n) {\n  const action = createDeselectAction();\n  store.dispatch(action);\n}\n\nexport function handleWorkspaceResize<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  containerSize: Size\n) {\n  const action = createResizeWorkspaceAction(containerSize);\n  store.dispatch(action);\n}\n\nexport function handleSelectAll<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>\n) {\n  const action = createSelectAllAction();\n  store.dispatch(action);\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function we(n){return Se.f[0]++,Se.s[0]++,{type:Oe.WORKSPACE_DRAG,payload:{position:n}}}function _e(n,A){return Se.f[1]++,Se.s[1]++,{type:Oe.WORKSPACE_ZOOM,payload:{zoom:n,position:A}}}function xe(n){return Se.f[5]++,Se.s[5]++,{type:Oe.WORKSPACE_CANVAS_RESIZE,payload:{canvasSize:n}}}function Te(n){Se.f[9]++;var A=(Se.s[11]++,Se.f[3]++,Se.s[3]++,{type:Oe.WORKSPACE_DESELECT});Se.s[12]++,n.dispatch(A)}function Qe(n,A){Se.f[10]++;var e=(Se.s[13]++,function(n){return Se.f[4]++,Se.s[4]++,{type:Oe.WORKSPACE_RESIZE,payload:{containerSize:n}}}(A));Se.s[14]++,n.dispatch(e)}function Ue(n){Se.f[11]++;var A=(Se.s[15]++,Se.f[6]++,Se.s[6]++,{type:Oe.WORKSPACE_SELECT_ALL});Se.s[16]++,n.dispatch(A)}var Ne=function(){var n="/Volumes/workplace/diagram-maker/src/state/workspace/workspaceReducer.ts",A="29fccd34faab297662ff95cc3bf32a478b71a804",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/workspace/workspaceReducer.ts",statementMap:{0:{start:{line:7,column:19},end:{line:11,column:1}},1:{start:{line:12,column:17},end:{line:12,column:19}},2:{start:{line:14,column:4},end:{line:28,column:6}},3:{start:{line:30,column:20},end:{line:34,column:1}},4:{start:{line:31,column:12},end:{line:31,column:91}},5:{start:{line:32,column:12},end:{line:32,column:93}},6:{start:{line:33,column:4},end:{line:33,column:26}},7:{start:{line:35,column:16},end:{line:39,column:1}},8:{start:{line:36,column:18},end:{line:36,column:114}},9:{start:{line:37,column:22},end:{line:37,column:73}},10:{start:{line:38,column:4},end:{line:38,column:46}},11:{start:{line:40,column:22},end:{line:46,column:1}},12:{start:{line:41,column:15},end:{line:41,column:33}},13:{start:{line:42,column:21},end:{line:42,column:73}},14:{start:{line:43,column:24},end:{line:43,column:54}},15:{start:{line:44,column:18},end:{line:44,column:108}},16:{start:{line:45,column:4},end:{line:45,column:19}},17:{start:{line:47,column:25},end:{line:53,column:1}},18:{start:{line:48,column:22},end:{line:48,column:63}},19:{start:{line:49,column:22},end:{line:49,column:63}},20:{start:{line:50,column:12},end:{line:50,column:63}},21:{start:{line:51,column:12},end:{line:51,column:63}},22:{start:{line:52,column:4},end:{line:52,column:26}},23:{start:{line:54,column:25},end:{line:60,column:1}},24:{start:{line:55,column:12},end:{line:55,column:37}},25:{start:{line:56,column:12},end:{line:56,column:37}},26:{start:{line:57,column:24},end:{line:57,column:54}},27:{start:{line:58,column:22},end:{line:58,column:111}},28:{start:{line:59,column:4},end:{line:59,column:23}},29:{start:{line:61,column:18},end:{line:71,column:1}},30:{start:{line:62,column:27},end:{line:62,column:37}},31:{start:{line:63,column:19},end:{line:63,column:42}},32:{start:{line:64,column:24},end:{line:64,column:51}},33:{start:{line:65,column:24},end:{line:65,column:52}},34:{start:{line:66,column:19},end:{line:66,column:60}},35:{start:{line:67,column:13},end:{line:67,column:102}},36:{start:{line:67,column:108},end:{line:67,column:112}},37:{start:{line:67,column:118},end:{line:67,column:122}},38:{start:{line:68,column:22},end:{line:68,column:91}},39:{start:{line:69,column:4},end:{line:69,column:38}},40:{start:{line:70,column:4},end:{line:70,column:44}},41:{start:{line:72,column:18},end:{line:75,column:1}},42:{start:{line:73,column:27},end:{line:73,column:37}},43:{start:{line:74,column:4},end:{line:74,column:77}},44:{start:{line:76,column:20},end:{line:81,column:1}},45:{start:{line:77,column:27},end:{line:77,column:37}},46:{start:{line:78,column:4},end:{line:78,column:70}},47:{start:{line:79,column:4},end:{line:79,column:128}},48:{start:{line:80,column:4},end:{line:80,column:162}},49:{start:{line:82,column:26},end:{line:85,column:1}},50:{start:{line:83,column:27},end:{line:83,column:37}},51:{start:{line:84,column:4},end:{line:84,column:60}},52:{start:{line:86,column:19},end:{line:105,column:1}},53:{start:{line:87,column:4},end:{line:87,column:25}},54:{start:{line:88,column:13},end:{line:88,column:27}},55:{start:{line:88,column:40},end:{line:88,column:51}},56:{start:{line:88,column:60},end:{line:88,column:67}},57:{start:{line:88,column:74},end:{line:88,column:79}},58:{start:{line:89,column:21},end:{line:92,column:5}},59:{start:{line:93,column:21},end:{line:93,column:42}},60:{start:{line:93,column:64},end:{line:93,column:92}},61:{start:{line:94,column:21},end:{line:94,column:55}},62:{start:{line:95,column:22},end:{line:95,column:57}},63:{start:{line:96,column:31},end:{line:99,column:5}},64:{start:{line:100,column:28},end:{line:103,column:5}},65:{start:{line:104,column:4},end:{line:104,column:96}},66:{start:{line:106,column:17},end:{line:135,column:1}},67:{start:{line:107,column:20},end:{line:107,column:44}},68:{start:{line:108,column:15},end:{line:108,column:42}},69:{start:{line:109,column:15},end:{line:109,column:43}},70:{start:{line:110,column:15},end:{line:110,column:16}},71:{start:{line:111,column:15},end:{line:111,column:16}},72:{start:{line:112,column:4},end:{line:117,column:7}},73:{start:{line:113,column:8},end:{line:113,column:60}},74:{start:{line:114,column:8},end:{line:114,column:60}},75:{start:{line:115,column:8},end:{line:115,column:78}},76:{start:{line:116,column:8},end:{line:116,column:79}},77:{start:{line:118,column:21},end:{line:118,column:42}},78:{start:{line:118,column:64},end:{line:118,column:92}},79:{start:{line:119,column:24},end:{line:119,column:35}},80:{start:{line:120,column:24},end:{line:120,column:35}},81:{start:{line:121,column:21},end:{line:121,column:55}},82:{start:{line:122,column:22},end:{line:122,column:57}},83:{start:{line:123,column:31},end:{line:126,column:5}},84:{start:{line:127,column:24},end:{line:127,column:66}},85:{start:{line:128,column:25},end:{line:128,column:68}},86:{start:{line:129,column:24},end:{line:129,column:63}},87:{start:{line:130,column:16},end:{line:130,column:74}},88:{start:{line:131,column:27},end:{line:131,column:80}},89:{start:{line:132,column:19},end:{line:132,column:91}},90:{start:{line:133,column:4},end:{line:133,column:29}},91:{start:{line:134,column:4},end:{line:134,column:35}},92:{start:{line:136,column:23},end:{line:153,column:1}},93:{start:{line:137,column:16},end:{line:137,column:17}},94:{start:{line:138,column:21},end:{line:138,column:42}},95:{start:{line:138,column:64},end:{line:138,column:92}},96:{start:{line:139,column:26},end:{line:142,column:5}},97:{start:{line:143,column:30},end:{line:146,column:5}},98:{start:{line:147,column:19},end:{line:150,column:5}},99:{start:{line:151,column:4},end:{line:151,column:25}},100:{start:{line:152,column:4},end:{line:152,column:84}},101:{start:{line:155,column:4},end:{line:157,column:5}},102:{start:{line:156,column:8},end:{line:156,column:42}},103:{start:{line:158,column:4},end:{line:244,column:5}},104:{start:{line:160,column:12},end:{line:162,column:15}},105:{start:{line:161,column:16},end:{line:161,column:48}},106:{start:{line:164,column:12},end:{line:166,column:15}},107:{start:{line:165,column:16},end:{line:165,column:48}},108:{start:{line:168,column:12},end:{line:170,column:15}},109:{start:{line:169,column:16},end:{line:169,column:50}},110:{start:{line:172,column:12},end:{line:174,column:15}},111:{start:{line:173,column:16},end:{line:173,column:49}},112:{start:{line:176,column:12},end:{line:178,column:15}},113:{start:{line:177,column:16},end:{line:177,column:47}},114:{start:{line:180,column:12},end:{line:182,column:15}},115:{start:{line:181,column:16},end:{line:181,column:45}},116:{start:{line:184,column:12},end:{line:241,column:15}},117:{start:{line:185,column:33},end:{line:185,column:49}},118:{start:{line:186,column:35},end:{line:186,column:49}},119:{start:{line:187,column:30},end:{line:187,column:53}},120:{start:{line:188,column:31},end:{line:188,column:50}},121:{start:{line:190,column:16},end:{line:204,column:17}},122:{start:{line:191,column:41},end:{line:191,column:86}},123:{start:{line:192,column:40},end:{line:195,column:21}},124:{start:{line:196,column:41},end:{line:199,column:21}},125:{start:{line:200,column:39},end:{line:200,column:87}},126:{start:{line:201,column:37},end:{line:201,column:78}},127:{start:{line:202,column:20},end:{line:202,column:66}},128:{start:{line:203,column:20},end:{line:203,column:56}},129:{start:{line:206,column:16},end:{line:220,column:17}},130:{start:{line:207,column:42},end:{line:207,column:89}},131:{start:{line:208,column:40},end:{line:211,column:21}},132:{start:{line:212,column:41},end:{line:215,column:21}},133:{start:{line:216,column:39},end:{line:216,column:87}},134:{start:{line:217,column:37},end:{line:217,column:78}},135:{start:{line:218,column:20},end:{line:218,column:66}},136:{start:{line:219,column:20},end:{line:219,column:56}},137:{start:{line:222,column:16},end:{line:230,column:17}},138:{start:{line:223,column:42},end:{line:223,column:52}},139:{start:{line:224,column:40},end:{line:227,column:21}},140:{start:{line:228,column:39},end:{line:228,column:87}},141:{start:{line:229,column:20},end:{line:229,column:66}},142:{start:{line:232,column:16},end:{line:240,column:17}},143:{start:{line:233,column:41},end:{line:233,column:51}},144:{start:{line:234,column:40},end:{line:237,column:21}},145:{start:{line:238,column:39},end:{line:238,column:87}},146:{start:{line:239,column:20},end:{line:239,column:66}},147:{start:{line:243,column:12},end:{line:243,column:25}}},fnMap:{0:{name:"getDefaultWorkspaceState",decl:{start:{line:13,column:16},end:{line:13,column:40}},loc:{start:{line:13,column:43},end:{line:29,column:1}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:30,column:20},end:{line:30,column:21}},loc:{start:{line:30,column:67},end:{line:34,column:1}},line:30},2:{name:"(anonymous_2)",decl:{start:{line:35,column:16},end:{line:35,column:17}},loc:{start:{line:35,column:53},end:{line:39,column:1}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:40,column:22},end:{line:40,column:23}},loc:{start:{line:40,column:54},end:{line:46,column:1}},line:40},4:{name:"(anonymous_4)",decl:{start:{line:47,column:25},end:{line:47,column:26}},loc:{start:{line:47,column:79},end:{line:53,column:1}},line:47},5:{name:"(anonymous_5)",decl:{start:{line:54,column:25},end:{line:54,column:26}},loc:{start:{line:54,column:57},end:{line:60,column:1}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:61,column:18},end:{line:61,column:19}},loc:{start:{line:61,column:48},end:{line:71,column:1}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:72,column:18},end:{line:72,column:19}},loc:{start:{line:72,column:48},end:{line:75,column:1}},line:72},8:{name:"(anonymous_8)",decl:{start:{line:76,column:20},end:{line:76,column:21}},loc:{start:{line:76,column:50},end:{line:81,column:1}},line:76},9:{name:"(anonymous_9)",decl:{start:{line:82,column:26},end:{line:82,column:27}},loc:{start:{line:82,column:56},end:{line:85,column:1}},line:82},10:{name:"(anonymous_10)",decl:{start:{line:86,column:19},end:{line:86,column:20}},loc:{start:{line:86,column:49},end:{line:105,column:1}},line:86},11:{name:"(anonymous_11)",decl:{start:{line:106,column:17},end:{line:106,column:18}},loc:{start:{line:106,column:47},end:{line:135,column:1}},line:106},12:{name:"(anonymous_12)",decl:{start:{line:112,column:22},end:{line:112,column:23}},loc:{start:{line:112,column:38},end:{line:117,column:5}},line:112},13:{name:"(anonymous_13)",decl:{start:{line:136,column:23},end:{line:136,column:24}},loc:{start:{line:136,column:45},end:{line:153,column:1}},line:136},14:{name:"workspaceReducer",decl:{start:{line:154,column:24},end:{line:154,column:40}},loc:{start:{line:154,column:56},end:{line:245,column:1}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:160,column:34},end:{line:160,column:35}},loc:{start:{line:160,column:56},end:{line:162,column:13}},line:160},16:{name:"(anonymous_16)",decl:{start:{line:164,column:34},end:{line:164,column:35}},loc:{start:{line:164,column:56},end:{line:166,column:13}},line:164},17:{name:"(anonymous_17)",decl:{start:{line:168,column:34},end:{line:168,column:35}},loc:{start:{line:168,column:56},end:{line:170,column:13}},line:168},18:{name:"(anonymous_18)",decl:{start:{line:172,column:34},end:{line:172,column:35}},loc:{start:{line:172,column:56},end:{line:174,column:13}},line:172},19:{name:"(anonymous_19)",decl:{start:{line:176,column:34},end:{line:176,column:35}},loc:{start:{line:176,column:56},end:{line:178,column:13}},line:176},20:{name:"(anonymous_20)",decl:{start:{line:180,column:34},end:{line:180,column:35}},loc:{start:{line:180,column:56},end:{line:182,column:13}},line:180},21:{name:"(anonymous_21)",decl:{start:{line:184,column:34},end:{line:184,column:35}},loc:{start:{line:184,column:56},end:{line:241,column:13}},line:184}},branchMap:{0:{loc:{start:{line:94,column:21},end:{line:94,column:55}},type:"binary-expr",locations:[{start:{line:94,column:21},end:{line:94,column:50}},{start:{line:94,column:54},end:{line:94,column:55}}],line:94},1:{loc:{start:{line:95,column:22},end:{line:95,column:57}},type:"binary-expr",locations:[{start:{line:95,column:22},end:{line:95,column:52}},{start:{line:95,column:56},end:{line:95,column:57}}],line:95},2:{loc:{start:{line:121,column:21},end:{line:121,column:55}},type:"binary-expr",locations:[{start:{line:121,column:21},end:{line:121,column:50}},{start:{line:121,column:54},end:{line:121,column:55}}],line:121},3:{loc:{start:{line:122,column:22},end:{line:122,column:57}},type:"binary-expr",locations:[{start:{line:122,column:22},end:{line:122,column:52}},{start:{line:122,column:56},end:{line:122,column:57}}],line:122},4:{loc:{start:{line:155,column:4},end:{line:157,column:5}},type:"if",locations:[{start:{line:155,column:4},end:{line:157,column:5}},{start:{line:155,column:4},end:{line:157,column:5}}],line:155},5:{loc:{start:{line:158,column:4},end:{line:244,column:5}},type:"switch",locations:[{start:{line:159,column:8},end:{line:162,column:15}},{start:{line:163,column:8},end:{line:166,column:15}},{start:{line:167,column:8},end:{line:170,column:15}},{start:{line:171,column:8},end:{line:174,column:15}},{start:{line:175,column:8},end:{line:178,column:15}},{start:{line:179,column:8},end:{line:182,column:15}},{start:{line:183,column:8},end:{line:241,column:15}},{start:{line:242,column:8},end:{line:243,column:25}}],line:158},6:{loc:{start:{line:190,column:16},end:{line:204,column:17}},type:"if",locations:[{start:{line:190,column:16},end:{line:204,column:17}},{start:{line:190,column:16},end:{line:204,column:17}}],line:190},7:{loc:{start:{line:206,column:16},end:{line:220,column:17}},type:"if",locations:[{start:{line:206,column:16},end:{line:220,column:17}},{start:{line:206,column:16},end:{line:220,column:17}}],line:206},8:{loc:{start:{line:222,column:16},end:{line:230,column:17}},type:"if",locations:[{start:{line:222,column:16},end:{line:230,column:17}},{start:{line:222,column:16},end:{line:230,column:17}}],line:222},9:{loc:{start:{line:232,column:16},end:{line:240,column:17}},type:"if",locations:[{start:{line:232,column:16},end:{line:240,column:17}},{start:{line:232,column:16},end:{line:240,column:17}}],line:232}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0,0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/workspace/workspaceReducer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/workspace/workspaceReducer.ts"],names:[],mappings:"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",sourcesContent:["import { Draft, produce } from 'immer';\nimport { clamp } from 'lodash-es';\n\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { EditorActionsType, FitAction, FocusNodeAction } from 'diagramMaker/state/editor/editorActions';\nimport { NodeActionsType } from 'diagramMaker/state/node/nodeActions';\nimport { DiagramMakerWorkspace, Position, Size } from 'diagramMaker/state/types';\nimport {\n  createDragWorkspaceAction,\n  createResizeWorkspaceCanvasAction\n} from 'diagramMaker/state/workspace/workspaceActionDispatcher';\nimport {\n  DragWorkspaceAction, ResizeWorkspaceAction, ResizeWorkspaceCanvasAction, WorkspaceActionsType, ZoomWorkspaceAction\n} from 'diagramMaker/state/workspace/workspaceActions';\nconst ZoomDefaults = {\n  MAX: 3,\n  MIN: 0.3,\n  SPEED: 0.006\n};\n\nconst FIT_BUFFER = 50;\n\nexport function getDefaultWorkspaceState(): DiagramMakerWorkspace {\n  return {\n    position: {\n      x: 0,\n      y: 0\n    },\n    scale: 1,\n    canvasSize: {\n      width: 3200,\n      height: 1600\n    },\n    viewContainerSize: {\n      width: 1600,\n      height: 800\n    }\n  };\n}\n\nconst clampPosition = (position: Position, size: Size, zoom: number, containerSize: Size): Position => {\n  const x = clamp(position.x, -1 * Math.max(0, size.width * zoom - containerSize.width), 0);\n  const y = clamp(position.y, -1 * Math.max(0, size.height * zoom - containerSize.height), 0);\n\n  return { x, y };\n};\n\nconst clampZoom = (zoom: number, size: Size, containerSize: Size): number => {\n  const zoomMin = Math.max(ZoomDefaults.MIN, containerSize.width / size.width, containerSize.height / size.height);\n\n  const clampedZoom = Math.max(zoomMin, Math.min(ZoomDefaults.MAX, zoom));\n  return Number(clampedZoom.toPrecision(4));\n};\n\nconst getNewZoomLevel = (currentState: Draft<DiagramMakerWorkspace>, action: ZoomWorkspaceAction): number => {\n  const zoom = currentState.scale;\n  const zoomFactor = Math.max(-1, Math.min(1, zoom)) * ZoomDefaults.SPEED;\n  const containerSize = currentState.viewContainerSize;\n  const newZoom = clampZoom(zoom + action.payload.zoom * zoomFactor, currentState.canvasSize, containerSize);\n\n  return newZoom;\n};\n\nconst getNewZoomPosition = (\n  position: Position, workspacePosition: Position, zoom: number, newZoom: number\n): Position => {\n  const zoomTargetX = (position.x - workspacePosition.x) / zoom;\n  const zoomTargetY = (position.y - workspacePosition.y) / zoom;\n\n  const x = Math.round(-1 * zoomTargetX * newZoom + position.x);\n  const y = Math.round(-1 * zoomTargetY * newZoom + position.y);\n\n  return { x, y };\n};\n\nconst getNewDragPosition = (\n  currentState: Draft<DiagramMakerWorkspace>, action: DragWorkspaceAction\n): Position => {\n  const x = action.payload.position.x;\n  const y = action.payload.position.y;\n  const containerSize = currentState.viewContainerSize;\n\n  const newPosition = clampPosition({ x, y }, currentState.canvasSize, currentState.scale, containerSize);\n\n  return newPosition;\n};\n\nconst zoomReducer = (draftState: Draft<DiagramMakerWorkspace>, action: ZoomWorkspaceAction) => {\n  const currentWorkspace = draftState;\n\n  const { position } = action.payload;\n  const workspaceSize = currentWorkspace.canvasSize;\n  const containerSize = draftState.viewContainerSize;\n\n  const newScale = getNewZoomLevel(currentWorkspace, action);\n\n  const { x, y } = getNewZoomPosition(\n    position,\n    currentWorkspace.position,\n    currentWorkspace.scale,\n    newScale\n  );\n\n  const newPosition = clampPosition({ x, y }, workspaceSize, newScale, containerSize);\n\n  currentWorkspace.scale = newScale;\n  currentWorkspace.position = newPosition;\n};\n\nconst dragReducer = (draftState: Draft<DiagramMakerWorkspace>, action: DragWorkspaceAction) => {\n  const currentWorkspace = draftState;\n  currentWorkspace.position = getNewDragPosition(currentWorkspace, action);\n};\n\nconst resizeReducer = (draftState: Draft<DiagramMakerWorkspace>, action: ResizeWorkspaceAction) => {\n  const currentWorkspace = draftState;\n  currentWorkspace.viewContainerSize = action.payload.containerSize;\n\n  currentWorkspace.scale = clampZoom(\n    currentWorkspace.scale,\n    currentWorkspace.canvasSize,\n    currentWorkspace.viewContainerSize\n  );\n\n  currentWorkspace.position = clampPosition(\n    currentWorkspace.position,\n    currentWorkspace.canvasSize,\n    currentWorkspace.scale,\n    currentWorkspace.viewContainerSize\n  );\n};\n\nconst canvasResizeReducer = (draftState: Draft<DiagramMakerWorkspace>, action: ResizeWorkspaceCanvasAction) => {\n  const currentWorkspace = draftState;\n  currentWorkspace.canvasSize = action.payload.canvasSize;\n};\n\nconst focusReducer = (draftState: Draft<DiagramMakerWorkspace>, action: FocusNodeAction) => {\n  draftState.scale = 1;\n  const { position, size, id } = action.payload;\n  const nodeCenter = {\n    x: position.x + (size.width / 2),\n    y: position.y + (size.height / 2)\n  };\n  const { canvasSize, viewContainerSize } = draftState;\n  const leftOffset = action.payload.leftPanelWidth || 0;\n  const rightOffset = action.payload.rightPanelWidth || 0;\n  const updatedViewContainer: Size = {\n    width: viewContainerSize.width - leftOffset - rightOffset,\n    height: viewContainerSize.height\n  };\n  const workspacePosition = {\n    x: (updatedViewContainer.width / 2) - nodeCenter.x + leftOffset,\n    y: (updatedViewContainer.height / 2) - nodeCenter.y\n  };\n  draftState.position = clampPosition(workspacePosition, canvasSize, 1, updatedViewContainer);\n};\n\nconst fitReducer = (draftState: Draft<DiagramMakerWorkspace>, action: FitAction) => {\n  const { nodeRects } = action.payload;\n  let minX = draftState.canvasSize.width;\n  let minY = draftState.canvasSize.height;\n  let maxX = 0;\n  let maxY = 0;\n  nodeRects.forEach((rect) => {\n    minX = Math.min(minX, rect.position.x - FIT_BUFFER);\n    minY = Math.min(minY, rect.position.y - FIT_BUFFER);\n    maxX = Math.max(maxX, rect.position.x + rect.size.width + FIT_BUFFER);\n    maxY = Math.max(maxY, rect.position.y + rect.size.height + FIT_BUFFER);\n  });\n  const { canvasSize, viewContainerSize } = draftState;\n  const expectedWidth = maxX - minX;\n  const expctedHeight = maxY - minY;\n  const leftOffset = action.payload.leftPanelWidth || 0;\n  const rightOffset = action.payload.rightPanelWidth || 0;\n  const updatedViewContainer: Size = {\n    width: viewContainerSize.width - leftOffset - rightOffset,\n    height: viewContainerSize.height\n  };\n  const scaleForWidth = updatedViewContainer.width / expectedWidth;\n  const scaleForHeight = updatedViewContainer.height / expctedHeight;\n  const expectedScale = Math.min(scaleForHeight, scaleForWidth);\n  const scale = clampZoom(expectedScale, canvasSize, updatedViewContainer);\n  const expectedPosition = { x: (-minX * scale) + leftOffset, y: -minY * scale };\n  const position = clampPosition(expectedPosition, canvasSize, scale, updatedViewContainer);\n  draftState.scale = scale;\n  draftState.position = position;\n};\n\nconst resetZoomReducer = (draftState: Draft<DiagramMakerWorkspace>) => {\n  const scale = 1;\n  const { canvasSize, viewContainerSize } = draftState;\n  const workspaceCenter = {\n    x: canvasSize.width / 2,\n    y: canvasSize.height / 2\n  };\n  const viewContainerCenter = {\n    x: viewContainerSize.width / 2,\n    y: viewContainerSize.height / 2\n  };\n  const position = {\n    x: viewContainerCenter.x - workspaceCenter.x,\n    y: viewContainerCenter.y - workspaceCenter.y\n  };\n  draftState.scale = 1;\n  draftState.position = clampPosition(position, canvasSize, 1, viewContainerSize);\n};\n\nexport default function workspaceReducer<NodeType, EdgeType>(\n  state: DiagramMakerWorkspace | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerWorkspace {\n  if (state === undefined) {\n    return getDefaultWorkspaceState();\n  }\n  switch (action.type) {\n    case WorkspaceActionsType.WORKSPACE_DRAG:\n      return produce(state, (draftState) => {\n        dragReducer(draftState, action);\n      });\n    case WorkspaceActionsType.WORKSPACE_ZOOM:\n      return produce(state, (draftState) => {\n        zoomReducer(draftState, action);\n      });\n    case WorkspaceActionsType.WORKSPACE_RESIZE:\n      return produce(state, (draftState) => {\n        resizeReducer(draftState, action);\n      });\n    case EditorActionsType.FOCUS_NODE:\n      return produce(state, (draftState) => {\n        focusReducer(draftState, action);\n      });\n    case EditorActionsType.FIT:\n      return produce(state, (draftState) => {\n        fitReducer(draftState, action);\n      });\n    case WorkspaceActionsType.WORKSPACE_RESET_ZOOM:\n      return produce(state, (draftState) => {\n        resetZoomReducer(draftState);\n      });\n    case NodeActionsType.NODE_DRAG:\n      return produce(state, (draftState) => {\n        const canvasSize =  state.canvasSize;\n        const workspacePos = state.position;\n        const nodePos = action.payload.position;\n        const nodeSize = action.payload.size;\n\n        // Resize and move workspace when node is dragged outside right boundary\n        if (nodePos.x + nodeSize.width > canvasSize.width) {\n          const incrementWidth = nodePos.x + nodeSize.width - canvasSize.width;\n          const newCanvasSize = {\n            height: canvasSize.height,\n            width: canvasSize.width + incrementWidth\n          };\n          const newWokspacePos = {\n            x: workspacePos.x - incrementWidth,\n            y: workspacePos.y\n          };\n          const resizeAction = createResizeWorkspaceCanvasAction(newCanvasSize);\n          const dragAction = createDragWorkspaceAction(newWokspacePos);\n          canvasResizeReducer(draftState, resizeAction);\n          dragReducer(draftState, dragAction);\n        }\n        // Resize and move workspace when node is dragged outside bottom boundary\n        if (nodePos.y + nodeSize.height > canvasSize.height) {\n          const incrementHeight = nodePos.y + nodeSize.height - canvasSize.height;\n          const newCanvasSize = {\n            height: canvasSize.height + incrementHeight,\n            width: canvasSize.width\n          };\n          const newWokspacePos = {\n            x: workspacePos.x,\n            y: workspacePos.y - incrementHeight\n          };\n          const resizeAction = createResizeWorkspaceCanvasAction(newCanvasSize);\n          const dragAction = createDragWorkspaceAction(newWokspacePos);\n          canvasResizeReducer(draftState, resizeAction);\n          dragReducer(draftState, dragAction);\n        }\n        // Resize workspace when node is dragged outside top boundary\n        if (nodePos.y < 0) {\n          const incrementHeight = - nodePos.y;\n          const newCanvasSize = {\n            height: canvasSize.height + incrementHeight,\n            width: canvasSize.width\n          };\n          const resizeAction = createResizeWorkspaceCanvasAction(newCanvasSize);\n          canvasResizeReducer(draftState, resizeAction);\n        }\n        // Resize workspace when node is dragged outside left boundary\n        if (nodePos.x < 0) {\n          const incrementWidth = - nodePos.x;\n          const newCanvasSize = {\n            height: canvasSize.height,\n            width: canvasSize.width + incrementWidth\n          };\n          const resizeAction = createResizeWorkspaceCanvasAction(newCanvasSize);\n          canvasResizeReducer(draftState, resizeAction);\n        }\n      });\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),Pe=(Ne.s[0]++,{MAX:3,MIN:.3,SPEED:.006}),Re=(Ne.s[1]++,50);function We(){return Ne.f[0]++,Ne.s[2]++,{position:{x:0,y:0},scale:1,canvasSize:{width:3200,height:1600},viewContainerSize:{width:1600,height:800}}}Ne.s[3]++;var Ye=function(n,A,e,t){Ne.f[1]++;var o=(Ne.s[4]++,z(n.x,-1*Math.max(0,A.width*e-t.width),0)),l=(Ne.s[5]++,z(n.y,-1*Math.max(0,A.height*e-t.height),0));return Ne.s[6]++,{x:o,y:l}};Ne.s[7]++;var ze=function(n,A,e){Ne.f[2]++;var t=(Ne.s[8]++,Math.max(Pe.MIN,e.width/A.width,e.height/A.height)),o=(Ne.s[9]++,Math.max(t,Math.min(Pe.MAX,n)));return Ne.s[10]++,Number(o.toPrecision(4))};Ne.s[11]++;Ne.s[17]++;Ne.s[23]++;Ne.s[29]++;var Le=function(n,A){Ne.f[6]++;var e=(Ne.s[30]++,n),t=(Ne.s[31]++,A.payload.position),o=(Ne.s[32]++,e.canvasSize),l=(Ne.s[33]++,n.viewContainerSize),i=(Ne.s[34]++,function(n,A){Ne.f[3]++;var e=(Ne.s[12]++,n.scale),t=(Ne.s[13]++,Math.max(-1,Math.min(1,e))*Pe.SPEED),o=(Ne.s[14]++,n.viewContainerSize),l=(Ne.s[15]++,ze(e+A.payload.zoom*t,n.canvasSize,o));return Ne.s[16]++,l}(e,A)),r=(Ne.s[35]++,function(n,A,e,t){Ne.f[4]++;var o=(Ne.s[18]++,(n.x-A.x)/e),l=(Ne.s[19]++,(n.y-A.y)/e),i=(Ne.s[20]++,Math.round(-1*o*t+n.x)),r=(Ne.s[21]++,Math.round(-1*l*t+n.y));return Ne.s[22]++,{x:i,y:r}}(t,e.position,e.scale,i)),a=(Ne.s[36]++,r.x),c=(Ne.s[37]++,r.y),s=(Ne.s[38]++,Ye({x:a,y:c},o,i,l));Ne.s[39]++,e.scale=i,Ne.s[40]++,e.position=s};Ne.s[41]++;var je=function(n,A){Ne.f[7]++;var e=(Ne.s[42]++,n);Ne.s[43]++,e.position=function(n,A){Ne.f[5]++;var e=(Ne.s[24]++,A.payload.position.x),t=(Ne.s[25]++,A.payload.position.y),o=(Ne.s[26]++,n.viewContainerSize),l=(Ne.s[27]++,Ye({x:e,y:t},n.canvasSize,n.scale,o));return Ne.s[28]++,l}(e,A)};Ne.s[44]++;Ne.s[49]++;var Fe=function(n,A){Ne.f[9]++;var e=(Ne.s[50]++,n);Ne.s[51]++,e.canvasSize=A.payload.canvasSize};Ne.s[52]++;Ne.s[66]++;Ne.s[92]++;function Ve(n,A){if(Ne.f[14]++,Ne.s[101]++,void 0===n)return Ne.b[4][0]++,Ne.s[102]++,We();switch(Ne.b[4][1]++,Ne.s[103]++,A.type){case Oe.WORKSPACE_DRAG:return Ne.b[5][0]++,Ne.s[104]++,Me(n,(function(n){Ne.f[15]++,Ne.s[105]++,je(n,A)}));case Oe.WORKSPACE_ZOOM:return Ne.b[5][1]++,Ne.s[106]++,Me(n,(function(n){Ne.f[16]++,Ne.s[107]++,Le(n,A)}));case Oe.WORKSPACE_RESIZE:return Ne.b[5][2]++,Ne.s[108]++,Me(n,(function(n){Ne.f[17]++,Ne.s[109]++,function(n,A){Ne.f[8]++;var e=(Ne.s[45]++,n);Ne.s[46]++,e.viewContainerSize=A.payload.containerSize,Ne.s[47]++,e.scale=ze(e.scale,e.canvasSize,e.viewContainerSize),Ne.s[48]++,e.position=Ye(e.position,e.canvasSize,e.scale,e.viewContainerSize)}(n,A)}));case pA.FOCUS_NODE:return Ne.b[5][3]++,Ne.s[110]++,Me(n,(function(n){Ne.f[18]++,Ne.s[111]++,function(n,A){Ne.f[10]++,Ne.s[53]++,n.scale=1;var e=(Ne.s[54]++,A.payload),t=(Ne.s[55]++,e.position),o=(Ne.s[56]++,e.size),l=(Ne.s[57]++,e.id,Ne.s[58]++,{x:t.x+o.width/2,y:t.y+o.height/2}),i=(Ne.s[59]++,n.canvasSize),r=(Ne.s[60]++,n.viewContainerSize),a=(Ne.s[61]++,Ne.b[0][0]++,A.payload.leftPanelWidth||(Ne.b[0][1]++,0)),c=(Ne.s[62]++,Ne.b[1][0]++,A.payload.rightPanelWidth||(Ne.b[1][1]++,0)),s=(Ne.s[63]++,{width:r.width-a-c,height:r.height}),C=(Ne.s[64]++,{x:s.width/2-l.x+a,y:s.height/2-l.y});Ne.s[65]++,n.position=Ye(C,i,1,s)}(n,A)}));case pA.FIT:return Ne.b[5][4]++,Ne.s[112]++,Me(n,(function(n){Ne.f[19]++,Ne.s[113]++,function(n,A){Ne.f[11]++;var e=(Ne.s[67]++,A.payload.nodeRects),t=(Ne.s[68]++,n.canvasSize.width),o=(Ne.s[69]++,n.canvasSize.height),l=(Ne.s[70]++,0),i=(Ne.s[71]++,0);Ne.s[72]++,e.forEach((function(n){Ne.f[12]++,Ne.s[73]++,t=Math.min(t,n.position.x-Re),Ne.s[74]++,o=Math.min(o,n.position.y-Re),Ne.s[75]++,l=Math.max(l,n.position.x+n.size.width+Re),Ne.s[76]++,i=Math.max(i,n.position.y+n.size.height+Re)}));var r=(Ne.s[77]++,n.canvasSize),a=(Ne.s[78]++,n.viewContainerSize),c=(Ne.s[79]++,l-t),s=(Ne.s[80]++,i-o),C=(Ne.s[81]++,Ne.b[2][0]++,A.payload.leftPanelWidth||(Ne.b[2][1]++,0)),u=(Ne.s[82]++,Ne.b[3][0]++,A.payload.rightPanelWidth||(Ne.b[3][1]++,0)),m=(Ne.s[83]++,{width:a.width-C-u,height:a.height}),d=(Ne.s[84]++,m.width/c),E=(Ne.s[85]++,m.height/s),p=(Ne.s[86]++,Math.min(E,d)),f=(Ne.s[87]++,ze(p,r,m)),g=(Ne.s[88]++,{x:-t*f+C,y:-o*f}),h=(Ne.s[89]++,Ye(g,r,f,m));Ne.s[90]++,n.scale=f,Ne.s[91]++,n.position=h}(n,A)}));case Oe.WORKSPACE_RESET_ZOOM:return Ne.b[5][5]++,Ne.s[114]++,Me(n,(function(n){Ne.f[20]++,Ne.s[115]++,function(n){Ne.f[13]++;Ne.s[93]++;var A=(Ne.s[94]++,n.canvasSize),e=(Ne.s[95]++,n.viewContainerSize),t=(Ne.s[96]++,{x:A.width/2,y:A.height/2}),o=(Ne.s[97]++,{x:e.width/2,y:e.height/2}),l=(Ne.s[98]++,{x:o.x-t.x,y:o.y-t.y});Ne.s[99]++,n.scale=1,Ne.s[100]++,n.position=Ye(l,A,1,e)}(n)}));case ye.NODE_DRAG:return Ne.b[5][6]++,Ne.s[116]++,Me(n,(function(e){Ne.f[21]++;var t=(Ne.s[117]++,n.canvasSize),o=(Ne.s[118]++,n.position),l=(Ne.s[119]++,A.payload.position),i=(Ne.s[120]++,A.payload.size);if(Ne.s[121]++,l.x+i.width>t.width){Ne.b[6][0]++;var r=(Ne.s[122]++,l.x+i.width-t.width),a=(Ne.s[123]++,{height:t.height,width:t.width+r}),c=(Ne.s[124]++,{x:o.x-r,y:o.y}),s=(Ne.s[125]++,xe(a)),C=(Ne.s[126]++,we(c));Ne.s[127]++,Fe(e,s),Ne.s[128]++,je(e,C)}else Ne.b[6][1]++;if(Ne.s[129]++,l.y+i.height>t.height){Ne.b[7][0]++;var u=(Ne.s[130]++,l.y+i.height-t.height);a=(Ne.s[131]++,{height:t.height+u,width:t.width}),c=(Ne.s[132]++,{x:o.x,y:o.y-u}),s=(Ne.s[133]++,xe(a)),C=(Ne.s[134]++,we(c));Ne.s[135]++,Fe(e,s),Ne.s[136]++,je(e,C)}else Ne.b[7][1]++;if(Ne.s[137]++,l.y<0){Ne.b[8][0]++;u=(Ne.s[138]++,-l.y),a=(Ne.s[139]++,{height:t.height+u,width:t.width}),s=(Ne.s[140]++,xe(a));Ne.s[141]++,Fe(e,s)}else Ne.b[8][1]++;if(Ne.s[142]++,l.x<0){Ne.b[9][0]++;r=(Ne.s[143]++,-l.x),a=(Ne.s[144]++,{height:t.height,width:t.width+r}),s=(Ne.s[145]++,xe(a));Ne.s[146]++,Fe(e,s)}else Ne.b[9][1]++}));default:return Ne.b[5][7]++,Ne.s[147]++,n}}!function(){var n="/Volumes/workplace/diagram-maker/src/state/workspace/index.ts",A="442b814fbe59eaeac553a5a44f752544338ee77a",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/workspace/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/workspace/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/workspace/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,gBAAgB,EAAE,wBAAwB,EAAE,MAAM,oBAAoB,CAAC;AAC3F,OAAO,EACL,cAAc,EAAE,mBAAmB,EAAE,mBAAmB,EAAE,qBAAqB,EAAE,eAAe,EAAE,oBAAoB,EACvH,MAAM,oBAAoB,CAAC",sourcesContent:["export { default as workspaceReducer, getDefaultWorkspaceState } from './workspaceReducer';\nexport {\n  DeselectAction, DragWorkspaceAction, ZoomWorkspaceAction, ResizeWorkspaceAction, WorkspaceAction, WorkspaceActionsType\n} from './workspaceActions';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();var He=function(){var n="/Volumes/workplace/diagram-maker/src/state/getInitialState.ts",A="5ab8a24cd5a7fa5251bea54a04b1903f51f8d2cc",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/getInitialState.ts",statementMap:{0:{start:{line:4,column:4},end:{line:12,column:6}}},fnMap:{0:{name:"getInitialState",decl:{start:{line:3,column:24},end:{line:3,column:39}},loc:{start:{line:3,column:42},end:{line:13,column:1}},line:3}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/getInitialState.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/getInitialState.ts"],names:[],mappings:"AAAA,OAAO,EAAoB,UAAU,EAAE,MAAM,0BAA0B,CAAC;AACxE,OAAO,EAAE,wBAAwB,EAAE,MAAM,8BAA8B,CAAC;AAExE,MAAM,CAAC,OAAO,UAAU,eAAe;IACrC,OAAO;QACL,KAAK,EAAE,EAAE;QACT,KAAK,EAAE,EAAE;QACT,MAAM,EAAE,EAAE;QACV,SAAS,EAAE,wBAAwB,EAAE;QACrC,MAAM,EAAE;YACN,IAAI,EAAE,UAAU,CAAC,IAAI;SACtB;KACF,CAAC;AACJ,CAAC",sourcesContent:["import { DiagramMakerData, EditorMode } from 'diagramMaker/state/types';\nimport { getDefaultWorkspaceState } from 'diagramMaker/state/workspace';\n\nexport default function getInitialState<NodeType, EdgeType>(): DiagramMakerData<NodeType, EdgeType> {\n  return {\n    nodes: {},\n    edges: {},\n    panels: {},\n    workspace: getDefaultWorkspaceState(),\n    editor: {\n      mode: EditorMode.DRAG\n    }\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();var qe=function(){this.__data__=[],this.size=0};var Xe=function(n,A){return n===A||n!=n&&A!=A};var Ze=function(n,A){for(var e=n.length;e--;)if(Xe(n[e][0],A))return e;return-1},Je=Array.prototype.splice;var $e=function(n){var A=this.__data__,e=Ze(A,n);return!(e<0)&&(e==A.length-1?A.pop():Je.call(A,e,1),--this.size,!0)};var nt=function(n){var A=this.__data__,e=Ze(A,n);return e<0?void 0:A[e][1]};var At=function(n){return Ze(this.__data__,n)>-1};var et=function(n,A){var e=this.__data__,t=Ze(e,n);return t<0?(++this.size,e.push([n,A])):e[t][1]=A,this};function tt(n){var A=-1,e=null==n?0:n.length;for(this.clear();++A<e;){var t=n[A];this.set(t[0],t[1])}}tt.prototype.clear=qe,tt.prototype.delete=$e,tt.prototype.get=nt,tt.prototype.has=At,tt.prototype.set=et;var ot=tt;var lt=function(){this.__data__=new ot,this.size=0};var it=function(n){var A=this.__data__,e=A.delete(n);return this.size=A.size,e};var rt=function(n){return this.__data__.get(n)};var at=function(n){return this.__data__.has(n)};var ct,st=function(n){if(!M(n))return!1;var A=x(n);return"[object Function]"==A||"[object GeneratorFunction]"==A||"[object AsyncFunction]"==A||"[object Proxy]"==A},Ct=v.a["__core-js_shared__"],ut=(ct=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||""))?"Symbol(src)_1."+ct:"";var mt=function(n){return!!ut&&ut in n},dt=Function.prototype.toString;var Et=function(n){if(null!=n){try{return dt.call(n)}catch(n){}try{return n+""}catch(n){}}return""},pt=/^\[object .+?Constructor\]$/,ft=Function.prototype,gt=Object.prototype,ht=ft.toString,It=gt.hasOwnProperty,yt=RegExp("^"+ht.call(It).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Bt=function(n){return!(!M(n)||mt(n))&&(st(n)?yt:pt).test(Et(n))};var Mt=function(n,A){return null==n?void 0:n[A]};var vt=function(n,A){var e=Mt(n,A);return Bt(e)?e:void 0},bt=vt(v.a,"Map"),Ot=vt(Object,"create");var Gt=function(){this.__data__=Ot?Ot(null):{},this.size=0};var Dt=function(n){var A=this.has(n)&&delete this.__data__[n];return this.size-=A?1:0,A},kt=Object.prototype.hasOwnProperty;var Kt=function(n){var A=this.__data__;if(Ot){var e=A[n];return"__lodash_hash_undefined__"===e?void 0:e}return kt.call(A,n)?A[n]:void 0},St=Object.prototype.hasOwnProperty;var wt=function(n){var A=this.__data__;return Ot?void 0!==A[n]:St.call(A,n)};var _t=function(n,A){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Ot&&void 0===A?"__lodash_hash_undefined__":A,this};function xt(n){var A=-1,e=null==n?0:n.length;for(this.clear();++A<e;){var t=n[A];this.set(t[0],t[1])}}xt.prototype.clear=Gt,xt.prototype.delete=Dt,xt.prototype.get=Kt,xt.prototype.has=wt,xt.prototype.set=_t;var Tt=xt;var Qt=function(){this.size=0,this.__data__={hash:new Tt,map:new(bt||ot),string:new Tt}};var Ut=function(n){var A=typeof n;return"string"==A||"number"==A||"symbol"==A||"boolean"==A?"__proto__"!==n:null===n};var Nt=function(n,A){var e=n.__data__;return Ut(A)?e["string"==typeof A?"string":"hash"]:e.map};var Pt=function(n){var A=Nt(this,n).delete(n);return this.size-=A?1:0,A};var Rt=function(n){return Nt(this,n).get(n)};var Wt=function(n){return Nt(this,n).has(n)};var Yt=function(n,A){var e=Nt(this,n),t=e.size;return e.set(n,A),this.size+=e.size==t?0:1,this};function zt(n){var A=-1,e=null==n?0:n.length;for(this.clear();++A<e;){var t=n[A];this.set(t[0],t[1])}}zt.prototype.clear=Qt,zt.prototype.delete=Pt,zt.prototype.get=Rt,zt.prototype.has=Wt,zt.prototype.set=Yt;var Lt=zt;var jt=function(n,A){var e=this.__data__;if(e instanceof ot){var t=e.__data__;if(!bt||t.length<199)return t.push([n,A]),this.size=++e.size,this;e=this.__data__=new Lt(t)}return e.set(n,A),this.size=e.size,this};function Ft(n){var A=this.__data__=new ot(n);this.size=A.size}Ft.prototype.clear=lt,Ft.prototype.delete=it,Ft.prototype.get=rt,Ft.prototype.has=at,Ft.prototype.set=jt;var Vt=Ft;var Ht=function(n,A){for(var e=-1,t=null==n?0:n.length;++e<t&&!1!==A(n[e],e,n););return n},qt=function(){try{var n=vt(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();var Xt=function(n,A,e){"__proto__"==A&&qt?qt(n,A,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[A]=e},Zt=Object.prototype.hasOwnProperty;var Jt=function(n,A,e){var t=n[A];Zt.call(n,A)&&Xe(t,e)&&(void 0!==e||A in n)||Xt(n,A,e)};var $t=function(n,A,e,t){var o=!e;e||(e={});for(var l=-1,i=A.length;++l<i;){var r=A[l],a=t?t(e[r],n[r],r,e,n):void 0;void 0===a&&(a=n[r]),o?Xt(e,r,a):Jt(e,r,a)}return e};var no=function(n,A){for(var e=-1,t=Array(n);++e<n;)t[e]=A(e);return t};var Ao=function(n){return T(n)&&"[object Arguments]"==x(n)},eo=Object.prototype,to=eo.hasOwnProperty,oo=eo.propertyIsEnumerable,lo=Ao(function(){return arguments}())?Ao:function(n){return T(n)&&to.call(n,"callee")&&!oo.call(n,"callee")},io=Array.isArray,ro=e(23),ao=/^(?:0|[1-9]\d*)$/;var co=function(n,A){var e=typeof n;return!!(A=null==A?9007199254740991:A)&&("number"==e||"symbol"!=e&&ao.test(n))&&n>-1&&n%1==0&&n<A};var so=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},Co={};Co["[object Float32Array]"]=Co["[object Float64Array]"]=Co["[object Int8Array]"]=Co["[object Int16Array]"]=Co["[object Int32Array]"]=Co["[object Uint8Array]"]=Co["[object Uint8ClampedArray]"]=Co["[object Uint16Array]"]=Co["[object Uint32Array]"]=!0,Co["[object Arguments]"]=Co["[object Array]"]=Co["[object ArrayBuffer]"]=Co["[object Boolean]"]=Co["[object DataView]"]=Co["[object Date]"]=Co["[object Error]"]=Co["[object Function]"]=Co["[object Map]"]=Co["[object Number]"]=Co["[object Object]"]=Co["[object RegExp]"]=Co["[object Set]"]=Co["[object String]"]=Co["[object WeakMap]"]=!1;var uo=function(n){return T(n)&&so(n.length)&&!!Co[x(n)]};var mo=function(n){return function(A){return n(A)}},Eo=e(16),po=Eo.a&&Eo.a.isTypedArray,fo=po?mo(po):uo,go=Object.prototype.hasOwnProperty;var ho=function(n,A){var e=io(n),t=!e&&lo(n),o=!e&&!t&&Object(ro.a)(n),l=!e&&!t&&!o&&fo(n),i=e||t||o||l,r=i?no(n.length,String):[],a=r.length;for(var c in n)!A&&!go.call(n,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||l&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||co(c,a))||r.push(c);return r},Io=Object.prototype;var yo=function(n){var A=n&&n.constructor;return n===("function"==typeof A&&A.prototype||Io)};var Bo=function(n,A){return function(e){return n(A(e))}},Mo=Bo(Object.keys,Object),vo=Object.prototype.hasOwnProperty;var bo=function(n){if(!yo(n))return Mo(n);var A=[];for(var e in Object(n))vo.call(n,e)&&"constructor"!=e&&A.push(e);return A};var Oo=function(n){return null!=n&&so(n.length)&&!st(n)};var Go=function(n){return Oo(n)?ho(n):bo(n)};var Do=function(n,A){return n&&$t(A,Go(A),n)};var ko=function(n){var A=[];if(null!=n)for(var e in Object(n))A.push(e);return A},Ko=Object.prototype.hasOwnProperty;var So=function(n){if(!M(n))return ko(n);var A=yo(n),e=[];for(var t in n)("constructor"!=t||!A&&Ko.call(n,t))&&e.push(t);return e};var wo=function(n){return Oo(n)?ho(n,!0):So(n)};var _o=function(n,A){return n&&$t(A,wo(A),n)},xo=e(139);var To=function(n,A){var e=-1,t=n.length;for(A||(A=Array(t));++e<t;)A[e]=n[e];return A};var Qo=function(n,A){for(var e=-1,t=null==n?0:n.length,o=0,l=[];++e<t;){var i=n[e];A(i,e,n)&&(l[o++]=i)}return l};var Uo=function(){return[]},No=Object.prototype.propertyIsEnumerable,Po=Object.getOwnPropertySymbols,Ro=Po?function(n){return null==n?[]:(n=Object(n),Qo(Po(n),(function(A){return No.call(n,A)})))}:Uo;var Wo=function(n,A){return $t(n,Ro(n),A)};var Yo=function(n,A){for(var e=-1,t=A.length,o=n.length;++e<t;)n[o+e]=A[e];return n},zo=Bo(Object.getPrototypeOf,Object),Lo=Object.getOwnPropertySymbols?function(n){for(var A=[];n;)Yo(A,Ro(n)),n=zo(n);return A}:Uo;var jo=function(n,A){return $t(n,Lo(n),A)};var Fo=function(n,A,e){var t=A(n);return io(n)?t:Yo(t,e(n))};var Vo=function(n){return Fo(n,Go,Ro)};var Ho=function(n){return Fo(n,wo,Lo)},qo=vt(v.a,"DataView"),Xo=vt(v.a,"Promise"),Zo=vt(v.a,"Set"),Jo=vt(v.a,"WeakMap"),$o=Et(qo),nl=Et(bt),Al=Et(Xo),el=Et(Zo),tl=Et(Jo),ol=x;(qo&&"[object DataView]"!=ol(new qo(new ArrayBuffer(1)))||bt&&"[object Map]"!=ol(new bt)||Xo&&"[object Promise]"!=ol(Xo.resolve())||Zo&&"[object Set]"!=ol(new Zo)||Jo&&"[object WeakMap]"!=ol(new Jo))&&(ol=function(n){var A=x(n),e="[object Object]"==A?n.constructor:void 0,t=e?Et(e):"";if(t)switch(t){case $o:return"[object DataView]";case nl:return"[object Map]";case Al:return"[object Promise]";case el:return"[object Set]";case tl:return"[object WeakMap]"}return A});var ll=ol,il=Object.prototype.hasOwnProperty;var rl=function(n){var A=n.length,e=new n.constructor(A);return A&&"string"==typeof n[0]&&il.call(n,"index")&&(e.index=n.index,e.input=n.input),e},al=v.a.Uint8Array;var cl=function(n){var A=new n.constructor(n.byteLength);return new al(A).set(new al(n)),A};var sl=function(n,A){var e=A?cl(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)},Cl=/\w*$/;var ul=function(n){var A=new n.constructor(n.source,Cl.exec(n));return A.lastIndex=n.lastIndex,A},ml=b?b.prototype:void 0,dl=ml?ml.valueOf:void 0;var El=function(n){return dl?Object(dl.call(n)):{}};var pl=function(n,A){var e=A?cl(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)};var fl=function(n,A,e){var t=n.constructor;switch(A){case"[object ArrayBuffer]":return cl(n);case"[object Boolean]":case"[object Date]":return new t(+n);case"[object DataView]":return sl(n,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return pl(n,e);case"[object Map]":return new t;case"[object Number]":case"[object String]":return new t(n);case"[object RegExp]":return ul(n);case"[object Set]":return new t;case"[object Symbol]":return El(n)}},gl=Object.create,hl=function(){function n(){}return function(A){if(!M(A))return{};if(gl)return gl(A);n.prototype=A;var e=new n;return n.prototype=void 0,e}}();var Il=function(n){return"function"!=typeof n.constructor||yo(n)?{}:hl(zo(n))};var yl=function(n){return T(n)&&"[object Map]"==ll(n)},Bl=Eo.a&&Eo.a.isMap,Ml=Bl?mo(Bl):yl;var vl=function(n){return T(n)&&"[object Set]"==ll(n)},bl=Eo.a&&Eo.a.isSet,Ol=bl?mo(bl):vl,Gl={};Gl["[object Arguments]"]=Gl["[object Array]"]=Gl["[object ArrayBuffer]"]=Gl["[object DataView]"]=Gl["[object Boolean]"]=Gl["[object Date]"]=Gl["[object Float32Array]"]=Gl["[object Float64Array]"]=Gl["[object Int8Array]"]=Gl["[object Int16Array]"]=Gl["[object Int32Array]"]=Gl["[object Map]"]=Gl["[object Number]"]=Gl["[object Object]"]=Gl["[object RegExp]"]=Gl["[object Set]"]=Gl["[object String]"]=Gl["[object Symbol]"]=Gl["[object Uint8Array]"]=Gl["[object Uint8ClampedArray]"]=Gl["[object Uint16Array]"]=Gl["[object Uint32Array]"]=!0,Gl["[object Error]"]=Gl["[object Function]"]=Gl["[object WeakMap]"]=!1;var Dl=function n(A,e,t,o,l,i){var r,a=1&e,c=2&e,s=4&e;if(t&&(r=l?t(A,o,l,i):t(A)),void 0!==r)return r;if(!M(A))return A;var C=io(A);if(C){if(r=rl(A),!a)return To(A,r)}else{var u=ll(A),m="[object Function]"==u||"[object GeneratorFunction]"==u;if(Object(ro.a)(A))return Object(xo.a)(A,a);if("[object Object]"==u||"[object Arguments]"==u||m&&!l){if(r=c||m?{}:Il(A),!a)return c?jo(A,_o(r,A)):Wo(A,Do(r,A))}else{if(!Gl[u])return l?A:{};r=fl(A,u,a)}}i||(i=new Vt);var d=i.get(A);if(d)return d;i.set(A,r),Ol(A)?A.forEach((function(o){r.add(n(o,e,t,o,A,i))})):Ml(A)&&A.forEach((function(o,l){r.set(l,n(o,e,t,l,A,i))}));var E=s?c?Ho:Vo:c?keysIn:Go,p=C?void 0:E(A);return Ht(p||A,(function(o,l){p&&(o=A[l=o]),Jt(r,l,n(o,e,t,l,A,i))})),r};var kl=function(n){return Dl(n,4)},Kl=v.a.isFinite;var Sl=function(n){return"number"==typeof n&&Kl(n)};var wl=function(n){return"number"==typeof n||T(n)&&"[object Number]"==x(n)};var _l=function(n,A){for(var e=-1,t=null==n?0:n.length,o=Array(t);++e<t;)o[e]=A(n[e],e,n);return o};var xl=function(n,A){return _l(A,(function(A){return n[A]}))};var Tl,Ql=function(n){return null==n?[]:xl(n,Go(n))},Ul=function(){var n="/Volumes/workplace/diagram-maker/src/state/layout/hierarchicalLayout.ts",A="b2b70b696e3b19165787d1bc9450a7384bda4b92",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/layout/hierarchicalLayout.ts",statementMap:{0:{start:{line:7,column:0},end:{line:11,column:46}},1:{start:{line:8,column:4},end:{line:8,column:72}},2:{start:{line:9,column:4},end:{line:9,column:70}},3:{start:{line:10,column:4},end:{line:10,column:64}},4:{start:{line:14,column:22},end:{line:14,column:46}},5:{start:{line:15,column:22},end:{line:15,column:103}},6:{start:{line:16,column:30},end:{line:16,column:113}},7:{start:{line:17,column:30},end:{line:19,column:25}},8:{start:{line:20,column:26},end:{line:20,column:101}},9:{start:{line:22,column:25},end:{line:22,column:27}},10:{start:{line:23,column:4},end:{line:23,column:99}},11:{start:{line:23,column:58},end:{line:23,column:95}},12:{start:{line:24,column:21},end:{line:24,column:23}},13:{start:{line:25,column:20},end:{line:25,column:22}},14:{start:{line:26,column:16},end:{line:42,column:6}},15:{start:{line:27,column:8},end:{line:27,column:35}},16:{start:{line:28,column:24},end:{line:32,column:9}},17:{start:{line:33,column:23},end:{line:33,column:53}},18:{start:{line:34,column:19},end:{line:34,column:45}},19:{start:{line:35,column:8},end:{line:40,column:9}},20:{start:{line:36,column:12},end:{line:36,column:37}},21:{start:{line:37,column:12},end:{line:37,column:54}},22:{start:{line:38,column:12},end:{line:38,column:55}},23:{start:{line:39,column:12},end:{line:39,column:35}},24:{start:{line:41,column:8},end:{line:41,column:25}},25:{start:{line:44,column:4},end:{line:53,column:7}},26:{start:{line:45,column:23},end:{line:45,column:42}},27:{start:{line:46,column:24},end:{line:46,column:44}},28:{start:{line:51,column:8},end:{line:51,column:50}},29:{start:{line:52,column:8},end:{line:52,column:50}},30:{start:{line:55,column:21},end:{line:55,column:128}},31:{start:{line:55,column:49},end:{line:55,column:125}},32:{start:{line:56,column:23},end:{line:56,column:33}},33:{start:{line:57,column:12},end:{line:57,column:23}},34:{start:{line:58,column:18},end:{line:130,column:5}},35:{start:{line:60,column:8},end:{line:62,column:11}},36:{start:{line:61,column:12},end:{line:61,column:55}},37:{start:{line:64,column:24},end:{line:64,column:26}},38:{start:{line:65,column:8},end:{line:76,column:11}},39:{start:{line:66,column:12},end:{line:75,column:15}},40:{start:{line:67,column:16},end:{line:69,column:17}},41:{start:{line:68,column:20},end:{line:68,column:27}},42:{start:{line:70,column:16},end:{line:70,column:51}},43:{start:{line:71,column:16},end:{line:74,column:17}},44:{start:{line:72,column:20},end:{line:72,column:45}},45:{start:{line:73,column:20},end:{line:73,column:70}},46:{start:{line:80,column:8},end:{line:89,column:11}},47:{start:{line:81,column:12},end:{line:88,column:13}},48:{start:{line:82,column:35},end:{line:82,column:61}},49:{start:{line:83,column:27},end:{line:83,column:114}},50:{start:{line:83,column:79},end:{line:83,column:108}},51:{start:{line:84,column:16},end:{line:84,column:52}},52:{start:{line:85,column:27},end:{line:85,column:114}},53:{start:{line:85,column:79},end:{line:85,column:108}},54:{start:{line:86,column:16},end:{line:86,column:52}},55:{start:{line:87,column:16},end:{line:87,column:43}},56:{start:{line:91,column:23},end:{line:91,column:64}},57:{start:{line:91,column:51},end:{line:91,column:61}},58:{start:{line:92,column:8},end:{line:102,column:11}},59:{start:{line:93,column:12},end:{line:100,column:15}},60:{start:{line:94,column:16},end:{line:99,column:17}},61:{start:{line:95,column:20},end:{line:98,column:23}},62:{start:{line:101,column:12},end:{line:101,column:47}},63:{start:{line:104,column:8},end:{line:126,column:11}},64:{start:{line:105,column:31},end:{line:105,column:50}},65:{start:{line:106,column:33},end:{line:106,column:111}},66:{start:{line:106,column:86},end:{line:106,column:107}},67:{start:{line:107,column:12},end:{line:109,column:13}},68:{start:{line:108,column:16},end:{line:108,column:72}},69:{start:{line:110,column:33},end:{line:110,column:85}},70:{start:{line:111,column:30},end:{line:111,column:89}},71:{start:{line:112,column:12},end:{line:112,column:69}},72:{start:{line:113,column:35},end:{line:113,column:36}},73:{start:{line:114,column:12},end:{line:125,column:15}},74:{start:{line:115,column:16},end:{line:124,column:17}},75:{start:{line:116,column:20},end:{line:118,column:21}},76:{start:{line:117,column:24},end:{line:117,column:46}},77:{start:{line:119,column:32},end:{line:119,column:67}},78:{start:{line:120,column:20},end:{line:120,column:76}},79:{start:{line:121,column:20},end:{line:121,column:76}},80:{start:{line:122,column:20},end:{line:122,column:51}},81:{start:{line:123,column:20},end:{line:123,column:42}},82:{start:{line:128,column:8},end:{line:128,column:33}},83:{start:{line:129,column:8},end:{line:129,column:72}},84:{start:{line:131,column:4},end:{line:133,column:5}},85:{start:{line:132,column:8},end:{line:132,column:18}},86:{start:{line:135,column:4},end:{line:145,column:7}},87:{start:{line:136,column:8},end:{line:144,column:11}},88:{start:{line:137,column:12},end:{line:143,column:13}},89:{start:{line:138,column:31},end:{line:138,column:78}},90:{start:{line:139,column:39},end:{line:142,column:17}},91:{start:{line:154,column:22},end:{line:154,column:24}},92:{start:{line:156,column:4},end:{line:158,column:5}},93:{start:{line:157,column:8},end:{line:157,column:31}},94:{start:{line:160,column:4},end:{line:174,column:5}},95:{start:{line:161,column:29},end:{line:161,column:55}},96:{start:{line:165,column:20},end:{line:167,column:26}},97:{start:{line:168,column:8},end:{line:171,column:9}},98:{start:{line:169,column:12},end:{line:169,column:63}},99:{start:{line:170,column:12},end:{line:170,column:59}},100:{start:{line:172,column:8},end:{line:172,column:40}},101:{start:{line:173,column:8},end:{line:173,column:27}},102:{start:{line:176,column:19},end:{line:176,column:21}},103:{start:{line:177,column:4},end:{line:179,column:5}},104:{start:{line:178,column:8},end:{line:178,column:65}},105:{start:{line:180,column:4},end:{line:180,column:91}},106:{start:{line:188,column:19},end:{line:188,column:21}},107:{start:{line:189,column:25},end:{line:189,column:27}},108:{start:{line:190,column:4},end:{line:197,column:5}},109:{start:{line:191,column:8},end:{line:191,column:26}},110:{start:{line:192,column:8},end:{line:192,column:32}},111:{start:{line:193,column:8},end:{line:196,column:9}},112:{start:{line:194,column:12},end:{line:194,column:43}},113:{start:{line:195,column:12},end:{line:195,column:49}},114:{start:{line:199,column:4},end:{line:199,column:33}},115:{start:{line:200,column:4},end:{line:200,column:29}},116:{start:{line:201,column:4},end:{line:204,column:5}},117:{start:{line:202,column:8},end:{line:202,column:100}},118:{start:{line:203,column:8},end:{line:203,column:44}},119:{start:{line:206,column:4},end:{line:210,column:5}},120:{start:{line:208,column:8},end:{line:208,column:55}},121:{start:{line:209,column:8},end:{line:209,column:41}},122:{start:{line:212,column:4},end:{line:226,column:5}},123:{start:{line:213,column:8},end:{line:225,column:9}},124:{start:{line:214,column:23},end:{line:214,column:90}},125:{start:{line:215,column:28},end:{line:215,column:29}},126:{start:{line:216,column:12},end:{line:222,column:13}},127:{start:{line:217,column:30},end:{line:217,column:111}},128:{start:{line:218,column:16},end:{line:221,column:17}},129:{start:{line:219,column:20},end:{line:219,column:35}},130:{start:{line:220,column:20},end:{line:220,column:34}},131:{start:{line:223,column:12},end:{line:223,column:49}},132:{start:{line:224,column:12},end:{line:224,column:60}},133:{start:{line:228,column:28},end:{line:228,column:74}},134:{start:{line:228,column:62},end:{line:228,column:71}},135:{start:{line:229,column:20},end:{line:229,column:30}},136:{start:{line:230,column:4},end:{line:233,column:5}},137:{start:{line:231,column:8},end:{line:231,column:82}},138:{start:{line:232,column:8},end:{line:232,column:53}},139:{start:{line:235,column:4},end:{line:244,column:5}},140:{start:{line:236,column:8},end:{line:236,column:49}},141:{start:{line:237,column:20},end:{line:237,column:48}},142:{start:{line:238,column:29},end:{line:238,column:91}},143:{start:{line:239,column:8},end:{line:243,column:9}},144:{start:{line:240,column:12},end:{line:240,column:36}},145:{start:{line:241,column:12},end:{line:241,column:42}},146:{start:{line:242,column:12},end:{line:242,column:63}},147:{start:{line:245,column:4},end:{line:245,column:36}},148:{start:{line:246,column:4},end:{line:246,column:23}},149:{start:{line:254,column:4},end:{line:256,column:5}},150:{start:{line:255,column:8},end:{line:255,column:15}},151:{start:{line:259,column:4},end:{line:264,column:5}},152:{start:{line:260,column:8},end:{line:262,column:9}},153:{start:{line:261,column:12},end:{line:261,column:47}},154:{start:{line:263,column:8},end:{line:263,column:15}},155:{start:{line:265,column:19},end:{line:265,column:73}},156:{start:{line:265,column:34},end:{line:265,column:71}},157:{start:{line:266,column:19},end:{line:266,column:89}},158:{start:{line:266,column:34},end:{line:266,column:87}},159:{start:{line:268,column:20},end:{line:268,column:21}},160:{start:{line:269,column:4},end:{line:271,column:5}},161:{start:{line:270,column:8},end:{line:270,column:23}},162:{start:{line:272,column:4},end:{line:274,column:5}},163:{start:{line:273,column:8},end:{line:273,column:22}},164:{start:{line:275,column:24},end:{line:275,column:43}},165:{start:{line:276,column:24},end:{line:276,column:55}},166:{start:{line:277,column:20},end:{line:277,column:47}},167:{start:{line:281,column:4},end:{line:329,column:5}},168:{start:{line:284,column:9},end:{line:329,column:5}},169:{start:{line:286,column:26},end:{line:286,column:85}},170:{start:{line:287,column:8},end:{line:294,column:9}},171:{start:{line:289,column:12},end:{line:289,column:55}},172:{start:{line:293,column:12},end:{line:293,column:54}},173:{start:{line:296,column:9},end:{line:329,column:5}},174:{start:{line:298,column:26},end:{line:298,column:85}},175:{start:{line:299,column:8},end:{line:306,column:9}},176:{start:{line:301,column:12},end:{line:301,column:59}},177:{start:{line:305,column:12},end:{line:305,column:58}},178:{start:{line:310,column:37},end:{line:310,column:78}},179:{start:{line:311,column:33},end:{line:311,column:70}},180:{start:{line:312,column:8},end:{line:328,column:9}},181:{start:{line:314,column:12},end:{line:315,column:97}},182:{start:{line:316,column:12},end:{line:317,column:93}},183:{start:{line:319,column:13},end:{line:328,column:9}},184:{start:{line:321,column:12},end:{line:321,column:59}},185:{start:{line:322,column:12},end:{line:322,column:101}},186:{start:{line:326,column:12},end:{line:326,column:55}},187:{start:{line:327,column:12},end:{line:327,column:109}},188:{start:{line:331,column:16},end:{line:331,column:35}},189:{start:{line:332,column:4},end:{line:338,column:5}},190:{start:{line:333,column:8},end:{line:336,column:9}},191:{start:{line:334,column:12},end:{line:335,column:110}},192:{start:{line:337,column:8},end:{line:337,column:32}},193:{start:{line:340,column:4},end:{line:340,column:36}},194:{start:{line:341,column:4},end:{line:347,column:5}},195:{start:{line:342,column:8},end:{line:345,column:9}},196:{start:{line:343,column:12},end:{line:344,column:110}},197:{start:{line:346,column:8},end:{line:346,column:32}},198:{start:{line:348,column:4},end:{line:348,column:35}},199:{start:{line:355,column:4},end:{line:355,column:67}},200:{start:{line:355,column:38},end:{line:355,column:63}},201:{start:{line:365,column:25},end:{line:365,column:87}},202:{start:{line:366,column:4},end:{line:368,column:5}},203:{start:{line:367,column:8},end:{line:367,column:54}},204:{start:{line:369,column:4},end:{line:369,column:50}},205:{start:{line:376,column:4},end:{line:378,column:5}},206:{start:{line:377,column:8},end:{line:377,column:19}},207:{start:{line:380,column:12},end:{line:382,column:65}},208:{start:{line:381,column:28},end:{line:381,column:47}},209:{start:{line:382,column:40},end:{line:382,column:59}},210:{start:{line:383,column:12},end:{line:385,column:65}},211:{start:{line:384,column:28},end:{line:384,column:47}},212:{start:{line:385,column:40},end:{line:385,column:59}},213:{start:{line:386,column:4},end:{line:390,column:5}},214:{start:{line:389,column:8},end:{line:389,column:19}},215:{start:{line:391,column:4},end:{line:391,column:44}},216:{start:{line:403,column:24},end:{line:403,column:59}},217:{start:{line:404,column:4},end:{line:406,column:5}},218:{start:{line:405,column:8},end:{line:405,column:61}},219:{start:{line:407,column:4},end:{line:407,column:57}},220:{start:{line:413,column:16},end:{line:413,column:41}},221:{start:{line:414,column:4},end:{line:414,column:48}},222:{start:{line:420,column:13},end:{line:420,column:20}},223:{start:{line:421,column:13},end:{line:421,column:20}},224:{start:{line:422,column:13},end:{line:422,column:20}},225:{start:{line:423,column:13},end:{line:423,column:20}},226:{start:{line:426,column:16},end:{line:426,column:44}},227:{start:{line:429,column:4},end:{line:429,column:33}},228:{start:{line:435,column:17},end:{line:435,column:22}},229:{start:{line:436,column:4},end:{line:438,column:5}},230:{start:{line:437,column:8},end:{line:437,column:30}},231:{start:{line:439,column:4},end:{line:441,column:5}},232:{start:{line:440,column:8},end:{line:440,column:30}},233:{start:{line:442,column:4},end:{line:442,column:18}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:1},end:{line:7,column:2}},loc:{start:{line:7,column:28},end:{line:11,column:1}},line:7},1:{name:"hierarchicalLayout",decl:{start:{line:12,column:24},end:{line:12,column:42}},loc:{start:{line:12,column:64},end:{line:146,column:1}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:23,column:38},end:{line:23,column:39}},loc:{start:{line:23,column:56},end:{line:23,column:97}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:26,column:40},end:{line:26,column:41}},loc:{start:{line:26,column:63},end:{line:42,column:5}},line:26},4:{name:"(anonymous_4)",decl:{start:{line:44,column:32},end:{line:44,column:33}},loc:{start:{line:44,column:48},end:{line:53,column:5}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:55,column:31},end:{line:55,column:32}},loc:{start:{line:55,column:47},end:{line:55,column:127}},line:55},6:{name:"(anonymous_6)",decl:{start:{line:58,column:18},end:{line:58,column:19}},loc:{start:{line:58,column:30},end:{line:130,column:5}},line:58},7:{name:"(anonymous_7)",decl:{start:{line:60,column:29},end:{line:60,column:30}},loc:{start:{line:60,column:45},end:{line:62,column:9}},line:60},8:{name:"(anonymous_8)",decl:{start:{line:65,column:29},end:{line:65,column:30}},loc:{start:{line:65,column:45},end:{line:76,column:9}},line:65},9:{name:"(anonymous_9)",decl:{start:{line:66,column:42},end:{line:66,column:43}},loc:{start:{line:66,column:62},end:{line:75,column:13}},line:66},10:{name:"(anonymous_10)",decl:{start:{line:80,column:26},end:{line:80,column:27}},loc:{start:{line:80,column:42},end:{line:89,column:9}},line:80},11:{name:"(anonymous_11)",decl:{start:{line:83,column:54},end:{line:83,column:55}},loc:{start:{line:83,column:77},end:{line:83,column:110}},line:83},12:{name:"(anonymous_12)",decl:{start:{line:85,column:54},end:{line:85,column:55}},loc:{start:{line:85,column:77},end:{line:85,column:110}},line:85},13:{name:"(anonymous_13)",decl:{start:{line:91,column:33},end:{line:91,column:34}},loc:{start:{line:91,column:49},end:{line:91,column:63}},line:91},14:{name:"(anonymous_14)",decl:{start:{line:92,column:29},end:{line:92,column:30}},loc:{start:{line:92,column:45},end:{line:102,column:9}},line:92},15:{name:"(anonymous_15)",decl:{start:{line:93,column:42},end:{line:93,column:43}},loc:{start:{line:93,column:62},end:{line:100,column:13}},line:93},16:{name:"(anonymous_16)",decl:{start:{line:104,column:29},end:{line:104,column:30}},loc:{start:{line:104,column:45},end:{line:126,column:9}},line:104},17:{name:"(anonymous_17)",decl:{start:{line:106,column:65},end:{line:106,column:66}},loc:{start:{line:106,column:84},end:{line:106,column:109}},line:106},18:{name:"(anonymous_18)",decl:{start:{line:114,column:42},end:{line:114,column:43}},loc:{start:{line:114,column:62},end:{line:125,column:13}},line:114},19:{name:"(anonymous_19)",decl:{start:{line:135,column:26},end:{line:135,column:27}},loc:{start:{line:135,column:48},end:{line:145,column:5}},line:135},20:{name:"(anonymous_20)",decl:{start:{line:136,column:22},end:{line:136,column:23}},loc:{start:{line:136,column:38},end:{line:144,column:9}},line:136},21:{name:"arrangeEvenly",decl:{start:{line:153,column:9},end:{line:153,column:22}},loc:{start:{line:153,column:59},end:{line:247,column:1}},line:153},22:{name:"(anonymous_22)",decl:{start:{line:228,column:41},end:{line:228,column:42}},loc:{start:{line:228,column:60},end:{line:228,column:73}},line:228},23:{name:"applyGravity",decl:{start:{line:252,column:9},end:{line:252,column:21}},loc:{start:{line:252,column:65},end:{line:349,column:1}},line:252},24:{name:"(anonymous_24)",decl:{start:{line:265,column:19},end:{line:265,column:20}},loc:{start:{line:265,column:32},end:{line:265,column:73}},line:265},25:{name:"(anonymous_25)",decl:{start:{line:266,column:19},end:{line:266,column:20}},loc:{start:{line:266,column:32},end:{line:266,column:89}},line:266},26:{name:"sortNodeDirections",decl:{start:{line:354,column:9},end:{line:354,column:27}},loc:{start:{line:354,column:40},end:{line:356,column:1}},line:354},27:{name:"(anonymous_27)",decl:{start:{line:355,column:20},end:{line:355,column:21}},loc:{start:{line:355,column:36},end:{line:355,column:65}},line:355},28:{name:"pushTowardsAngle",decl:{start:{line:364,column:9},end:{line:364,column:25}},loc:{start:{line:364,column:56},end:{line:370,column:1}},line:364},29:{name:"meanOfAngles",decl:{start:{line:375,column:9},end:{line:375,column:21}},loc:{start:{line:375,column:30},end:{line:392,column:1}},line:375},30:{name:"(anonymous_30)",decl:{start:{line:381,column:13},end:{line:381,column:14}},loc:{start:{line:381,column:26},end:{line:381,column:49}},line:381},31:{name:"(anonymous_31)",decl:{start:{line:382,column:16},end:{line:382,column:17}},loc:{start:{line:382,column:38},end:{line:382,column:61}},line:382},32:{name:"(anonymous_32)",decl:{start:{line:384,column:13},end:{line:384,column:14}},loc:{start:{line:384,column:26},end:{line:384,column:49}},line:384},33:{name:"(anonymous_33)",decl:{start:{line:385,column:16},end:{line:385,column:17}},loc:{start:{line:385,column:38},end:{line:385,column:61}},line:385},34:{name:"isLeftTurn",decl:{start:{line:402,column:9},end:{line:402,column:19}},loc:{start:{line:402,column:38},end:{line:408,column:1}},line:402},35:{name:"angleBetween",decl:{start:{line:412,column:9},end:{line:412,column:21}},loc:{start:{line:412,column:38},end:{line:415,column:1}},line:412},36:{name:"getAngle",decl:{start:{line:419,column:9},end:{line:419,column:17}},loc:{start:{line:419,column:32},end:{line:430,column:1}},line:419},37:{name:"normalizeAngle",decl:{start:{line:434,column:9},end:{line:434,column:23}},loc:{start:{line:434,column:31},end:{line:443,column:1}},line:434}},branchMap:{0:{loc:{start:{line:11,column:3},end:{line:11,column:44}},type:"binary-expr",locations:[{start:{line:11,column:3},end:{line:11,column:18}},{start:{line:11,column:23},end:{line:11,column:43}}],line:11},1:{loc:{start:{line:15,column:22},end:{line:15,column:103}},type:"cond-expr",locations:[{start:{line:15,column:59},end:{line:15,column:83}},{start:{line:15,column:87},end:{line:15,column:102}}],line:15},2:{loc:{start:{line:16,column:30},end:{line:16,column:113}},type:"cond-expr",locations:[{start:{line:16,column:75},end:{line:16,column:107}},{start:{line:16,column:110},end:{line:16,column:113}}],line:16},3:{loc:{start:{line:17,column:30},end:{line:19,column:25}},type:"cond-expr",locations:[{start:{line:18,column:10},end:{line:18,column:52}},{start:{line:19,column:11},end:{line:19,column:24}}],line:17},4:{loc:{start:{line:20,column:26},end:{line:20,column:101}},type:"cond-expr",locations:[{start:{line:20,column:67},end:{line:20,column:95}},{start:{line:20,column:98},end:{line:20,column:101}}],line:20},5:{loc:{start:{line:35,column:8},end:{line:40,column:9}},type:"if",locations:[{start:{line:35,column:8},end:{line:40,column:9}},{start:{line:35,column:8},end:{line:40,column:9}}],line:35},6:{loc:{start:{line:55,column:56},end:{line:55,column:124}},type:"cond-expr",locations:[{start:{line:55,column:71},end:{line:55,column:94}},{start:{line:55,column:97},end:{line:55,column:124}}],line:55},7:{loc:{start:{line:67,column:16},end:{line:69,column:17}},type:"if",locations:[{start:{line:67,column:16},end:{line:69,column:17}},{start:{line:67,column:16},end:{line:69,column:17}}],line:67},8:{loc:{start:{line:71,column:16},end:{line:74,column:17}},type:"if",locations:[{start:{line:71,column:16},end:{line:74,column:17}},{start:{line:71,column:16},end:{line:74,column:17}}],line:71},9:{loc:{start:{line:81,column:12},end:{line:88,column:13}},type:"if",locations:[{start:{line:81,column:12},end:{line:88,column:13}},{start:{line:81,column:12},end:{line:88,column:13}}],line:81},10:{loc:{start:{line:94,column:16},end:{line:99,column:17}},type:"if",locations:[{start:{line:94,column:16},end:{line:99,column:17}},{start:{line:94,column:16},end:{line:99,column:17}}],line:94},11:{loc:{start:{line:107,column:12},end:{line:109,column:13}},type:"if",locations:[{start:{line:107,column:12},end:{line:109,column:13}},{start:{line:107,column:12},end:{line:109,column:13}}],line:107},12:{loc:{start:{line:115,column:16},end:{line:124,column:17}},type:"if",locations:[{start:{line:115,column:16},end:{line:124,column:17}},{start:{line:115,column:16},end:{line:124,column:17}}],line:115},13:{loc:{start:{line:137,column:12},end:{line:143,column:13}},type:"if",locations:[{start:{line:137,column:12},end:{line:143,column:13}},{start:{line:137,column:12},end:{line:143,column:13}}],line:137},14:{loc:{start:{line:137,column:16},end:{line:137,column:52}},type:"binary-expr",locations:[{start:{line:137,column:16},end:{line:137,column:32}},{start:{line:137,column:36},end:{line:137,column:52}}],line:137},15:{loc:{start:{line:156,column:4},end:{line:158,column:5}},type:"if",locations:[{start:{line:156,column:4},end:{line:158,column:5}},{start:{line:156,column:4},end:{line:158,column:5}}],line:156},16:{loc:{start:{line:160,column:4},end:{line:174,column:5}},type:"if",locations:[{start:{line:160,column:4},end:{line:174,column:5}},{start:{line:160,column:4},end:{line:174,column:5}}],line:160},17:{loc:{start:{line:165,column:20},end:{line:167,column:26}},type:"cond-expr",locations:[{start:{line:166,column:14},end:{line:166,column:65}},{start:{line:167,column:14},end:{line:167,column:26}}],line:165},18:{loc:{start:{line:218,column:16},end:{line:221,column:17}},type:"if",locations:[{start:{line:218,column:16},end:{line:221,column:17}},{start:{line:218,column:16},end:{line:221,column:17}}],line:218},19:{loc:{start:{line:254,column:4},end:{line:256,column:5}},type:"if",locations:[{start:{line:254,column:4},end:{line:256,column:5}},{start:{line:254,column:4},end:{line:256,column:5}}],line:254},20:{loc:{start:{line:254,column:8},end:{line:254,column:50}},type:"binary-expr",locations:[{start:{line:254,column:8},end:{line:254,column:26}},{start:{line:254,column:30},end:{line:254,column:50}}],line:254},21:{loc:{start:{line:259,column:4},end:{line:264,column:5}},type:"if",locations:[{start:{line:259,column:4},end:{line:264,column:5}},{start:{line:259,column:4},end:{line:264,column:5}}],line:259},22:{loc:{start:{line:260,column:8},end:{line:262,column:9}},type:"if",locations:[{start:{line:260,column:8},end:{line:262,column:9}},{start:{line:260,column:8},end:{line:262,column:9}}],line:260},23:{loc:{start:{line:266,column:42},end:{line:266,column:85}},type:"cond-expr",locations:[{start:{line:266,column:53},end:{line:266,column:74}},{start:{line:266,column:79},end:{line:266,column:84}}],line:266},24:{loc:{start:{line:269,column:11},end:{line:269,column:90}},type:"binary-expr",locations:[{start:{line:269,column:11},end:{line:269,column:44}},{start:{line:269,column:48},end:{line:269,column:90}}],line:269},25:{loc:{start:{line:272,column:4},end:{line:274,column:5}},type:"if",locations:[{start:{line:272,column:4},end:{line:274,column:5}},{start:{line:272,column:4},end:{line:274,column:5}}],line:272},26:{loc:{start:{line:281,column:4},end:{line:329,column:5}},type:"if",locations:[{start:{line:281,column:4},end:{line:329,column:5}},{start:{line:281,column:4},end:{line:329,column:5}}],line:281},27:{loc:{start:{line:281,column:8},end:{line:281,column:74}},type:"binary-expr",locations:[{start:{line:281,column:8},end:{line:281,column:41}},{start:{line:281,column:45},end:{line:281,column:74}}],line:281},28:{loc:{start:{line:284,column:9},end:{line:329,column:5}},type:"if",locations:[{start:{line:284,column:9},end:{line:329,column:5}},{start:{line:284,column:9},end:{line:329,column:5}}],line:284},29:{loc:{start:{line:287,column:8},end:{line:294,column:9}},type:"if",locations:[{start:{line:287,column:8},end:{line:294,column:9}},{start:{line:287,column:8},end:{line:294,column:9}}],line:287},30:{loc:{start:{line:296,column:9},end:{line:329,column:5}},type:"if",locations:[{start:{line:296,column:9},end:{line:329,column:5}},{start:{line:296,column:9},end:{line:329,column:5}}],line:296},31:{loc:{start:{line:299,column:8},end:{line:306,column:9}},type:"if",locations:[{start:{line:299,column:8},end:{line:306,column:9}},{start:{line:299,column:8},end:{line:306,column:9}}],line:299},32:{loc:{start:{line:312,column:8},end:{line:328,column:9}},type:"if",locations:[{start:{line:312,column:8},end:{line:328,column:9}},{start:{line:312,column:8},end:{line:328,column:9}}],line:312},33:{loc:{start:{line:319,column:13},end:{line:328,column:9}},type:"if",locations:[{start:{line:319,column:13},end:{line:328,column:9}},{start:{line:319,column:13},end:{line:328,column:9}}],line:319},34:{loc:{start:{line:332,column:11},end:{line:332,column:87}},type:"binary-expr",locations:[{start:{line:332,column:11},end:{line:332,column:34}},{start:{line:332,column:38},end:{line:332,column:87}}],line:332},35:{loc:{start:{line:333,column:8},end:{line:336,column:9}},type:"if",locations:[{start:{line:333,column:8},end:{line:336,column:9}},{start:{line:333,column:8},end:{line:336,column:9}}],line:333},36:{loc:{start:{line:341,column:11},end:{line:341,column:84}},type:"binary-expr",locations:[{start:{line:341,column:11},end:{line:341,column:30}},{start:{line:341,column:34},end:{line:341,column:84}}],line:341},37:{loc:{start:{line:342,column:8},end:{line:345,column:9}},type:"if",locations:[{start:{line:342,column:8},end:{line:345,column:9}},{start:{line:342,column:8},end:{line:345,column:9}}],line:342},38:{loc:{start:{line:366,column:4},end:{line:368,column:5}},type:"if",locations:[{start:{line:366,column:4},end:{line:368,column:5}},{start:{line:366,column:4},end:{line:368,column:5}}],line:366},39:{loc:{start:{line:376,column:4},end:{line:378,column:5}},type:"if",locations:[{start:{line:376,column:4},end:{line:378,column:5}},{start:{line:376,column:4},end:{line:378,column:5}}],line:376},40:{loc:{start:{line:386,column:4},end:{line:390,column:5}},type:"if",locations:[{start:{line:386,column:4},end:{line:390,column:5}},{start:{line:386,column:4},end:{line:390,column:5}}],line:386},41:{loc:{start:{line:386,column:8},end:{line:386,column:50}},type:"binary-expr",locations:[{start:{line:386,column:8},end:{line:386,column:27}},{start:{line:386,column:31},end:{line:386,column:50}}],line:386},42:{loc:{start:{line:404,column:4},end:{line:406,column:5}},type:"if",locations:[{start:{line:404,column:4},end:{line:406,column:5}},{start:{line:404,column:4},end:{line:406,column:5}}],line:404},43:{loc:{start:{line:405,column:16},end:{line:405,column:59}},type:"binary-expr",locations:[{start:{line:405,column:16},end:{line:405,column:33}},{start:{line:405,column:37},end:{line:405,column:59}}],line:405},44:{loc:{start:{line:407,column:12},end:{line:407,column:55}},type:"binary-expr",locations:[{start:{line:407,column:12},end:{line:407,column:29}},{start:{line:407,column:33},end:{line:407,column:55}}],line:407}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/layout/hierarchicalLayout.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/layout/hierarchicalLayout.ts"],names:[],mappings:"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",sourcesContent:["import { produce } from 'immer';\nimport clone from 'lodash-es/clone';\nimport fill from 'lodash-es/fill';\nimport includes from 'lodash-es/includes';\nimport isFinite from 'lodash-es/isFinite';\nimport isNumber from 'lodash-es/isNumber';\nimport values from 'lodash-es/values';\n\nimport { DiagramMakerData, DiagramMakerNode } from 'diagramMaker/state/types';\n\nimport { HierarchicalLayoutConfig } from './layoutActions';\n\n// Internal type for manipulating nodes\ninterface GraphNode {\n  id: string;\n  neighbors: number[];\n  parents: number[];\n  isFixed?: boolean;\n  x?: number;\n  y?: number;\n}\n\nenum TraversalStatus { NOT_VISITED, PROCESSING, VISITED }\n\ninterface NodeDirection {\n  angle: number;\n  isFixed: boolean;\n}\n\nexport default function hierarchicalLayout<NodeType, EdgeType>(\n  state: DiagramMakerData<NodeType, EdgeType>,\n  layoutConfig: HierarchicalLayoutConfig\n): DiagramMakerData<NodeType, EdgeType> {\n  // Initialize config values with defaults, if needed.\n  const distanceMin = layoutConfig.distanceMin;\n  const distanceMax = isNumber(layoutConfig.distanceMax) ? layoutConfig.distanceMax : (3 * distanceMin);\n  const distanceDeclineRate = isNumber(layoutConfig.distanceDeclineRate) ? layoutConfig.distanceDeclineRate : 0.3;\n\n  const initialGravityAngle = isNumber(layoutConfig.gravityAngle)\n    ? normalizeAngle(-layoutConfig.gravityAngle) // As Y-axis points down, the angle must be inverted.\n    : (Math.PI * 0.5); // Default gravity points straight down.\n\n  const gravityStrength = isNumber(layoutConfig.gravityStrength) ? layoutConfig.gravityStrength : 0.0;\n\n  // Construct an initial graph without calculated positioning.\n  const fixedNodeIdSet: { [key: string]: boolean } = {};\n  layoutConfig.fixedNodeIds.forEach(nodeId => fixedNodeIdSet[nodeId] = true);\n\n  const fixedNodes: number[] = [];\n  const nodeIndex: { [key: string]: number } = {};\n  const graph: GraphNode[] = values(state.nodes).map((node, index) => {\n    nodeIndex[node.id] = index;\n\n    const graphNode: GraphNode = {\n      id: node.id,\n      neighbors: [],\n      parents: []\n    };\n\n    const position = node.diagramMakerData.position;\n    const size = node.diagramMakerData.size;\n    if (fixedNodeIdSet[node.id]) {\n      graphNode.isFixed = true;\n      graphNode.x = position.x + size.width / 2;\n      graphNode.y = position.y + size.height / 2;\n\n      fixedNodes.push(index);\n    }\n    return graphNode;\n  });\n\n  // Add neighbor information based on DiagramMaker edges.\n  values(state.edges).forEach((edge) => {\n    const srcIndex = nodeIndex[edge.src];\n    const destIndex = nodeIndex[edge.dest];\n\n    // Note:\n    // The directionality of the graph is ignored.\n    // No matter if we're laying out children nodes around the parent,\n    // or parent nodes around the child, the same rules spread in both directions.\n    graph[srcIndex].neighbors.push(destIndex);\n    graph[destIndex].neighbors.push(srcIndex);\n  });\n\n  // Calculate positioning during BFS traversal.\n  const nodeStatus: TraversalStatus[] = graph.map(\n    node => node.isFixed ? TraversalStatus.VISITED : TraversalStatus.NOT_VISITED\n  );\n\n  let currentLayer: number[] = fixedNodes;\n  let r = distanceMax;\n  while (currentLayer.length) {\n    // Mark current layer as VISITED.\n    currentLayer.forEach((node) => {\n      nodeStatus[node] = TraversalStatus.VISITED;\n    });\n\n    // Calculate next layer by traversing neighbors of the current layer.\n    const nextLayer: number[] = [];\n    currentLayer.forEach((node) => {\n      graph[node].neighbors.forEach((neighbor) => {\n        if (nodeStatus[neighbor] === TraversalStatus.VISITED) { return; }\n\n        graph[neighbor].parents.push(node);\n        if (nodeStatus[neighbor] === TraversalStatus.NOT_VISITED) {\n          nextLayer.push(neighbor);\n          nodeStatus[neighbor] = TraversalStatus.PROCESSING;\n        }\n      });\n    });\n\n    // Position the next layer.\n\n    // Start with the nodes that are connected to multiple fixed parents.\n    // Place them in the centroid of all of their parents.\n    nextLayer.forEach((node) => {\n      if (graph[node].parents.length > 1) {\n        const parentsCount = graph[node].parents.length;\n\n        const sumX = graph[node].parents.reduce((sum, parent) => sum + (graph[parent].x as number), 0);\n        graph[node].x = sumX / parentsCount;\n\n        const sumY = graph[node].parents.reduce((sum, parent) => sum + (graph[parent].y as number), 0);\n        graph[node].y = sumY / parentsCount;\n\n        graph[node].isFixed = true;\n      }\n    });\n\n    // Calculate the fixtures (angles that are already fixed) for each node in the current layer.\n    const fixtures: NodeDirection[][] = graph.map(node => []);\n    currentLayer.forEach((node) => {\n      graph[node].neighbors.forEach((neighbor) => {\n        if (graph[neighbor].isFixed) {\n          fixtures[node].push({\n            angle: getAngle(graph[node], graph[neighbor]),\n            isFixed: true\n          });\n        }\n      });\n      sortNodeDirections(fixtures[node]);\n    });\n\n    // Distribute all remaining free-hanging nodes between the fixtures.\n    currentLayer.forEach((node) => {\n      let gravityAngle = initialGravityAngle;\n\n      const meanOfFixtures = meanOfAngles(fixtures[node].map(fixture => fixture.angle));\n      if (!isNaN(meanOfFixtures)) {\n        gravityAngle = normalizeAngle(meanOfFixtures + Math.PI);\n      }\n\n      const freeNodesCount = graph[node].neighbors.length - fixtures[node].length;\n      const arrangement = arrangeEvenly(freeNodesCount, fixtures[node], gravityAngle);\n\n      applyGravity(arrangement, gravityAngle, gravityStrength);\n\n      let arrangementIndex = 0;\n      graph[node].neighbors.forEach((neighbor) => {\n        if (!graph[neighbor].isFixed) {\n          while (arrangement[arrangementIndex].isFixed) {\n            arrangementIndex += 1;\n          }\n          const angle = arrangement[arrangementIndex].angle;\n          graph[neighbor].x = (graph[node].x as number) + Math.cos(angle) * r;\n          graph[neighbor].y = (graph[node].y as number) + Math.sin(angle) * r;\n          graph[neighbor].isFixed = true;\n\n          arrangementIndex += 1;\n        }\n      });\n    });\n\n    // Move on to the next layer.\n    currentLayer = nextLayer;\n    r = distanceMin + (r - distanceMin) * (1 - distanceDeclineRate);\n  }\n\n  // Update the original data with the calculated values.\n  return produce(state, (draftState) => {\n    graph.forEach((node) => {\n      if (isFinite(node.x) && isFinite(node.y)) {\n        const nodeSize = draftState.nodes[node.id].diagramMakerData.size;\n        const diagramMakerNode = draftState.nodes[node.id].diagramMakerData.position = {\n          x: (node.x as number) - nodeSize.width / 2,\n          y: (node.y as number) - nodeSize.height / 2\n        };\n      }\n    });\n  });\n}\n\n/**\n * Arranges `nodesCount` number of angles between `fixtures` in the most even way.\n *\n * More technically:\n * Maximizes the smallest angle between any two nodes (free and fixed).\n */\nfunction arrangeEvenly(nodesCount: number, fixtures: NodeDirection[], defaultAngle: number): NodeDirection[] {\n  const arrangement: NodeDirection[] = [];\n\n  // No nodes to arrange? Return fixtures unchanged.\n  if (nodesCount <= 0) {\n    return clone(fixtures);\n  }\n\n  // If there is no fixtures, just arrange nodes evenly.\n  if (!fixtures.length) {\n    const angleIncrement = (Math.PI * 2) / nodesCount;\n\n    // General orientation should point to `defaultAngle`:\n    // - For odd number of nodes, one of the nodes points to `defaultAngle`.\n    // - For even number of nodes, `defaultAngle` is in the middle between two consecutive nodes.\n    let angle = (nodesCount % 2 === 0)\n      ? normalizeAngle(defaultAngle + angleIncrement * 0.5)\n      : defaultAngle;\n\n    for (let i = 0; i < nodesCount; i += 1) {\n      arrangement.push({ angle, isFixed: false });\n\n      angle = normalizeAngle(angle + angleIncrement);\n    }\n\n    sortNodeDirections(arrangement);\n    return arrangement;\n  }\n\n  // Calculate the segments bewteen the fixtures (in angles).\n  const segments = [];\n  for (let i = 1; i < fixtures.length; i += 1) {\n    segments.push(fixtures[i].angle - fixtures[i - 1].angle);\n  }\n  segments.push((fixtures[0].angle + Math.PI * 2) - fixtures[fixtures.length - 1].angle);\n\n  // Use dynamic programming to figure out the best arrangement.\n  // `minAngle[x][y]` equals to the minimum angle in optimal arrangement\n  // of Y number nodes in the 0..X segments.\n  //\n  // As example `minAngle[5][3]` equals to the minimal angle between any nodes,\n  // when we arrange 5 nodes in segments 0, 1 and 2.\n\n  // Initialize the table with 0 in each position. That's the worst outcome for optimal arrangement.\n  const minAngle: number[][] = [];\n  const bestNodesCount: number[][] = [];\n  for (let segmentIndex = 0; segmentIndex < segments.length; segmentIndex += 1) {\n    minAngle.push([]);\n    bestNodesCount.push([]);\n    for (let nodes = 0; nodes <= nodesCount; nodes += 1) {\n      minAngle[segmentIndex].push(0);\n      bestNodesCount[segmentIndex].push(0);\n    }\n  }\n\n  // Initialize `minAngle[X][0]`. This is when we don't have any nodes to arrange.\n  minAngle[0][0] = segments[0];\n  bestNodesCount[0][0] = 0;\n  for (let segmentIndex = 1; segmentIndex < segments.length; segmentIndex += 1) {\n    minAngle[segmentIndex][0] = Math.min(segments[segmentIndex], minAngle[segmentIndex - 1][0]);\n    bestNodesCount[segmentIndex][0] = 0;\n  }\n\n  // Initialize `minAngle[0][X]`. This is when we arrange X nodes evenly in the first segment.\n  for (let nodes = 1; nodes <= nodesCount; nodes += 1) {\n    // Squeezing X nodes in a segment splits it into (X + 1) equal subsegments.\n    minAngle[0][nodes] = segments[0] / (nodes + 1);\n    bestNodesCount[0][nodes] = nodes;\n  }\n\n  // Calculate the minimal angle for each remaining cell.\n  for (let segmentIndex = 1; segmentIndex < segments.length; segmentIndex += 1) {\n    for (let nodes = 1; nodes <= nodesCount; nodes += 1) {\n      let best = Math.min(minAngle[segmentIndex - 1][nodes], segments[segmentIndex]);\n      let bestNodes = 0;\n      for (let x = 1; x <= nodes; x += 1) {\n        const current = Math.min(minAngle[segmentIndex - 1][nodes - x], segments[segmentIndex] / (x + 1));\n        if (current >= best) {\n          best = current;\n          bestNodes = x;\n        }\n      }\n\n      minAngle[segmentIndex][nodes] = best;\n      bestNodesCount[segmentIndex][nodes] = bestNodes;\n    }\n  }\n\n  // Based on the results, extract the optimal number of nodes that should go in each segment.\n  const segmentNodesCount: number[] = segments.map(segment => 0);\n  let remaining = nodesCount;\n  for (let segmentIndex = segments.length - 1; segmentIndex >= 0; segmentIndex -= 1) {\n    segmentNodesCount[segmentIndex] = bestNodesCount[segmentIndex][remaining];\n    remaining -= segmentNodesCount[segmentIndex];\n  }\n\n  // Finally, calculate and return the actual angles.\n  for (let segmentIndex = 0; segmentIndex < segments.length; segmentIndex += 1) {\n    arrangement.push(fixtures[segmentIndex]);\n    let angle = fixtures[segmentIndex].angle;\n    const angleIncrement = segments[segmentIndex] / (segmentNodesCount[segmentIndex] + 1);\n    for (let node = 0; node < segmentNodesCount[segmentIndex]; node += 1) {\n      angle += angleIncrement;\n      angle = normalizeAngle(angle);\n      arrangement.push({ angle, isFixed: false });\n    }\n  }\n\n  sortNodeDirections(arrangement);\n  return arrangement;\n}\n\n/**\n * Moves all nodes in the direction of `gravityAngle` while not pressing too hard against the neighbors.\n * Fixed directions are not moved.\n */\nfunction applyGravity(directions: NodeDirection[], gravityAngle: number, gravityStrength: number): void {\n  // No nodes or no gravity, nothing to do here.\n  if (!directions.length || gravityStrength <= 0) {\n    return;\n  }\n\n  // If it's one node and it's free, move it to `gravityAngle`.\n  // If it's fixed, nothing to do.\n  if (directions.length === 1) {\n    if (!directions[0].isFixed) {\n      directions[0].angle = gravityAngle;\n    }\n    return;\n  }\n\n  const incIndex = (i: number) => ((i + 1) % directions.length);\n  const decIndex = (i: number) => (i === 0 ? (directions.length - 1) : (i - 1));\n\n  // Find two nodes exactly before and after `gravityAngle`.\n  let nextIndex = 0;\n  while (nextIndex < directions.length - 1 && directions[nextIndex].angle < gravityAngle) {\n    nextIndex += 1;\n  }\n  if (directions[nextIndex].angle < gravityAngle) {\n    nextIndex = 0;\n  }\n\n  const previousIndex = decIndex(nextIndex);\n\n  const anglePrevious = directions[previousIndex].angle;\n  const angleNext = directions[nextIndex].angle;\n\n  // Push `previousIndex` and `nextIndex` towards `gravityAngle` with a \"special care\":\n  // Consider which of them are fixed and which are free and push the closest right to `gravityAngle`,\n  // while also ensuring that we don't press towards the neighbor too hard.\n\n  if (directions[previousIndex].isFixed && directions[nextIndex].isFixed) {\n    // Both sides are fixed, nothing to do.\n  } else if (directions[previousIndex].isFixed) {\n    // If `previousIndex` is fixed, move the free `nextIndex` towards gravity.\n    const pushedAngle = pushTowardsAngle(angleNext, anglePrevious, gravityStrength);\n    if (angleBetween(gravityAngle, anglePrevious) >= angleBetween(pushedAngle, anglePrevious)) {\n      // If moving node directly to `gravityAngle` won't squeeze it too hard to neighbor, let's do it.\n      directions[nextIndex].angle = gravityAngle;\n    } else {\n      // However if it gets too close, use regular `pushTowardsAngle` formula instead.\n      directions[nextIndex].angle = pushedAngle;\n    }\n  } else if (directions[nextIndex].isFixed) {\n    // If `nextIndex` is fixed, move the free `previousIndex` towards gravity.\n    const pushedAngle = pushTowardsAngle(anglePrevious, angleNext, gravityStrength);\n    if (angleBetween(gravityAngle, angleNext) >= angleBetween(pushedAngle, angleNext)) {\n      // If moving node directly to `gravityAngle` won't squeeze it too hard to neighbor, let's do it.\n      directions[previousIndex].angle = gravityAngle;\n    } else {\n      // However if it gets too close, use regular `pushTowardsAngle` formula instead.\n      directions[previousIndex].angle = pushedAngle;\n    }\n  } else {\n    // Both `previousIndex` and `nextIndex` are free.\n    const anglePreviousToGravity = angleBetween(anglePrevious, gravityAngle);\n    const angleNextToGravity = angleBetween(angleNext, gravityAngle);\n    if (Math.abs(angleNextToGravity - anglePreviousToGravity) < 0.01) {\n      // Two free nodes are equally close to gravity. Move them equally closer, based on `gravityStrength`.\n      directions[previousIndex].angle =\n        pushTowardsAngle(directions[previousIndex].angle, gravityAngle, gravityStrength);\n\n      directions[nextIndex].angle =\n        pushTowardsAngle(directions[nextIndex].angle, gravityAngle, gravityStrength);\n    } else if (anglePreviousToGravity <= angleNextToGravity) {\n      // `previousIndex` is closer to `gravityAngle`. Move it right to `gravityAngle`.\n      directions[previousIndex].angle = gravityAngle;\n      directions[nextIndex].angle = pushTowardsAngle(angleNext, gravityAngle, gravityStrength);\n    } else {\n      // `nextIndex` is closer to `gravityAngle`. Move it right to `gravityAngle`.\n      directions[nextIndex].angle = gravityAngle;\n      directions[previousIndex].angle = pushTowardsAngle(anglePrevious, gravityAngle, gravityStrength);\n    }\n  }\n\n  // Going counter-clockwise until we reach the diamterically opposite angle to `gravityAngle`.\n  let index = incIndex(nextIndex);\n  while (index !== previousIndex && isLeftTurn(gravityAngle, directions[index].angle)) {\n    if (!directions[index].isFixed) {\n      directions[index].angle =\n        pushTowardsAngle(directions[index].angle, directions[decIndex(index)].angle, gravityStrength);\n    }\n    index = incIndex(index);\n  }\n\n  // Going clockwise until we reach the diamterically opposite angle to `gravityAngle`.\n  index = decIndex(previousIndex);\n  while (index !== nextIndex && !isLeftTurn(gravityAngle, directions[index].angle)) {\n    if (!directions[index].isFixed) {\n      directions[index].angle =\n        pushTowardsAngle(directions[index].angle, directions[incIndex(index)].angle, gravityStrength);\n    }\n    index = decIndex(index);\n  }\n\n  sortNodeDirections(directions);\n}\n\n/**\n * Most functions expect directions to be sorted by the `angle`,\n * so that the traversal will happen around the circle.\n */\nfunction sortNodeDirections(directions: NodeDirection[]): void {\n  directions.sort((a, b) => a.angle - b.angle);\n}\n\n/**\n * Pushes the `angle` towards `targetAngle` with `strength`.\n *\n * The higher `strength` is, the closer `angle` will move towards:\n * - `strength` of 1.0 means that `targetAngle` pushes away with the same force as `angle` is being pushed towards.\n * - `strength` of 2.0 means that `targetAngle` is twice as strong as the `angle`.\n */\nfunction pushTowardsAngle(angle: number, targetAngle: number, strength: number): number {\n  const angleIncrement = (strength / (strength + 1)) * angleBetween(angle, targetAngle);\n  if (isLeftTurn(angle, targetAngle)) {\n    return normalizeAngle(angle + angleIncrement);\n  }\n  return normalizeAngle(angle - angleIncrement);\n}\n\n/**\n * Returns the mean (or \"average\") of `angles`.\n * Returns NaN, when angles are dimaterically opposite.\n */\nfunction meanOfAngles(angles: number[]): number {\n  if (!angles.length) {\n    return NaN;\n  }\n\n  // https://en.wikipedia.org/wiki/Mean_of_circular_quantities#Mean_of_angles\n  const x = angles\n    .map(a => Math.cos(a))\n    .reduce((acc, value) => acc + value, 0);\n\n  const y = angles\n    .map(a => Math.sin(a))\n    .reduce((acc, value) => acc + value, 0);\n\n  if (Math.abs(x) < 0.001 && Math.abs(y) < 0.001) {\n    // The centroid is very close to the origin (0, 0)\n    // which means that all angles balance each other out.\n    return NaN;\n  }\n  return normalizeAngle(Math.atan2(y, x));\n}\n\n/**\n * Returns true when `angle` is left (or \"counter-clockwise\") to `angleBase`.\n *\n * An angle is not considered left to itself:\n *   isLeftTurn(a, a) -> false\n *\n * An angle is considered left to diametrically opposite angle:\n *   isLeftTurn(a, a + PI) -> true\n */\nfunction isLeftTurn(angleBase: number, angle: number): boolean {\n  const angleOpposite = normalizeAngle(angleBase + Math.PI);\n\n  if (angleBase < Math.PI) {\n    return (angle > angleBase && angle <= angleOpposite);\n  }\n  return (angle > angleBase || angle <= angleOpposite);\n}\n\n/**\n * Finds the smaller angle between two angles.\n */\nfunction angleBetween(angleA: number, angleB: number): number {\n  const angle = Math.abs(angleA - angleB);\n  return Math.min(angle, Math.PI * 2 - angle);\n}\n\n/**\n * Calculates the angle of vector from `node1` to `node2` relative to X axis.\n */\nfunction getAngle(node1: GraphNode, node2: GraphNode): number {\n  const x1 = node1.x as number;\n  const y1 = node1.y as number;\n  const x2 = node2.x as number;\n  const y2 = node2.y as number;\n\n  // Math.atan2(y, x) takes Y coordinate first. WAT?!\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/atan2\n  const angle = Math.atan2(y2 - y1, x2 - x1);\n\n  // Math.atan2(y, x) returns angle in the range [-PI, PI].\n  // Converting it to the positive range [0, 2 * PI]\n  return normalizeAngle(angle);\n}\n\n/**\n * Normalizes any angle to range [0, 2 * PI).\n */\nfunction normalizeAngle(angle: number): number {\n  let result = angle;\n  while (result < 0) { result += Math.PI * 2; }\n  while (result >= Math.PI * 2) { result -= Math.PI * 2; }\n  return result;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function Nl(n,A){Ul.f[1]++;var e=(Ul.s[4]++,A.distanceMin),t=(Ul.s[5]++,wl(A.distanceMax)?(Ul.b[1][0]++,A.distanceMax):(Ul.b[1][1]++,3*e)),o=(Ul.s[6]++,wl(A.distanceDeclineRate)?(Ul.b[2][0]++,A.distanceDeclineRate):(Ul.b[2][1]++,.3)),l=(Ul.s[7]++,wl(A.gravityAngle)?(Ul.b[3][0]++,Ll(-A.gravityAngle)):(Ul.b[3][1]++,.5*Math.PI)),i=(Ul.s[8]++,wl(A.gravityStrength)?(Ul.b[4][0]++,A.gravityStrength):(Ul.b[4][1]++,0)),r=(Ul.s[9]++,{});Ul.s[10]++,A.fixedNodeIds.forEach((function(n){return Ul.f[2]++,Ul.s[11]++,r[n]=!0}));var a=(Ul.s[12]++,[]),c=(Ul.s[13]++,{}),s=(Ul.s[14]++,Ql(n.nodes).map((function(n,A){Ul.f[3]++,Ul.s[15]++,c[n.id]=A;var e=(Ul.s[16]++,{id:n.id,neighbors:[],parents:[]}),t=(Ul.s[17]++,n.diagramMakerData.position),o=(Ul.s[18]++,n.diagramMakerData.size);return Ul.s[19]++,r[n.id]?(Ul.b[5][0]++,Ul.s[20]++,e.isFixed=!0,Ul.s[21]++,e.x=t.x+o.width/2,Ul.s[22]++,e.y=t.y+o.height/2,Ul.s[23]++,a.push(A)):Ul.b[5][1]++,Ul.s[24]++,e})));Ul.s[25]++,Ql(n.edges).forEach((function(n){Ul.f[4]++;var A=(Ul.s[26]++,c[n.src]),e=(Ul.s[27]++,c[n.dest]);Ul.s[28]++,s[A].neighbors.push(e),Ul.s[29]++,s[e].neighbors.push(A)}));var C=(Ul.s[30]++,s.map((function(n){return Ul.f[5]++,Ul.s[31]++,n.isFixed?(Ul.b[6][0]++,Tl.VISITED):(Ul.b[6][1]++,Tl.NOT_VISITED)}))),u=(Ul.s[32]++,a),m=(Ul.s[33]++,t);Ul.s[34]++;var d=function(){Ul.f[6]++,Ul.s[35]++,u.forEach((function(n){Ul.f[7]++,Ul.s[36]++,C[n]=Tl.VISITED}));var n=(Ul.s[37]++,[]);Ul.s[38]++,u.forEach((function(A){Ul.f[8]++,Ul.s[39]++,s[A].neighbors.forEach((function(e){if(Ul.f[9]++,Ul.s[40]++,C[e]===Tl.VISITED)return Ul.b[7][0]++,void Ul.s[41]++;Ul.b[7][1]++,Ul.s[42]++,s[e].parents.push(A),Ul.s[43]++,C[e]===Tl.NOT_VISITED?(Ul.b[8][0]++,Ul.s[44]++,n.push(e),Ul.s[45]++,C[e]=Tl.PROCESSING):Ul.b[8][1]++}))})),Ul.s[46]++,n.forEach((function(n){if(Ul.f[10]++,Ul.s[47]++,s[n].parents.length>1){Ul.b[9][0]++;var A=(Ul.s[48]++,s[n].parents.length),e=(Ul.s[49]++,s[n].parents.reduce((function(n,A){return Ul.f[11]++,Ul.s[50]++,n+s[A].x}),0));Ul.s[51]++,s[n].x=e/A;var t=(Ul.s[52]++,s[n].parents.reduce((function(n,A){return Ul.f[12]++,Ul.s[53]++,n+s[A].y}),0));Ul.s[54]++,s[n].y=t/A,Ul.s[55]++,s[n].isFixed=!0}else Ul.b[9][1]++}));var A=(Ul.s[56]++,s.map((function(n){return Ul.f[13]++,Ul.s[57]++,[]})));Ul.s[58]++,u.forEach((function(n){Ul.f[14]++,Ul.s[59]++,s[n].neighbors.forEach((function(e){Ul.f[15]++,Ul.s[60]++,s[e].isFixed?(Ul.b[10][0]++,Ul.s[61]++,A[n].push({angle:zl(s[n],s[e]),isFixed:!0})):Ul.b[10][1]++})),Ul.s[62]++,Pl(A[n])})),Ul.s[63]++,u.forEach((function(n){Ul.f[16]++;var e=(Ul.s[64]++,l),t=(Ul.s[65]++,function(n){if(Ul.f[29]++,Ul.s[205]++,!n.length)return Ul.b[39][0]++,Ul.s[206]++,NaN;Ul.b[39][1]++;var A=(Ul.s[207]++,n.map((function(n){return Ul.f[30]++,Ul.s[208]++,Math.cos(n)})).reduce((function(n,A){return Ul.f[31]++,Ul.s[209]++,n+A}),0)),e=(Ul.s[210]++,n.map((function(n){return Ul.f[32]++,Ul.s[211]++,Math.sin(n)})).reduce((function(n,A){return Ul.f[33]++,Ul.s[212]++,n+A}),0));if(Ul.s[213]++,Ul.b[41][0]++,Math.abs(A)<.001&&(Ul.b[41][1]++,Math.abs(e)<.001))return Ul.b[40][0]++,Ul.s[214]++,NaN;Ul.b[40][1]++;return Ul.s[215]++,Ll(Math.atan2(e,A))}(A[n].map((function(n){return Ul.f[17]++,Ul.s[66]++,n.angle}))));Ul.s[67]++,isNaN(t)?Ul.b[11][1]++:(Ul.b[11][0]++,Ul.s[68]++,e=Ll(t+Math.PI));var o=(Ul.s[69]++,s[n].neighbors.length-A[n].length),r=(Ul.s[70]++,function(n,A,e){Ul.f[21]++;var t=(Ul.s[91]++,[]);if(Ul.s[92]++,n<=0)return Ul.b[15][0]++,Ul.s[93]++,kl(A);Ul.b[15][1]++;if(Ul.s[94]++,!A.length){Ul.b[16][0]++;var o=(Ul.s[95]++,2*Math.PI/n),l=(Ul.s[96]++,n%2==0?(Ul.b[17][0]++,Ll(e+.5*o)):(Ul.b[17][1]++,e));Ul.s[97]++;for(var i=0;i<n;i+=1)Ul.s[98]++,t.push({angle:l,isFixed:!1}),Ul.s[99]++,l=Ll(l+o);return Ul.s[100]++,Pl(t),Ul.s[101]++,t}Ul.b[16][1]++;var r=(Ul.s[102]++,[]);Ul.s[103]++;for(i=1;i<A.length;i+=1)Ul.s[104]++,r.push(A[i].angle-A[i-1].angle);Ul.s[105]++,r.push(A[0].angle+2*Math.PI-A[A.length-1].angle);var a=(Ul.s[106]++,[]),c=(Ul.s[107]++,[]);Ul.s[108]++;for(var s=0;s<r.length;s+=1){Ul.s[109]++,a.push([]),Ul.s[110]++,c.push([]),Ul.s[111]++;for(var C=0;C<=n;C+=1)Ul.s[112]++,a[s].push(0),Ul.s[113]++,c[s].push(0)}Ul.s[114]++,a[0][0]=r[0],Ul.s[115]++,c[0][0]=0,Ul.s[116]++;for(s=1;s<r.length;s+=1)Ul.s[117]++,a[s][0]=Math.min(r[s],a[s-1][0]),Ul.s[118]++,c[s][0]=0;Ul.s[119]++;for(C=1;C<=n;C+=1)Ul.s[120]++,a[0][C]=r[0]/(C+1),Ul.s[121]++,c[0][C]=C;Ul.s[122]++;for(s=1;s<r.length;s+=1){Ul.s[123]++;for(C=1;C<=n;C+=1){var u=(Ul.s[124]++,Math.min(a[s-1][C],r[s])),m=(Ul.s[125]++,0);Ul.s[126]++;for(var d=1;d<=C;d+=1){var E=(Ul.s[127]++,Math.min(a[s-1][C-d],r[s]/(d+1)));Ul.s[128]++,E>=u?(Ul.b[18][0]++,Ul.s[129]++,u=E,Ul.s[130]++,m=d):Ul.b[18][1]++}Ul.s[131]++,a[s][C]=u,Ul.s[132]++,c[s][C]=m}}var p=(Ul.s[133]++,r.map((function(n){return Ul.f[22]++,Ul.s[134]++,0}))),f=(Ul.s[135]++,n);Ul.s[136]++;for(s=r.length-1;s>=0;s-=1)Ul.s[137]++,p[s]=c[s][f],Ul.s[138]++,f-=p[s];Ul.s[139]++;for(s=0;s<r.length;s+=1){Ul.s[140]++,t.push(A[s]);l=(Ul.s[141]++,A[s].angle),o=(Ul.s[142]++,r[s]/(p[s]+1));Ul.s[143]++;for(var g=0;g<p[s];g+=1)Ul.s[144]++,l+=o,Ul.s[145]++,l=Ll(l),Ul.s[146]++,t.push({angle:l,isFixed:!1})}return Ul.s[147]++,Pl(t),Ul.s[148]++,t}(o,A[n],e));Ul.s[71]++,function(n,A,e){if(Ul.f[23]++,Ul.s[149]++,Ul.b[20][0]++,!n.length||(Ul.b[20][1]++,e<=0))return Ul.b[19][0]++,void Ul.s[150]++;Ul.b[19][1]++;if(Ul.s[151]++,1===n.length)return Ul.b[21][0]++,Ul.s[152]++,n[0].isFixed?Ul.b[22][1]++:(Ul.b[22][0]++,Ul.s[153]++,n[0].angle=A),void Ul.s[154]++;Ul.b[21][1]++;Ul.s[155]++;var t=function(A){return Ul.f[24]++,Ul.s[156]++,(A+1)%n.length};Ul.s[157]++;var o=function(A){return Ul.f[25]++,Ul.s[158]++,0===A?(Ul.b[23][0]++,n.length-1):(Ul.b[23][1]++,A-1)},l=(Ul.s[159]++,0);Ul.s[160]++;for(;Ul.b[24][0]++,l<n.length-1&&(Ul.b[24][1]++,n[l].angle<A);)Ul.s[161]++,l+=1;Ul.s[162]++,n[l].angle<A?(Ul.b[25][0]++,Ul.s[163]++,l=0):Ul.b[25][1]++;var i=(Ul.s[164]++,o(l)),r=(Ul.s[165]++,n[i].angle),a=(Ul.s[166]++,n[l].angle);if(Ul.s[167]++,Ul.b[27][0]++,n[i].isFixed&&(Ul.b[27][1]++,n[l].isFixed))Ul.b[26][0]++;else if(Ul.b[26][1]++,Ul.s[168]++,n[i].isFixed){Ul.b[28][0]++;var c=(Ul.s[169]++,Rl(a,r,e));Ul.s[170]++,Yl(A,r)>=Yl(c,r)?(Ul.b[29][0]++,Ul.s[171]++,n[l].angle=A):(Ul.b[29][1]++,Ul.s[172]++,n[l].angle=c)}else if(Ul.b[28][1]++,Ul.s[173]++,n[l].isFixed){Ul.b[30][0]++;c=(Ul.s[174]++,Rl(r,a,e));Ul.s[175]++,Yl(A,a)>=Yl(c,a)?(Ul.b[31][0]++,Ul.s[176]++,n[i].angle=A):(Ul.b[31][1]++,Ul.s[177]++,n[i].angle=c)}else{Ul.b[30][1]++;var s=(Ul.s[178]++,Yl(r,A)),C=(Ul.s[179]++,Yl(a,A));Ul.s[180]++,Math.abs(C-s)<.01?(Ul.b[32][0]++,Ul.s[181]++,n[i].angle=Rl(n[i].angle,A,e),Ul.s[182]++,n[l].angle=Rl(n[l].angle,A,e)):(Ul.b[32][1]++,Ul.s[183]++,s<=C?(Ul.b[33][0]++,Ul.s[184]++,n[i].angle=A,Ul.s[185]++,n[l].angle=Rl(a,A,e)):(Ul.b[33][1]++,Ul.s[186]++,n[l].angle=A,Ul.s[187]++,n[i].angle=Rl(r,A,e)))}var u=(Ul.s[188]++,t(l));Ul.s[189]++;for(;Ul.b[34][0]++,u!==i&&(Ul.b[34][1]++,Wl(A,n[u].angle));)Ul.s[190]++,n[u].isFixed?Ul.b[35][1]++:(Ul.b[35][0]++,Ul.s[191]++,n[u].angle=Rl(n[u].angle,n[o(u)].angle,e)),Ul.s[192]++,u=t(u);Ul.s[193]++,u=o(i),Ul.s[194]++;for(;Ul.b[36][0]++,u!==l&&(Ul.b[36][1]++,!Wl(A,n[u].angle));)Ul.s[195]++,n[u].isFixed?Ul.b[37][1]++:(Ul.b[37][0]++,Ul.s[196]++,n[u].angle=Rl(n[u].angle,n[t(u)].angle,e)),Ul.s[197]++,u=o(u);Ul.s[198]++,Pl(n)}(r,e,i);var a=(Ul.s[72]++,0);Ul.s[73]++,s[n].neighbors.forEach((function(A){if(Ul.f[18]++,Ul.s[74]++,s[A].isFixed)Ul.b[12][1]++;else{for(Ul.b[12][0]++,Ul.s[75]++;r[a].isFixed;)Ul.s[76]++,a+=1;var e=(Ul.s[77]++,r[a].angle);Ul.s[78]++,s[A].x=s[n].x+Math.cos(e)*m,Ul.s[79]++,s[A].y=s[n].y+Math.sin(e)*m,Ul.s[80]++,s[A].isFixed=!0,Ul.s[81]++,a+=1}}))})),Ul.s[82]++,u=n,Ul.s[83]++,m=e+(m-e)*(1-o)};for(Ul.s[84]++;u.length;)Ul.s[85]++,d();return Ul.s[86]++,Me(n,(function(n){Ul.f[19]++,Ul.s[87]++,s.forEach((function(A){if(Ul.f[20]++,Ul.s[88]++,Ul.b[14][0]++,Sl(A.x)&&(Ul.b[14][1]++,Sl(A.y))){Ul.b[13][0]++;var e=(Ul.s[89]++,n.nodes[A.id].diagramMakerData.size);Ul.s[90]++,n.nodes[A.id].diagramMakerData.position={x:A.x-e.width/2,y:A.y-e.height/2}}else Ul.b[13][1]++}))}))}function Pl(n){Ul.f[26]++,Ul.s[199]++,n.sort((function(n,A){return Ul.f[27]++,Ul.s[200]++,n.angle-A.angle}))}function Rl(n,A,e){Ul.f[28]++;var t=(Ul.s[201]++,e/(e+1)*Yl(n,A));return Ul.s[202]++,Wl(n,A)?(Ul.b[38][0]++,Ul.s[203]++,Ll(n+t)):(Ul.b[38][1]++,Ul.s[204]++,Ll(n-t))}function Wl(n,A){Ul.f[34]++;var e=(Ul.s[216]++,Ll(n+Math.PI));return Ul.s[217]++,n<Math.PI?(Ul.b[42][0]++,Ul.s[218]++,Ul.b[43][0]++,A>n&&(Ul.b[43][1]++,A<=e)):(Ul.b[42][1]++,Ul.s[219]++,Ul.b[44][0]++,A>n||(Ul.b[44][1]++,A<=e))}function Yl(n,A){Ul.f[35]++;var e=(Ul.s[220]++,Math.abs(n-A));return Ul.s[221]++,Math.min(e,2*Math.PI-e)}function zl(n,A){Ul.f[36]++;var e=(Ul.s[222]++,n.x),t=(Ul.s[223]++,n.y),o=(Ul.s[224]++,A.x),l=(Ul.s[225]++,A.y),i=(Ul.s[226]++,Math.atan2(l-t,o-e));return Ul.s[227]++,Ll(i)}function Ll(n){Ul.f[37]++;var A=(Ul.s[228]++,n);for(Ul.s[229]++;A<0;)Ul.s[230]++,A+=2*Math.PI;for(Ul.s[231]++;A>=2*Math.PI;)Ul.s[232]++,A-=2*Math.PI;return Ul.s[233]++,A}Ul.s[0]++,function(n){Ul.f[0]++,Ul.s[1]++,n[n.NOT_VISITED=0]="NOT_VISITED",Ul.s[2]++,n[n.PROCESSING=1]="PROCESSING",Ul.s[3]++,n[n.VISITED=2]="VISITED"}((Ul.b[0][0]++,Tl||(Ul.b[0][1]++,Tl={})));var jl,Fl=function(){var n="/Volumes/workplace/diagram-maker/src/state/layout/layoutActions.ts",A="edf68b100cd05e548dce5284ef0440d6ade65a9e",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/layout/layoutActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:18,column:36}},10:{start:{line:15,column:4},end:{line:15,column:48}},11:{start:{line:17,column:4},end:{line:17,column:40}},12:{start:{line:19,column:20},end:{line:19,column:44}},13:{start:{line:21,column:0},end:{line:30,column:70}},14:{start:{line:23,column:4},end:{line:23,column:60}},15:{start:{line:25,column:4},end:{line:25,column:60}},16:{start:{line:27,column:4},end:{line:27,column:60}},17:{start:{line:29,column:4},end:{line:29,column:60}},18:{start:{line:31,column:37},end:{line:31,column:78}},19:{start:{line:33,column:0},end:{line:36,column:50}},20:{start:{line:35,column:4},end:{line:35,column:43}},21:{start:{line:37,column:27},end:{line:37,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:23},end:{line:18,column:1}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:21,column:1},end:{line:21,column:2}},loc:{start:{line:21,column:40},end:{line:30,column:1}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:33,column:1},end:{line:33,column:2}},loc:{start:{line:33,column:30},end:{line:36,column:1}},line:33}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:18,column:3},end:{line:18,column:34}},type:"binary-expr",locations:[{start:{line:18,column:3},end:{line:18,column:13}},{start:{line:18,column:18},end:{line:18,column:33}}],line:18},4:{loc:{start:{line:30,column:3},end:{line:30,column:68}},type:"binary-expr",locations:[{start:{line:30,column:3},end:{line:30,column:30}},{start:{line:30,column:35},end:{line:30,column:67}}],line:30},5:{loc:{start:{line:36,column:3},end:{line:36,column:48}},type:"binary-expr",locations:[{start:{line:36,column:3},end:{line:36,column:20}},{start:{line:36,column:25},end:{line:36,column:47}}],line:36}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/layout/layoutActions.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/layout/layoutActions.ts"],names:[],mappings:";;;;;;;;;;;AAEA,MAAM,CAAN,IAAY,UAKX;AALD,WAAY,UAAU;IACpB,gFAAgF;IAChF,2CAA6B,CAAA;IAC7B,oCAAoC;IACpC,mCAAqB,CAAA;AACvB,CAAC,EALW,UAAU,KAAV,UAAU,QAKrB;AAED,MAAM,CAAC,IAAM,MAAM,gBACd,UAAU,CACd,CAAC;AA6DF,MAAM,CAAN,IAAY,2BASX;AATD,WAAY,2BAA2B;IACrC,mCAAmC;IACnC,uDAAwB,CAAA;IACxB,mCAAmC;IACnC,uDAAwB,CAAA;IACxB,mCAAmC;IACnC,uDAAwB,CAAA;IACxB,mCAAmC;IACnC,uDAAwB,CAAA;AAC1B,CAAC,EATW,2BAA2B,KAA3B,2BAA2B,QAStC;AAED,MAAM,CAAC,IAAM,uBAAuB,gBAC/B,2BAA2B,CAC/B,CAAC;AA0BF,MAAM,CAAN,IAAY,iBAGX;AAHD,WAAY,iBAAiB;IAC3B,yCAAyC;IACzC,sCAAiB,CAAA;AACnB,CAAC,EAHW,iBAAiB,KAAjB,iBAAiB,QAG5B;AAED,MAAM,CAAC,IAAM,aAAa,gBACrB,iBAAiB,CACrB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nexport enum LayoutType {\n  /** Layout used for heirarchical graphs. Used for tree type graph structures. */\n  HIERARCHICAL = 'Hierarchical',\n  /** Layout used for flow digrams. */\n  WORKFLOW = 'Workflow'\n}\n\nexport const Layout = {\n  ...LayoutType\n};\n\nexport interface HierarchicalLayoutConfig {\n  layoutType: LayoutType.HIERARCHICAL;\n\n  /**\n   * List of nodes that must remain their positions.\n   * All other nodes are arranged around these fixed nodes.\n   */\n  fixedNodeIds: string[];\n\n  /**\n   * Minimal distance between two nodes.\n   */\n  distanceMin: number;\n\n  /**\n   * Maximal distance between two nodes.\n   * Defaults to `3 * distanceMin`.\n   */\n  distanceMax?: number;\n\n  /**\n   * Number from 0.0 to 1.0 representing how fast\n   * the distance between two nodes declines with each layer.\n   *\n   *   `0.0` means it will always remain `distanceMax`\n   *\n   *   `1.0` means it will jump and stay at `distanceMin`\n   *         starting from the second layer.\n   *\n   * Defaults to `0.3`.\n   */\n  distanceDeclineRate?: number;\n\n  /**\n   * Angle of gravity in radians.\n   *\n   *   `0.0` is rightward direction.\n   *\n   *   `Math.PI * 0.5` is upward direction.\n   *\n   * Defaults to `Math.PI * 1.5` (downward).\n   */\n  gravityAngle?: number;\n\n  /**\n   * Strength of gravity.\n   *\n   *   `0.0` disables the gravity.\n   *\n   *   `1.0` means that nodes push each other away\n   *         with the equal force as gravity pulls them towards `gravityAngle`.\n   *\n   *   `2.0` means that gravity is twice as strong as nodes repulsion.\n   *\n   * Defaults to `0.0`.\n   */\n  gravityStrength?: number;\n}\n\nexport enum WorkflowLayoutDirectionType {\n  /** Flow goes from top to bottom */\n  TOP_BOTTOM = 'TopBottom',\n  /** Flow goes from bottom to top */\n  BOTTOM_TOP = 'BottomTop',\n  /** Flow goes from left to right */\n  LEFT_RIGHT = 'LeftRight',\n  /** Flow goes from right to left */\n  RIGHT_LEFT = 'RightLeft'\n}\n\nexport const WorkflowLayoutDirection = {\n  ...WorkflowLayoutDirectionType\n};\n\nexport interface WorkflowLayoutConfig {\n  layoutType: LayoutType.WORKFLOW;\n\n  /**\n   * Direction of the workflow.\n   */\n  direction: WorkflowLayoutDirectionType;\n\n  /**\n   * Minimal distance between two nodes.\n   */\n  distanceMin: number;\n\n  /**\n   * When provided, the position of `fixedNodeId` will remain the same after layout.\n   * All other nodes will be layed out around this node.\n   *\n   * If not provided, the graph will be moved to top-left corner of the canvas.\n   */\n  fixedNodeId?: string;\n}\n\nexport type LayoutConfig = HierarchicalLayoutConfig | WorkflowLayoutConfig;\n\nexport enum LayoutActionsType {\n  /** Layout the nodes using auto layout */\n  LAYOUT = 'LAYOUT'\n}\n\nexport const LayoutActions = {\n  ...LayoutActionsType\n};\n\nexport interface LayoutAction extends Action {\n  type: LayoutActionsType.LAYOUT;\n  payload: LayoutConfig;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),Vl=(Fl.s[0]++,void Fl.b[0][0]++&&(Fl.b[0][1]++,(void 0).__assign)||(Fl.b[0][2]++,function(){return Fl.f[0]++,Fl.s[1]++,Fl.b[1][0]++,Vl=Object.assign||(Fl.b[1][1]++,function(n){Fl.f[1]++,Fl.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in Fl.s[3]++,A=arguments[e],Fl.s[4]++,A)Fl.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(Fl.b[2][0]++,Fl.s[6]++,n[o]=A[o]):Fl.b[2][1]++;return Fl.s[7]++,n}),Fl.s[8]++,Vl.apply(this,arguments)}));Fl.s[9]++,function(n){Fl.f[2]++,Fl.s[10]++,n.HIERARCHICAL="Hierarchical",Fl.s[11]++,n.WORKFLOW="Workflow"}((Fl.b[3][0]++,jl||(Fl.b[3][1]++,jl={})));var Hl,ql=(Fl.s[12]++,Vl({},jl));Fl.s[13]++,function(n){Fl.f[3]++,Fl.s[14]++,n.TOP_BOTTOM="TopBottom",Fl.s[15]++,n.BOTTOM_TOP="BottomTop",Fl.s[16]++,n.LEFT_RIGHT="LeftRight",Fl.s[17]++,n.RIGHT_LEFT="RightLeft"}((Fl.b[4][0]++,Hl||(Fl.b[4][1]++,Hl={})));var Xl,Zl=(Fl.s[18]++,Vl({},Hl));Fl.s[19]++,function(n){Fl.f[4]++,Fl.s[20]++,n.LAYOUT="LAYOUT"}((Fl.b[5][0]++,Xl||(Fl.b[5][1]++,Xl={})));var Jl,$l,ni=(Fl.s[21]++,Vl({},Xl)),Ai=function(){var n="/Volumes/workplace/diagram-maker/src/state/layout/workflowLayout.ts",A="def2977ae2619c5048fa86a1e789d0bad511043f",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/layout/workflowLayout.ts",statementMap:{0:{start:{line:8,column:0},end:{line:13,column:1}},1:{start:{line:9,column:4},end:{line:9,column:29}},2:{start:{line:15,column:39},end:{line:20,column:6}},3:{start:{line:22,column:4},end:{line:24,column:5}},4:{start:{line:23,column:8},end:{line:23,column:134}},5:{start:{line:25,column:21},end:{line:25,column:47}},6:{start:{line:26,column:4},end:{line:30,column:7}},7:{start:{line:31,column:4},end:{line:31,column:65}},8:{start:{line:31,column:49},end:{line:31,column:61}},9:{start:{line:32,column:4},end:{line:38,column:7}},10:{start:{line:33,column:23},end:{line:33,column:59}},11:{start:{line:34,column:8},end:{line:37,column:11}},12:{start:{line:39,column:4},end:{line:41,column:7}},13:{start:{line:40,column:8},end:{line:40,column:48}},14:{start:{line:42,column:4},end:{line:42,column:29}},15:{start:{line:46,column:17},end:{line:46,column:31}},16:{start:{line:47,column:4},end:{line:54,column:5}},17:{start:{line:48,column:39},end:{line:48,column:104}},18:{start:{line:49,column:29},end:{line:49,column:72}},19:{start:{line:50,column:8},end:{line:53,column:10}},20:{start:{line:55,column:4},end:{line:63,column:7}},21:{start:{line:56,column:8},end:{line:62,column:11}},22:{start:{line:57,column:28},end:{line:57,column:51}},23:{start:{line:58,column:12},end:{line:61,column:14}}},fnMap:{0:{name:"workflowLayout",decl:{start:{line:21,column:24},end:{line:21,column:38}},loc:{start:{line:21,column:62},end:{line:64,column:1}},line:21},1:{name:"(anonymous_1)",decl:{start:{line:31,column:35},end:{line:31,column:36}},loc:{start:{line:31,column:47},end:{line:31,column:63}},line:31},2:{name:"(anonymous_2)",decl:{start:{line:32,column:30},end:{line:32,column:31}},loc:{start:{line:32,column:48},end:{line:38,column:5}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:39,column:32},end:{line:39,column:33}},loc:{start:{line:39,column:48},end:{line:41,column:5}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:55,column:26},end:{line:55,column:27}},loc:{start:{line:55,column:48},end:{line:63,column:5}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:56,column:35},end:{line:56,column:36}},loc:{start:{line:56,column:53},end:{line:62,column:9}},line:56}},branchMap:{0:{loc:{start:{line:22,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:24,column:5}},{start:{line:22,column:4},end:{line:24,column:5}}],line:22},1:{loc:{start:{line:47,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:54,column:5}},{start:{line:47,column:4},end:{line:54,column:5}}],line:47}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/layout/workflowLayout.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/layout/workflowLayout.ts"],names:[],mappings:"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",sourcesContent:["import { produce } from 'immer';\nimport keys from 'lodash-es/keys';\nimport values from 'lodash-es/values';\n\nimport { DiagramMakerData, DiagramMakerNode, Position } from 'diagramMaker/state/types';\n\nimport { WorkflowLayoutConfig, WorkflowLayoutDirection } from './layoutActions';\n\n/* tslint:disable:no-var-requires */\nlet Dagre: any;\ntry {\n  Dagre = require('dagre');\n} catch (e) {\n  // Dagre is optional\n}\n/* tslint:enabled */\n\nconst WORKFLOW_DIRECTION_TO_DAGRE_MAP = {\n  [WorkflowLayoutDirection.TOP_BOTTOM]: 'TB',\n  [WorkflowLayoutDirection.BOTTOM_TOP]: 'BT',\n  [WorkflowLayoutDirection.LEFT_RIGHT]: 'LR',\n  [WorkflowLayoutDirection.RIGHT_LEFT]: 'RL'\n};\n\nexport default function workflowLayout<NodeType, EdgeType>(\n  state: DiagramMakerData<NodeType, EdgeType>,\n  workflowConfig: WorkflowLayoutConfig\n): DiagramMakerData<NodeType, EdgeType> {\n  if (!Dagre) {\n    throw new Error(\n      'Could not find \"dagre\" library. It must be included in your application in order to use \"Workflow\" layout.'\n    );\n  }\n\n  const dagreGraph = new Dagre.graphlib.Graph() as dagre.graphlib.Graph;\n  dagreGraph.setGraph({\n    rankdir: WORKFLOW_DIRECTION_TO_DAGRE_MAP[workflowConfig.direction],\n    nodesep: workflowConfig.distanceMin,\n    ranksep: workflowConfig.distanceMin\n  });\n  dagreGraph.setDefaultEdgeLabel(() => ({}));\n\n  keys(state.nodes).forEach((nodeId) => {\n    const nodeData = state.nodes[nodeId].diagramMakerData;\n    dagreGraph.setNode(nodeId, {\n      height: nodeData.size.height,\n      width: nodeData.size.width\n    });\n  });\n\n  values(state.edges).forEach((edge) => {\n    dagreGraph.setEdge(edge.src, edge.dest);\n  });\n\n  Dagre.layout(dagreGraph);\n\n  // Dagre lays out graph neatly near the top-left corner.\n  // Move whole graph so that `fixedNodeId` position will remain the same.\n  // (That is, when `fixedNodeId` is provided.)\n  let offset: Position = { x: 0, y: 0 };\n  if (workflowConfig.fixedNodeId) {\n    const initialFixedNodePosition = state.nodes[workflowConfig.fixedNodeId].diagramMakerData.position;\n    const dagreFixedNode = dagreGraph.node(workflowConfig.fixedNodeId);\n    offset = {\n      x: initialFixedNodePosition.x - dagreFixedNode.x,\n      y: initialFixedNodePosition.y - dagreFixedNode.y\n    };\n  }\n\n  return produce(state, (draftState) => {\n    dagreGraph.nodes().forEach((nodeId: any) => {\n      const dagreNode = dagreGraph.node(nodeId);\n      draftState.nodes[nodeId].diagramMakerData.position = {\n        x: dagreNode.x + offset.x,\n        y: dagreNode.y + offset.y\n      };\n    });\n  });\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();Ai.s[0]++;try{Ai.s[1]++,$l=e(219)}catch(n){}var ei=(Ai.s[2]++,(Jl={})[Zl.TOP_BOTTOM]="TB",Jl[Zl.BOTTOM_TOP]="BT",Jl[Zl.LEFT_RIGHT]="LR",Jl[Zl.RIGHT_LEFT]="RL",Jl);var ti=function(){var n="/Volumes/workplace/diagram-maker/src/state/layout/layoutReducer.ts",A="338f6ef0c017ce0a530aa3d2758e1e8edfed655f",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/layout/layoutReducer.ts",statementMap:{0:{start:{line:7,column:16},end:{line:7,column:27}},1:{start:{line:8,column:24},end:{line:8,column:50}},2:{start:{line:9,column:20},end:{line:9,column:39}},3:{start:{line:10,column:21},end:{line:10,column:41}},4:{start:{line:11,column:19},end:{line:11,column:20}},5:{start:{line:12,column:18},end:{line:12,column:19}},6:{start:{line:13,column:18},end:{line:13,column:36}},7:{start:{line:14,column:4},end:{line:22,column:7}},8:{start:{line:15,column:19},end:{line:15,column:32}},9:{start:{line:16,column:23},end:{line:16,column:53}},10:{start:{line:17,column:19},end:{line:17,column:45}},11:{start:{line:18,column:8},end:{line:18,column:65}},12:{start:{line:19,column:8},end:{line:19,column:68}},13:{start:{line:20,column:8},end:{line:20,column:50}},14:{start:{line:21,column:8},end:{line:21,column:48}},15:{start:{line:23,column:16},end:{line:23,column:36}},16:{start:{line:24,column:17},end:{line:24,column:37}},17:{start:{line:25,column:4},end:{line:39,column:7}},18:{start:{line:26,column:8},end:{line:26,column:54}},19:{start:{line:27,column:8},end:{line:27,column:56}},20:{start:{line:29,column:8},end:{line:38,column:9}},21:{start:{line:30,column:12},end:{line:37,column:15}},22:{start:{line:31,column:29},end:{line:31,column:79}},23:{start:{line:32,column:31},end:{line:35,column:17}},24:{start:{line:36,column:16},end:{line:36,column:78}},25:{start:{line:42,column:4},end:{line:44,column:5}},26:{start:{line:43,column:8},end:{line:43,column:33}},27:{start:{line:45,column:4},end:{line:57,column:5}},28:{start:{line:47,column:12},end:{line:54,column:13}},29:{start:{line:49,column:20},end:{line:49,column:86}},30:{start:{line:51,column:20},end:{line:51,column:82}},31:{start:{line:53,column:20},end:{line:53,column:33}},32:{start:{line:56,column:12},end:{line:56,column:25}}},fnMap:{0:{name:"adjustWorkspace",decl:{start:{line:6,column:16},end:{line:6,column:31}},loc:{start:{line:6,column:39},end:{line:40,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:14,column:20},end:{line:14,column:21}},loc:{start:{line:14,column:38},end:{line:22,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:25,column:26},end:{line:25,column:27}},loc:{start:{line:25,column:48},end:{line:39,column:5}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:30,column:28},end:{line:30,column:29}},loc:{start:{line:30,column:46},end:{line:37,column:13}},line:30},4:{name:"layoutReducer",decl:{start:{line:41,column:24},end:{line:41,column:37}},loc:{start:{line:41,column:53},end:{line:58,column:1}},line:41}},branchMap:{0:{loc:{start:{line:29,column:8},end:{line:38,column:9}},type:"if",locations:[{start:{line:29,column:8},end:{line:38,column:9}},{start:{line:29,column:8},end:{line:38,column:9}}],line:29},1:{loc:{start:{line:29,column:12},end:{line:29,column:39}},type:"binary-expr",locations:[{start:{line:29,column:12},end:{line:29,column:24}},{start:{line:29,column:28},end:{line:29,column:39}}],line:29},2:{loc:{start:{line:42,column:4},end:{line:44,column:5}},type:"if",locations:[{start:{line:42,column:4},end:{line:44,column:5}},{start:{line:42,column:4},end:{line:44,column:5}}],line:42},3:{loc:{start:{line:45,column:4},end:{line:57,column:5}},type:"switch",locations:[{start:{line:46,column:8},end:{line:54,column:13}},{start:{line:55,column:8},end:{line:56,column:25}}],line:45},4:{loc:{start:{line:47,column:12},end:{line:54,column:13}},type:"switch",locations:[{start:{line:48,column:16},end:{line:49,column:86}},{start:{line:50,column:16},end:{line:51,column:82}},{start:{line:52,column:16},end:{line:53,column:33}}],line:47}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/layout/layoutReducer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/layout/layoutReducer.ts"],names:[],mappings:"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",sourcesContent:["import { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport getInitialState from 'diagramMaker/state/getInitialState';\nimport { DiagramMakerData } from 'diagramMaker/state/types';\nimport { produce } from 'immer';\n\nimport hierarchicalLayout from './hierarchicalLayout';\nimport { LayoutActionsType, LayoutType } from './layoutActions';\nimport workflowLayout from './workflowLayout';\n\nexport function adjustWorkspace<NodeType, EdgeType>(\n  state: DiagramMakerData<NodeType, EdgeType>\n): DiagramMakerData<NodeType, EdgeType> {\n  const nodes = state.nodes;\n  const workspaceSize = state.workspace.canvasSize;\n  let rightMost = workspaceSize.width;\n  let bottomMost = workspaceSize.height;\n  let leftMost = 0;\n  let topMost = 0;\n\n  const nodeIds = Object.keys(nodes);\n  nodeIds.forEach((nodeId) => {\n    const node = nodes[nodeId];\n    const position = node.diagramMakerData.position;\n    const size = node.diagramMakerData.size;\n    rightMost = Math.max(position.x + size.width, rightMost);\n    bottomMost = Math.max(position.y + size.height, bottomMost);\n    leftMost = Math.min(position.x, leftMost);\n    topMost = Math.min(position.y, topMost);\n  });\n\n  const width =  rightMost - leftMost;\n  const height = bottomMost - topMost;\n\n  return produce(state, (draftState) => {\n    draftState.workspace.canvasSize.width = width;\n    draftState.workspace.canvasSize.height = height;\n\n    // move all nodes if node beyond top left boundary\n    if (leftMost < 0 || topMost < 0) {\n      nodeIds.forEach((nodeId) => {\n        const oldPos = draftState.nodes[nodeId].diagramMakerData.position;\n        const position = {\n          x: oldPos.x - leftMost,\n          y: oldPos.y - topMost\n        };\n        draftState.nodes[nodeId].diagramMakerData.position = position;\n      });\n    }\n  });\n}\n\nexport default function layoutReducer<NodeType, EdgeType>(\n  state: DiagramMakerData<NodeType, EdgeType> | undefined,\n  action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerData<NodeType, EdgeType> {\n  if (!state) {\n    return getInitialState();\n  }\n\n  switch (action.type) {\n    case LayoutActionsType.LAYOUT:\n      switch (action.payload.layoutType) {\n        case LayoutType.HIERARCHICAL:\n          return adjustWorkspace(hierarchicalLayout(state, action.payload));\n        case LayoutType.WORKFLOW:\n          return adjustWorkspace(workflowLayout(state, action.payload));\n        default:\n          return state;\n      }\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function oi(n){ti.f[0]++;var A=(ti.s[0]++,n.nodes),e=(ti.s[1]++,n.workspace.canvasSize),t=(ti.s[2]++,e.width),o=(ti.s[3]++,e.height),l=(ti.s[4]++,0),i=(ti.s[5]++,0),r=(ti.s[6]++,Object.keys(A));ti.s[7]++,r.forEach((function(n){ti.f[1]++;var e=(ti.s[8]++,A[n]),r=(ti.s[9]++,e.diagramMakerData.position),a=(ti.s[10]++,e.diagramMakerData.size);ti.s[11]++,t=Math.max(r.x+a.width,t),ti.s[12]++,o=Math.max(r.y+a.height,o),ti.s[13]++,l=Math.min(r.x,l),ti.s[14]++,i=Math.min(r.y,i)}));var a=(ti.s[15]++,t-l),c=(ti.s[16]++,o-i);return ti.s[17]++,Me(n,(function(n){ti.f[2]++,ti.s[18]++,n.workspace.canvasSize.width=a,ti.s[19]++,n.workspace.canvasSize.height=c,ti.s[20]++,ti.b[1][0]++,l<0||(ti.b[1][1]++,i<0)?(ti.b[0][0]++,ti.s[21]++,r.forEach((function(A){ti.f[3]++;var e=(ti.s[22]++,n.nodes[A].diagramMakerData.position),t=(ti.s[23]++,{x:e.x-l,y:e.y-i});ti.s[24]++,n.nodes[A].diagramMakerData.position=t}))):ti.b[0][1]++}))}function li(n,A){if(ti.f[4]++,ti.s[25]++,!n)return ti.b[2][0]++,ti.s[26]++,He.f[0]++,He.s[0]++,{nodes:{},edges:{},panels:{},workspace:We(),editor:{mode:Un.DRAG}};switch(ti.b[2][1]++,ti.s[27]++,A.type){case Xl.LAYOUT:switch(ti.b[3][0]++,ti.s[28]++,A.payload.layoutType){case jl.HIERARCHICAL:return ti.b[4][0]++,ti.s[29]++,oi(Nl(n,A.payload));case jl.WORKFLOW:return ti.b[4][1]++,ti.s[30]++,oi(function(n,A){if(Ai.f[0]++,Ai.s[3]++,!$l)throw Ai.b[0][0]++,Ai.s[4]++,new Error('Could not find "dagre" library. It must be included in your application in order to use "Workflow" layout.');Ai.b[0][1]++;var e=(Ai.s[5]++,new $l.graphlib.Graph);Ai.s[6]++,e.setGraph({rankdir:ei[A.direction],nodesep:A.distanceMin,ranksep:A.distanceMin}),Ai.s[7]++,e.setDefaultEdgeLabel((function(){return Ai.f[1]++,Ai.s[8]++,{}})),Ai.s[9]++,Go(n.nodes).forEach((function(A){Ai.f[2]++;var t=(Ai.s[10]++,n.nodes[A].diagramMakerData);Ai.s[11]++,e.setNode(A,{height:t.size.height,width:t.size.width})})),Ai.s[12]++,Ql(n.edges).forEach((function(n){Ai.f[3]++,Ai.s[13]++,e.setEdge(n.src,n.dest)})),Ai.s[14]++,$l.layout(e);var t=(Ai.s[15]++,{x:0,y:0});if(Ai.s[16]++,A.fixedNodeId){Ai.b[1][0]++;var o=(Ai.s[17]++,n.nodes[A.fixedNodeId].diagramMakerData.position),l=(Ai.s[18]++,e.node(A.fixedNodeId));Ai.s[19]++,t={x:o.x-l.x,y:o.y-l.y}}else Ai.b[1][1]++;return Ai.s[20]++,Me(n,(function(n){Ai.f[4]++,Ai.s[21]++,e.nodes().forEach((function(A){Ai.f[5]++;var o=(Ai.s[22]++,e.node(A));Ai.s[23]++,n.nodes[A].diagramMakerData.position={x:o.x+t.x,y:o.y+t.y}}))}))}(n,A.payload));default:return ti.b[4][2]++,ti.s[31]++,n}default:return ti.b[3][1]++,ti.s[32]++,n}}var ii=function(){var n="/Volumes/workplace/diagram-maker/src/state/layout/layoutActionDispatcher.ts",A="70dac35fd80eb0ba0b63b86f537eb1aed5d2ba48",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/layout/layoutActionDispatcher.ts",statementMap:{0:{start:{line:3,column:4},end:{line:6,column:6}}},fnMap:{0:{name:"createLayoutAction",decl:{start:{line:2,column:16},end:{line:2,column:34}},loc:{start:{line:2,column:49},end:{line:7,column:1}},line:2}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/layout/layoutActionDispatcher.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/layout/layoutActionDispatcher.ts"],names:[],mappings:"AAAA,OAAO,EAAgB,iBAAiB,EAAgB,MAAM,iBAAiB,CAAC;AAEhF,MAAM,UAAU,kBAAkB,CAAC,YAA0B;IAC3D,OAAO;QACL,IAAI,EAAE,iBAAiB,CAAC,MAAM;QAC9B,OAAO,EAAE,YAAY;KACtB,CAAC;AACJ,CAAC",sourcesContent:["import { LayoutAction, LayoutActionsType, LayoutConfig } from './layoutActions';\n\nexport function createLayoutAction(layoutConfig: LayoutConfig): LayoutAction {\n  return {\n    type: LayoutActionsType.LAYOUT,\n    payload: layoutConfig\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();!function(){var n="/Volumes/workplace/diagram-maker/src/state/layout/index.ts",A="36b5b0ecf9f805c897061e53f2ec619a2c056b1e",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/layout/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/layout/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/layout/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,aAAa,EAAE,MAAM,iBAAiB,CAAC;AAC3D,OAAO,EACL,YAAY,EAAE,iBAAiB,EAAE,YAAY,EAAE,UAAU,EAAE,wBAAwB,EACnF,oBAAoB,EAAE,uBAAuB,EAC9C,MAAM,iBAAiB,CAAC;AACzB,OAAO,EAAE,kBAAkB,EAAE,MAAM,0BAA0B,CAAC",sourcesContent:["export { default as layoutReducer } from './layoutReducer';\nexport {\n  LayoutAction, LayoutActionsType, LayoutConfig, LayoutType, HierarchicalLayoutConfig,\n  WorkflowLayoutConfig, WorkflowLayoutDirection\n} from './layoutActions';\nexport { createLayoutAction } from './layoutActionDispatcher';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();var ri=function(){var n="/Volumes/workplace/diagram-maker/src/service/DiagramMakerApi.ts",A="71859b34ce6524624f49adf7de45672f4081a489",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/service/DiagramMakerApi.ts",statementMap:{0:{start:{line:5,column:25},end:{line:5,column:27}},1:{start:{line:6,column:37},end:{line:161,column:3}},2:{start:{line:8,column:8},end:{line:8,column:27}},3:{start:{line:23,column:4},end:{line:26,column:6}},4:{start:{line:24,column:8},end:{line:24,column:62}},5:{start:{line:25,column:8},end:{line:25,column:20}},6:{start:{line:33,column:4},end:{line:36,column:6}},7:{start:{line:34,column:8},end:{line:34,column:61}},8:{start:{line:35,column:8},end:{line:35,column:20}},9:{start:{line:46,column:4},end:{line:53,column:6}},10:{start:{line:47,column:24},end:{line:47,column:59}},11:{start:{line:48,column:8},end:{line:51,column:9}},12:{start:{line:49,column:21},end:{line:49,column:47}},13:{start:{line:49,column:60},end:{line:49,column:71}},14:{start:{line:49,column:80},end:{line:49,column:87}},15:{start:{line:50,column:12},end:{line:50,column:112}},16:{start:{line:52,column:8},end:{line:52,column:20}},17:{start:{line:63,column:4},end:{line:77,column:6}},18:{start:{line:64,column:20},end:{line:64,column:41}},19:{start:{line:65,column:23},end:{line:65,column:47}},20:{start:{line:66,column:28},end:{line:66,column:122}},21:{start:{line:66,column:65},end:{line:66,column:119}},22:{start:{line:67,column:8},end:{line:75,column:9}},23:{start:{line:68,column:12},end:{line:68,column:29}},24:{start:{line:70,column:13},end:{line:75,column:9}},25:{start:{line:71,column:12},end:{line:71,column:45}},26:{start:{line:74,column:12},end:{line:74,column:69}},27:{start:{line:76,column:8},end:{line:76,column:20}},28:{start:{line:87,column:4},end:{line:96,column:6}},29:{start:{line:88,column:20},end:{line:88,column:41}},30:{start:{line:89,column:25},end:{line:89,column:61}},31:{start:{line:90,column:24},end:{line:93,column:14}},32:{start:{line:90,column:60},end:{line:93,column:11}},33:{start:{line:94,column:8},end:{line:94,column:89}},34:{start:{line:95,column:8},end:{line:95,column:20}},35:{start:{line:103,column:4},end:{line:107,column:6}},36:{start:{line:104,column:8},end:{line:104,column:59}},37:{start:{line:104,column:31},end:{line:104,column:57}},38:{start:{line:105,column:8},end:{line:105,column:33}},39:{start:{line:106,column:8},end:{line:106,column:20}},40:{start:{line:114,column:4},end:{line:118,column:6}},41:{start:{line:115,column:8},end:{line:115,column:59}},42:{start:{line:115,column:31},end:{line:115,column:57}},43:{start:{line:116,column:8},end:{line:116,column:34}},44:{start:{line:117,column:8},end:{line:117,column:20}},45:{start:{line:124,column:4},end:{line:127,column:6}},46:{start:{line:125,column:8},end:{line:125,column:62}},47:{start:{line:126,column:8},end:{line:126,column:20}},48:{start:{line:133,column:4},end:{line:136,column:6}},49:{start:{line:134,column:8},end:{line:134,column:48}},50:{start:{line:135,column:8},end:{line:135,column:20}},51:{start:{line:142,column:4},end:{line:145,column:6}},52:{start:{line:143,column:8},end:{line:143,column:48}},53:{start:{line:144,column:8},end:{line:144,column:20}},54:{start:{line:149,column:4},end:{line:151,column:6}},55:{start:{line:150,column:8},end:{line:150,column:36}},56:{start:{line:152,column:4},end:{line:159,column:6}},57:{start:{line:153,column:32},end:{line:153,column:81}},58:{start:{line:154,column:23},end:{line:157,column:9}},59:{start:{line:158,column:8},end:{line:158,column:71}},60:{start:{line:160,column:4},end:{line:160,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:37},end:{line:6,column:38}},loc:{start:{line:6,column:49},end:{line:161,column:1}},line:6},1:{name:"DiagramMakerApi",decl:{start:{line:7,column:13},end:{line:7,column:28}},loc:{start:{line:7,column:36},end:{line:9,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:23,column:39},end:{line:23,column:40}},loc:{start:{line:23,column:63},end:{line:26,column:5}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:33,column:46},end:{line:33,column:47}},loc:{start:{line:33,column:62},end:{line:36,column:5}},line:33},4:{name:"(anonymous_4)",decl:{start:{line:46,column:42},end:{line:46,column:43}},loc:{start:{line:46,column:93},end:{line:53,column:5}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:63,column:46},end:{line:63,column:47}},loc:{start:{line:63,column:89},end:{line:77,column:5}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:66,column:44},end:{line:66,column:45}},loc:{start:{line:66,column:63},end:{line:66,column:121}},line:66},7:{name:"(anonymous_7)",decl:{start:{line:87,column:36},end:{line:87,column:37}},loc:{start:{line:87,column:89},end:{line:96,column:5}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:90,column:39},end:{line:90,column:40}},loc:{start:{line:90,column:58},end:{line:93,column:13}},line:90},9:{name:"(anonymous_9)",decl:{start:{line:103,column:39},end:{line:103,column:40}},loc:{start:{line:103,column:55},end:{line:107,column:5}},line:103},10:{name:"(anonymous_10)",decl:{start:{line:114,column:40},end:{line:114,column:41}},loc:{start:{line:114,column:56},end:{line:118,column:5}},line:114},11:{name:"(anonymous_11)",decl:{start:{line:124,column:42},end:{line:124,column:43}},loc:{start:{line:124,column:54},end:{line:127,column:5}},line:124},12:{name:"(anonymous_12)",decl:{start:{line:133,column:37},end:{line:133,column:38}},loc:{start:{line:133,column:49},end:{line:136,column:5}},line:133},13:{name:"(anonymous_13)",decl:{start:{line:142,column:37},end:{line:142,column:38}},loc:{start:{line:142,column:49},end:{line:145,column:5}},line:142},14:{name:"(anonymous_14)",decl:{start:{line:149,column:41},end:{line:149,column:42}},loc:{start:{line:149,column:59},end:{line:151,column:5}},line:149},15:{name:"(anonymous_15)",decl:{start:{line:152,column:46},end:{line:152,column:47}},loc:{start:{line:152,column:62},end:{line:159,column:5}},line:152}},branchMap:{0:{loc:{start:{line:48,column:8},end:{line:51,column:9}},type:"if",locations:[{start:{line:48,column:8},end:{line:51,column:9}},{start:{line:48,column:8},end:{line:51,column:9}}],line:48},1:{loc:{start:{line:67,column:8},end:{line:75,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:75,column:9}},{start:{line:67,column:8},end:{line:75,column:9}}],line:67},2:{loc:{start:{line:70,column:13},end:{line:75,column:9}},type:"if",locations:[{start:{line:70,column:13},end:{line:75,column:9}},{start:{line:70,column:13},end:{line:75,column:9}}],line:70},3:{loc:{start:{line:89,column:25},end:{line:89,column:61}},type:"binary-expr",locations:[{start:{line:89,column:25},end:{line:89,column:33}},{start:{line:89,column:37},end:{line:89,column:61}}],line:89},4:{loc:{start:{line:104,column:8},end:{line:104,column:59}},type:"if",locations:[{start:{line:104,column:8},end:{line:104,column:59}},{start:{line:104,column:8},end:{line:104,column:59}}],line:104},5:{loc:{start:{line:115,column:8},end:{line:115,column:59}},type:"if",locations:[{start:{line:115,column:8},end:{line:115,column:59}},{start:{line:115,column:8},end:{line:115,column:59}}],line:115}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/service/DiagramMakerApi.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/service/DiagramMakerApi.ts"],names:[],mappings:"AACA,OAAO,EAAE,OAAO,IAAI,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAEzD,OAAO,EACL,eAAe,EAAE,qBAAqB,EAAE,yBAAyB,EAClE,MAAM,kDAAkD,CAAC;AAC1D,OAAO,EAAE,kBAAkB,EAAgB,MAAM,2BAA2B,CAAC;AAE7E,OAAO,EACL,8BAA8B,EAAE,yBAAyB,EAC1D,MAAM,wDAAwD,CAAC;AAEhE,IAAM,kBAAkB,GAAG,EAAE,CAAC;AAE9B;IACE,yBACU,KAAkD;QAAlD,UAAK,GAAL,KAAK,CAA6C;IACzD,CAAC;IAEJ;;;;;;;;;;;;OAYG;IACI,gCAAM,GAAb,UAAc,YAA0B;QACtC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,CAAC;QACtD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;OAKG;IACI,uCAAa,GAApB,UAAqB,IAAoB;QACvC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC;QACrD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;;;OAQG;IACI,mCAAS,GAAhB,UACE,MAAc,EAAE,cAAuB,EAAE,eAAwB;QAEjE,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,SAAS,EAAE;YACP,IAAA,KAAqB,SAAS,CAAC,gBAAgB,EAA7C,QAAQ,cAAA,EAAE,IAAI,UAA+B,CAAC;YACtD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,qBAAqB,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,cAAc,EAAE,eAAe,CAAC,CAAC,CAAC;SACrG;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;;;OAQG;IACI,uCAAa,GAApB,UAAqB,cAAuB,EAAE,eAAwB;QACpE,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAM,aAAa,GAAG,QAAQ,CAAC,MAAM,CAAC,UAAA,OAAO,IAAI,OAAA,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,QAAQ,EAA9C,CAA8C,CAAC,CAAC;QACjG,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;YAC9B,IAAI,CAAC,SAAS,EAAE,CAAC;SAClB;aAAM,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;YACrC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;SAClC;aAAM;YACL,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;SAC1D;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;;;OAQG;IACI,6BAAG,GAAV,UACE,cAAuB,EAAE,eAAwB,EAAE,QAAmB;QAEtE,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAM,UAAU,GAAG,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACxD,IAAM,SAAS,GAAG,UAAU,CAAC,GAAG,CAAC,UAAA,OAAO,IAAI,OAAA,CAAC;YAC3C,QAAQ,EAAE,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,QAAQ;YACxD,IAAI,EAAE,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,IAAI;SACjD,CAAC,EAH0C,CAG1C,CAAC,CAAC;QACJ,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,eAAe,CAAC,SAAS,EAAE,cAAc,EAAE,eAAe,CAAC,CAAC,CAAC;QACjF,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;OAKG;IACI,gCAAM,GAAb,UAAc,IAAyB;QAAzB,qBAAA,EAAA,yBAAyB;QACrC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACzB,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;OAKG;IACI,iCAAO,GAAd,UAAe,IAAyB;QAAzB,qBAAA,EAAA,yBAAyB;QACtC,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,CAAC;QAC1B,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;OAIG;IACI,mCAAS,GAAhB;QACE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,8BAA8B,EAAE,CAAC,CAAC;QACtD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;OAIG;IACI,8BAAI,GAAX;QACE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC;QACxC,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;OAIG;IACI,8BAAI,GAAX;QACE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC;QACxC,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;OAEG;IACI,kCAAQ,GAAf,UAAgB,MAAiB;QAC/B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC9B,CAAC;IAEO,uCAAa,GAArB,UAAsB,IAAY;QAChC,IAAM,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,iBAAiB,CAAC;QAC5E,IAAM,QAAQ,GAAG;YACf,CAAC,EAAE,iBAAiB,CAAC,KAAK,GAAG,CAAC;YAC9B,CAAC,EAAE,iBAAiB,CAAC,MAAM,GAAG,CAAC;SAChC,CAAC;QACF,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,yBAAyB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;IACjE,CAAC;IACH,sBAAC;AAAD,CAAC,AAtKD,IAsKC",sourcesContent:["import { AnyAction, Store } from 'redux';\nimport { actions as undoActions } from 'redux-undo-redo';\n\nimport {\n  createFitAction, createFocusNodeAction, createSetEditorModeAction\n} from 'diagramMaker/state/editor/editorActionDispatcher';\nimport { createLayoutAction, LayoutConfig } from 'diagramMaker/state/layout';\nimport { DiagramMakerData, EditorModeType } from 'diagramMaker/state/types';\nimport {\n  createWorkspaceResetZoomAction, createZoomWorkspaceAction\n} from 'diagramMaker/state/workspace/workspaceActionDispatcher';\n\nconst DEFAULT_ZOOM_DELTA = 50;\n\nexport default class DiagramMakerApi<NodeType = {}, EdgeType = {}> {\n  constructor(\n    private store: Store<DiagramMakerData<NodeType, EdgeType>>\n  ) {}\n\n  /**\n   * Arranges nodes according to the specified layout type.\n   *\n   * @param {LayoutConfig} layoutConfig - Layout type and its parameters.\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   *\n   * NOTE FOR \"WORKFLOW\" LAYOUT:\n   * \"Workflow\" layout uses Dagre library underneath:\n   * https://github.com/dagrejs/dagre\n   *\n   * We don't bundle it with DiagramMaker, as not all consumers need this functionality.\n   * To use \"Workflow\" layout, you'll need to add Dagre library to your package.json.\n   */\n  public layout(layoutConfig: LayoutConfig): DiagramMakerApi<NodeType, EdgeType> {\n    this.store.dispatch(createLayoutAction(layoutConfig));\n    return this;\n  }\n\n  /**\n   * Sets the editor to the given mode, in order to modify its UI behavior.\n   *\n   * @param {EditorModeType} mode - The mode to set the editor to.\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public setEditorMode(mode: EditorModeType): DiagramMakerApi<NodeType, EdgeType> {\n    this.store.dispatch(createSetEditorModeAction(mode));\n    return this;\n  }\n\n  /**\n   * Moves the workspace around to center the node matching the passed ID.\n   * Also selects the corresponding node.\n   *\n   * @param {string} nodeId - ID of the node to focus\n   * @param {number} [leftPanelWidth] - Width of the fixed left panel\n   * @param {number} [rightPanelWidth] - Width of the fixed right panel\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public focusNode(\n    nodeId: string, leftPanelWidth?: number, rightPanelWidth?: number\n  ): DiagramMakerApi<NodeType, EdgeType> {\n    const nodeState = this.store.getState().nodes[nodeId];\n    if (nodeState) {\n      const { position, size } = nodeState.diagramMakerData;\n      this.store.dispatch(createFocusNodeAction(nodeId, position, size, leftPanelWidth, rightPanelWidth));\n    }\n    return this;\n  }\n\n  /**\n   * Moves the workspace around to center the selected node.\n   * If more than 1 nodes are selected, it falls back to fitting the selected nodes in.\n   * If no nodes are selected, this resets the zoom & centers the workspace.\n   *\n   * @param {number} [leftPanelWidth] - Width of the fixed left panel\n   * @param {number} [rightPanelWidth] - Width of the fixed right panel\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public focusSelected(leftPanelWidth?: number, rightPanelWidth?: number): DiagramMakerApi<NodeType, EdgeType> {\n    const state = this.store.getState();\n    const nodeKeys = Object.keys(state.nodes);\n    const selectedNodes = nodeKeys.filter(nodeKey => state.nodes[nodeKey].diagramMakerData.selected);\n    if (selectedNodes.length === 0) {\n      this.resetZoom();\n    } else if (selectedNodes.length === 1) {\n      this.focusNode(selectedNodes[0]);\n    } else {\n      this.fit(leftPanelWidth, rightPanelWidth, selectedNodes);\n    }\n    return this;\n  }\n\n  /**\n   * Zooms out & pans the workspace such that all nodes are visible in the screen.\n   *\n   * @param {number} [leftPanelWidth] - Width of the fixed left panel\n   * @param {number} [rightPanelWidth] - Width of the fixed right panel\n   * @param {string[]} [nodeKeys] - Optional. List of node IDs which need to be fit in the screen,\n   * Defaults to fitting all the nodes.\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public fit(\n    leftPanelWidth?: number, rightPanelWidth?: number, nodeKeys?: string[]\n  ): DiagramMakerApi<NodeType, EdgeType> {\n    const state = this.store.getState();\n    const nodesToFit = nodeKeys || Object.keys(state.nodes);\n    const nodeRects = nodesToFit.map(nodeKey => ({\n      position: state.nodes[nodeKey].diagramMakerData.position,\n      size: state.nodes[nodeKey].diagramMakerData.size\n    }));\n    this.store.dispatch(createFitAction(nodeRects, leftPanelWidth, rightPanelWidth));\n    return this;\n  }\n\n  /**\n   * Zooms in one level into the diagram maker workspace at the center.\n   *\n   * @param {number} [zoom=50] - Zoom factor to zoom by\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public zoomIn(zoom = DEFAULT_ZOOM_DELTA): DiagramMakerApi<NodeType, EdgeType> {\n    this.workspaceZoom(zoom);\n    return this;\n  }\n\n  /**\n   * Zooms out one level into the diagram maker workspace at the center.\n   *\n   * @param {number} [zoom=50] - Zoom factor to zoom by\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public zoomOut(zoom = DEFAULT_ZOOM_DELTA): DiagramMakerApi<NodeType, EdgeType> {\n    this.workspaceZoom(-zoom);\n    return this;\n  }\n\n  /**\n   * Resets the zoom to base level.\n   *\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public resetZoom(): DiagramMakerApi<NodeType, EdgeType> {\n    this.store.dispatch(createWorkspaceResetZoomAction());\n    return this;\n  }\n\n  /**\n   * Undo the last undoable action.\n   *\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public undo() {\n    this.store.dispatch(undoActions.undo());\n    return this;\n  }\n\n  /**\n   * Redo the last undone action.\n   *\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public redo() {\n    this.store.dispatch(undoActions.redo());\n    return this;\n  }\n\n  /**\n   * dispatch a action, for plugin use\n   */\n  public dispatch(action: AnyAction) {\n    this.store.dispatch(action);\n  }\n\n  private workspaceZoom(zoom: number) {\n    const viewContainerSize = this.store.getState().workspace.viewContainerSize;\n    const position = {\n      x: viewContainerSize.width / 2,\n      y: viewContainerSize.height / 2\n    };\n    this.store.dispatch(createZoomWorkspaceAction(zoom, position));\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),ai=(ri.s[0]++,50),ci=(ri.s[1]++,function(){function n(n){ri.f[1]++,ri.s[2]++,this.store=n}return ri.f[0]++,ri.s[3]++,n.prototype.layout=function(n){return ri.f[2]++,ri.s[4]++,this.store.dispatch(function(n){return ii.f[0]++,ii.s[0]++,{type:Xl.LAYOUT,payload:n}}(n)),ri.s[5]++,this},ri.s[6]++,n.prototype.setEditorMode=function(n){return ri.f[3]++,ri.s[7]++,this.store.dispatch(function(n){return yA.f[5]++,yA.s[5]++,{type:pA.SET_EDITOR_MODE,payload:{mode:n}}}(n)),ri.s[8]++,this},ri.s[9]++,n.prototype.focusNode=function(n,A,e){ri.f[4]++;var t=(ri.s[10]++,this.store.getState().nodes[n]);if(ri.s[11]++,t){ri.b[0][0]++;var o=(ri.s[12]++,t.diagramMakerData),l=(ri.s[13]++,o.position),i=(ri.s[14]++,o.size);ri.s[15]++,this.store.dispatch(function(n,A,e,t,o){return yA.f[6]++,yA.s[6]++,{type:pA.FOCUS_NODE,payload:{id:n,position:A,size:e,leftPanelWidth:t,rightPanelWidth:o}}}(n,l,i,A,e))}else ri.b[0][1]++;return ri.s[16]++,this},ri.s[17]++,n.prototype.focusSelected=function(n,A){ri.f[5]++;var e=(ri.s[18]++,this.store.getState()),t=(ri.s[19]++,Object.keys(e.nodes)),o=(ri.s[20]++,t.filter((function(n){return ri.f[6]++,ri.s[21]++,e.nodes[n].diagramMakerData.selected})));return ri.s[22]++,0===o.length?(ri.b[1][0]++,ri.s[23]++,this.resetZoom()):(ri.b[1][1]++,ri.s[24]++,1===o.length?(ri.b[2][0]++,ri.s[25]++,this.focusNode(o[0])):(ri.b[2][1]++,ri.s[26]++,this.fit(n,A,o))),ri.s[27]++,this},ri.s[28]++,n.prototype.fit=function(n,A,e){ri.f[7]++;var t=(ri.s[29]++,this.store.getState()),o=(ri.s[30]++,ri.b[3][0]++,e||(ri.b[3][1]++,Object.keys(t.nodes))),l=(ri.s[31]++,o.map((function(n){return ri.f[8]++,ri.s[32]++,{position:t.nodes[n].diagramMakerData.position,size:t.nodes[n].diagramMakerData.size}})));return ri.s[33]++,this.store.dispatch(function(n,A,e){return yA.f[7]++,yA.s[7]++,{type:pA.FIT,payload:{nodeRects:n,leftPanelWidth:A,rightPanelWidth:e}}}(l,n,A)),ri.s[34]++,this},ri.s[35]++,n.prototype.zoomIn=function(n){return ri.f[9]++,ri.s[36]++,void 0===n?(ri.b[4][0]++,ri.s[37]++,n=ai):ri.b[4][1]++,ri.s[38]++,this.workspaceZoom(n),ri.s[39]++,this},ri.s[40]++,n.prototype.zoomOut=function(n){return ri.f[10]++,ri.s[41]++,void 0===n?(ri.b[5][0]++,ri.s[42]++,n=ai):ri.b[5][1]++,ri.s[43]++,this.workspaceZoom(-n),ri.s[44]++,this},ri.s[45]++,n.prototype.resetZoom=function(){return ri.f[11]++,ri.s[46]++,this.store.dispatch((Se.f[2]++,Se.s[2]++,{type:Oe.WORKSPACE_RESET_ZOOM})),ri.s[47]++,this},ri.s[48]++,n.prototype.undo=function(){return ri.f[12]++,ri.s[49]++,this.store.dispatch(fA.actions.undo()),ri.s[50]++,this},ri.s[51]++,n.prototype.redo=function(){return ri.f[13]++,ri.s[52]++,this.store.dispatch(fA.actions.redo()),ri.s[53]++,this},ri.s[54]++,n.prototype.dispatch=function(n){ri.f[14]++,ri.s[55]++,this.store.dispatch(n)},ri.s[56]++,n.prototype.workspaceZoom=function(n){ri.f[15]++;var A=(ri.s[57]++,this.store.getState().workspace.viewContainerSize),e=(ri.s[58]++,{x:A.width/2,y:A.height/2});ri.s[59]++,this.store.dispatch(_e(n,e))},ri.s[60]++,n}()),si=function(){var n="/Volumes/workplace/diagram-maker/src/service/observer/Observer.ts",A="628de26778977e78113e9bc9cbc2d2285b1de80e",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/service/observer/Observer.ts",statementMap:{0:{start:{line:1,column:30},end:{line:31,column:3}},1:{start:{line:3,column:20},end:{line:3,column:24}},2:{start:{line:4,column:8},end:{line:4,column:39}},3:{start:{line:5,column:8},end:{line:5,column:25}},4:{start:{line:6,column:8},end:{line:11,column:10}},5:{start:{line:7,column:12},end:{line:9,column:13}},6:{start:{line:8,column:16},end:{line:8,column:41}},7:{start:{line:10,column:12},end:{line:10,column:47}},8:{start:{line:12,column:8},end:{line:14,column:10}},9:{start:{line:13,column:12},end:{line:13,column:54}},10:{start:{line:15,column:8},end:{line:25,column:10}},11:{start:{line:16,column:12},end:{line:18,column:15}},12:{start:{line:17,column:16},end:{line:17,column:34}},13:{start:{line:19,column:12},end:{line:21,column:13}},14:{start:{line:20,column:16},end:{line:20,column:23}},15:{start:{line:22,column:12},end:{line:24,column:15}},16:{start:{line:23,column:16},end:{line:23,column:34}},17:{start:{line:26,column:8},end:{line:28,column:10}},18:{start:{line:27,column:12},end:{line:27,column:41}},19:{start:{line:30,column:4},end:{line:30,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:30},end:{line:1,column:31}},loc:{start:{line:1,column:42},end:{line:31,column:1}},line:1},1:{name:"Observer",decl:{start:{line:2,column:13},end:{line:2,column:21}},loc:{start:{line:2,column:24},end:{line:29,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:6,column:25},end:{line:6,column:26}},loc:{start:{line:6,column:52},end:{line:11,column:9}},line:6},3:{name:"(anonymous_3)",decl:{start:{line:12,column:28},end:{line:12,column:29}},loc:{start:{line:12,column:48},end:{line:14,column:9}},line:12},4:{name:"(anonymous_4)",decl:{start:{line:15,column:23},end:{line:15,column:24}},loc:{start:{line:15,column:49},end:{line:25,column:9}},line:15},5:{name:"(anonymous_5)",decl:{start:{line:16,column:47},end:{line:16,column:48}},loc:{start:{line:16,column:67},end:{line:18,column:13}},line:16},6:{name:"(anonymous_6)",decl:{start:{line:22,column:40},end:{line:22,column:41}},loc:{start:{line:22,column:60},end:{line:24,column:13}},line:22},7:{name:"(anonymous_7)",decl:{start:{line:26,column:24},end:{line:26,column:25}},loc:{start:{line:26,column:41},end:{line:28,column:9}},line:26}},branchMap:{0:{loc:{start:{line:7,column:12},end:{line:9,column:13}},type:"if",locations:[{start:{line:7,column:12},end:{line:9,column:13}},{start:{line:7,column:12},end:{line:9,column:13}}],line:7},1:{loc:{start:{line:19,column:12},end:{line:21,column:13}},type:"if",locations:[{start:{line:19,column:12},end:{line:21,column:13}},{start:{line:19,column:12},end:{line:21,column:13}}],line:19}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/service/observer/Observer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/service/observer/Observer.ts"],names:[],mappings:"AAEA;IAAA;QAAA,iBAmCC;QAlCS,yBAAoB,GAAuB,EAAE,CAAC;QAC9C,WAAM,GAEV,EAAE,CAAC;QAEA,cAAS,GAAG,UAAC,KAAa,EAAE,QAA0B;YAC3D,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;gBACzB,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;aACzB;YAED,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACpC,CAAC,CAAA;QAEM,iBAAY,GAAG,UAAC,QAA0B;YAC/C,KAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3C,CAAC,CAAA;QAEM,YAAO,GAAG,UAAC,KAAa,EAAE,OAAa;YAC5C,KAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,UAAC,QAAQ;gBACzC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACpB,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;gBACzB,OAAO;aACR;YAED,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAC,QAAQ;gBAClC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACpB,CAAC,CAAC,CAAC;QACL,CAAC,CAAA;QAEO,aAAQ,GAAG,UAAC,KAAa;YAC/B,OAAO,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC,CAAA;IACH,CAAC;IAAD,eAAC;AAAD,CAAC,AAnCD,IAmCC",sourcesContent:["export type ObserverCallback = (...args: any[]) => void;\n\nexport default class Observer {\n  private globalEventListeners: ObserverCallback[] = [];\n  private events: {\n    [key: string]: ObserverCallback[]\n  } = {};\n\n  public subscribe = (event: string, callback: ObserverCallback): void => {\n    if (!this.hasEvent(event)) {\n      this.events[event] = [];\n    }\n\n    this.events[event].push(callback);\n  }\n\n  public subscribeAll = (callback: ObserverCallback): void => {\n    this.globalEventListeners.push(callback);\n  }\n\n  public publish = (event: string, payload?: any): void => {\n    this.globalEventListeners.forEach((callback) => {\n      callback(payload);\n    });\n\n    if (!this.hasEvent(event)) {\n      return;\n    }\n\n    this.events[event].forEach((callback) => {\n      callback(payload);\n    });\n  }\n\n  private hasEvent = (event: string): boolean => {\n    return !!this.events[event];\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),Ci=(si.s[0]++,si.f[0]++,si.s[19]++,function(){si.f[1]++;var n=(si.s[1]++,this);si.s[2]++,this.globalEventListeners=[],si.s[3]++,this.events={},si.s[4]++,this.subscribe=function(A,e){si.f[2]++,si.s[5]++,n.hasEvent(A)?si.b[0][1]++:(si.b[0][0]++,si.s[6]++,n.events[A]=[]),si.s[7]++,n.events[A].push(e)},si.s[8]++,this.subscribeAll=function(A){si.f[3]++,si.s[9]++,n.globalEventListeners.push(A)},si.s[10]++,this.publish=function(A,e){if(si.f[4]++,si.s[11]++,n.globalEventListeners.forEach((function(n){si.f[5]++,si.s[12]++,n(e)})),si.s[13]++,!n.hasEvent(A))return si.b[1][0]++,void si.s[14]++;si.b[1][1]++,si.s[15]++,n.events[A].forEach((function(n){si.f[6]++,si.s[16]++,n(e)}))},si.s[17]++,this.hasEvent=function(A){return si.f[7]++,si.s[18]++,!!n.events[A]}}),ui=function(){var n="/Volumes/workplace/diagram-maker/src/service/browserUtils.ts",A="59e60a5ba82f19b6332a97ec6edba6286f156560",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/service/browserUtils.ts",statementMap:{0:{start:{line:2,column:26},end:{line:2,column:50}},1:{start:{line:3,column:16},end:{line:3,column:78}},2:{start:{line:4,column:17},end:{line:4,column:81}},3:{start:{line:5,column:4},end:{line:8,column:5}},4:{start:{line:6,column:8},end:{line:6,column:119}},5:{start:{line:7,column:8},end:{line:7,column:124}},6:{start:{line:9,column:4},end:{line:9,column:44}},7:{start:{line:12,column:19},end:{line:15,column:5}},8:{start:{line:16,column:4},end:{line:19,column:6}}},fnMap:{0:{name:"getBrowserSize",decl:{start:{line:1,column:16},end:{line:1,column:30}},loc:{start:{line:1,column:33},end:{line:10,column:1}},line:1},1:{name:"getBrowserRectangle",decl:{start:{line:11,column:16},end:{line:11,column:35}},loc:{start:{line:11,column:38},end:{line:20,column:1}},line:11}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:8,column:5}},{start:{line:5,column:4},end:{line:8,column:5}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/service/browserUtils.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/service/browserUtils.ts"],names:[],mappings:"AAEA,MAAM,UAAU,cAAc;IACpB,IAAA,eAAe,GAAK,QAAQ,gBAAb,CAAc;IAErC,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAClB,QAAQ,CAAC,IAAI,CAAC,WAAW,EACzB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAC1B,CAAC;IAEF,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CACnB,QAAQ,CAAC,IAAI,CAAC,YAAY,EAC1B,QAAQ,CAAC,IAAI,CAAC,YAAY,CAC3B,CAAC;IAEF,IAAI,eAAe,EAAE;QACnB,KAAK,GAAG,IAAI,CAAC,GAAG,CACd,KAAK,EACL,eAAe,CAAC,WAAW,EAC3B,eAAe,CAAC,WAAW,EAC3B,eAAe,CAAC,WAAW,CAC5B,CAAC;QAEF,MAAM,GAAG,IAAI,CAAC,GAAG,CACf,MAAM,EACN,eAAe,CAAC,YAAY,EAC5B,eAAe,CAAC,YAAY,EAC5B,eAAe,CAAC,YAAY,CAC7B,CAAC;KACH;IAED,OAAO,EAAE,KAAK,OAAA,EAAE,MAAM,QAAA,EAAE,CAAC;AAC3B,CAAC;AAED,MAAM,UAAU,mBAAmB;IACjC,IAAM,QAAQ,GAAG;QACf,CAAC,EAAE,CAAC;QACJ,CAAC,EAAE,CAAC;KACL,CAAC;IAEF,OAAO;QACL,QAAQ,UAAA;QACR,IAAI,EAAE,cAAc,EAAE;KACvB,CAAC;AACJ,CAAC",sourcesContent:["import { Rectangle, Size } from 'diagramMaker/state/types';\n\nexport function getBrowserSize(): Size {\n  const { documentElement } = document;\n\n  let width = Math.max(\n    document.body.scrollWidth,\n    document.body.offsetWidth\n  );\n\n  let height = Math.max(\n    document.body.scrollHeight,\n    document.body.offsetHeight\n  );\n\n  if (documentElement) {\n    width = Math.max(\n      width,\n      documentElement.scrollWidth,\n      documentElement.offsetWidth,\n      documentElement.clientWidth\n    );\n\n    height = Math.max(\n      height,\n      documentElement.scrollHeight,\n      documentElement.offsetHeight,\n      documentElement.clientHeight\n    );\n  }\n\n  return { width, height };\n}\n\nexport function getBrowserRectangle(): Rectangle {\n  const position = {\n    x: 0,\n    y: 0\n  };\n\n  return {\n    position,\n    size: getBrowserSize()\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function mi(){ui.f[0]++;var n=(ui.s[0]++,document.documentElement),A=(ui.s[1]++,Math.max(document.body.scrollWidth,document.body.offsetWidth)),e=(ui.s[2]++,Math.max(document.body.scrollHeight,document.body.offsetHeight));return ui.s[3]++,n?(ui.b[0][0]++,ui.s[4]++,A=Math.max(A,n.scrollWidth,n.offsetWidth,n.clientWidth),ui.s[5]++,e=Math.max(e,n.scrollHeight,n.offsetHeight,n.clientHeight)):ui.b[0][1]++,ui.s[6]++,{width:A,height:e}}var di,Ei,pi,fi,gi=function(){var n="/Volumes/workplace/diagram-maker/src/service/ui/UITargetNormalizer.ts",A="d5cdf55ee5a18a2fedf85d02550d59041e91a01e",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/service/ui/UITargetNormalizer.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:14,column:11},end:{line:14,column:17}},10:{start:{line:15,column:40},end:{line:129,column:3}},11:{start:{line:18,column:4},end:{line:24,column:6}},12:{start:{line:19,column:8},end:{line:23,column:10}},13:{start:{line:25,column:4},end:{line:32,column:6}},14:{start:{line:26,column:8},end:{line:26,column:63}},15:{start:{line:26,column:40},end:{line:26,column:61}},16:{start:{line:27,column:20},end:{line:27,column:50}},17:{start:{line:28,column:8},end:{line:30,column:9}},18:{start:{line:29,column:12},end:{line:29,column:25}},19:{start:{line:31,column:8},end:{line:31,column:39}},20:{start:{line:33,column:4},end:{line:39,column:6}},21:{start:{line:34,column:29},end:{line:37,column:9}},22:{start:{line:38,column:8},end:{line:38,column:76}},23:{start:{line:40,column:4},end:{line:71,column:6}},24:{start:{line:60,column:21},end:{line:60,column:33}},25:{start:{line:61,column:8},end:{line:63,column:9}},26:{start:{line:62,column:12},end:{line:62,column:25}},27:{start:{line:64,column:8},end:{line:66,column:9}},28:{start:{line:65,column:12},end:{line:65,column:25}},29:{start:{line:67,column:8},end:{line:69,column:9}},30:{start:{line:68,column:12},end:{line:68,column:25}},31:{start:{line:70,column:8},end:{line:70,column:83}},32:{start:{line:72,column:4},end:{line:91,column:6}},33:{start:{line:73,column:21},end:{line:73,column:79}},34:{start:{line:74,column:8},end:{line:76,column:9}},35:{start:{line:75,column:12},end:{line:75,column:19}},36:{start:{line:77,column:28},end:{line:77,column:34}},37:{start:{line:79,column:8},end:{line:81,column:9}},38:{start:{line:80,column:12},end:{line:80,column:33}},39:{start:{line:82,column:8},end:{line:84,column:9}},40:{start:{line:83,column:12},end:{line:83,column:33}},41:{start:{line:85,column:8},end:{line:88,column:9}},42:{start:{line:87,column:12},end:{line:87,column:56}},43:{start:{line:89,column:8},end:{line:90,column:121}},44:{start:{line:93,column:4},end:{line:101,column:6}},45:{start:{line:94,column:16},end:{line:94,column:26}},46:{start:{line:94,column:32},end:{line:94,column:42}},47:{start:{line:95,column:8},end:{line:97,column:9}},48:{start:{line:96,column:12},end:{line:96,column:52}},49:{start:{line:99,column:23},end:{line:99,column:57}},50:{start:{line:100,column:8},end:{line:100,column:67}},51:{start:{line:102,column:4},end:{line:119,column:6}},52:{start:{line:104,column:27},end:{line:104,column:80}},53:{start:{line:105,column:29},end:{line:105,column:59}},54:{start:{line:106,column:22},end:{line:106,column:77}},55:{start:{line:108,column:8},end:{line:114,column:9}},56:{start:{line:109,column:25},end:{line:109,column:38}},57:{start:{line:110,column:12},end:{line:113,column:13}},58:{start:{line:111,column:16},end:{line:111,column:36}},59:{start:{line:112,column:16},end:{line:112,column:22}},60:{start:{line:115,column:8},end:{line:117,column:9}},61:{start:{line:116,column:12},end:{line:116,column:19}},62:{start:{line:118,column:8},end:{line:118,column:26}},63:{start:{line:120,column:4},end:{line:127,column:6}},64:{start:{line:121,column:27},end:{line:121,column:29}},65:{start:{line:122,column:21},end:{line:122,column:36}},66:{start:{line:123,column:8},end:{line:125,column:9}},67:{start:{line:124,column:12},end:{line:124,column:43}},68:{start:{line:126,column:8},end:{line:126,column:28}},69:{start:{line:128,column:4},end:{line:128,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:15,column:40},end:{line:15,column:41}},loc:{start:{line:15,column:52},end:{line:129,column:1}},line:15},3:{name:"UITargetNormalizer",decl:{start:{line:16,column:13},end:{line:16,column:31}},loc:{start:{line:16,column:34},end:{line:17,column:5}},line:16},4:{name:"(anonymous_4)",decl:{start:{line:18,column:41},end:{line:18,column:42}},loc:{start:{line:18,column:59},end:{line:24,column:5}},line:18},5:{name:"(anonymous_5)",decl:{start:{line:25,column:45},end:{line:25,column:46}},loc:{start:{line:25,column:89},end:{line:32,column:5}},line:25},6:{name:"(anonymous_6)",decl:{start:{line:33,column:51},end:{line:33,column:52}},loc:{start:{line:33,column:68},end:{line:39,column:5}},line:33},7:{name:"(anonymous_7)",decl:{start:{line:40,column:51},end:{line:40,column:52}},loc:{start:{line:40,column:68},end:{line:71,column:5}},line:40},8:{name:"(anonymous_8)",decl:{start:{line:72,column:35},end:{line:72,column:36}},loc:{start:{line:72,column:95},end:{line:91,column:5}},line:72},9:{name:"(anonymous_9)",decl:{start:{line:93,column:46},end:{line:93,column:47}},loc:{start:{line:93,column:66},end:{line:101,column:5}},line:93},10:{name:"(anonymous_10)",decl:{start:{line:102,column:43},end:{line:102,column:44}},loc:{start:{line:102,column:87},end:{line:119,column:5}},line:102},11:{name:"(anonymous_11)",decl:{start:{line:120,column:48},end:{line:120,column:49}},loc:{start:{line:120,column:68},end:{line:127,column:5}},line:120}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:21,column:16},end:{line:21,column:69}},type:"binary-expr",locations:[{start:{line:21,column:16},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:56}},{start:{line:21,column:60},end:{line:21,column:69}}],line:21},4:{loc:{start:{line:22,column:18},end:{line:22,column:73}},type:"binary-expr",locations:[{start:{line:22,column:18},end:{line:22,column:24}},{start:{line:22,column:28},end:{line:22,column:60}},{start:{line:22,column:64},end:{line:22,column:73}}],line:22},5:{loc:{start:{line:26,column:8},end:{line:26,column:63}},type:"if",locations:[{start:{line:26,column:8},end:{line:26,column:63}},{start:{line:26,column:8},end:{line:26,column:63}}],line:26},6:{loc:{start:{line:28,column:8},end:{line:30,column:9}},type:"if",locations:[{start:{line:28,column:8},end:{line:30,column:9}},{start:{line:28,column:8},end:{line:30,column:9}}],line:28},7:{loc:{start:{line:61,column:8},end:{line:63,column:9}},type:"if",locations:[{start:{line:61,column:8},end:{line:63,column:9}},{start:{line:61,column:8},end:{line:63,column:9}}],line:61},8:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:64,column:8},end:{line:66,column:9}}],line:64},9:{loc:{start:{line:67,column:8},end:{line:69,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:69,column:9}},{start:{line:67,column:8},end:{line:69,column:9}}],line:67},10:{loc:{start:{line:74,column:8},end:{line:76,column:9}},type:"if",locations:[{start:{line:74,column:8},end:{line:76,column:9}},{start:{line:74,column:8},end:{line:76,column:9}}],line:74},11:{loc:{start:{line:79,column:8},end:{line:81,column:9}},type:"if",locations:[{start:{line:79,column:8},end:{line:81,column:9}},{start:{line:79,column:8},end:{line:81,column:9}}],line:79},12:{loc:{start:{line:82,column:8},end:{line:84,column:9}},type:"if",locations:[{start:{line:82,column:8},end:{line:84,column:9}},{start:{line:82,column:8},end:{line:84,column:9}}],line:82},13:{loc:{start:{line:85,column:15},end:{line:86,column:39}},type:"binary-expr",locations:[{start:{line:85,column:15},end:{line:85,column:112}},{start:{line:86,column:12},end:{line:86,column:39}}],line:85},14:{loc:{start:{line:89,column:15},end:{line:90,column:120}},type:"binary-expr",locations:[{start:{line:89,column:15},end:{line:90,column:90}},{start:{line:90,column:94},end:{line:90,column:107}},{start:{line:90,column:111},end:{line:90,column:120}}],line:89},15:{loc:{start:{line:95,column:8},end:{line:97,column:9}},type:"if",locations:[{start:{line:95,column:8},end:{line:97,column:9}},{start:{line:95,column:8},end:{line:97,column:9}}],line:95},16:{loc:{start:{line:110,column:12},end:{line:113,column:13}},type:"if",locations:[{start:{line:110,column:12},end:{line:113,column:13}},{start:{line:110,column:12},end:{line:113,column:13}}],line:110},17:{loc:{start:{line:115,column:8},end:{line:117,column:9}},type:"if",locations:[{start:{line:115,column:8},end:{line:117,column:9}},{start:{line:115,column:8},end:{line:117,column:9}}],line:115}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0,0],15:[0,0],16:[0,0],17:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/service/ui/UITargetNormalizer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/service/ui/UITargetNormalizer.ts"],names:[],mappings:"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",sourcesContent:["import { getBrowserRectangle } from 'diagramMaker/service/browserUtils';\nimport { fromContainerToPage, fromPageToScreen, isPositionInRectangle } from 'diagramMaker/service/positionUtils';\nimport { Position } from 'diagramMaker/state/types';\n\nexport interface NormalizedTarget {\n  originalTarget: HTMLElement;\n  id?: string;\n  type?: string;\n}\n\nconst TRUE = 'true';\n\nexport default class UITargetNormalizer {\n  public static normalizeTarget(target: HTMLElement): NormalizedTarget {\n    return {\n      originalTarget: target,\n      id: target && target.getAttribute('data-id') || undefined,\n      type: target && target.getAttribute('data-type') || undefined\n    };\n  }\n\n  public static checkAttributeValue(target: Element, attribute: string, expectedValue: string = TRUE): boolean {\n    const value = target.getAttribute(attribute);\n\n    if (!value) {\n      return false;\n    }\n\n    return value === expectedValue;\n  }\n\n  public static isMouseEventInsideBrowser(event: MouseEvent): boolean {\n    const clientPosition: Position = {\n      x: event.clientX,\n      y: event.clientY\n    };\n\n    return isPositionInRectangle(clientPosition, getBrowserRectangle());\n  }\n\n  public static normalizeMouseEventTarget(event: MouseEvent): MouseEvent {\n\n    // Firefox returns the `document` object as the target for\n    // mouse events fired outside of the window.  Chrome and Safari\n    // instead return the root HTML tag.\n    //\n    // An example of an event being fired outside of the window:\n    // If a drag event starts on DiagramMaker but the mouse is\n    // then moved outside of the browser window.\n    //\n    // In order to make Firefox match Chrome and Safari, we'll change\n    // the target to the root <html> tag if the target is the document\n    // and the position of the mouse is outside of the bounds of the browser.\n    //\n    //    _____________________________\n    //    |   Browser   |   Target    |\n    //    -----------------------------\n    //    |  Chrome     | root <html> |\n    //    |  Safari     | root <html> |\n    //    |  Firefox    | document    | <-- wth Firefox?\n    //    -----------------------------\n\n    const { target } = event;\n\n    if (!target) {\n      return event;\n    }\n\n    if (UITargetNormalizer.isMouseEventInsideBrowser(event)) {\n      return event;\n    }\n\n    if (target !== document) {\n      return event;\n    }\n\n    return {\n      ...event,\n      target: document.documentElement\n    };\n  }\n\n  public static getTarget(\n    event: MouseEvent,\n    requiredAttribute?: string,\n    requiredAttributeValue?: string\n  ): HTMLElement | undefined {\n    const { target } = UITargetNormalizer.normalizeMouseEventTarget(event);\n\n    if (!target) {\n      return;\n    }\n\n    let currentTarget = target as HTMLElement;\n\n    // @FIXME this is a hacky way to make sure that events outside of the browser don't require a target.\n    if (currentTarget === document.documentElement) {\n      return currentTarget;\n    }\n\n    if (!requiredAttribute) {\n      return currentTarget;\n    }\n\n    while (!UITargetNormalizer.checkAttributeValue(currentTarget, requiredAttribute, requiredAttributeValue) &&\n      currentTarget.parentElement) {\n      currentTarget = currentTarget.parentElement;\n    }\n\n    return UITargetNormalizer\n      .checkAttributeValue(currentTarget, requiredAttribute, requiredAttributeValue) && currentTarget || undefined;\n  }\n\n  // IE11 Fallback (msElementsFromPoint)\n  public static getElementsFromPoint(position: Position): Element[] {\n    const { x, y } = position;\n\n    if (document.elementsFromPoint) {\n      return document.elementsFromPoint(x, y);\n    }\n\n    // IE 11 specific method not part of typescript definitions for DOM API\n    const nodeList = (document as any).msElementsFromPoint(x, y);\n\n    return UITargetNormalizer.nodeListToElementArray(nodeList);\n  }\n\n  public static getDropZoneTarget(containerPosition: Position, contextOffset: Position): HTMLElement | undefined {\n    // Make the coordinates relative to the screen instead of relative to the document or relative to the container\n    const pagePosition = fromContainerToPage(containerPosition, contextOffset);\n    const screenPosition = fromPageToScreen(pagePosition);\n    const targets = UITargetNormalizer.getElementsFromPoint(screenPosition);\n    let dropTarget: HTMLElement | undefined;\n\n    for (const target of targets) {\n      if (UITargetNormalizer.checkAttributeValue(target, 'data-dropzone')) {\n        dropTarget = target as HTMLElement;\n        break;\n      }\n    }\n\n    if (!dropTarget) {\n      return;\n    }\n\n    return dropTarget;\n  }\n\n  private static nodeListToElementArray(nodeList: NodeListOf<Element>): Element[] {\n    const elementArray: Element[] = [];\n\n    const length = nodeList.length;\n    for (let i = 0; i < length; i += 1) {\n      elementArray.push(nodeList[i]);\n    }\n\n    return elementArray;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),hi=(gi.s[0]++,void gi.b[0][0]++&&(gi.b[0][1]++,(void 0).__assign)||(gi.b[0][2]++,function(){return gi.f[0]++,gi.s[1]++,gi.b[1][0]++,hi=Object.assign||(gi.b[1][1]++,function(n){gi.f[1]++,gi.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in gi.s[3]++,A=arguments[e],gi.s[4]++,A)gi.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(gi.b[2][0]++,gi.s[6]++,n[o]=A[o]):gi.b[2][1]++;return gi.s[7]++,n}),gi.s[8]++,hi.apply(this,arguments)})),Ii=(gi.s[9]++,"true"),yi=(gi.s[10]++,function(){function n(){gi.f[3]++}return gi.f[2]++,gi.s[11]++,n.normalizeTarget=function(n){return gi.f[4]++,gi.s[12]++,{originalTarget:n,id:(gi.b[3][0]++,n&&(gi.b[3][1]++,n.getAttribute("data-id"))||void gi.b[3][2]++),type:(gi.b[4][0]++,n&&(gi.b[4][1]++,n.getAttribute("data-type"))||void gi.b[4][2]++)}},gi.s[13]++,n.checkAttributeValue=function(n,A,e){gi.f[5]++,gi.s[14]++,void 0===e?(gi.b[5][0]++,gi.s[15]++,e=Ii):gi.b[5][1]++;var t=(gi.s[16]++,n.getAttribute(A));return gi.s[17]++,t?(gi.b[6][1]++,gi.s[19]++,t===e):(gi.b[6][0]++,gi.s[18]++,!1)},gi.s[20]++,n.isMouseEventInsideBrowser=function(n){gi.f[6]++;var A=(gi.s[21]++,{x:n.clientX,y:n.clientY});return gi.s[22]++,function(n,A){L.f[12]++;var e=(L.s[23]++,n.x),t=(L.s[24]++,n.y),o=(L.s[25]++,A.position.x),l=(L.s[26]++,o+A.size.width),i=(L.s[27]++,A.position.y),r=(L.s[28]++,i+A.size.height);return L.s[29]++,L.b[1][0]++,$(e,o,l)&&(L.b[1][1]++,$(t,i,r))}(A,function(){ui.f[1]++;var n=(ui.s[7]++,{x:0,y:0});return ui.s[8]++,{position:n,size:mi()}}())},gi.s[23]++,n.normalizeMouseEventTarget=function(A){gi.f[7]++;var e=(gi.s[24]++,A.target);return gi.s[25]++,e?(gi.b[7][1]++,gi.s[27]++,n.isMouseEventInsideBrowser(A)?(gi.b[8][0]++,gi.s[28]++,A):(gi.b[8][1]++,gi.s[29]++,e!==document?(gi.b[9][0]++,gi.s[30]++,A):(gi.b[9][1]++,gi.s[31]++,hi(hi({},A),{target:document.documentElement})))):(gi.b[7][0]++,gi.s[26]++,A)},gi.s[32]++,n.getTarget=function(A,e,t){gi.f[8]++;var o=(gi.s[33]++,n.normalizeMouseEventTarget(A).target);if(gi.s[34]++,!o)return gi.b[10][0]++,void gi.s[35]++;gi.b[10][1]++;var l=(gi.s[36]++,o);if(gi.s[37]++,l===document.documentElement)return gi.b[11][0]++,gi.s[38]++,l;if(gi.b[11][1]++,gi.s[39]++,!e)return gi.b[12][0]++,gi.s[40]++,l;for(gi.b[12][1]++,gi.s[41]++;gi.b[13][0]++,!n.checkAttributeValue(l,e,t)&&(gi.b[13][1]++,l.parentElement);)gi.s[42]++,l=l.parentElement;return gi.s[43]++,gi.b[14][0]++,n.checkAttributeValue(l,e,t)&&(gi.b[14][1]++,l)||void gi.b[14][2]++},gi.s[44]++,n.getElementsFromPoint=function(A){gi.f[9]++;var e=(gi.s[45]++,A.x),t=(gi.s[46]++,A.y);if(gi.s[47]++,document.elementsFromPoint)return gi.b[15][0]++,gi.s[48]++,document.elementsFromPoint(e,t);gi.b[15][1]++;var o=(gi.s[49]++,document.msElementsFromPoint(e,t));return gi.s[50]++,n.nodeListToElementArray(o)},gi.s[51]++,n.getDropZoneTarget=function(A,e){gi.f[10]++;var t,o=(gi.s[52]++,Z(A,e)),l=(gi.s[53]++,function(n){return L.f[7]++,L.s[18]++,H(n,F())}(o)),i=(gi.s[54]++,n.getElementsFromPoint(l));gi.s[55]++;for(var r=0,a=i;r<a.length;r++){var c=(gi.s[56]++,a[r]);if(gi.s[57]++,n.checkAttributeValue(c,"data-dropzone")){gi.b[16][0]++,gi.s[58]++,t=c,gi.s[59]++;break}gi.b[16][1]++}return gi.s[60]++,t?(gi.b[17][1]++,gi.s[62]++,t):(gi.b[17][0]++,void gi.s[61]++)},gi.s[63]++,n.nodeListToElementArray=function(n){gi.f[11]++;var A=(gi.s[64]++,[]),e=(gi.s[65]++,n.length);gi.s[66]++;for(var t=0;t<e;t+=1)gi.s[67]++,A.push(n[t]);return gi.s[68]++,A},gi.s[69]++,n}()),Bi=function(){var n="/Volumes/workplace/diagram-maker/src/service/ui/UIEventNormalizer.ts",A="5156b1ee86b9f12bdcb3f250a86ccc5401f4c03d",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/service/ui/UIEventNormalizer.ts",statementMap:{0:{start:{line:7,column:14},end:{line:8,column:58}},1:{start:{line:10,column:0},end:{line:16,column:38}},2:{start:{line:11,column:4},end:{line:11,column:50}},3:{start:{line:12,column:4},end:{line:12,column:54}},4:{start:{line:13,column:4},end:{line:13,column:52}},5:{start:{line:14,column:4},end:{line:14,column:66}},6:{start:{line:15,column:4},end:{line:15,column:72}},7:{start:{line:18,column:0},end:{line:21,column:40}},8:{start:{line:19,column:4},end:{line:19,column:38}},9:{start:{line:20,column:4},end:{line:20,column:44}},10:{start:{line:23,column:0},end:{line:25,column:38}},11:{start:{line:24,column:4},end:{line:24,column:27}},12:{start:{line:27,column:0},end:{line:30,column:44}},13:{start:{line:28,column:4},end:{line:28,column:62}},14:{start:{line:29,column:4},end:{line:29,column:56}},15:{start:{line:32,column:4},end:{line:37,column:5}},16:{start:{line:33,column:46},end:{line:33,column:86}},17:{start:{line:34,column:45},end:{line:34,column:85}},18:{start:{line:35,column:43},end:{line:35,column:83}},19:{start:{line:36,column:33},end:{line:36,column:70}},20:{start:{line:39,column:39},end:{line:143,column:3}},21:{start:{line:42,column:4},end:{line:50,column:6}},22:{start:{line:43,column:20},end:{line:43,column:31}},23:{start:{line:43,column:41},end:{line:43,column:52}},24:{start:{line:44,column:27},end:{line:44,column:49}},25:{start:{line:45,column:8},end:{line:49,column:10}},26:{start:{line:51,column:4},end:{line:76,column:6}},27:{start:{line:52,column:32},end:{line:52,column:58}},28:{start:{line:53,column:28},end:{line:53,column:82}},29:{start:{line:54,column:8},end:{line:56,column:9}},30:{start:{line:55,column:12},end:{line:55,column:19}},31:{start:{line:57,column:20},end:{line:57,column:31}},32:{start:{line:57,column:41},end:{line:57,column:52}},33:{start:{line:57,column:63},end:{line:57,column:75}},34:{start:{line:58,column:27},end:{line:58,column:49}},35:{start:{line:59,column:23},end:{line:59,column:71}},36:{start:{line:60,column:35},end:{line:60,column:72}},37:{start:{line:61,column:33},end:{line:61,column:71}},38:{start:{line:65,column:21},end:{line:65,column:63}},39:{start:{line:66,column:28},end:{line:66,column:33}},40:{start:{line:67,column:21},end:{line:67,column:70}},41:{start:{line:68,column:8},end:{line:75,column:10}},42:{start:{line:77,column:4},end:{line:79,column:6}},43:{start:{line:78,column:8},end:{line:78,column:113}},44:{start:{line:80,column:4},end:{line:82,column:6}},45:{start:{line:81,column:8},end:{line:81,column:110}},46:{start:{line:83,column:4},end:{line:85,column:6}},47:{start:{line:84,column:8},end:{line:84,column:112}},48:{start:{line:86,column:4},end:{line:95,column:6}},49:{start:{line:87,column:21},end:{line:87,column:33}},50:{start:{line:87,column:43},end:{line:87,column:54}},51:{start:{line:87,column:64},end:{line:87,column:75}},52:{start:{line:88,column:27},end:{line:88,column:49}},53:{start:{line:89,column:8},end:{line:94,column:10}},54:{start:{line:96,column:4},end:{line:102,column:6}},55:{start:{line:97,column:26},end:{line:97,column:59}},56:{start:{line:98,column:8},end:{line:101,column:10}},57:{start:{line:103,column:4},end:{line:110,column:6}},58:{start:{line:104,column:25},end:{line:104,column:42}},59:{start:{line:104,column:58},end:{line:104,column:76}},60:{start:{line:105,column:8},end:{line:109,column:10}},61:{start:{line:111,column:4},end:{line:132,column:6}},62:{start:{line:112,column:18},end:{line:112,column:27}},63:{start:{line:112,column:36},end:{line:112,column:46}},64:{start:{line:112,column:59},end:{line:112,column:73}},65:{start:{line:112,column:85},end:{line:112,column:98}},66:{start:{line:112,column:110},end:{line:112,column:123}},67:{start:{line:112,column:134},end:{line:112,column:146}},68:{start:{line:113,column:28},end:{line:113,column:33}},69:{start:{line:114,column:21},end:{line:114,column:47}},70:{start:{line:115,column:8},end:{line:131,column:9}},71:{start:{line:116,column:12},end:{line:120,column:13}},72:{start:{line:119,column:16},end:{line:119,column:39}},73:{start:{line:121,column:12},end:{line:130,column:14}},74:{start:{line:133,column:4},end:{line:135,column:6}},75:{start:{line:134,column:8},end:{line:134,column:104}},76:{start:{line:136,column:4},end:{line:138,column:6}},77:{start:{line:137,column:8},end:{line:137,column:106}},78:{start:{line:139,column:4},end:{line:141,column:6}},79:{start:{line:140,column:8},end:{line:140,column:107}},80:{start:{line:142,column:4},end:{line:142,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:1},end:{line:10,column:2}},loc:{start:{line:10,column:24},end:{line:16,column:1}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:1},end:{line:18,column:2}},loc:{start:{line:18,column:25},end:{line:21,column:1}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:23,column:1},end:{line:23,column:2}},loc:{start:{line:23,column:24},end:{line:25,column:1}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:27,column:1},end:{line:27,column:2}},loc:{start:{line:27,column:27},end:{line:30,column:1}},line:27},4:{name:"getRequiredAttribute",decl:{start:{line:31,column:16},end:{line:31,column:36}},loc:{start:{line:31,column:43},end:{line:38,column:1}},line:31},5:{name:"(anonymous_5)",decl:{start:{line:39,column:39},end:{line:39,column:40}},loc:{start:{line:39,column:51},end:{line:143,column:1}},line:39},6:{name:"UIEventNormalizer",decl:{start:{line:40,column:13},end:{line:40,column:30}},loc:{start:{line:40,column:33},end:{line:41,column:5}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:42,column:48},end:{line:42,column:49}},loc:{start:{line:42,column:80},end:{line:50,column:5}},line:42},8:{name:"(anonymous_8)",decl:{start:{line:51,column:49},end:{line:51,column:50}},loc:{start:{line:51,column:87},end:{line:76,column:5}},line:51},9:{name:"(anonymous_9)",decl:{start:{line:77,column:49},end:{line:77,column:50}},loc:{start:{line:77,column:81},end:{line:79,column:5}},line:77},10:{name:"(anonymous_10)",decl:{start:{line:80,column:46},end:{line:80,column:47}},loc:{start:{line:80,column:78},end:{line:82,column:5}},line:80},11:{name:"(anonymous_11)",decl:{start:{line:83,column:48},end:{line:83,column:49}},loc:{start:{line:83,column:80},end:{line:85,column:5}},line:83},12:{name:"(anonymous_12)",decl:{start:{line:86,column:44},end:{line:86,column:45}},loc:{start:{line:86,column:76},end:{line:95,column:5}},line:86},13:{name:"(anonymous_13)",decl:{start:{line:96,column:48},end:{line:96,column:49}},loc:{start:{line:96,column:69},end:{line:102,column:5}},line:96},14:{name:"(anonymous_14)",decl:{start:{line:103,column:45},end:{line:103,column:46}},loc:{start:{line:103,column:77},end:{line:110,column:5}},line:103},15:{name:"(anonymous_15)",decl:{start:{line:111,column:47},end:{line:111,column:48}},loc:{start:{line:111,column:85},end:{line:132,column:5}},line:111},16:{name:"(anonymous_16)",decl:{start:{line:133,column:44},end:{line:133,column:45}},loc:{start:{line:133,column:76},end:{line:135,column:5}},line:133},17:{name:"(anonymous_17)",decl:{start:{line:136,column:46},end:{line:136,column:47}},loc:{start:{line:136,column:78},end:{line:138,column:5}},line:136},18:{name:"(anonymous_18)",decl:{start:{line:139,column:47},end:{line:139,column:48}},loc:{start:{line:139,column:79},end:{line:141,column:5}},line:139}},branchMap:{0:{loc:{start:{line:7,column:14},end:{line:8,column:58}},type:"binary-expr",locations:[{start:{line:7,column:14},end:{line:7,column:43}},{start:{line:8,column:4},end:{line:8,column:58}}],line:7},1:{loc:{start:{line:16,column:3},end:{line:16,column:36}},type:"binary-expr",locations:[{start:{line:16,column:3},end:{line:16,column:14}},{start:{line:16,column:19},end:{line:16,column:35}}],line:16},2:{loc:{start:{line:21,column:3},end:{line:21,column:38}},type:"binary-expr",locations:[{start:{line:21,column:3},end:{line:21,column:15}},{start:{line:21,column:20},end:{line:21,column:37}}],line:21},3:{loc:{start:{line:25,column:3},end:{line:25,column:36}},type:"binary-expr",locations:[{start:{line:25,column:3},end:{line:25,column:14}},{start:{line:25,column:19},end:{line:25,column:35}}],line:25},4:{loc:{start:{line:30,column:3},end:{line:30,column:42}},type:"binary-expr",locations:[{start:{line:30,column:3},end:{line:30,column:17}},{start:{line:30,column:22},end:{line:30,column:41}}],line:30},5:{loc:{start:{line:32,column:4},end:{line:37,column:5}},type:"switch",locations:[{start:{line:33,column:8},end:{line:33,column:86}},{start:{line:34,column:8},end:{line:34,column:85}},{start:{line:35,column:8},end:{line:35,column:83}},{start:{line:36,column:8},end:{line:36,column:70}}],line:32},6:{loc:{start:{line:54,column:8},end:{line:56,column:9}},type:"if",locations:[{start:{line:54,column:8},end:{line:56,column:9}},{start:{line:54,column:8},end:{line:56,column:9}}],line:54},7:{loc:{start:{line:114,column:21},end:{line:114,column:47}},type:"cond-expr",locations:[{start:{line:114,column:30},end:{line:114,column:37}},{start:{line:114,column:40},end:{line:114,column:47}}],line:114},8:{loc:{start:{line:115,column:8},end:{line:131,column:9}},type:"if",locations:[{start:{line:115,column:8},end:{line:131,column:9}},{start:{line:115,column:8},end:{line:131,column:9}}],line:115},9:{loc:{start:{line:116,column:12},end:{line:120,column:13}},type:"if",locations:[{start:{line:116,column:12},end:{line:120,column:13}},{start:{line:116,column:12},end:{line:120,column:13}}],line:116},10:{loc:{start:{line:116,column:16},end:{line:116,column:73}},type:"binary-expr",locations:[{start:{line:116,column:16},end:{line:116,column:46}},{start:{line:116,column:51},end:{line:116,column:62}},{start:{line:116,column:66},end:{line:116,column:72}}],line:116}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/service/ui/UIEventNormalizer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/service/ui/UIEventNormalizer.ts"],names:[],mappings:"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",sourcesContent:["import { fromPageToContainer, fromScreenToPage, subtract } from 'diagramMaker/service/positionUtils';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport UITargetNormalizer, { NormalizedTarget } from 'diagramMaker/service/ui/UITargetNormalizer';\nimport { Position, Size } from 'diagramMaker/state/types';\n\nimport {\n  ContainerEventType,\n  DragEventType,\n  DropEventType,\n  EventType,\n  KeyboardEventType,\n  MouseClickEventType,\n  MouseMoveEventType,\n  WheelEventType,\n  WindowEventType\n} from './UIEventManager';\n\n// to determine platform for ctrl(win)/cmd(mac) modifier key handling\n// https://github.com/ianstormtaylor/is-hotkey/blob/master/src/index.js\nconst IS_MAC = (\n  typeof window !== 'undefined' &&\n  /Mac|iPod|iPhone|iPad/.test(window.navigator.platform)\n);\n\nexport enum MouseButton {\n  LEFT,\n  MIDDLE,\n  RIGHT,\n  BROWSER_BACK,\n  BROWSER_FORWARD\n}\n\nexport enum KeyboardCode {\n  DELETE = 'Delete',\n  BACKSPACE = 'Backspace'\n}\n\nexport enum KeyboardKey {\n  A = 'a'\n}\n\nexport enum EventAttribute {\n  DATA_EVENT_TARGET = 'data-event-target',\n  DATA_DRAGGABLE = 'data-draggable'\n}\n\nexport interface NormalizedMouseMoveEvent {\n  originalEvent: MouseEvent;\n  position: Position;\n  type: MouseMoveEventType;\n}\n\nexport interface NormalizedMouseScrollEvent {\n  delta: number;\n  originalEvent: WheelEvent;\n  position: Position;\n  type: WheelEventType;\n}\n\nexport interface NormalizedMouseClickEvent {\n  originalEvent: MouseEvent;\n  button: MouseButton;\n  position: Position;\n  target: NormalizedTarget;\n  offset: Position;\n  type: MouseClickEventType;\n}\n\nexport interface NormalizedDragEvent {\n  position: Position;\n  target: NormalizedTarget;\n  offset?: Position;\n  dragReference?: Position;\n  type: DragEventType;\n}\n\nexport interface NormalizedDropEvent {\n  position: Position;\n  target: NormalizedTarget;\n  dropzone: NormalizedTarget;\n  offset?: Position;\n  type: DropEventType;\n}\n\nexport interface NormalizedContainerEvent {\n  contextRect: ClientRect | DOMRect;\n  type: ContainerEventType;\n}\n\nexport interface NormalizedWindowEvent {\n  originalEvent: Event;\n  size: Size;\n  type: WindowEventType;\n}\n\nexport interface NormalizedKeyboardEvent {\n  code: string;\n  key: string;\n  ctrlKey: boolean;\n  shiftKey: boolean;\n  metaKey: boolean;\n  modKey: boolean;\n  originalEvent: KeyboardEvent;\n  type: KeyboardEventType;\n}\n\nexport type NormalizedEvent =\n  NormalizedContainerEvent | NormalizedMouseMoveEvent | NormalizedDragEvent | NormalizedWindowEvent |\n  NormalizedMouseScrollEvent | NormalizedMouseClickEvent | NormalizedKeyboardEvent;\n\nexport function getRequiredAttribute(type: EventType): EventAttribute | undefined {\n  switch (type) {\n    case MouseClickEventType.RIGHT_CLICK: return EventAttribute.DATA_EVENT_TARGET;\n    case MouseClickEventType.MOUSE_DOWN: return EventAttribute.DATA_EVENT_TARGET;\n    case MouseClickEventType.MOUSE_UP: return EventAttribute.DATA_EVENT_TARGET;\n    case DragEventType.DRAG: return EventAttribute.DATA_DRAGGABLE;\n  }\n}\n\n// @FIXME Even though MouseEvent and WheelEvent both extend Event,\n// typescript won't allow this to be typed as Event\n// nor MouseEvent | WheelEvent | Event\n// nor a union type of MouseEvent | WheelEvent | Event\nexport type EventNormalizer = (event: any, contextOffset: Position) => NormalizedEvent | void | undefined;\nexport default class UIEventNormalizer {\n  public static normalizeMouseMoveEvent(event: MouseEvent, contextOffset: Position): NormalizedMouseMoveEvent {\n    const { pageX, pageY } = event;\n    const pagePosition = { x: pageX, y: pageY };\n\n    return {\n      originalEvent: event,\n      position: fromPageToContainer(pagePosition, contextOffset),\n      type: MouseMoveEventType.MOUSE_MOVE\n    };\n  }\n\n  public static normalizeMouseClickEvent(\n    event: MouseEvent,\n    contextOffset: Position,\n    type: MouseClickEventType\n  ): NormalizedMouseClickEvent | undefined {\n\n    const requiredAttribute = getRequiredAttribute(type);\n    const targetElement = UITargetNormalizer.getTarget(event, requiredAttribute);\n\n    if (!targetElement) {\n      return;\n    }\n\n    const { pageX, pageY, button } = event;\n    const pagePosition = { x: pageX, y: pageY };\n    const position = fromPageToContainer(pagePosition, contextOffset);\n    const targetScreenPosition = targetElement.getBoundingClientRect();\n    const targetPagePosition = fromScreenToPage(targetScreenPosition);\n\n    // We are calculating the offset here instead of using the\n    // event's offset/layer prop because we need to calculate\n    // offset relative to the filtered target, not the actual target.\n\n    const offset: Position = subtract(pagePosition, targetPagePosition);\n\n    const originalEvent = event;\n    const target = UITargetNormalizer.normalizeTarget(targetElement);\n\n    return {\n      button,\n      offset,\n      originalEvent,\n      position,\n      target,\n      type\n    };\n  }\n\n  public static normalizeRightClickEvent(\n    event: MouseEvent,\n    contextOffset: Position\n    ): NormalizedMouseClickEvent | undefined {\n\n    return UIEventNormalizer.normalizeMouseClickEvent(event, contextOffset, MouseClickEventType.RIGHT_CLICK);\n  }\n\n  public static normalizeMouseUpEvent(\n    event: MouseEvent,\n    contextOffset: Position\n    ): NormalizedMouseClickEvent | undefined {\n\n    return UIEventNormalizer.normalizeMouseClickEvent(event, contextOffset, MouseClickEventType.MOUSE_UP);\n  }\n\n  public static normalizeMouseDownEvent(\n    event: MouseEvent,\n    contextOffset: Position\n    ): NormalizedMouseClickEvent | undefined {\n\n    return UIEventNormalizer.normalizeMouseClickEvent(event, contextOffset, MouseClickEventType.MOUSE_DOWN);\n  }\n\n  public static normalizeWheelEvent(event: WheelEvent, contextOffset: Position): NormalizedMouseScrollEvent {\n    const { deltaY, pageX, pageY } = event;\n    const pagePosition = { x: pageX, y: pageY };\n\n    return {\n      delta: deltaY,\n      originalEvent: event,\n      position: fromPageToContainer(pagePosition, contextOffset),\n      type: WheelEventType.MOUSE_WHEEL\n    };\n  }\n\n  public static normalizeContainerEvent(container: HTMLElement): NormalizedContainerEvent {\n    const contextRect = container.getBoundingClientRect();\n\n    return {\n      contextRect,\n      type: ContainerEventType.DIAGRAM_MAKER_CONTAINER_UPDATE\n    };\n  }\n\n  public static normalizeWindowEvent(event: Event, contextOffset: Position): NormalizedWindowEvent {\n    const { innerWidth, innerHeight } = window;\n\n    return {\n      originalEvent: event,\n      size: { width: innerWidth, height: innerHeight },\n      type: WindowEventType.RESIZE\n    };\n  }\n\n  public static normalizeKeyboardEvent(\n    event: KeyboardEvent,\n    contextOffset: Position,\n    type: KeyboardEventType\n  ): NormalizedKeyboardEvent | void {\n    const { key, code, shiftKey, metaKey, ctrlKey, target } = event;\n    const originalEvent = event;\n    const modKey = IS_MAC ? metaKey : ctrlKey;\n\n    if (UITargetNormalizer.checkAttributeValue(target as Element, 'data-type', DiagramMakerComponentsType.VIEW)) {\n      if (key === KeyboardCode.BACKSPACE || (key === 'a' && modKey)) {\n        // Prevent the browser from navigating back\n        // Since the back is fired on diagram maker\n        event.preventDefault();\n      }\n\n      return {\n        code,\n        key,\n        ctrlKey,\n        shiftKey,\n        metaKey,\n        modKey,\n        originalEvent,\n        type\n      } as NormalizedKeyboardEvent;\n    }\n  }\n\n  public static normalizeKeyUpEvent(event: KeyboardEvent, contextOffset: Position): NormalizedKeyboardEvent | void {\n    return UIEventNormalizer.normalizeKeyboardEvent(event, contextOffset, KeyboardEventType.KEY_UP);\n  }\n\n  public static normalizeKeyDownEvent(event: KeyboardEvent, contextOffset: Position): NormalizedKeyboardEvent | void {\n    return UIEventNormalizer.normalizeKeyboardEvent(event, contextOffset, KeyboardEventType.KEY_DOWN);\n  }\n\n  public static normalizeKeyPressEvent(event: KeyboardEvent, contextOffset: Position): NormalizedKeyboardEvent | void {\n    return UIEventNormalizer.normalizeKeyboardEvent(event, contextOffset, KeyboardEventType.KEY_PRESS);\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),Mi=(Bi.s[0]++,Bi.b[0][0]++,"undefined"!=typeof window&&(Bi.b[0][1]++,/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)));function vi(n){switch(Bi.f[4]++,Bi.s[15]++,n){case Gi.RIGHT_CLICK:return Bi.b[5][0]++,Bi.s[16]++,fi.DATA_EVENT_TARGET;case Gi.MOUSE_DOWN:return Bi.b[5][1]++,Bi.s[17]++,fi.DATA_EVENT_TARGET;case Gi.MOUSE_UP:return Bi.b[5][2]++,Bi.s[18]++,fi.DATA_EVENT_TARGET;case Si.DRAG:return Bi.b[5][3]++,Bi.s[19]++,fi.DATA_DRAGGABLE}}Bi.s[1]++,function(n){Bi.f[0]++,Bi.s[2]++,n[n.LEFT=0]="LEFT",Bi.s[3]++,n[n.MIDDLE=1]="MIDDLE",Bi.s[4]++,n[n.RIGHT=2]="RIGHT",Bi.s[5]++,n[n.BROWSER_BACK=3]="BROWSER_BACK",Bi.s[6]++,n[n.BROWSER_FORWARD=4]="BROWSER_FORWARD"}((Bi.b[1][0]++,di||(Bi.b[1][1]++,di={}))),Bi.s[7]++,function(n){Bi.f[1]++,Bi.s[8]++,n.DELETE="Delete",Bi.s[9]++,n.BACKSPACE="Backspace"}((Bi.b[2][0]++,Ei||(Bi.b[2][1]++,Ei={}))),Bi.s[10]++,function(n){Bi.f[2]++,Bi.s[11]++,n.A="a"}((Bi.b[3][0]++,pi||(Bi.b[3][1]++,pi={}))),Bi.s[12]++,function(n){Bi.f[3]++,Bi.s[13]++,n.DATA_EVENT_TARGET="data-event-target",Bi.s[14]++,n.DATA_DRAGGABLE="data-draggable"}((Bi.b[4][0]++,fi||(Bi.b[4][1]++,fi={})));var bi,Oi,Gi,Di,ki,Ki,Si,wi,_i,xi=(Bi.s[20]++,function(){function n(){Bi.f[6]++}return Bi.f[5]++,Bi.s[21]++,n.normalizeMouseMoveEvent=function(n,A){Bi.f[7]++;var e=(Bi.s[22]++,n.pageX),t=(Bi.s[23]++,n.pageY),o=(Bi.s[24]++,{x:e,y:t});return Bi.s[25]++,{originalEvent:n,position:X(o,A),type:Di.MOUSE_MOVE}},Bi.s[26]++,n.normalizeMouseClickEvent=function(n,A,e){Bi.f[8]++;var t=(Bi.s[27]++,vi(e)),o=(Bi.s[28]++,yi.getTarget(n,t));if(Bi.s[29]++,!o)return Bi.b[6][0]++,void Bi.s[30]++;Bi.b[6][1]++;var l=(Bi.s[31]++,n.pageX),i=(Bi.s[32]++,n.pageY),r=(Bi.s[33]++,n.button),a=(Bi.s[34]++,{x:l,y:i}),c=(Bi.s[35]++,X(a,A)),s=(Bi.s[36]++,o.getBoundingClientRect()),C=(Bi.s[37]++,q(s)),u=(Bi.s[38]++,H(a,C)),m=(Bi.s[39]++,n),d=(Bi.s[40]++,yi.normalizeTarget(o));return Bi.s[41]++,{button:r,offset:u,originalEvent:m,position:c,target:d,type:e}},Bi.s[42]++,n.normalizeRightClickEvent=function(A,e){return Bi.f[9]++,Bi.s[43]++,n.normalizeMouseClickEvent(A,e,Gi.RIGHT_CLICK)},Bi.s[44]++,n.normalizeMouseUpEvent=function(A,e){return Bi.f[10]++,Bi.s[45]++,n.normalizeMouseClickEvent(A,e,Gi.MOUSE_UP)},Bi.s[46]++,n.normalizeMouseDownEvent=function(A,e){return Bi.f[11]++,Bi.s[47]++,n.normalizeMouseClickEvent(A,e,Gi.MOUSE_DOWN)},Bi.s[48]++,n.normalizeWheelEvent=function(n,A){Bi.f[12]++;var e=(Bi.s[49]++,n.deltaY),t=(Bi.s[50]++,n.pageX),o=(Bi.s[51]++,n.pageY),l=(Bi.s[52]++,{x:t,y:o});return Bi.s[53]++,{delta:e,originalEvent:n,position:X(l,A),type:ki.MOUSE_WHEEL}},Bi.s[54]++,n.normalizeContainerEvent=function(n){Bi.f[13]++;var A=(Bi.s[55]++,n.getBoundingClientRect());return Bi.s[56]++,{contextRect:A,type:bi.DIAGRAM_MAKER_CONTAINER_UPDATE}},Bi.s[57]++,n.normalizeWindowEvent=function(n,A){Bi.f[14]++;var e=(Bi.s[58]++,window.innerWidth),t=(Bi.s[59]++,window.innerHeight);return Bi.s[60]++,{originalEvent:n,size:{width:e,height:t},type:Ki.RESIZE}},Bi.s[61]++,n.normalizeKeyboardEvent=function(n,A,e){Bi.f[15]++;var t=(Bi.s[62]++,n.key),o=(Bi.s[63]++,n.code),l=(Bi.s[64]++,n.shiftKey),i=(Bi.s[65]++,n.metaKey),r=(Bi.s[66]++,n.ctrlKey),a=(Bi.s[67]++,n.target),s=(Bi.s[68]++,n),C=(Bi.s[69]++,Mi?(Bi.b[7][0]++,i):(Bi.b[7][1]++,r));if(Bi.s[70]++,yi.checkAttributeValue(a,"data-type",c.VIEW))return Bi.b[8][0]++,Bi.s[71]++,Bi.b[10][0]++,t===Ei.BACKSPACE||(Bi.b[10][1]++,"a"===t&&(Bi.b[10][2]++,C))?(Bi.b[9][0]++,Bi.s[72]++,n.preventDefault()):Bi.b[9][1]++,Bi.s[73]++,{code:o,key:t,ctrlKey:r,shiftKey:l,metaKey:i,modKey:C,originalEvent:s,type:e};Bi.b[8][1]++},Bi.s[74]++,n.normalizeKeyUpEvent=function(A,e){return Bi.f[16]++,Bi.s[75]++,n.normalizeKeyboardEvent(A,e,_i.KEY_UP)},Bi.s[76]++,n.normalizeKeyDownEvent=function(A,e){return Bi.f[17]++,Bi.s[77]++,n.normalizeKeyboardEvent(A,e,_i.KEY_DOWN)},Bi.s[78]++,n.normalizeKeyPressEvent=function(A,e){return Bi.f[18]++,Bi.s[79]++,n.normalizeKeyboardEvent(A,e,_i.KEY_PRESS)},Bi.s[80]++,n}()),Ti=function(){var n="/Volumes/workplace/diagram-maker/src/service/ui/UIEventManager.ts",A="99a400e5ec38ea2d1cb35e854a6d5dd00fb0b20e",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/service/ui/UIEventManager.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:16,column:0},end:{line:18,column:52}},10:{start:{line:17,column:4},end:{line:17,column:89}},11:{start:{line:20,column:0},end:{line:22,column:48}},12:{start:{line:21,column:4},end:{line:21,column:44}},13:{start:{line:24,column:0},end:{line:29,column:54}},14:{start:{line:25,column:4},end:{line:25,column:48}},15:{start:{line:26,column:4},end:{line:26,column:55}},16:{start:{line:27,column:4},end:{line:27,column:52}},17:{start:{line:28,column:4},end:{line:28,column:48}},18:{start:{line:31,column:0},end:{line:33,column:52}},19:{start:{line:32,column:4},end:{line:32,column:51}},20:{start:{line:35,column:0},end:{line:37,column:44}},21:{start:{line:36,column:4},end:{line:36,column:44}},22:{start:{line:39,column:0},end:{line:41,column:46}},23:{start:{line:40,column:4},end:{line:40,column:41}},24:{start:{line:43,column:0},end:{line:47,column:42}},25:{start:{line:44,column:4},end:{line:44,column:44}},26:{start:{line:45,column:4},end:{line:45,column:37}},27:{start:{line:46,column:4},end:{line:46,column:48}},28:{start:{line:49,column:0},end:{line:54,column:42}},29:{start:{line:50,column:4},end:{line:50,column:37}},30:{start:{line:51,column:4},end:{line:51,column:48}},31:{start:{line:52,column:4},end:{line:52,column:48}},32:{start:{line:53,column:4},end:{line:53,column:46}},33:{start:{line:56,column:0},end:{line:60,column:50}},34:{start:{line:57,column:4},end:{line:57,column:46}},35:{start:{line:58,column:4},end:{line:58,column:42}},36:{start:{line:59,column:4},end:{line:59,column:48}},37:{start:{line:61,column:29},end:{line:61,column:62}},38:{start:{line:62,column:28},end:{line:62,column:60}},39:{start:{line:63,column:24},end:{line:63,column:52}},40:{start:{line:64,column:25},end:{line:64,column:54}},41:{start:{line:65,column:23},end:{line:65,column:50}},42:{start:{line:66,column:23},end:{line:66,column:50}},43:{start:{line:67,column:27},end:{line:67,column:58}},44:{start:{line:68,column:19},end:{line:68,column:186}},45:{start:{line:69,column:17},end:{line:69,column:47}},46:{start:{line:69,column:60},end:{line:69,column:88}},47:{start:{line:69,column:103},end:{line:69,column:133}},48:{start:{line:69,column:149},end:{line:69,column:180}},49:{start:{line:70,column:18},end:{line:70,column:44}},50:{start:{line:71,column:17},end:{line:71,column:46}},51:{start:{line:72,column:13},end:{line:72,column:35}},52:{start:{line:73,column:11},end:{line:73,column:29}},53:{start:{line:73,column:44},end:{line:73,column:68}},54:{start:{line:73,column:81},end:{line:73,column:103}},55:{start:{line:74,column:11},end:{line:74,column:29}},56:{start:{line:74,column:43},end:{line:74,column:66}},57:{start:{line:74,column:81},end:{line:74,column:105}},58:{start:{line:74,column:120},end:{line:74,column:144}},59:{start:{line:75,column:15},end:{line:75,column:41}},60:{start:{line:75,column:52},end:{line:75,column:76}},61:{start:{line:75,column:90},end:{line:75,column:117}},62:{start:{line:76,column:37},end:{line:76,column:86}},63:{start:{line:77,column:14},end:{line:77,column:38}},64:{start:{line:78,column:22},end:{line:78,column:56}},65:{start:{line:78,column:70},end:{line:78,column:98}},66:{start:{line:79,column:36},end:{line:338,column:3}},67:{start:{line:81,column:20},end:{line:81,column:24}},68:{start:{line:82,column:8},end:{line:82,column:33}},69:{start:{line:83,column:8},end:{line:83,column:31}},70:{start:{line:84,column:8},end:{line:84,column:36}},71:{start:{line:85,column:8},end:{line:92,column:10}},72:{start:{line:86,column:12},end:{line:91,column:14}},73:{start:{line:87,column:38},end:{line:87,column:76}},74:{start:{line:88,column:16},end:{line:90,column:17}},75:{start:{line:89,column:20},end:{line:89,column:71}},76:{start:{line:93,column:8},end:{line:95,column:10}},77:{start:{line:94,column:12},end:{line:94,column:115}},78:{start:{line:96,column:8},end:{line:99,column:10}},79:{start:{line:97,column:12},end:{line:97,column:72}},80:{start:{line:98,column:12},end:{line:98,column:41}},81:{start:{line:100,column:8},end:{line:103,column:10}},82:{start:{line:101,column:28},end:{line:101,column:40}},83:{start:{line:101,column:58},end:{line:101,column:74}},84:{start:{line:101,column:86},end:{line:101,column:96}},85:{start:{line:102,column:12},end:{line:102,column:66}},86:{start:{line:104,column:8},end:{line:106,column:10}},87:{start:{line:105,column:12},end:{line:105,column:72}},88:{start:{line:107,column:8},end:{line:115,column:10}},89:{start:{line:108,column:12},end:{line:108,column:51}},90:{start:{line:110,column:12},end:{line:110,column:38}},91:{start:{line:111,column:12},end:{line:111,column:41}},92:{start:{line:112,column:12},end:{line:112,column:43}},93:{start:{line:113,column:12},end:{line:113,column:51}},94:{start:{line:114,column:12},end:{line:114,column:49}},95:{start:{line:116,column:8},end:{line:122,column:10}},96:{start:{line:117,column:25},end:{line:117,column:37}},97:{start:{line:118,column:12},end:{line:121,column:13}},98:{start:{line:120,column:20},end:{line:120,column:58}},99:{start:{line:123,column:8},end:{line:126,column:10}},100:{start:{line:124,column:12},end:{line:124,column:52}},101:{start:{line:125,column:12},end:{line:125,column:69}},102:{start:{line:127,column:8},end:{line:141,column:10}},103:{start:{line:128,column:36},end:{line:128,column:76}},104:{start:{line:129,column:25},end:{line:129,column:74}},105:{start:{line:130,column:12},end:{line:132,column:13}},106:{start:{line:131,column:16},end:{line:131,column:23}},107:{start:{line:134,column:39},end:{line:134,column:69}},108:{start:{line:135,column:37},end:{line:135,column:75}},109:{start:{line:136,column:31},end:{line:136,column:87}},110:{start:{line:137,column:25},end:{line:137,column:67}},111:{start:{line:138,column:12},end:{line:138,column:48}},112:{start:{line:139,column:12},end:{line:139,column:47}},113:{start:{line:140,column:12},end:{line:140,column:55}},114:{start:{line:144,column:8},end:{line:146,column:10}},115:{start:{line:145,column:12},end:{line:145,column:58}},116:{start:{line:147,column:8},end:{line:149,column:10}},117:{start:{line:148,column:12},end:{line:148,column:49}},118:{start:{line:150,column:8},end:{line:152,column:10}},119:{start:{line:151,column:12},end:{line:151,column:49}},120:{start:{line:153,column:8},end:{line:155,column:10}},121:{start:{line:154,column:12},end:{line:154,column:46}},122:{start:{line:156,column:8},end:{line:158,column:10}},123:{start:{line:157,column:12},end:{line:157,column:49}},124:{start:{line:159,column:8},end:{line:161,column:10}},125:{start:{line:160,column:12},end:{line:160,column:47}},126:{start:{line:162,column:8},end:{line:164,column:10}},127:{start:{line:163,column:12},end:{line:163,column:41}},128:{start:{line:165,column:8},end:{line:171,column:10}},129:{start:{line:166,column:25},end:{line:166,column:37}},130:{start:{line:167,column:12},end:{line:170,column:13}},131:{start:{line:169,column:20},end:{line:169,column:60}},132:{start:{line:172,column:8},end:{line:178,column:10}},133:{start:{line:173,column:12},end:{line:173,column:43}},134:{start:{line:174,column:12},end:{line:174,column:38}},135:{start:{line:175,column:12},end:{line:175,column:43}},136:{start:{line:176,column:12},end:{line:176,column:43}},137:{start:{line:177,column:12},end:{line:177,column:42}},138:{start:{line:179,column:8},end:{line:189,column:10}},139:{start:{line:180,column:12},end:{line:182,column:13}},140:{start:{line:181,column:16},end:{line:181,column:23}},141:{start:{line:183,column:27},end:{line:183,column:41}},142:{start:{line:184,column:25},end:{line:184,column:48}},143:{start:{line:185,column:32},end:{line:185,column:51}},144:{start:{line:186,column:25},end:{line:186,column:64}},145:{start:{line:187,column:23},end:{line:187,column:41}},146:{start:{line:188,column:12},end:{line:188,column:139}},147:{start:{line:190,column:8},end:{line:207,column:10}},148:{start:{line:191,column:12},end:{line:193,column:13}},149:{start:{line:192,column:16},end:{line:192,column:23}},150:{start:{line:194,column:12},end:{line:196,column:13}},151:{start:{line:195,column:16},end:{line:195,column:23}},152:{start:{line:197,column:12},end:{line:199,column:13}},153:{start:{line:198,column:16},end:{line:198,column:23}},154:{start:{line:200,column:25},end:{line:200,column:48}},155:{start:{line:201,column:27},end:{line:201,column:41}},156:{start:{line:202,column:27},end:{line:202,column:67}},157:{start:{line:203,column:25},end:{line:203,column:64}},158:{start:{line:204,column:23},end:{line:204,column:47}},159:{start:{line:205,column:12},end:{line:205,column:50}},160:{start:{line:206,column:12},end:{line:206,column:135}},161:{start:{line:208,column:8},end:{line:222,column:10}},162:{start:{line:209,column:12},end:{line:211,column:13}},163:{start:{line:210,column:16},end:{line:210,column:23}},164:{start:{line:212,column:27},end:{line:212,column:41}},165:{start:{line:213,column:34},end:{line:213,column:101}},166:{start:{line:214,column:12},end:{line:216,column:13}},167:{start:{line:215,column:16},end:{line:215,column:23}},168:{start:{line:217,column:25},end:{line:217,column:48}},169:{start:{line:218,column:25},end:{line:218,column:47}},170:{start:{line:219,column:27},end:{line:219,column:59}},171:{start:{line:220,column:23},end:{line:220,column:46}},172:{start:{line:221,column:12},end:{line:221,column:141}},173:{start:{line:223,column:8},end:{line:236,column:10}},174:{start:{line:224,column:12},end:{line:226,column:13}},175:{start:{line:225,column:16},end:{line:225,column:23}},176:{start:{line:227,column:34},end:{line:227,column:57}},177:{start:{line:228,column:12},end:{line:230,column:13}},178:{start:{line:229,column:16},end:{line:229,column:23}},179:{start:{line:231,column:27},end:{line:231,column:41}},180:{start:{line:232,column:25},end:{line:232,column:64}},181:{start:{line:233,column:27},end:{line:233,column:59}},182:{start:{line:234,column:23},end:{line:234,column:41}},183:{start:{line:235,column:12},end:{line:235,column:113}},184:{start:{line:240,column:8},end:{line:251,column:10}},185:{start:{line:241,column:12},end:{line:243,column:13}},186:{start:{line:242,column:16},end:{line:242,column:23}},187:{start:{line:244,column:12},end:{line:246,column:13}},188:{start:{line:245,column:16},end:{line:245,column:23}},189:{start:{line:247,column:12},end:{line:249,column:13}},190:{start:{line:248,column:16},end:{line:248,column:23}},191:{start:{line:250,column:12},end:{line:250,column:120}},192:{start:{line:252,column:8},end:{line:263,column:10}},193:{start:{line:253,column:12},end:{line:255,column:13}},194:{start:{line:254,column:16},end:{line:254,column:23}},195:{start:{line:256,column:25},end:{line:256,column:47}},196:{start:{line:257,column:27},end:{line:257,column:41}},197:{start:{line:258,column:12},end:{line:262,column:15}},198:{start:{line:264,column:8},end:{line:281,column:10}},199:{start:{line:265,column:12},end:{line:267,column:13}},200:{start:{line:266,column:16},end:{line:266,column:23}},201:{start:{line:268,column:37},end:{line:268,column:61}},202:{start:{line:269,column:12},end:{line:271,column:13}},203:{start:{line:270,column:16},end:{line:270,column:23}},204:{start:{line:272,column:27},end:{line:272,column:41}},205:{start:{line:273,column:25},end:{line:273,column:60}},206:{start:{line:274,column:23},end:{line:274,column:47}},207:{start:{line:275,column:12},end:{line:275,column:58}},208:{start:{line:276,column:12},end:{line:280,column:15}},209:{start:{line:282,column:8},end:{line:299,column:10}},210:{start:{line:283,column:12},end:{line:285,column:13}},211:{start:{line:284,column:16},end:{line:284,column:23}},212:{start:{line:286,column:27},end:{line:286,column:41}},213:{start:{line:287,column:34},end:{line:287,column:101}},214:{start:{line:288,column:12},end:{line:290,column:13}},215:{start:{line:289,column:16},end:{line:289,column:23}},216:{start:{line:291,column:12},end:{line:293,column:13}},217:{start:{line:292,column:16},end:{line:292,column:23}},218:{start:{line:294,column:12},end:{line:294,column:56}},219:{start:{line:295,column:27},end:{line:295,column:59}},220:{start:{line:296,column:25},end:{line:296,column:64}},221:{start:{line:297,column:23},end:{line:297,column:47}},222:{start:{line:298,column:12},end:{line:298,column:119}},223:{start:{line:301,column:8},end:{line:301,column:86}},224:{start:{line:302,column:8},end:{line:302,column:82}},225:{start:{line:303,column:8},end:{line:303,column:86}},226:{start:{line:304,column:8},end:{line:304,column:88}},227:{start:{line:306,column:8},end:{line:306,column:75}},228:{start:{line:308,column:8},end:{line:308,column:79}},229:{start:{line:310,column:8},end:{line:310,column:74}},230:{start:{line:311,column:8},end:{line:311,column:70}},231:{start:{line:312,column:8},end:{line:312,column:76}},232:{start:{line:314,column:8},end:{line:314,column:40}},233:{start:{line:315,column:26},end:{line:315,column:57}},234:{start:{line:316,column:8},end:{line:316,column:59}},235:{start:{line:318,column:4},end:{line:330,column:6}},236:{start:{line:319,column:24},end:{line:319,column:47}},237:{start:{line:321,column:8},end:{line:321,column:52}},238:{start:{line:323,column:8},end:{line:323,column:48}},239:{start:{line:325,column:8},end:{line:325,column:52}},240:{start:{line:327,column:8},end:{line:327,column:70}},241:{start:{line:329,column:8},end:{line:329,column:62}},242:{start:{line:331,column:4},end:{line:336,column:6}},243:{start:{line:332,column:8},end:{line:332,column:59}},244:{start:{line:332,column:34},end:{line:332,column:57}},245:{start:{line:333,column:28},end:{line:333,column:75}},246:{start:{line:334,column:8},end:{line:334,column:69}},247:{start:{line:335,column:8},end:{line:335,column:59}},248:{start:{line:337,column:4},end:{line:337,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:16,column:1},end:{line:16,column:2}},loc:{start:{line:16,column:31},end:{line:18,column:1}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:20,column:1},end:{line:20,column:2}},loc:{start:{line:20,column:29},end:{line:22,column:1}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:24,column:1},end:{line:24,column:2}},loc:{start:{line:24,column:32},end:{line:29,column:1}},line:24},5:{name:"(anonymous_5)",decl:{start:{line:31,column:1},end:{line:31,column:2}},loc:{start:{line:31,column:31},end:{line:33,column:1}},line:31},6:{name:"(anonymous_6)",decl:{start:{line:35,column:1},end:{line:35,column:2}},loc:{start:{line:35,column:27},end:{line:37,column:1}},line:35},7:{name:"(anonymous_7)",decl:{start:{line:39,column:1},end:{line:39,column:2}},loc:{start:{line:39,column:28},end:{line:41,column:1}},line:39},8:{name:"(anonymous_8)",decl:{start:{line:43,column:1},end:{line:43,column:2}},loc:{start:{line:43,column:26},end:{line:47,column:1}},line:43},9:{name:"(anonymous_9)",decl:{start:{line:49,column:1},end:{line:49,column:2}},loc:{start:{line:49,column:26},end:{line:54,column:1}},line:49},10:{name:"(anonymous_10)",decl:{start:{line:56,column:1},end:{line:56,column:2}},loc:{start:{line:56,column:30},end:{line:60,column:1}},line:56},11:{name:"(anonymous_11)",decl:{start:{line:79,column:36},end:{line:79,column:37}},loc:{start:{line:79,column:48},end:{line:338,column:1}},line:79},12:{name:"UIEventManager",decl:{start:{line:80,column:13},end:{line:80,column:27}},loc:{start:{line:80,column:47},end:{line:317,column:5}},line:80},13:{name:"(anonymous_13)",decl:{start:{line:85,column:35},end:{line:85,column:36}},loc:{start:{line:85,column:68},end:{line:92,column:9}},line:85},14:{name:"(anonymous_14)",decl:{start:{line:86,column:19},end:{line:86,column:20}},loc:{start:{line:86,column:36},end:{line:91,column:13}},line:86},15:{name:"(anonymous_15)",decl:{start:{line:93,column:36},end:{line:93,column:37}},loc:{start:{line:93,column:81},end:{line:95,column:9}},line:93},16:{name:"(anonymous_16)",decl:{start:{line:96,column:44},end:{line:96,column:45}},loc:{start:{line:96,column:56},end:{line:99,column:9}},line:96},17:{name:"(anonymous_17)",decl:{start:{line:100,column:36},end:{line:100,column:37}},loc:{start:{line:100,column:50},end:{line:103,column:9}},line:100},18:{name:"(anonymous_18)",decl:{start:{line:104,column:29},end:{line:104,column:30}},loc:{start:{line:104,column:46},end:{line:106,column:9}},line:104},19:{name:"(anonymous_19)",decl:{start:{line:107,column:33},end:{line:107,column:34}},loc:{start:{line:107,column:50},end:{line:115,column:9}},line:107},20:{name:"(anonymous_20)",decl:{start:{line:116,column:29},end:{line:116,column:30}},loc:{start:{line:116,column:46},end:{line:122,column:9}},line:116},21:{name:"(anonymous_21)",decl:{start:{line:123,column:35},end:{line:123,column:36}},loc:{start:{line:123,column:52},end:{line:126,column:9}},line:123},22:{name:"(anonymous_22)",decl:{start:{line:127,column:42},end:{line:127,column:43}},loc:{start:{line:127,column:59},end:{line:141,column:9}},line:127},23:{name:"(anonymous_23)",decl:{start:{line:144,column:37},end:{line:144,column:38}},loc:{start:{line:144,column:67},end:{line:146,column:9}},line:144},24:{name:"(anonymous_24)",decl:{start:{line:147,column:37},end:{line:147,column:38}},loc:{start:{line:147,column:58},end:{line:149,column:9}},line:147},25:{name:"(anonymous_25)",decl:{start:{line:150,column:36},end:{line:150,column:37}},loc:{start:{line:150,column:58},end:{line:152,column:9}},line:150},26:{name:"(anonymous_26)",decl:{start:{line:153,column:32},end:{line:153,column:33}},loc:{start:{line:153,column:55},end:{line:155,column:9}},line:153},27:{name:"(anonymous_27)",decl:{start:{line:156,column:36},end:{line:156,column:37}},loc:{start:{line:156,column:58},end:{line:158,column:9}},line:156},28:{name:"(anonymous_28)",decl:{start:{line:159,column:35},end:{line:159,column:36}},loc:{start:{line:159,column:56},end:{line:161,column:9}},line:159},29:{name:"(anonymous_29)",decl:{start:{line:162,column:32},end:{line:162,column:33}},loc:{start:{line:162,column:50},end:{line:164,column:9}},line:162},30:{name:"(anonymous_30)",decl:{start:{line:165,column:31},end:{line:165,column:32}},loc:{start:{line:165,column:48},end:{line:171,column:9}},line:165},31:{name:"(anonymous_31)",decl:{start:{line:172,column:31},end:{line:172,column:32}},loc:{start:{line:172,column:48},end:{line:178,column:9}},line:172},32:{name:"(anonymous_32)",decl:{start:{line:179,column:28},end:{line:179,column:29}},loc:{start:{line:179,column:45},end:{line:189,column:9}},line:179},33:{name:"(anonymous_33)",decl:{start:{line:190,column:33},end:{line:190,column:34}},loc:{start:{line:190,column:50},end:{line:207,column:9}},line:190},34:{name:"(anonymous_34)",decl:{start:{line:208,column:32},end:{line:208,column:33}},loc:{start:{line:208,column:49},end:{line:222,column:9}},line:208},35:{name:"(anonymous_35)",decl:{start:{line:223,column:28},end:{line:223,column:29}},loc:{start:{line:223,column:45},end:{line:236,column:9}},line:223},36:{name:"(anonymous_36)",decl:{start:{line:240,column:33},end:{line:240,column:34}},loc:{start:{line:240,column:50},end:{line:251,column:9}},line:240},37:{name:"(anonymous_37)",decl:{start:{line:252,column:31},end:{line:252,column:32}},loc:{start:{line:252,column:48},end:{line:263,column:9}},line:252},38:{name:"(anonymous_38)",decl:{start:{line:264,column:33},end:{line:264,column:34}},loc:{start:{line:264,column:50},end:{line:281,column:9}},line:264},39:{name:"(anonymous_39)",decl:{start:{line:282,column:33},end:{line:282,column:34}},loc:{start:{line:282,column:50},end:{line:299,column:9}},line:282},40:{name:"(anonymous_40)",decl:{start:{line:318,column:56},end:{line:318,column:57}},loc:{start:{line:318,column:68},end:{line:330,column:5}},line:318},41:{name:"(anonymous_41)",decl:{start:{line:331,column:41},end:{line:331,column:42}},loc:{start:{line:331,column:83},end:{line:336,column:5}},line:331}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:18,column:3},end:{line:18,column:50}},type:"binary-expr",locations:[{start:{line:18,column:3},end:{line:18,column:21}},{start:{line:18,column:26},end:{line:18,column:49}}],line:18},4:{loc:{start:{line:22,column:3},end:{line:22,column:46}},type:"binary-expr",locations:[{start:{line:22,column:3},end:{line:22,column:19}},{start:{line:22,column:24},end:{line:22,column:45}}],line:22},5:{loc:{start:{line:29,column:3},end:{line:29,column:52}},type:"binary-expr",locations:[{start:{line:29,column:3},end:{line:29,column:22}},{start:{line:29,column:27},end:{line:29,column:51}}],line:29},6:{loc:{start:{line:33,column:3},end:{line:33,column:50}},type:"binary-expr",locations:[{start:{line:33,column:3},end:{line:33,column:21}},{start:{line:33,column:26},end:{line:33,column:49}}],line:33},7:{loc:{start:{line:37,column:3},end:{line:37,column:42}},type:"binary-expr",locations:[{start:{line:37,column:3},end:{line:37,column:17}},{start:{line:37,column:22},end:{line:37,column:41}}],line:37},8:{loc:{start:{line:41,column:3},end:{line:41,column:44}},type:"binary-expr",locations:[{start:{line:41,column:3},end:{line:41,column:18}},{start:{line:41,column:23},end:{line:41,column:43}}],line:41},9:{loc:{start:{line:47,column:3},end:{line:47,column:40}},type:"binary-expr",locations:[{start:{line:47,column:3},end:{line:47,column:16}},{start:{line:47,column:21},end:{line:47,column:39}}],line:47},10:{loc:{start:{line:54,column:3},end:{line:54,column:40}},type:"binary-expr",locations:[{start:{line:54,column:3},end:{line:54,column:16}},{start:{line:54,column:21},end:{line:54,column:39}}],line:54},11:{loc:{start:{line:60,column:3},end:{line:60,column:48}},type:"binary-expr",locations:[{start:{line:60,column:3},end:{line:60,column:20}},{start:{line:60,column:25},end:{line:60,column:47}}],line:60},12:{loc:{start:{line:88,column:16},end:{line:90,column:17}},type:"if",locations:[{start:{line:88,column:16},end:{line:90,column:17}},{start:{line:88,column:16},end:{line:90,column:17}}],line:88},13:{loc:{start:{line:118,column:12},end:{line:121,column:13}},type:"switch",locations:[{start:{line:119,column:16},end:{line:120,column:58}}],line:118},14:{loc:{start:{line:130,column:12},end:{line:132,column:13}},type:"if",locations:[{start:{line:130,column:12},end:{line:132,column:13}},{start:{line:130,column:12},end:{line:132,column:13}}],line:130},15:{loc:{start:{line:167,column:12},end:{line:170,column:13}},type:"switch",locations:[{start:{line:168,column:16},end:{line:169,column:60}}],line:167},16:{loc:{start:{line:180,column:12},end:{line:182,column:13}},type:"if",locations:[{start:{line:180,column:12},end:{line:182,column:13}},{start:{line:180,column:12},end:{line:182,column:13}}],line:180},17:{loc:{start:{line:191,column:12},end:{line:193,column:13}},type:"if",locations:[{start:{line:191,column:12},end:{line:193,column:13}},{start:{line:191,column:12},end:{line:193,column:13}}],line:191},18:{loc:{start:{line:194,column:12},end:{line:196,column:13}},type:"if",locations:[{start:{line:194,column:12},end:{line:196,column:13}},{start:{line:194,column:12},end:{line:196,column:13}}],line:194},19:{loc:{start:{line:197,column:12},end:{line:199,column:13}},type:"if",locations:[{start:{line:197,column:12},end:{line:199,column:13}},{start:{line:197,column:12},end:{line:199,column:13}}],line:197},20:{loc:{start:{line:209,column:12},end:{line:211,column:13}},type:"if",locations:[{start:{line:209,column:12},end:{line:211,column:13}},{start:{line:209,column:12},end:{line:211,column:13}}],line:209},21:{loc:{start:{line:214,column:12},end:{line:216,column:13}},type:"if",locations:[{start:{line:214,column:12},end:{line:216,column:13}},{start:{line:214,column:12},end:{line:216,column:13}}],line:214},22:{loc:{start:{line:224,column:12},end:{line:226,column:13}},type:"if",locations:[{start:{line:224,column:12},end:{line:226,column:13}},{start:{line:224,column:12},end:{line:226,column:13}}],line:224},23:{loc:{start:{line:228,column:12},end:{line:230,column:13}},type:"if",locations:[{start:{line:228,column:12},end:{line:230,column:13}},{start:{line:228,column:12},end:{line:230,column:13}}],line:228},24:{loc:{start:{line:241,column:12},end:{line:243,column:13}},type:"if",locations:[{start:{line:241,column:12},end:{line:243,column:13}},{start:{line:241,column:12},end:{line:243,column:13}}],line:241},25:{loc:{start:{line:244,column:12},end:{line:246,column:13}},type:"if",locations:[{start:{line:244,column:12},end:{line:246,column:13}},{start:{line:244,column:12},end:{line:246,column:13}}],line:244},26:{loc:{start:{line:247,column:12},end:{line:249,column:13}},type:"if",locations:[{start:{line:247,column:12},end:{line:249,column:13}},{start:{line:247,column:12},end:{line:249,column:13}}],line:247},27:{loc:{start:{line:253,column:12},end:{line:255,column:13}},type:"if",locations:[{start:{line:253,column:12},end:{line:255,column:13}},{start:{line:253,column:12},end:{line:255,column:13}}],line:253},28:{loc:{start:{line:265,column:12},end:{line:267,column:13}},type:"if",locations:[{start:{line:265,column:12},end:{line:267,column:13}},{start:{line:265,column:12},end:{line:267,column:13}}],line:265},29:{loc:{start:{line:269,column:12},end:{line:271,column:13}},type:"if",locations:[{start:{line:269,column:12},end:{line:271,column:13}},{start:{line:269,column:12},end:{line:271,column:13}}],line:269},30:{loc:{start:{line:283,column:12},end:{line:285,column:13}},type:"if",locations:[{start:{line:283,column:12},end:{line:285,column:13}},{start:{line:283,column:12},end:{line:285,column:13}}],line:283},31:{loc:{start:{line:288,column:12},end:{line:290,column:13}},type:"if",locations:[{start:{line:288,column:12},end:{line:290,column:13}},{start:{line:288,column:12},end:{line:290,column:13}}],line:288},32:{loc:{start:{line:291,column:12},end:{line:293,column:13}},type:"if",locations:[{start:{line:291,column:12},end:{line:293,column:13}},{start:{line:291,column:12},end:{line:293,column:13}}],line:291},33:{loc:{start:{line:332,column:8},end:{line:332,column:59}},type:"if",locations:[{start:{line:332,column:8},end:{line:332,column:59}},{start:{line:332,column:8},end:{line:332,column:59}}],line:332}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0],14:[0,0],15:[0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/service/ui/UIEventManager.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/service/ui/UIEventManager.ts"],names:[],mappings:";;;;;;;;;;;AACA,OAAO,EAAE,mBAAmB,EAAE,gBAAgB,EAAE,QAAQ,EAAE,MAAM,oCAAoC,CAAC;AACrG,OAAO,iBAAiB,EAAE,EAExB,oBAAoB,EACpB,WAAW,EAIZ,MAAM,2CAA2C,CAAC;AACnD,OAAO,kBAAkB,MAAM,4CAA4C,CAAC;AAG5E,MAAM,CAAN,IAAY,kBAEX;AAFD,WAAY,kBAAkB;IAC5B,oFAA8D,CAAA;AAChE,CAAC,EAFW,kBAAkB,KAAlB,kBAAkB,QAE7B;AAED,MAAM,CAAN,IAAY,gBAEX;AAFD,WAAY,gBAAgB;IAC1B,uCAAmB,CAAA;AACrB,CAAC,EAFW,gBAAgB,KAAhB,gBAAgB,QAE3B;AAED,MAAM,CAAN,IAAY,mBAKX;AALD,WAAY,mBAAmB;IAC7B,2CAAoB,CAAA;IACpB,kDAA2B,CAAA;IAC3B,+CAAwB,CAAA;IACxB,2CAAoB,CAAA;AACtB,CAAC,EALW,mBAAmB,KAAnB,mBAAmB,QAK9B;AAED,MAAM,CAAN,IAAY,kBAEX;AAFD,WAAY,kBAAkB;IAC5B,8CAAwB,CAAA;AAC1B,CAAC,EAFW,kBAAkB,KAAlB,kBAAkB,QAE7B;AAED,MAAM,CAAN,IAAY,cAEX;AAFD,WAAY,cAAc;IACxB,uCAAqB,CAAA;AACvB,CAAC,EAFW,cAAc,KAAd,cAAc,QAEzB;AAED,MAAM,CAAN,IAAY,eAEX;AAFD,WAAY,eAAe;IACzB,oCAAiB,CAAA;AACnB,CAAC,EAFW,eAAe,KAAf,eAAe,QAE1B;AAED,MAAM,CAAN,IAAY,aAIX;AAJD,WAAY,aAAa;IACvB,uCAAsB,CAAA;IACtB,gCAAe,CAAA;IACf,2CAA0B,CAAA;AAC5B,CAAC,EAJW,aAAa,KAAb,aAAa,QAIxB;AAED,MAAM,CAAN,IAAY,aAKX;AALD,WAAY,aAAa;IACvB,gCAAe,CAAA;IACf,2CAA0B,CAAA;IAC1B,2CAA0B,CAAA;IAC1B,yCAAwB,CAAA;AAC1B,CAAC,EALW,aAAa,KAAb,aAAa,QAKxB;AAED,MAAM,CAAN,IAAY,iBAIX;AAJD,WAAY,iBAAiB;IAC3B,yCAAoB,CAAA;IACpB,qCAAgB,CAAA;IAChB,2CAAsB,CAAA;AACxB,CAAC,EAJW,iBAAiB,KAAjB,iBAAiB,QAI5B;AAMD,MAAM,CAAC,IAAM,eAAe,gBAAQ,mBAAmB,CAAE,CAAC;AAC1D,MAAM,CAAC,IAAM,cAAc,gBAAQ,kBAAkB,CAAE,CAAC;AACxD,MAAM,CAAC,IAAM,UAAU,gBAAQ,cAAc,CAAE,CAAC;AAChD,MAAM,CAAC,IAAM,WAAW,gBAAQ,eAAe,CAAE,CAAC;AAClD,MAAM,CAAC,IAAM,SAAS,gBAAQ,aAAa,CAAE,CAAC;AAC9C,MAAM,CAAC,IAAM,SAAS,gBAAQ,aAAa,CAAE,CAAC;AAC9C,MAAM,CAAC,IAAM,aAAa,gBAAQ,iBAAiB,CAAE,CAAC;AAEtD,MAAM,CAAC,IAAM,KAAK,sEACb,eAAe,GACf,cAAc,GACd,UAAU,GACV,WAAW,GACX,SAAS,GACT,SAAS,GACT,aAAa,CACjB,CAAC;AAUM,IAAA,UAAU,GAAwC,mBAAmB,WAA3D,EAAE,QAAQ,GAA8B,mBAAmB,SAAjD,EAAE,UAAU,GAAkB,mBAAmB,WAArC,EAAE,WAAW,GAAK,mBAAmB,YAAxB,CAAyB;AACtE,IAAA,WAAW,GAAK,cAAc,YAAnB,CAAoB;AAC/B,IAAA,UAAU,GAAK,kBAAkB,WAAvB,CAAwB;AAClC,IAAA,MAAM,GAAK,eAAe,OAApB,CAAqB;AAC3B,IAAA,IAAI,GAA2B,aAAa,KAAxC,EAAE,UAAU,GAAe,aAAa,WAA5B,EAAE,QAAQ,GAAK,aAAa,SAAlB,CAAmB;AAC7C,IAAA,IAAI,GAAwC,aAAa,KAArD,EAAE,SAAS,GAA6B,aAAa,UAA1C,EAAE,UAAU,GAAiB,aAAa,WAA9B,EAAE,UAAU,GAAK,aAAa,WAAlB,CAAmB;AAC1D,IAAA,QAAQ,GAAwB,iBAAiB,SAAzC,EAAE,MAAM,GAAgB,iBAAiB,OAAjC,EAAE,SAAS,GAAK,iBAAiB,UAAtB,CAAuB;AAClD,IAAA,8BAA8B,GAAK,kBAAkB,+BAAvB,CAAwB;AACtD,IAAA,OAAO,GAAK,gBAAgB,QAArB,CAAsB;AAE7B,IAAA,eAAe,GAAgB,kBAAkB,gBAAlC,EAAE,SAAS,GAAK,kBAAkB,UAAvB,CAAwB;AAE1D;IAUE,wBAAoB,QAAkB,EAAU,OAAoB;QAApE,iBAuBC;QAvBmB,aAAQ,GAAR,QAAQ,CAAU;QAAU,YAAO,GAAP,OAAO,CAAa;QAF5D,sBAAiB,GAAuB,EAAE,CAAC;QAyD3C,wBAAmB,GAAG,UAAC,SAAoB,EAAE,UAA2B;YAC9E,OAAO,UAAC,KAAY;gBAClB,IAAM,eAAe,GAAG,UAAU,CAAC,KAAK,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;gBAE9D,IAAI,eAAe,EAAE;oBACnB,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;iBACnD;YACH,CAAC,CAAC;QACJ,CAAC,CAAA;QAEO,yBAAoB,GAAG,UAC7B,SAAoB,EACpB,aAA4B,EAC5B,OAA6B;YAE7B,KAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,SAAS,WAAA,EAAE,aAAa,eAAA,EAAE,OAAO,SAAA,EAAE,CAAC,CAAC;QACrE,CAAC,CAAA;QAEO,iCAA4B,GAAG;YACrC,KAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,KAAI,CAAC,oBAAoB,CAAC,CAAC;YAC1D,KAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC9B,CAAC,CAAA;QAEO,yBAAoB,GAAG,UAAC,EAAuD;gBAArD,SAAS,eAAA,EAAE,aAAa,mBAAA,EAAE,OAAO,aAAA;YACjE,OAAO,CAAC,mBAAmB,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;QACxD,CAAC,CAAA;QAEO,kBAAa,GAAG,UAAC,KAA+B;YACtD,KAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;QAC7D,CAAC,CAAA;QAEO,sBAAiB,GAAG,UAAC,KAAgC;YAC3D,KAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;YACtC,2GAA2G;YAC3G,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YACzB,KAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAC5B,KAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAC9B,KAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;YACtC,KAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;QACtC,CAAC,CAAA;QAEO,kBAAa,GAAG,UAAC,KAAgC;YAC/C,IAAA,MAAM,GAAK,KAAK,OAAV,CAAW;YACzB,QAAQ,MAAM,EAAE;gBACd,KAAK,WAAW,CAAC,IAAI;oBACnB,OAAO,KAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;aACxC;QACH,CAAC,CAAA;QAEO,wBAAmB,GAAG,UAAC,KAAgC;YAC7D,KAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC;YACvC,KAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QAC1D,CAAC,CAAA;QAEO,+BAA0B,GAAG,UAAC,KAAgC;YACpE,IAAM,iBAAiB,GAAG,oBAAoB,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YACnE,IAAM,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,aAAa,EAAE,iBAAiB,CAAC,CAAC;YAEjE,IAAI,CAAC,MAAM,EAAE;gBACX,OAAO;aACR;YAED,iGAAiG;YACjG,IAAM,oBAAoB,GAAG,MAAM,CAAC,qBAAqB,EAAE,CAAC;YAC5D,IAAM,kBAAkB,GAAG,gBAAgB,CAAC,oBAAoB,CAAC,CAAC;YAElE,IAAM,YAAY,GAAG,mBAAmB,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;YAE7E,IAAM,MAAM,GAAa,QAAQ,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC;YAEpE,KAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;YACnC,KAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;YAClC,KAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,CAAC;QAC5C,CAAC,CAAA;QAED,wDAAwD;QACxD,kDAAkD;QAE1C,0BAAqB,GAAG,UAAC,kBAAgC;YAC/D,KAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC/C,CAAC,CAAA;QAEO,0BAAqB,GAAG,UAAC,SAAuB;YACtD,KAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC;QACtC,CAAC,CAAA;QAEO,yBAAoB,GAAG,UAAC,UAAqB;YACnD,KAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC;QACtC,CAAC,CAAA;QAEO,qBAAgB,GAAG,UAAC,WAAsB;YAChD,KAAI,CAAC,aAAa,GAAG,WAAW,CAAC;QACnC,CAAC,CAAA;QAEO,yBAAoB,GAAG,UAAC,UAAwB;YACtD,KAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC;QACtC,CAAC,CAAA;QAEO,wBAAmB,GAAG,UAAC,SAAuB;YACpD,KAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;QACpC,CAAC,CAAA;QAEO,qBAAgB,GAAG,UAAC,MAAgB;YAC1C,KAAI,CAAC,aAAa,GAAG,MAAM,CAAC;QAC9B,CAAC,CAAA;QAEO,oBAAe,GAAG,UAAC,KAAgC;YACjD,IAAA,MAAM,GAAK,KAAK,OAAV,CAAW;YACzB,QAAQ,MAAM,EAAE;gBACd,KAAK,WAAW,CAAC,IAAI;oBACnB,OAAO,KAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;aAC1C;QACH,CAAC,CAAA;QAEO,oBAAe,GAAG,UAAC,KAA+B;YACxD,KAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAC9B,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YACzB,KAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAC9B,KAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAC9B,KAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAC/B,CAAC,CAAA;QAEO,iBAAY,GAAG,UAAC,KAA+B;YACrD,IAAI,CAAC,KAAI,CAAC,gBAAgB,EAAE;gBAC1B,OAAO;aACR;YAEO,IAAA,QAAQ,GAAK,KAAK,SAAV,CAAW;YAC3B,IAAM,MAAM,GAAG,KAAI,CAAC,iBAAiB,CAAC;YACtC,IAAM,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC;YACzC,IAAM,MAAM,GAAG,eAAe,CAAC,KAAI,CAAC,gBAAgB,CAAC,CAAC;YACtD,IAAM,IAAI,GAAG,aAAa,CAAC,IAAI,CAAC;YAEhC,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,MAAM,QAAA,EAAE,QAAQ,UAAA,EAAE,MAAM,QAAA,EAAE,IAAI,MAAA,EAAE,aAAa,eAAA,EAAE,CAAC,CAAC;QACjF,CAAC,CAAA;QAEO,sBAAiB,GAAG,UAAC,KAA+B;YAC1D,IAAI,CAAC,KAAI,CAAC,gBAAgB,EAAE;gBAC1B,OAAO;aACR;YAED,IAAI,CAAC,KAAI,CAAC,iBAAiB,EAAE;gBAC3B,OAAO;aACR;YAED,IAAI,kBAAkB,CAAC,iBAAiB,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAI,CAAC,aAAa,CAAC,EAAE;gBAC5E,OAAO;aACR;YAED,IAAM,MAAM,GAAG,KAAI,CAAC,iBAAiB,CAAC;YAC9B,IAAA,QAAQ,GAAK,KAAK,SAAV,CAAW;YAC3B,IAAM,QAAQ,GAAG,eAAe,CAAC,KAAI,CAAC,iBAAiB,CAAC,CAAC;YACzD,IAAM,MAAM,GAAG,eAAe,CAAC,KAAI,CAAC,gBAAgB,CAAC,CAAC;YACtD,IAAM,IAAI,GAAG,aAAa,CAAC,UAAU,CAAC;YAEtC,KAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC;YAErC,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,QAAQ,UAAA,EAAE,MAAM,QAAA,EAAE,QAAQ,UAAA,EAAE,MAAM,QAAA,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;QAClF,CAAC,CAAA;QAEO,qBAAgB,GAAG,UAAC,KAA+B;YACzD,IAAI,CAAC,KAAI,CAAC,gBAAgB,EAAE;gBAC1B,OAAO;aACR;YAEO,IAAA,QAAQ,GAAK,KAAK,SAAV,CAAW;YAC3B,IAAM,eAAe,GAAG,kBAAkB,CAAC,iBAAiB,CAAC,QAAQ,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;YAE3F,IAAI,CAAC,eAAe,EAAE;gBACpB,OAAO;aACR;YAED,IAAM,MAAM,GAAG,KAAI,CAAC,iBAAiB,CAAC;YACtC,IAAM,MAAM,GAAG,KAAI,CAAC,gBAAgB,CAAC;YACrC,IAAM,QAAQ,GAAG,eAAe,CAAC,eAAe,CAAC,CAAC;YAClD,IAAM,IAAI,GAAG,aAAa,CAAC,SAAS,CAAC;YAErC,OAAO,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,QAAQ,UAAA,EAAE,MAAM,QAAA,EAAE,QAAQ,UAAA,EAAE,MAAM,QAAA,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;QACxF,CAAC,CAAA;QAEO,iBAAY,GAAG,UAAC,KAAgC;YACtD,IAAI,CAAC,KAAI,CAAC,gBAAgB,EAAE;gBAC1B,OAAO;aACR;YAED,IAAM,eAAe,GAAG,KAAI,CAAC,iBAAiB,CAAC;YAE/C,IAAI,CAAC,eAAe,EAAE;gBACpB,OAAO;aACR;YAEO,IAAA,QAAQ,GAAK,KAAK,SAAV,CAAW;YAC3B,IAAM,MAAM,GAAG,eAAe,CAAC,KAAI,CAAC,gBAAgB,CAAC,CAAC;YACtD,IAAM,QAAQ,GAAG,eAAe,CAAC,eAAe,CAAC,CAAC;YAClD,IAAM,IAAI,GAAG,aAAa,CAAC,IAAI,CAAC;YAEhC,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,QAAQ,UAAA,EAAE,QAAQ,UAAA,EAAE,MAAM,QAAA,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;QACpE,CAAC,CAAA;QAED,sFAAsF;QACtF,qFAAqF;QACrF,qDAAqD;QAE7C,sBAAiB,GAAG,UAAC,KAAgC;YAC3D,IAAI,CAAC,KAAI,CAAC,kBAAkB,EAAE;gBAC5B,OAAO;aACR;YAED,IAAI,KAAI,CAAC,gBAAgB,EAAE;gBACzB,OAAO;aACR;YAED,IAAI,KAAI,CAAC,kBAAkB,KAAK,KAAK,CAAC,MAAM,CAAC,cAAc,EAAE;gBAC3D,OAAO;aACR;YAED,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,wBAC3B,KAAK,KACR,IAAI,EAAE,mBAAmB,CAAC,UAAU,IACpC,CAAC;QACL,CAAC,CAAA;QAEO,oBAAe,GAAG,UAAC,KAAgC;YACzD,IAAI,CAAC,KAAI,CAAC,gBAAgB,EAAE;gBAC1B,OAAO;aACR;YAED,IAAM,MAAM,GAAG,KAAI,CAAC,gBAAgB,CAAC;YAC7B,IAAA,QAAQ,GAAK,KAAK,SAAV,CAAW;YAE3B,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE;gBAC9B,QAAQ,UAAA;gBACR,MAAM,EAAE,eAAe,CAAC,MAAM,CAAC;gBAC/B,IAAI,EAAE,aAAa,CAAC,QAAQ;aAC7B,CAAC,CAAC;QACL,CAAC,CAAA;QAEO,sBAAiB,GAAG,UAAC,KAA+B;YAC1D,IAAI,KAAI,CAAC,gBAAgB,EAAE;gBACzB,OAAO;aACR;YAED,IAAM,kBAAkB,GAAG,KAAI,CAAC,kBAAkB,CAAC;YAEnD,IAAI,CAAC,kBAAkB,EAAE;gBACvB,OAAO;aACR;YAEO,IAAA,QAAQ,GAAK,KAAK,SAAV,CAAW;YAC3B,IAAM,MAAM,GAAG,eAAe,CAAC,kBAAkB,CAAC,CAAC;YACnD,IAAM,IAAI,GAAG,aAAa,CAAC,UAAU,CAAC;YAEtC,KAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,CAAC;YAE7C,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE;gBAChC,QAAQ,UAAA;gBACR,MAAM,QAAA;gBACN,IAAI,MAAA;aACL,CAAC,CAAC;QACL,CAAC,CAAA;QAEO,sBAAiB,GAAG,UAAC,KAA+B;YAC1D,IAAI,CAAC,KAAI,CAAC,gBAAgB,EAAE;gBAC1B,OAAO;aACR;YAEO,IAAA,QAAQ,GAAK,KAAK,SAAV,CAAW;YAC3B,IAAM,eAAe,GAAG,kBAAkB,CAAC,iBAAiB,CAAC,QAAQ,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;YAE3F,IAAI,CAAC,eAAe,EAAE;gBACpB,OAAO;aACR;YAED,IAAI,KAAI,CAAC,iBAAiB,KAAK,eAAe,EAAE;gBAC9C,OAAO;aACR;YAED,KAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,CAAC;YAE3C,IAAM,QAAQ,GAAG,eAAe,CAAC,eAAe,CAAC,CAAC;YAClD,IAAM,MAAM,GAAG,eAAe,CAAC,KAAI,CAAC,gBAAgB,CAAC,CAAC;YACtD,IAAM,IAAI,GAAG,aAAa,CAAC,UAAU,CAAC;YAEtC,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,QAAQ,UAAA,EAAE,QAAQ,UAAA,EAAE,MAAM,QAAA,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;QAC1E,CAAC,CAAA;QAlVC,QAAQ;QACR,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,iBAAiB,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;QAC9E,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,iBAAiB,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;QAC1E,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,iBAAiB,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;QAC9E,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,iBAAiB,CAAC,wBAAwB,EAAE,MAAM,CAAC,CAAC;QAEhF,QAAQ;QACR,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,iBAAiB,CAAC,mBAAmB,CAAC,CAAC;QAEnE,SAAS;QACT,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,iBAAiB,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;QAEvE,WAAW;QACX,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,iBAAiB,CAAC,qBAAqB,CAAC,CAAC;QAClE,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,iBAAiB,CAAC,mBAAmB,CAAC,CAAC;QAC9D,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,iBAAiB,CAAC,sBAAsB,CAAC,CAAC;QAEpE,iCAAiC;QACjC,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAEhC,IAAM,WAAW,GAAG,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACpD,IAAI,CAAC,aAAa,GAAG,gBAAgB,CAAC,WAAW,CAAC,CAAC;IACrD,CAAC;IAEO,iDAAwB,GAAhC;QAEU,IAAA,SAAS,GAAK,IAAI,CAAC,QAAQ,UAAlB,CAAmB;QAEpC,0CAA0C;QAC1C,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAE5C,qDAAqD;QACrD,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QAExC,0CAA0C;QAC1C,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAE5C,yEAAyE;QACzE,SAAS,CAAC,8BAA8B,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QAE9D,+DAA+D;QAC/D,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,4BAA4B,CAAC,CAAC;IACxD,CAAC;IAEO,kCAAS,GAAjB,UACE,SAAoB,EACpB,UAA2B,EAC3B,OAA4C;QAA5C,wBAAA,EAAA,UAAgC,IAAI,CAAC,OAAO;QAE5C,IAAM,aAAa,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;QACtE,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,aAAa,EAAE,OAAO,CAAC,CAAC;QAC7D,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;IACrD,CAAC;IA+RH,qBAAC;AAAD,CAAC,AA9VD,IA8VC",sourcesContent:["import Observer from 'diagramMaker/service/observer/Observer';\nimport { fromContainerToPage, fromScreenToPage, subtract } from 'diagramMaker/service/positionUtils';\nimport UIEventNormalizer, {\n  EventNormalizer,\n  getRequiredAttribute,\n  MouseButton,\n  NormalizedContainerEvent,\n  NormalizedMouseClickEvent,\n  NormalizedMouseMoveEvent\n} from 'diagramMaker/service/ui/UIEventNormalizer';\nimport UITargetNormalizer from 'diagramMaker/service/ui/UITargetNormalizer';\nimport { Position } from 'diagramMaker/state/types';\n\nexport enum ContainerEventType {\n  DIAGRAM_MAKER_CONTAINER_UPDATE = 'diagramMakerContainerUpdate'\n}\n\nexport enum DestroyEventType {\n  DESTROY = 'destroy'\n}\n\nexport enum MouseClickEventType {\n  LEFT_CLICK = 'click',\n  RIGHT_CLICK = 'contextmenu',\n  MOUSE_DOWN = 'mousedown',\n  MOUSE_UP = 'mouseup'\n}\n\nexport enum MouseMoveEventType {\n  MOUSE_MOVE = 'mousemove'\n}\n\nexport enum WheelEventType {\n  MOUSE_WHEEL = 'wheel'\n}\n\nexport enum WindowEventType {\n  RESIZE = 'resize'\n}\n\nexport enum DragEventType {\n  DRAG_END = '__dragend',\n  DRAG = '__drag',\n  DRAG_START = '__dragstart'\n}\n\nexport enum DropEventType {\n  DROP = '__drop',\n  DRAG_ENTER = '__dragenter',\n  DRAG_LEAVE = '__dragleave',\n  DRAG_OVER = '__dragover'\n}\n\nexport enum KeyboardEventType {\n  KEY_DOWN = 'keydown',\n  KEY_UP = 'keyup',\n  KEY_PRESS = 'keypress'\n}\n\nexport type EventType = ContainerEventType | DestroyEventType |\n            MouseMoveEventType | MouseClickEventType | WheelEventType |\n            WindowEventType | DragEventType | KeyboardEventType | DropEventType;\n\nexport const MouseClickEvent = { ...MouseClickEventType };\nexport const MouseMoveEvent = { ...MouseMoveEventType };\nexport const WheelEvent = { ...WheelEventType };\nexport const WindowEvent = { ...WindowEventType };\nexport const DragEvent = { ...DragEventType };\nexport const DropEvent = { ...DropEventType };\nexport const KeyboardEvent = { ...KeyboardEventType };\n\nexport const Event = {\n  ...MouseClickEvent,\n  ...MouseMoveEvent,\n  ...WheelEvent,\n  ...WindowEvent,\n  ...DragEvent,\n  ...DropEvent,\n  ...KeyboardEvent\n};\n\nexport type EventListener  = (event: Event) => void;\n\nexport interface EventListenerRef {\n  eventType: EventType;\n  eventListener: EventListener;\n  context: HTMLElement | Window;\n}\n\nconst { MOUSE_DOWN, MOUSE_UP, LEFT_CLICK, RIGHT_CLICK } = MouseClickEventType;\nconst { MOUSE_WHEEL } = WheelEventType;\nconst { MOUSE_MOVE } = MouseMoveEventType;\nconst { RESIZE } = WindowEventType;\nconst { DRAG, DRAG_START, DRAG_END } = DragEventType;\nconst { DROP, DRAG_OVER, DRAG_ENTER, DRAG_LEAVE } = DropEventType;\nconst { KEY_DOWN, KEY_UP, KEY_PRESS } = KeyboardEventType;\nconst { DIAGRAM_MAKER_CONTAINER_UPDATE } = ContainerEventType;\nconst { DESTROY } = DestroyEventType;\n\nconst { normalizeTarget, getTarget } = UITargetNormalizer;\n\nexport default class UIEventManager {\n  private potentialClickable?: HTMLElement;\n  private potentialDraggable?: HTMLElement;\n  private currentDraggable?: HTMLElement;\n  private currentDropTarget?: HTMLElement;\n  private currentDragOffset?: Position;\n  private dragReference?: Position;\n  private contextOffset: Position;\n  private eventListenerRefs: EventListenerRef[] = [];\n\n  constructor(private observer: Observer, private context: HTMLElement) {\n    // Mouse\n    this.listenFor(MOUSE_DOWN, UIEventNormalizer.normalizeMouseDownEvent, window);\n    this.listenFor(MOUSE_UP, UIEventNormalizer.normalizeMouseUpEvent, window);\n    this.listenFor(MOUSE_MOVE, UIEventNormalizer.normalizeMouseMoveEvent, window);\n    this.listenFor(RIGHT_CLICK, UIEventNormalizer.normalizeRightClickEvent, window);\n\n    // Wheel\n    this.listenFor(MOUSE_WHEEL, UIEventNormalizer.normalizeWheelEvent);\n\n    // Window\n    this.listenFor(RESIZE, UIEventNormalizer.normalizeWindowEvent, window);\n\n    // Keyboard\n    this.listenFor(KEY_DOWN, UIEventNormalizer.normalizeKeyDownEvent);\n    this.listenFor(KEY_UP, UIEventNormalizer.normalizeKeyUpEvent);\n    this.listenFor(KEY_PRESS, UIEventNormalizer.normalizeKeyPressEvent);\n\n    // Synthetic drag and drop events\n    this.listenForSyntheticEvents();\n\n    const contextRect = context.getBoundingClientRect();\n    this.contextOffset = fromScreenToPage(contextRect);\n  }\n\n  private listenForSyntheticEvents(): void {\n\n    const { subscribe } = this.observer;\n\n    // Listen to MOUSE_DOWN for potential DRAG\n    subscribe(MOUSE_DOWN, this.handleMouseDown);\n\n    // Listen to MOUSE_UP for potential DRAG_END or CLICK\n    subscribe(MOUSE_UP, this.handleMouseUp);\n\n    // Listen to MOUSE_MOVE for potential DRAG\n    subscribe(MOUSE_MOVE, this.handleMouseMove);\n\n    // Listen to CONSUMER_CONTAINER_RESIZE to update cached container offsets\n    subscribe(DIAGRAM_MAKER_CONTAINER_UPDATE, this.updateContext);\n\n    // Listen to DESTROY to cleanup application/application context\n    subscribe(DESTROY, this.destroyCreatedEventListeners);\n  }\n\n  private listenFor(\n    eventType: EventType,\n    normalizer: EventNormalizer,\n    context: HTMLElement | Window = this.context\n  ): void {\n    const eventListener = this.createEventListener(eventType, normalizer);\n    this.saveEventListenerRef(eventType, eventListener, context);\n    context.addEventListener(eventType, eventListener);\n  }\n\n  private createEventListener = (eventType: EventType, normalizer: EventNormalizer): EventListener => {\n    return (event: Event): void => {\n      const normalizedEvent = normalizer(event, this.contextOffset);\n\n      if (normalizedEvent) {\n        this.observer.publish(eventType, normalizedEvent);\n      }\n    };\n  }\n\n  private saveEventListenerRef = (\n    eventType: EventType,\n    eventListener: EventListener,\n    context: HTMLElement | Window\n  ): void => {\n    this.eventListenerRefs.push({ eventType, eventListener, context });\n  }\n\n  private destroyCreatedEventListeners = (): void => {\n    this.eventListenerRefs.forEach(this.destroyEventListener);\n    this.eventListenerRefs = [];\n  }\n\n  private destroyEventListener = ({ eventType, eventListener, context }: EventListenerRef): void => {\n    context.removeEventListener(eventType, eventListener);\n  }\n\n  private updateContext = (event: NormalizedContainerEvent) => {\n    this.setContextOffset(fromScreenToPage(event.contextRect));\n  }\n\n  private handleLeftMouseUp = (event: NormalizedMouseClickEvent): void => {\n    this.setPotentialDraggable(undefined);\n    // https://stackoverflow.com/questions/38111946/is-there-a-defined-ordering-between-dragend-and-drop-events\n    this.checkForDrop(event);\n    this.checkForDragEnd(event);\n    this.checkForLeftClick(event);\n    this.setPotentialClickable(undefined);\n    this.setCurrentDraggable(undefined);\n  }\n\n  private handleMouseUp = (event: NormalizedMouseClickEvent): void => {\n    const { button } = event;\n    switch (button) {\n      case MouseButton.LEFT:\n        return this.handleLeftMouseUp(event);\n    }\n  }\n\n  private handleLeftMouseDown = (event: NormalizedMouseClickEvent): void => {\n    this.checkForPotentialDraggable(event);\n    this.setPotentialClickable(event.target.originalTarget);\n  }\n\n  private checkForPotentialDraggable = (event: NormalizedMouseClickEvent) => {\n    const requiredAttribute = getRequiredAttribute(DragEventType.DRAG);\n    const target = getTarget(event.originalEvent, requiredAttribute);\n\n    if (!target) {\n      return;\n    }\n\n    // Get the offset from the draggable target, which is not necessesarily the item that was clicked\n    const targetScreenPosition = target.getBoundingClientRect();\n    const targetPagePosition = fromScreenToPage(targetScreenPosition);\n\n    const pagePosition = fromContainerToPage(event.position, this.contextOffset);\n\n    const offset: Position = subtract(pagePosition, targetPagePosition);\n\n    this.setPotentialDraggable(target);\n    this.setCurrentDragOffset(offset);\n    this.setDragReference(targetPagePosition);\n  }\n\n  // These private setters exist solely for the purpose of\n  // being able spy on the property changes in tests\n\n  private setPotentialDraggable = (potentialDraggable?: HTMLElement) => {\n    this.potentialDraggable = potentialDraggable;\n  }\n\n  private setPotentialClickable = (clickable?: HTMLElement) => {\n    this.potentialClickable = clickable;\n  }\n\n  private setCurrentDragOffset = (dragOffset?: Position) => {\n    this.currentDragOffset = dragOffset;\n  }\n\n  private setDragReference = (refPosition?: Position) => {\n    this.dragReference = refPosition;\n  }\n\n  private setCurrentDropTarget = (dropTarget?: HTMLElement) => {\n    this.currentDropTarget = dropTarget;\n  }\n\n  private setCurrentDraggable = (draggable?: HTMLElement) => {\n    this.currentDraggable = draggable;\n  }\n\n  private setContextOffset = (offset: Position) => {\n    this.contextOffset = offset;\n  }\n\n  private handleMouseDown = (event: NormalizedMouseClickEvent): void => {\n    const { button } = event;\n    switch (button) {\n      case MouseButton.LEFT:\n        return this.handleLeftMouseDown(event);\n    }\n  }\n\n  private handleMouseMove = (event: NormalizedMouseMoveEvent): void => {\n    this.checkForDragStart(event);\n    this.checkForDrag(event);\n    this.checkForDragEnter(event);\n    this.checkForDragLeave(event);\n    this.checkForDragOver(event);\n  }\n\n  private checkForDrag = (event: NormalizedMouseMoveEvent): void => {\n    if (!this.currentDraggable) {\n      return;\n    }\n\n    const { position } = event;\n    const offset = this.currentDragOffset;\n    const dragReference = this.dragReference;\n    const target = normalizeTarget(this.currentDraggable);\n    const type = DragEventType.DRAG;\n\n    this.observer.publish(DRAG, { offset, position, target, type, dragReference });\n  }\n\n  private checkForDragLeave = (event: NormalizedMouseMoveEvent): void => {\n    if (!this.currentDraggable) {\n      return;\n    }\n\n    if (!this.currentDropTarget) {\n      return;\n    }\n\n    if (UITargetNormalizer.getDropZoneTarget(event.position, this.contextOffset)) {\n      return;\n    }\n\n    const offset = this.currentDragOffset;\n    const { position } = event;\n    const dropzone = normalizeTarget(this.currentDropTarget);\n    const target = normalizeTarget(this.currentDraggable);\n    const type = DropEventType.DRAG_LEAVE;\n\n    this.setCurrentDropTarget(undefined);\n\n    this.observer.publish(DRAG_LEAVE, { dropzone, offset, position, target, type });\n  }\n\n  private checkForDragOver = (event: NormalizedMouseMoveEvent): void => {\n    if (!this.currentDraggable) {\n      return;\n    }\n\n    const { position } = event;\n    const dropzoneElement = UITargetNormalizer.getDropZoneTarget(position, this.contextOffset);\n\n    if (!dropzoneElement) {\n      return;\n    }\n\n    const offset = this.currentDragOffset;\n    const target = this.currentDraggable;\n    const dropzone = normalizeTarget(dropzoneElement);\n    const type = DropEventType.DRAG_OVER;\n\n    return this.observer.publish(DRAG_OVER, { dropzone, offset, position, target, type });\n  }\n\n  private checkForDrop = (event: NormalizedMouseClickEvent): void => {\n    if (!this.currentDraggable) {\n      return;\n    }\n\n    const dropzoneElement = this.currentDropTarget;\n\n    if (!dropzoneElement) {\n      return;\n    }\n\n    const { position } = event;\n    const target = normalizeTarget(this.currentDraggable);\n    const dropzone = normalizeTarget(dropzoneElement);\n    const type = DropEventType.DROP;\n\n    this.observer.publish(DROP, { dropzone, position, target, type });\n  }\n\n  // Because we are creating a synthetic drag event which the browser isn't controlling,\n  // it will automatically fire the click event when a drag ends. We want to be able to\n  // make sure we weren't dragging before firing click.\n\n  private checkForLeftClick = (event: NormalizedMouseClickEvent): void => {\n    if (!this.potentialClickable) {\n      return;\n    }\n\n    if (this.currentDraggable) {\n      return;\n    }\n\n    if (this.potentialClickable !== event.target.originalTarget) {\n      return;\n    }\n\n    this.observer.publish(LEFT_CLICK, {\n      ...event,\n      type: MouseClickEventType.LEFT_CLICK\n    });\n  }\n\n  private checkForDragEnd = (event: NormalizedMouseClickEvent): void => {\n    if (!this.currentDraggable) {\n      return;\n    }\n\n    const target = this.currentDraggable;\n    const { position } = event;\n\n    this.observer.publish(DRAG_END, {\n      position,\n      target: normalizeTarget(target),\n      type: DragEventType.DRAG_END\n    });\n  }\n\n  private checkForDragStart = (event: NormalizedMouseMoveEvent): void => {\n    if (this.currentDraggable) {\n      return;\n    }\n\n    const unNormalizedTarget = this.potentialDraggable;\n\n    if (!unNormalizedTarget) {\n      return;\n    }\n\n    const { position } = event;\n    const target = normalizeTarget(unNormalizedTarget);\n    const type = DragEventType.DRAG_START;\n\n    this.setCurrentDraggable(unNormalizedTarget);\n\n    this.observer.publish(DRAG_START, {\n      position,\n      target,\n      type\n    });\n  }\n\n  private checkForDragEnter = (event: NormalizedMouseMoveEvent): void => {\n    if (!this.currentDraggable) {\n      return;\n    }\n\n    const { position } = event;\n    const dropzoneElement = UITargetNormalizer.getDropZoneTarget(position, this.contextOffset);\n\n    if (!dropzoneElement) {\n      return;\n    }\n\n    if (this.currentDropTarget === dropzoneElement) {\n      return;\n    }\n\n    this.setCurrentDropTarget(dropzoneElement);\n\n    const dropzone = normalizeTarget(dropzoneElement);\n    const target = normalizeTarget(this.currentDraggable);\n    const type = DropEventType.DRAG_ENTER;\n\n    this.observer.publish(DRAG_ENTER, { dropzone, position, target, type });\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),Qi=(Ti.s[0]++,void Ti.b[0][0]++&&(Ti.b[0][1]++,(void 0).__assign)||(Ti.b[0][2]++,function(){return Ti.f[0]++,Ti.s[1]++,Ti.b[1][0]++,Qi=Object.assign||(Ti.b[1][1]++,function(n){Ti.f[1]++,Ti.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in Ti.s[3]++,A=arguments[e],Ti.s[4]++,A)Ti.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(Ti.b[2][0]++,Ti.s[6]++,n[o]=A[o]):Ti.b[2][1]++;return Ti.s[7]++,n}),Ti.s[8]++,Qi.apply(this,arguments)}));Ti.s[9]++,function(n){Ti.f[2]++,Ti.s[10]++,n.DIAGRAM_MAKER_CONTAINER_UPDATE="diagramMakerContainerUpdate"}((Ti.b[3][0]++,bi||(Ti.b[3][1]++,bi={}))),Ti.s[11]++,function(n){Ti.f[3]++,Ti.s[12]++,n.DESTROY="destroy"}((Ti.b[4][0]++,Oi||(Ti.b[4][1]++,Oi={}))),Ti.s[13]++,function(n){Ti.f[4]++,Ti.s[14]++,n.LEFT_CLICK="click",Ti.s[15]++,n.RIGHT_CLICK="contextmenu",Ti.s[16]++,n.MOUSE_DOWN="mousedown",Ti.s[17]++,n.MOUSE_UP="mouseup"}((Ti.b[5][0]++,Gi||(Ti.b[5][1]++,Gi={}))),Ti.s[18]++,function(n){Ti.f[5]++,Ti.s[19]++,n.MOUSE_MOVE="mousemove"}((Ti.b[6][0]++,Di||(Ti.b[6][1]++,Di={}))),Ti.s[20]++,function(n){Ti.f[6]++,Ti.s[21]++,n.MOUSE_WHEEL="wheel"}((Ti.b[7][0]++,ki||(Ti.b[7][1]++,ki={}))),Ti.s[22]++,function(n){Ti.f[7]++,Ti.s[23]++,n.RESIZE="resize"}((Ti.b[8][0]++,Ki||(Ti.b[8][1]++,Ki={}))),Ti.s[24]++,function(n){Ti.f[8]++,Ti.s[25]++,n.DRAG_END="__dragend",Ti.s[26]++,n.DRAG="__drag",Ti.s[27]++,n.DRAG_START="__dragstart"}((Ti.b[9][0]++,Si||(Ti.b[9][1]++,Si={}))),Ti.s[28]++,function(n){Ti.f[9]++,Ti.s[29]++,n.DROP="__drop",Ti.s[30]++,n.DRAG_ENTER="__dragenter",Ti.s[31]++,n.DRAG_LEAVE="__dragleave",Ti.s[32]++,n.DRAG_OVER="__dragover"}((Ti.b[10][0]++,wi||(Ti.b[10][1]++,wi={}))),Ti.s[33]++,function(n){Ti.f[10]++,Ti.s[34]++,n.KEY_DOWN="keydown",Ti.s[35]++,n.KEY_UP="keyup",Ti.s[36]++,n.KEY_PRESS="keypress"}((Ti.b[11][0]++,_i||(Ti.b[11][1]++,_i={})));var Ui=(Ti.s[37]++,Qi({},Gi)),Ni=(Ti.s[38]++,Qi({},Di)),Pi=(Ti.s[39]++,Qi({},ki)),Ri=(Ti.s[40]++,Qi({},Ki)),Wi=(Ti.s[41]++,Qi({},Si)),Yi=(Ti.s[42]++,Qi({},wi)),zi=(Ti.s[43]++,Qi({},_i)),Li=(Ti.s[44]++,Qi(Qi(Qi(Qi(Qi(Qi(Qi({},Ui),Ni),Pi),Ri),Wi),Yi),zi)),ji=(Ti.s[45]++,Gi.MOUSE_DOWN),Fi=(Ti.s[46]++,Gi.MOUSE_UP),Vi=(Ti.s[47]++,Gi.LEFT_CLICK),Hi=(Ti.s[48]++,Gi.RIGHT_CLICK),qi=(Ti.s[49]++,ki.MOUSE_WHEEL),Xi=(Ti.s[50]++,Di.MOUSE_MOVE),Zi=(Ti.s[51]++,Ki.RESIZE),Ji=(Ti.s[52]++,Si.DRAG),$i=(Ti.s[53]++,Si.DRAG_START),nr=(Ti.s[54]++,Si.DRAG_END),Ar=(Ti.s[55]++,wi.DROP),er=(Ti.s[56]++,wi.DRAG_OVER),tr=(Ti.s[57]++,wi.DRAG_ENTER),or=(Ti.s[58]++,wi.DRAG_LEAVE),lr=(Ti.s[59]++,_i.KEY_DOWN),ir=(Ti.s[60]++,_i.KEY_UP),rr=(Ti.s[61]++,_i.KEY_PRESS),ar=(Ti.s[62]++,bi.DIAGRAM_MAKER_CONTAINER_UPDATE),cr=(Ti.s[63]++,Oi.DESTROY),sr=(Ti.s[64]++,yi.normalizeTarget),Cr=(Ti.s[65]++,yi.getTarget),ur=(Ti.s[66]++,function(){function n(n,A){Ti.f[12]++;var e=(Ti.s[67]++,this);Ti.s[68]++,this.observer=n,Ti.s[69]++,this.context=A,Ti.s[70]++,this.eventListenerRefs=[],Ti.s[71]++,this.createEventListener=function(n,A){return Ti.f[13]++,Ti.s[72]++,function(t){Ti.f[14]++;var o=(Ti.s[73]++,A(t,e.contextOffset));Ti.s[74]++,o?(Ti.b[12][0]++,Ti.s[75]++,e.observer.publish(n,o)):Ti.b[12][1]++}},Ti.s[76]++,this.saveEventListenerRef=function(n,A,t){Ti.f[15]++,Ti.s[77]++,e.eventListenerRefs.push({eventType:n,eventListener:A,context:t})},Ti.s[78]++,this.destroyCreatedEventListeners=function(){Ti.f[16]++,Ti.s[79]++,e.eventListenerRefs.forEach(e.destroyEventListener),Ti.s[80]++,e.eventListenerRefs=[]},Ti.s[81]++,this.destroyEventListener=function(n){Ti.f[17]++;var A=(Ti.s[82]++,n.eventType),e=(Ti.s[83]++,n.eventListener),t=(Ti.s[84]++,n.context);Ti.s[85]++,t.removeEventListener(A,e)},Ti.s[86]++,this.updateContext=function(n){Ti.f[18]++,Ti.s[87]++,e.setContextOffset(q(n.contextRect))},Ti.s[88]++,this.handleLeftMouseUp=function(n){Ti.f[19]++,Ti.s[89]++,e.setPotentialDraggable(void 0),Ti.s[90]++,e.checkForDrop(n),Ti.s[91]++,e.checkForDragEnd(n),Ti.s[92]++,e.checkForLeftClick(n),Ti.s[93]++,e.setPotentialClickable(void 0),Ti.s[94]++,e.setCurrentDraggable(void 0)},Ti.s[95]++,this.handleMouseUp=function(n){Ti.f[20]++;var A=(Ti.s[96]++,n.button);switch(Ti.s[97]++,A){case di.LEFT:return Ti.b[13][0]++,Ti.s[98]++,e.handleLeftMouseUp(n)}},Ti.s[99]++,this.handleLeftMouseDown=function(n){Ti.f[21]++,Ti.s[100]++,e.checkForPotentialDraggable(n),Ti.s[101]++,e.setPotentialClickable(n.target.originalTarget)},Ti.s[102]++,this.checkForPotentialDraggable=function(n){Ti.f[22]++;var A=(Ti.s[103]++,vi(Si.DRAG)),t=(Ti.s[104]++,Cr(n.originalEvent,A));if(Ti.s[105]++,!t)return Ti.b[14][0]++,void Ti.s[106]++;Ti.b[14][1]++;var o=(Ti.s[107]++,t.getBoundingClientRect()),l=(Ti.s[108]++,q(o)),i=(Ti.s[109]++,Z(n.position,e.contextOffset)),r=(Ti.s[110]++,H(i,l));Ti.s[111]++,e.setPotentialDraggable(t),Ti.s[112]++,e.setCurrentDragOffset(r),Ti.s[113]++,e.setDragReference(l)},Ti.s[114]++,this.setPotentialDraggable=function(n){Ti.f[23]++,Ti.s[115]++,e.potentialDraggable=n},Ti.s[116]++,this.setPotentialClickable=function(n){Ti.f[24]++,Ti.s[117]++,e.potentialClickable=n},Ti.s[118]++,this.setCurrentDragOffset=function(n){Ti.f[25]++,Ti.s[119]++,e.currentDragOffset=n},Ti.s[120]++,this.setDragReference=function(n){Ti.f[26]++,Ti.s[121]++,e.dragReference=n},Ti.s[122]++,this.setCurrentDropTarget=function(n){Ti.f[27]++,Ti.s[123]++,e.currentDropTarget=n},Ti.s[124]++,this.setCurrentDraggable=function(n){Ti.f[28]++,Ti.s[125]++,e.currentDraggable=n},Ti.s[126]++,this.setContextOffset=function(n){Ti.f[29]++,Ti.s[127]++,e.contextOffset=n},Ti.s[128]++,this.handleMouseDown=function(n){Ti.f[30]++;var A=(Ti.s[129]++,n.button);switch(Ti.s[130]++,A){case di.LEFT:return Ti.b[15][0]++,Ti.s[131]++,e.handleLeftMouseDown(n)}},Ti.s[132]++,this.handleMouseMove=function(n){Ti.f[31]++,Ti.s[133]++,e.checkForDragStart(n),Ti.s[134]++,e.checkForDrag(n),Ti.s[135]++,e.checkForDragEnter(n),Ti.s[136]++,e.checkForDragLeave(n),Ti.s[137]++,e.checkForDragOver(n)},Ti.s[138]++,this.checkForDrag=function(n){if(Ti.f[32]++,Ti.s[139]++,!e.currentDraggable)return Ti.b[16][0]++,void Ti.s[140]++;Ti.b[16][1]++;var A=(Ti.s[141]++,n.position),t=(Ti.s[142]++,e.currentDragOffset),o=(Ti.s[143]++,e.dragReference),l=(Ti.s[144]++,sr(e.currentDraggable)),i=(Ti.s[145]++,Si.DRAG);Ti.s[146]++,e.observer.publish(Ji,{offset:t,position:A,target:l,type:i,dragReference:o})},Ti.s[147]++,this.checkForDragLeave=function(n){if(Ti.f[33]++,Ti.s[148]++,!e.currentDraggable)return Ti.b[17][0]++,void Ti.s[149]++;if(Ti.b[17][1]++,Ti.s[150]++,!e.currentDropTarget)return Ti.b[18][0]++,void Ti.s[151]++;if(Ti.b[18][1]++,Ti.s[152]++,yi.getDropZoneTarget(n.position,e.contextOffset))return Ti.b[19][0]++,void Ti.s[153]++;Ti.b[19][1]++;var A=(Ti.s[154]++,e.currentDragOffset),t=(Ti.s[155]++,n.position),o=(Ti.s[156]++,sr(e.currentDropTarget)),l=(Ti.s[157]++,sr(e.currentDraggable)),i=(Ti.s[158]++,wi.DRAG_LEAVE);Ti.s[159]++,e.setCurrentDropTarget(void 0),Ti.s[160]++,e.observer.publish(or,{dropzone:o,offset:A,position:t,target:l,type:i})},Ti.s[161]++,this.checkForDragOver=function(n){if(Ti.f[34]++,Ti.s[162]++,!e.currentDraggable)return Ti.b[20][0]++,void Ti.s[163]++;Ti.b[20][1]++;var A=(Ti.s[164]++,n.position),t=(Ti.s[165]++,yi.getDropZoneTarget(A,e.contextOffset));if(Ti.s[166]++,!t)return Ti.b[21][0]++,void Ti.s[167]++;Ti.b[21][1]++;var o=(Ti.s[168]++,e.currentDragOffset),l=(Ti.s[169]++,e.currentDraggable),i=(Ti.s[170]++,sr(t)),r=(Ti.s[171]++,wi.DRAG_OVER);return Ti.s[172]++,e.observer.publish(er,{dropzone:i,offset:o,position:A,target:l,type:r})},Ti.s[173]++,this.checkForDrop=function(n){if(Ti.f[35]++,Ti.s[174]++,!e.currentDraggable)return Ti.b[22][0]++,void Ti.s[175]++;Ti.b[22][1]++;var A=(Ti.s[176]++,e.currentDropTarget);if(Ti.s[177]++,!A)return Ti.b[23][0]++,void Ti.s[178]++;Ti.b[23][1]++;var t=(Ti.s[179]++,n.position),o=(Ti.s[180]++,sr(e.currentDraggable)),l=(Ti.s[181]++,sr(A)),i=(Ti.s[182]++,wi.DROP);Ti.s[183]++,e.observer.publish(Ar,{dropzone:l,position:t,target:o,type:i})},Ti.s[184]++,this.checkForLeftClick=function(n){return Ti.f[36]++,Ti.s[185]++,e.potentialClickable?(Ti.b[24][1]++,Ti.s[187]++,e.currentDraggable?(Ti.b[25][0]++,void Ti.s[188]++):(Ti.b[25][1]++,Ti.s[189]++,e.potentialClickable!==n.target.originalTarget?(Ti.b[26][0]++,void Ti.s[190]++):(Ti.b[26][1]++,Ti.s[191]++,void e.observer.publish(Vi,Qi(Qi({},n),{type:Gi.LEFT_CLICK}))))):(Ti.b[24][0]++,void Ti.s[186]++)},Ti.s[192]++,this.checkForDragEnd=function(n){if(Ti.f[37]++,Ti.s[193]++,!e.currentDraggable)return Ti.b[27][0]++,void Ti.s[194]++;Ti.b[27][1]++;var A=(Ti.s[195]++,e.currentDraggable),t=(Ti.s[196]++,n.position);Ti.s[197]++,e.observer.publish(nr,{position:t,target:sr(A),type:Si.DRAG_END})},Ti.s[198]++,this.checkForDragStart=function(n){if(Ti.f[38]++,Ti.s[199]++,e.currentDraggable)return Ti.b[28][0]++,void Ti.s[200]++;Ti.b[28][1]++;var A=(Ti.s[201]++,e.potentialDraggable);if(Ti.s[202]++,!A)return Ti.b[29][0]++,void Ti.s[203]++;Ti.b[29][1]++;var t=(Ti.s[204]++,n.position),o=(Ti.s[205]++,sr(A)),l=(Ti.s[206]++,Si.DRAG_START);Ti.s[207]++,e.setCurrentDraggable(A),Ti.s[208]++,e.observer.publish($i,{position:t,target:o,type:l})},Ti.s[209]++,this.checkForDragEnter=function(n){if(Ti.f[39]++,Ti.s[210]++,!e.currentDraggable)return Ti.b[30][0]++,void Ti.s[211]++;Ti.b[30][1]++;var A=(Ti.s[212]++,n.position),t=(Ti.s[213]++,yi.getDropZoneTarget(A,e.contextOffset));if(Ti.s[214]++,!t)return Ti.b[31][0]++,void Ti.s[215]++;if(Ti.b[31][1]++,Ti.s[216]++,e.currentDropTarget===t)return Ti.b[32][0]++,void Ti.s[217]++;Ti.b[32][1]++,Ti.s[218]++,e.setCurrentDropTarget(t);var o=(Ti.s[219]++,sr(t)),l=(Ti.s[220]++,sr(e.currentDraggable)),i=(Ti.s[221]++,wi.DRAG_ENTER);Ti.s[222]++,e.observer.publish(tr,{dropzone:o,position:A,target:l,type:i})},Ti.s[223]++,this.listenFor(ji,xi.normalizeMouseDownEvent,window),Ti.s[224]++,this.listenFor(Fi,xi.normalizeMouseUpEvent,window),Ti.s[225]++,this.listenFor(Xi,xi.normalizeMouseMoveEvent,window),Ti.s[226]++,this.listenFor(Hi,xi.normalizeRightClickEvent,window),Ti.s[227]++,this.listenFor(qi,xi.normalizeWheelEvent),Ti.s[228]++,this.listenFor(Zi,xi.normalizeWindowEvent,window),Ti.s[229]++,this.listenFor(lr,xi.normalizeKeyDownEvent),Ti.s[230]++,this.listenFor(ir,xi.normalizeKeyUpEvent),Ti.s[231]++,this.listenFor(rr,xi.normalizeKeyPressEvent),Ti.s[232]++,this.listenForSyntheticEvents();var t=(Ti.s[233]++,A.getBoundingClientRect());Ti.s[234]++,this.contextOffset=q(t)}return Ti.f[11]++,Ti.s[235]++,n.prototype.listenForSyntheticEvents=function(){Ti.f[40]++;var n=(Ti.s[236]++,this.observer.subscribe);Ti.s[237]++,n(ji,this.handleMouseDown),Ti.s[238]++,n(Fi,this.handleMouseUp),Ti.s[239]++,n(Xi,this.handleMouseMove),Ti.s[240]++,n(ar,this.updateContext),Ti.s[241]++,n(cr,this.destroyCreatedEventListeners)},Ti.s[242]++,n.prototype.listenFor=function(n,A,e){Ti.f[41]++,Ti.s[243]++,void 0===e?(Ti.b[33][0]++,Ti.s[244]++,e=this.context):Ti.b[33][1]++;var t=(Ti.s[245]++,this.createEventListener(n,A));Ti.s[246]++,this.saveEventListenerRef(n,t,e),Ti.s[247]++,e.addEventListener(n,t)},Ti.s[248]++,n}()),mr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),dr=new Uint8Array(16);function Er(){if(!mr)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mr(dr)}var pr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var fr=function(n){return"string"==typeof n&&pr.test(n)},gr=[],hr=0;hr<256;++hr)gr.push((hr+256).toString(16).substr(1));var Ir=function(n){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(gr[n[A+0]]+gr[n[A+1]]+gr[n[A+2]]+gr[n[A+3]]+"-"+gr[n[A+4]]+gr[n[A+5]]+"-"+gr[n[A+6]]+gr[n[A+7]]+"-"+gr[n[A+8]]+gr[n[A+9]]+"-"+gr[n[A+10]]+gr[n[A+11]]+gr[n[A+12]]+gr[n[A+13]]+gr[n[A+14]]+gr[n[A+15]]).toLowerCase();if(!fr(e))throw TypeError("Stringified UUID is invalid");return e};var yr,Br=function(n,A,e){var t=(n=n||{}).random||(n.rng||Er)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,A){e=e||0;for(var o=0;o<16;++o)A[e+o]=t[o];return A}return Ir(t)},Mr=function(){var n="/Volumes/workplace/diagram-maker/src/state/edge/edgeActions.ts",A="45ef7d37eebd73df5b3b3f85a42491a9eb9a701b",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/edge/edgeActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:26,column:46}},10:{start:{line:15,column:4},end:{line:15,column:51}},11:{start:{line:17,column:4},end:{line:17,column:51}},12:{start:{line:19,column:4},end:{line:19,column:51}},13:{start:{line:21,column:4},end:{line:21,column:59}},14:{start:{line:23,column:4},end:{line:23,column:55}},15:{start:{line:25,column:4},end:{line:25,column:47}},16:{start:{line:27,column:25},end:{line:27,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:28},end:{line:26,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:26,column:3},end:{line:26,column:44}},type:"binary-expr",locations:[{start:{line:26,column:3},end:{line:26,column:18}},{start:{line:26,column:23},end:{line:26,column:43}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/edge/edgeActions.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/edge/edgeActions.ts"],names:[],mappings:";;;;;;;;;;;AAIA,MAAM,CAAN,IAAY,eAaX;AAbD,WAAY,eAAe;IACzB,oBAAoB;IACpB,8CAA2B,CAAA;IAC3B,oBAAoB;IACpB,8CAA2B,CAAA;IAC3B,qBAAqB;IACrB,8CAA2B,CAAA;IAC3B,gCAAgC;IAChC,sDAAmC,CAAA;IACnC,0BAA0B;IAC1B,kDAA+B,CAAA;IAC/B,8BAA8B;IAC9B,0CAAuB,CAAA;AACzB,CAAC,EAbW,eAAe,KAAf,eAAe,QAa1B;AAED,MAAM,CAAC,IAAM,WAAW,gBACnB,eAAe,CACnB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nimport { Position } from 'diagramMaker/state/types';\n\nexport enum EdgeActionsType {\n  /** Edge creation */\n  EDGE_CREATE = 'EDGE_CREATE',\n  /** Edge deletion */\n  EDGE_DELETE = 'EDGE_DELETE',\n  /** Edge selection */\n  EDGE_SELECT = 'EDGE_SELECT',\n  /** Potential Edge drag start */\n  EDGE_DRAG_START = 'EDGE_DRAG_START',\n  /** Potential Edge drag */\n  EDGE_DRAG_END = 'EDGE_DRAG_END',\n  /** Potential Edge drag end */\n  EDGE_DRAG = 'EDGE_DRAG'\n}\n\nexport const EdgeActions = {\n  ...EdgeActionsType\n};\n\n/** Action fired to select an edge */\nexport interface SelectEdgeAction extends Action {\n  type: EdgeActionsType.EDGE_SELECT;\n  payload: {\n    /** ID of the edge that needs to be selected */\n    id: string;\n  };\n}\n\n/** Action fired to delete an edge */\nexport interface DeleteEdgeAction extends Action {\n  type: EdgeActionsType.EDGE_DELETE;\n  payload: {\n    /** ID of the edge that needs to be deleted */\n    id: string;\n  };\n}\n\n/** Action fired to create an edge */\nexport interface CreateEdgeAction<EdgeType> extends Action {\n  type: EdgeActionsType.EDGE_CREATE;\n  payload: {\n    /** ID of the new edge that needs to be created. Needs to be unique. */\n    id: string;\n    /** ID of the node from where this edge originates */\n    src: string;\n    /** ID of the node where this edge terminates */\n    dest: string;\n    /** Consumer data that needs to be added for this newly created edge. */\n    consumerData?: EdgeType;\n  };\n}\n\n/** Action fired to start dragging a potential edge */\nexport interface DragStartEdgeAction extends Action {\n  type: EdgeActionsType.EDGE_DRAG_START;\n  payload: {\n    /** ID of the node from where this potential edge originates */\n    id: string;\n    /** Position where this potential edge terminates. Usually the cursor position. */\n    position: Position;\n  };\n}\n\n/** Action fired to end dragging a potential edge */\nexport interface DragEndEdgeAction extends Action {\n  type: EdgeActionsType.EDGE_DRAG_END;\n}\n\n/** Action fired to update the termination position for a potential edge */\nexport interface DragEdgeAction extends Action {\n  type: EdgeActionsType.EDGE_DRAG;\n  payload: {\n    /** Updated position where this potential edge should terminate. Usually the cursor position. */\n    position: Position;\n  };\n}\n\nexport type EdgeAction<EdgeType> = CreateEdgeAction<EdgeType> | SelectEdgeAction | DeleteEdgeAction |\n  DragStartEdgeAction | DragEndEdgeAction | DragEdgeAction ;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),vr=(Mr.s[0]++,void Mr.b[0][0]++&&(Mr.b[0][1]++,(void 0).__assign)||(Mr.b[0][2]++,function(){return Mr.f[0]++,Mr.s[1]++,Mr.b[1][0]++,vr=Object.assign||(Mr.b[1][1]++,function(n){Mr.f[1]++,Mr.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in Mr.s[3]++,A=arguments[e],Mr.s[4]++,A)Mr.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(Mr.b[2][0]++,Mr.s[6]++,n[o]=A[o]):Mr.b[2][1]++;return Mr.s[7]++,n}),Mr.s[8]++,vr.apply(this,arguments)}));Mr.s[9]++,function(n){Mr.f[2]++,Mr.s[10]++,n.EDGE_CREATE="EDGE_CREATE",Mr.s[11]++,n.EDGE_DELETE="EDGE_DELETE",Mr.s[12]++,n.EDGE_SELECT="EDGE_SELECT",Mr.s[13]++,n.EDGE_DRAG_START="EDGE_DRAG_START",Mr.s[14]++,n.EDGE_DRAG_END="EDGE_DRAG_END",Mr.s[15]++,n.EDGE_DRAG="EDGE_DRAG"}((Mr.b[3][0]++,yr||(Mr.b[3][1]++,yr={})));var br=(Mr.s[16]++,vr({},yr)),Or=function(){var n="/Volumes/workplace/diagram-maker/src/state/edge/edgeActionDispatcher.ts",A="6cdbf25ae109dff62f497fab445d788cd97dd823",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/edge/edgeActionDispatcher.ts",statementMap:{0:{start:{line:4,column:4},end:{line:7,column:6}},1:{start:{line:10,column:4},end:{line:12,column:6}},2:{start:{line:15,column:4},end:{line:18,column:6}},3:{start:{line:21,column:4},end:{line:24,column:6}},4:{start:{line:27,column:4},end:{line:30,column:6}},5:{start:{line:33,column:4},end:{line:35,column:5}},6:{start:{line:34,column:8},end:{line:34,column:64}},7:{start:{line:38,column:4},end:{line:40,column:5}},8:{start:{line:39,column:8},end:{line:39,column:50}},9:{start:{line:43,column:4},end:{line:43,column:51}},10:{start:{line:46,column:4},end:{line:54,column:5}},11:{start:{line:47,column:22},end:{line:47,column:38}},12:{start:{line:48,column:22},end:{line:48,column:48}},13:{start:{line:49,column:24},end:{line:49,column:142}},14:{start:{line:49,column:59},end:{line:49,column:139}},15:{start:{line:50,column:8},end:{line:53,column:9}},16:{start:{line:51,column:21},end:{line:51,column:40}},17:{start:{line:52,column:12},end:{line:52,column:63}},18:{start:{line:57,column:4},end:{line:59,column:5}},19:{start:{line:58,column:8},end:{line:58,column:51}}},fnMap:{0:{name:"createDragStartEdgeAction",decl:{start:{line:3,column:9},end:{line:3,column:34}},loc:{start:{line:3,column:49},end:{line:8,column:1}},line:3},1:{name:"createDragEndEdgeAction",decl:{start:{line:9,column:9},end:{line:9,column:32}},loc:{start:{line:9,column:35},end:{line:13,column:1}},line:9},2:{name:"createDragEdgeAction",decl:{start:{line:14,column:9},end:{line:14,column:29}},loc:{start:{line:14,column:40},end:{line:19,column:1}},line:14},3:{name:"createNewEdgeAction",decl:{start:{line:20,column:9},end:{line:20,column:28}},loc:{start:{line:20,column:44},end:{line:25,column:1}},line:20},4:{name:"createSelectEdgeAction",decl:{start:{line:26,column:9},end:{line:26,column:31}},loc:{start:{line:26,column:36},end:{line:31,column:1}},line:26},5:{name:"handleEdgeDragStart",decl:{start:{line:32,column:16},end:{line:32,column:35}},loc:{start:{line:32,column:57},end:{line:36,column:1}},line:32},6:{name:"handleEdgeDragEnd",decl:{start:{line:37,column:16},end:{line:37,column:33}},loc:{start:{line:37,column:45},end:{line:41,column:1}},line:37},7:{name:"handleEdgeDrag",decl:{start:{line:42,column:16},end:{line:42,column:30}},loc:{start:{line:42,column:48},end:{line:44,column:1}},line:42},8:{name:"handleEdgeCreate",decl:{start:{line:45,column:16},end:{line:45,column:32}},loc:{start:{line:45,column:51},end:{line:55,column:1}},line:45},9:{name:"(anonymous_9)",decl:{start:{line:49,column:39},end:{line:49,column:40}},loc:{start:{line:49,column:57},end:{line:49,column:141}},line:49},10:{name:"handleEdgeClick",decl:{start:{line:56,column:16},end:{line:56,column:31}},loc:{start:{line:56,column:43},end:{line:60,column:1}},line:56}},branchMap:{0:{loc:{start:{line:33,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:35,column:5}},{start:{line:33,column:4},end:{line:35,column:5}}],line:33},1:{loc:{start:{line:38,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:40,column:5}},{start:{line:38,column:4},end:{line:40,column:5}}],line:38},2:{loc:{start:{line:46,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:54,column:5}},{start:{line:46,column:4},end:{line:54,column:5}}],line:46},3:{loc:{start:{line:46,column:8},end:{line:46,column:19}},type:"binary-expr",locations:[{start:{line:46,column:8},end:{line:46,column:11}},{start:{line:46,column:15},end:{line:46,column:19}}],line:46},4:{loc:{start:{line:49,column:66},end:{line:49,column:138}},type:"binary-expr",locations:[{start:{line:49,column:66},end:{line:49,column:99}},{start:{line:49,column:103},end:{line:49,column:138}}],line:49},5:{loc:{start:{line:50,column:8},end:{line:53,column:9}},type:"if",locations:[{start:{line:50,column:8},end:{line:53,column:9}},{start:{line:50,column:8},end:{line:53,column:9}}],line:50},6:{loc:{start:{line:50,column:12},end:{line:50,column:83}},type:"binary-expr",locations:[{start:{line:50,column:12},end:{line:50,column:32}},{start:{line:50,column:36},end:{line:50,column:57}},{start:{line:50,column:61},end:{line:50,column:83}}],line:50},7:{loc:{start:{line:57,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:57,column:4},end:{line:59,column:5}},{start:{line:57,column:4},end:{line:59,column:5}}],line:57}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/edge/edgeActionDispatcher.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/edge/edgeActionDispatcher.ts"],names:[],mappings:"AACA,OAAO,EAAE,EAAE,IAAI,IAAI,EAAE,MAAM,MAAM,CAAC;AAIlC,OAAO,EACqE,eAAe,EAC1F,MAAM,eAAe,CAAC;AAEvB,SAAS,yBAAyB,CAAC,EAAU,EAAE,QAAkB;IAC/D,OAAO;QACL,IAAI,EAAE,eAAe,CAAC,eAAe;QACrC,OAAO,EAAE,EAAE,EAAE,IAAA,EAAE,QAAQ,UAAA,EAAE;KAC1B,CAAC;AACJ,CAAC;AAED,SAAS,uBAAuB;IAC9B,OAAO;QACL,IAAI,EAAE,eAAe,CAAC,aAAa;KACpC,CAAC;AACJ,CAAC;AAED,SAAS,oBAAoB,CAAC,QAAkB;IAC9C,OAAO;QACL,IAAI,EAAE,eAAe,CAAC,SAAS;QAC/B,OAAO,EAAE,EAAE,QAAQ,UAAA,EAAE;KACtB,CAAC;AACJ,CAAC;AAED,SAAS,mBAAmB,CAAW,EAAU,EAAE,GAAW,EAAE,IAAY;IAC1E,OAAO;QACL,IAAI,EAAE,eAAe,CAAC,WAAW;QACjC,OAAO,EAAE,EAAE,EAAE,IAAA,EAAE,GAAG,KAAA,EAAE,IAAI,MAAA,EAAE;KAC3B,CAAC;AACJ,CAAC;AAED,SAAS,sBAAsB,CAAC,EAAU;IACxC,OAAO;QACL,IAAI,EAAE,eAAe,CAAC,WAAW;QACjC,OAAO,EAAE,EAAE,EAAE,IAAA,EAAE;KAChB,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,mBAAmB,CACjC,KAAkD,EAClD,EAAsB,EACtB,QAAkB;IAElB,IAAI,EAAE,EAAE;QACN,KAAK,CAAC,QAAQ,CAAC,yBAAyB,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC,CAAC;KACzD;AACH,CAAC;AAED,MAAM,UAAU,iBAAiB,CAC/B,KAAkD,EAClD,EAAsB;IAEtB,IAAI,EAAE,EAAE;QACN,KAAK,CAAC,QAAQ,CAAC,uBAAuB,EAAE,CAAC,CAAC;KAC3C;AACH,CAAC;AAED,MAAM,UAAU,cAAc,CAC5B,KAAkD,EAClD,QAAkB;IAElB,KAAK,CAAC,QAAQ,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC;AACjD,CAAC;AAED,MAAM,UAAU,gBAAgB,CAC9B,KAAkD,EAClD,GAAuB,EACvB,IAAwB;IAExB,IAAI,GAAG,IAAI,IAAI,EAAE;QACf,IAAM,OAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC/B,IAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,OAAK,CAAC,KAAK,CAAC,CAAC;QACzC,IAAM,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC,UAAA,MAAM,IAAI,OAAA,OAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,GAAG,IAAI,OAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,EAApE,CAAoE,CAAC,CAAC;QACjH,IAAI,CAAC,CAAC,OAAK,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,OAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;YACvE,IAAM,EAAE,GAAG,aAAW,IAAI,EAAI,CAAC;YAC/B,KAAK,CAAC,QAAQ,CAAC,mBAAmB,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;SACpD;KACF;AACH,CAAC;AAED,MAAM,UAAU,eAAe,CAC7B,KAAkD,EAClD,EAAsB;IAEtB,IAAI,EAAE,EAAE;QACN,KAAK,CAAC,QAAQ,CAAC,sBAAsB,CAAC,EAAE,CAAC,CAAC,CAAC;KAC5C;AACH,CAAC",sourcesContent:["import { Store } from 'redux';\nimport { v4 as uuid } from 'uuid';\n\nimport { DiagramMakerData, Position } from 'diagramMaker/state/types';\n\nimport {\n  CreateEdgeAction, DragEdgeAction, DragEndEdgeAction, DragStartEdgeAction, EdgeActionsType, SelectEdgeAction\n} from './edgeActions';\n\nfunction createDragStartEdgeAction(id: string, position: Position): DragStartEdgeAction {\n  return {\n    type: EdgeActionsType.EDGE_DRAG_START,\n    payload: { id, position }\n  };\n}\n\nfunction createDragEndEdgeAction(): DragEndEdgeAction {\n  return {\n    type: EdgeActionsType.EDGE_DRAG_END\n  };\n}\n\nfunction createDragEdgeAction(position: Position): DragEdgeAction {\n  return {\n    type: EdgeActionsType.EDGE_DRAG,\n    payload: { position }\n  };\n}\n\nfunction createNewEdgeAction<EdgeType>(id: string, src: string, dest: string): CreateEdgeAction<EdgeType> {\n  return {\n    type: EdgeActionsType.EDGE_CREATE,\n    payload: { id, src, dest }\n  };\n}\n\nfunction createSelectEdgeAction(id: string): SelectEdgeAction {\n  return {\n    type: EdgeActionsType.EDGE_SELECT,\n    payload: { id }\n  };\n}\n\nexport function handleEdgeDragStart<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined,\n  position: Position\n) {\n  if (id) {\n    store.dispatch(createDragStartEdgeAction(id, position));\n  }\n}\n\nexport function handleEdgeDragEnd<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined\n) {\n  if (id) {\n    store.dispatch(createDragEndEdgeAction());\n  }\n}\n\nexport function handleEdgeDrag<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  position: Position\n) {\n  store.dispatch(createDragEdgeAction(position));\n}\n\nexport function handleEdgeCreate<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  src: string | undefined,\n  dest: string | undefined\n) {\n  if (src && dest) {\n    const state = store.getState();\n    const edgeIds = Object.keys(state.edges);\n    const duplicate = edgeIds.filter(edgeId => state.edges[edgeId].src === src && state.edges[edgeId].dest === dest);\n    if (!!state.nodes[src] && !!state.nodes[dest] && duplicate.length === 0) {\n      const id = `dm-edge-${uuid()}`;\n      store.dispatch(createNewEdgeAction(id, src, dest));\n    }\n  }\n}\n\nexport function handleEdgeClick<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined\n) {\n  if (id) {\n    store.dispatch(createSelectEdgeAction(id));\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function Gr(n,A,e){Or.f[5]++,Or.s[5]++,A?(Or.b[0][0]++,Or.s[6]++,n.dispatch(function(n,A){return Or.f[0]++,Or.s[0]++,{type:yr.EDGE_DRAG_START,payload:{id:n,position:A}}}(A,e))):Or.b[0][1]++}function Dr(n,A){Or.f[6]++,Or.s[7]++,A?(Or.b[1][0]++,Or.s[8]++,n.dispatch((Or.f[1]++,Or.s[1]++,{type:yr.EDGE_DRAG_END}))):Or.b[1][1]++}function kr(n,A){Or.f[7]++,Or.s[9]++,n.dispatch(function(n){return Or.f[2]++,Or.s[2]++,{type:yr.EDGE_DRAG,payload:{position:n}}}(A))}function Kr(n,A,e){if(Or.f[8]++,Or.s[10]++,Or.b[3][0]++,A&&(Or.b[3][1]++,e)){Or.b[2][0]++;var t=(Or.s[11]++,n.getState()),o=(Or.s[12]++,Object.keys(t.edges)),l=(Or.s[13]++,o.filter((function(n){return Or.f[9]++,Or.s[14]++,Or.b[4][0]++,t.edges[n].src===A&&(Or.b[4][1]++,t.edges[n].dest===e)})));if(Or.s[15]++,Or.b[6][0]++,t.nodes[A]&&(Or.b[6][1]++,t.nodes[e])&&(Or.b[6][2]++,0===l.length)){Or.b[5][0]++;var i=(Or.s[16]++,"dm-edge-"+Br());Or.s[17]++,n.dispatch(function(n,A,e){return Or.f[3]++,Or.s[3]++,{type:yr.EDGE_CREATE,payload:{id:n,src:A,dest:e}}}(i,A,e))}else Or.b[5][1]++}else Or.b[2][1]++}function Sr(n,A){Or.f[10]++,Or.s[18]++,A?(Or.b[7][0]++,Or.s[19]++,n.dispatch(function(n){return Or.f[4]++,Or.s[4]++,{type:yr.EDGE_SELECT,payload:{id:n}}}(A))):Or.b[7][1]++}var wr,_r=function(){var n="/Volumes/workplace/diagram-maker/src/state/global/globalActions.ts",A="89bc58098f299b0a75df0d635ee8b591cc17a82d",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/global/globalActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:18,column:50}},10:{start:{line:15,column:4},end:{line:15,column:55}},11:{start:{line:17,column:4},end:{line:17,column:55}},12:{start:{line:19,column:27},end:{line:19,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:30},end:{line:18,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:18,column:3},end:{line:18,column:48}},type:"binary-expr",locations:[{start:{line:18,column:3},end:{line:18,column:20}},{start:{line:18,column:25},end:{line:18,column:47}}],line:18}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/global/globalActions.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/global/globalActions.ts"],names:[],mappings:";;;;;;;;;;;AAIA,MAAM,CAAN,IAAY,iBAKX;AALD,WAAY,iBAAiB;IAC3B,2DAA2D;IAC3D,kDAA6B,CAAA;IAC7B,2DAA2D;IAC3D,kDAA6B,CAAA;AAC/B,CAAC,EALW,iBAAiB,KAAjB,iBAAiB,QAK5B;AAED,MAAM,CAAC,IAAM,aAAa,gBACrB,iBAAiB,CACrB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nimport { DiagramMakerEdge, DiagramMakerNode } from 'diagramMaker/state/types';\n\nexport enum GlobalActionsType {\n  /** Delete several items including nodes, edges together */\n  DELETE_ITEMS = 'DELETE_ITEMS',\n  /** Create several items including nodes, edges together */\n  CREATE_ITEMS = 'CREATE_ITEMS'\n}\n\nexport const GlobalActions = {\n  ...GlobalActionsType\n};\n\n/** Action fired to delete items */\nexport interface DeleteItemsAction extends Action {\n  type: GlobalActionsType.DELETE_ITEMS;\n  payload: {\n    /** IDs of nodes to delete */\n    nodeIds: string[];\n    /** IDs of edges to delete */\n    edgeIds: string[];\n  };\n}\n\n/** Action fired to create items */\nexport interface CreateItemsAction<NodeType, EdgeType> extends Action {\n  type: GlobalActionsType.CREATE_ITEMS;\n  payload: {\n    /** Node objects with all node info to create */\n    nodes: DiagramMakerNode<NodeType>[];\n    /** Edge objects with all edge info to create */\n    edges: DiagramMakerEdge<EdgeType>[];\n  };\n}\n\nexport type GlobalAction<NodeType, EdgeType> = DeleteItemsAction | CreateItemsAction<NodeType, EdgeType>;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),xr=(_r.s[0]++,void _r.b[0][0]++&&(_r.b[0][1]++,(void 0).__assign)||(_r.b[0][2]++,function(){return _r.f[0]++,_r.s[1]++,_r.b[1][0]++,xr=Object.assign||(_r.b[1][1]++,function(n){_r.f[1]++,_r.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in _r.s[3]++,A=arguments[e],_r.s[4]++,A)_r.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(_r.b[2][0]++,_r.s[6]++,n[o]=A[o]):_r.b[2][1]++;return _r.s[7]++,n}),_r.s[8]++,xr.apply(this,arguments)}));_r.s[9]++,function(n){_r.f[2]++,_r.s[10]++,n.DELETE_ITEMS="DELETE_ITEMS",_r.s[11]++,n.CREATE_ITEMS="CREATE_ITEMS"}((_r.b[3][0]++,wr||(_r.b[3][1]++,wr={})));var Tr=(_r.s[12]++,xr({},wr)),Qr=function(){var n="/Volumes/workplace/diagram-maker/src/state/global/globalActionDispatcher.ts",A="6da4db1bd941d1d79149fb6c9d51770489022397",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/global/globalActionDispatcher.ts",statementMap:{0:{start:{line:3,column:4},end:{line:9,column:6}},1:{start:{line:12,column:4},end:{line:18,column:6}},2:{start:{line:21,column:13},end:{line:21,column:29}},3:{start:{line:21,column:39},end:{line:21,column:47}},4:{start:{line:21,column:57},end:{line:21,column:65}},5:{start:{line:22,column:18},end:{line:22,column:106}},6:{start:{line:22,column:60},end:{line:22,column:103}},7:{start:{line:23,column:18},end:{line:29,column:6}},8:{start:{line:24,column:19},end:{line:24,column:28}},9:{start:{line:25,column:18},end:{line:25,column:26}},10:{start:{line:25,column:35},end:{line:25,column:44}},11:{start:{line:26,column:8},end:{line:28,column:42}},12:{start:{line:30,column:17},end:{line:30,column:58}},13:{start:{line:31,column:4},end:{line:31,column:27}}},fnMap:{0:{name:"createDeleteItemsAction",decl:{start:{line:2,column:16},end:{line:2,column:39}},loc:{start:{line:2,column:58},end:{line:10,column:1}},line:2},1:{name:"createNewItemsAction",decl:{start:{line:11,column:16},end:{line:11,column:36}},loc:{start:{line:11,column:51},end:{line:19,column:1}},line:11},2:{name:"handleDeleteSelectedItems",decl:{start:{line:20,column:16},end:{line:20,column:41}},loc:{start:{line:20,column:49},end:{line:32,column:1}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:22,column:44},end:{line:22,column:45}},loc:{start:{line:22,column:58},end:{line:22,column:105}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:23,column:44},end:{line:23,column:45}},loc:{start:{line:23,column:58},end:{line:29,column:5}},line:23}},branchMap:{0:{loc:{start:{line:26,column:15},end:{line:28,column:41}},type:"binary-expr",locations:[{start:{line:26,column:15},end:{line:26,column:45}},{start:{line:27,column:15},end:{line:27,column:40}},{start:{line:28,column:15},end:{line:28,column:41}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/global/globalActionDispatcher.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/global/globalActionDispatcher.ts"],names:[],mappings:"AAIA,OAAO,EAAwC,iBAAiB,EAAE,MAAM,iBAAiB,CAAC;AAE1F,MAAM,UAAU,uBAAuB,CACrC,OAAiB,EACjB,OAAiB;IAEjB,OAAO;QACL,IAAI,EAAE,iBAAiB,CAAC,YAAY;QACpC,OAAO,EAAE;YACP,OAAO,SAAA;YACP,OAAO,SAAA;SACR;KACF,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,oBAAoB,CAClC,KAAmC,EACnC,KAAmC;IAEnC,OAAO;QACL,IAAI,EAAE,iBAAiB,CAAC,YAAY;QACpC,OAAO,EAAE;YACP,KAAK,OAAA;YACL,KAAK,OAAA;SACN;KACF,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,yBAAyB,CAAqB,KAAkD;IACxG,IAAA,KAAmB,KAAK,CAAC,QAAQ,EAAE,EAAjC,KAAK,WAAA,EAAE,KAAK,WAAqB,CAAC;IAC1C,IAAM,OAAO,GAAa,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,UAAA,EAAE,IAAI,OAAA,KAAK,CAAC,EAAE,CAAC,CAAC,gBAAgB,CAAC,QAAQ,EAAnC,CAAmC,CAAC,CAAC;IAC/F,IAAM,OAAO,GAAa,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,UAAC,EAAE;QACrD,IAAM,IAAI,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;QACf,IAAA,GAAG,GAAW,IAAI,IAAf,EAAE,IAAI,GAAK,IAAI,KAAT,CAAU;QAE3B,OAAO,IAAI,CAAC,gBAAgB,CAAC,QAAQ;eAC3B,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;eACzB,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IACH,IAAM,MAAM,GAAG,uBAAuB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAEzD,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC",sourcesContent:["import { Store } from 'redux';\n\nimport { DiagramMakerData, DiagramMakerEdge, DiagramMakerNode } from 'diagramMaker/state/types';\n\nimport { CreateItemsAction, DeleteItemsAction, GlobalActionsType } from './globalActions';\n\nexport function createDeleteItemsAction(\n  nodeIds: string[],\n  edgeIds: string[]\n): DeleteItemsAction {\n  return {\n    type: GlobalActionsType.DELETE_ITEMS,\n    payload: {\n      nodeIds,\n      edgeIds\n    }\n  };\n}\n\nexport function createNewItemsAction<NodeType, EdgeType>(\n  nodes: DiagramMakerNode<NodeType>[],\n  edges: DiagramMakerEdge<EdgeType>[]\n): CreateItemsAction<NodeType, EdgeType> {\n  return {\n    type: GlobalActionsType.CREATE_ITEMS,\n    payload: {\n      nodes,\n      edges\n    }\n  };\n}\n\nexport function handleDeleteSelectedItems<NodeType, EdgeType>(store: Store<DiagramMakerData<NodeType, EdgeType>>) {\n  const { edges, nodes } = store.getState();\n  const nodeIds: string[] = Object.keys(nodes).filter(id => nodes[id].diagramMakerData.selected);\n  const edgeIds: string[] = Object.keys(edges).filter((id) => {\n    const edge = edges[id];\n    const { src, dest } = edge;\n\n    return edge.diagramMakerData.selected\n           || nodeIds.indexOf(src) > -1\n           || nodeIds.indexOf(dest) > -1;\n  });\n  const action = createDeleteItemsAction(nodeIds, edgeIds);\n\n  store.dispatch(action);\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function Ur(n,A){return Qr.f[0]++,Qr.s[0]++,{type:wr.DELETE_ITEMS,payload:{nodeIds:n,edgeIds:A}}}function Nr(n){Qr.f[2]++;var A=(Qr.s[2]++,n.getState()),e=(Qr.s[3]++,A.edges),t=(Qr.s[4]++,A.nodes),o=(Qr.s[5]++,Object.keys(t).filter((function(n){return Qr.f[3]++,Qr.s[6]++,t[n].diagramMakerData.selected}))),l=(Qr.s[7]++,Object.keys(e).filter((function(n){Qr.f[4]++;var A=(Qr.s[8]++,e[n]),t=(Qr.s[9]++,A.src),l=(Qr.s[10]++,A.dest);return Qr.s[11]++,Qr.b[0][0]++,A.diagramMakerData.selected||(Qr.b[0][1]++,o.indexOf(t)>-1)||(Qr.b[0][2]++,o.indexOf(l)>-1)}))),i=(Qr.s[12]++,Ur(o,l));Qr.s[13]++,n.dispatch(i)}var Pr=function(){var n="/Volumes/workplace/diagram-maker/src/state/mode/readOnly/readOnlyEventFilter.ts",A="f805523a705815afc172abb654b7764e7e38e425",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/mode/readOnly/readOnlyEventFilter.ts",statementMap:{0:{start:{line:3,column:16},end:{line:3,column:52}},1:{start:{line:5,column:15},end:{line:5,column:25}},2:{start:{line:6,column:4},end:{line:15,column:5}},3:{start:{line:9,column:12},end:{line:9,column:24}},4:{start:{line:11,column:25},end:{line:11,column:37}},5:{start:{line:12,column:12},end:{line:12,column:45}},6:{start:{line:14,column:17},end:{line:14,column:30}}},fnMap:{0:{name:"readOnlyEventFilter",decl:{start:{line:4,column:24},end:{line:4,column:43}},loc:{start:{line:4,column:51},end:{line:16,column:1}},line:4}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:15,column:5}},type:"switch",locations:[{start:{line:7,column:8},end:{line:7,column:63}},{start:{line:8,column:8},end:{line:9,column:24}},{start:{line:10,column:8},end:{line:13,column:9}},{start:{line:14,column:8},end:{line:14,column:30}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0,0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/mode/readOnly/readOnlyEventFilter.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/mode/readOnly/readOnlyEventFilter.ts"],names:[],mappings:"AAAA,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAC3E,OAAO,EAAE,kBAAkB,EAAE,aAAa,EAAE,cAAc,EAAE,MAAM,wCAAwC,CAAC;AAGnG,IAAA,SAAS,GAAK,0BAA0B,UAA/B,CAAgC;AAEjD,MAAM,CAAC,OAAO,UAAU,mBAAmB,CAAC,KAAsB;IACxD,IAAA,IAAI,GAAK,KAAK,KAAV,CAAW;IAEvB,QAAQ,IAAI,EAAE;QACZ,KAAK,kBAAkB,CAAC,8BAA8B,CAAC;QACvD,KAAK,cAAc,CAAC,WAAW;YAC7B,OAAO,IAAI,CAAC;QACd,KAAK,aAAa,CAAC,IAAI,CAAC,CAAC;YACf,IAAA,MAAM,GAAK,KAA4B,OAAjC,CAAkC;YAChD,OAAO,MAAM,CAAC,IAAI,KAAK,SAAS,CAAC;SAClC;QACD,OAAO,CAAC,CAAC,OAAO,KAAK,CAAC;KACvB;AACH,CAAC",sourcesContent:["import { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { ContainerEventType, DragEventType, WheelEventType } from 'diagramMaker/service/ui/UIEventManager';\nimport { NormalizedDragEvent, NormalizedEvent } from 'diagramMaker/service/ui/UIEventNormalizer';\n\nconst { WORKSPACE } = DiagramMakerComponentsType;\n\nexport default function readOnlyEventFilter(event: NormalizedEvent): boolean {\n  const { type } = event;\n\n  switch (type) {\n    case ContainerEventType.DIAGRAM_MAKER_CONTAINER_UPDATE:\n    case WheelEventType.MOUSE_WHEEL:\n      return true;\n    case DragEventType.DRAG: {\n      const { target } = event as NormalizedDragEvent;\n      return target.type === WORKSPACE;\n    }\n    default: return false;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),Rr=(Pr.s[0]++,c.WORKSPACE);var Wr=function(){var n="/Volumes/workplace/diagram-maker/src/state/mode/rootEventFilter.ts",A="788f625617390bf5eb7680b1e86659bcc540286a",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/mode/rootEventFilter.ts",statementMap:{0:{start:{line:3,column:16},end:{line:3,column:36}},1:{start:{line:5,column:4},end:{line:10,column:5}},2:{start:{line:7,column:12},end:{line:7,column:42}},3:{start:{line:9,column:12},end:{line:9,column:24}}},fnMap:{0:{name:"rootEventFilter",decl:{start:{line:4,column:24},end:{line:4,column:39}},loc:{start:{line:4,column:55},end:{line:11,column:1}},line:4}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:10,column:5}},type:"switch",locations:[{start:{line:6,column:8},end:{line:7,column:42}},{start:{line:8,column:8},end:{line:9,column:24}}],line:5}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/mode/rootEventFilter.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/mode/rootEventFilter.ts"],names:[],mappings:"AACA,OAAO,EAAE,UAAU,EAAkB,MAAM,0BAA0B,CAAC;AAEtE,OAAO,mBAAmB,MAAM,gCAAgC,CAAC;AAEzD,IAAA,SAAS,GAAK,UAAU,UAAf,CAAgB;AAEjC,MAAM,CAAC,OAAO,UAAU,eAAe,CAAC,CAAkB,EAAE,UAA0B;IACpF,QAAQ,UAAU,EAAE;QAClB,KAAK,SAAS;YACZ,OAAO,mBAAmB,CAAC,CAAC,CAAC,CAAC;QAChC;YACE,OAAO,IAAI,CAAC;KACf;AACH,CAAC",sourcesContent:["import { NormalizedEvent } from 'diagramMaker/service/ui/UIEventNormalizer';\nimport { EditorMode, EditorModeType } from 'diagramMaker/state/types';\n\nimport readOnlyEventFilter from './readOnly/readOnlyEventFilter';\n\nconst { READ_ONLY } = EditorMode;\n\nexport default function rootEventFilter(e: NormalizedEvent, editorMode: EditorModeType): boolean {\n  switch (editorMode) {\n    case READ_ONLY:\n      return readOnlyEventFilter(e);\n    default:\n      return true;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),Yr=(Wr.s[0]++,Un.READ_ONLY);function zr(n,A){switch(Wr.f[0]++,Wr.s[1]++,A){case Yr:return Wr.b[0][0]++,Wr.s[2]++,function(n){Pr.f[0]++;var A=(Pr.s[1]++,n.type);switch(Pr.s[2]++,A){case bi.DIAGRAM_MAKER_CONTAINER_UPDATE:Pr.b[0][0]++;case ki.MOUSE_WHEEL:return Pr.b[0][1]++,Pr.s[3]++,!0;case Si.DRAG:Pr.b[0][2]++;var e=(Pr.s[4]++,n.target);return Pr.s[5]++,e.type===Rr;default:return Pr.b[0][3]++,Pr.s[6]++,!1}}(n);default:return Wr.b[0][1]++,Wr.s[3]++,!0}}!function(){var n="/Volumes/workplace/diagram-maker/src/state/mode/index.ts",A="e0cb2e82910445c95ff035055e4e039f9a510698",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/mode/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/mode/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/mode/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,eAAe,EAAE,MAAM,mBAAmB,CAAC;AAE/D,OAAO,EAAE,OAAO,IAAI,mBAAmB,EAAE,MAAM,sDAAsD,CAAC",sourcesContent:["export { default as rootEventFilter } from './rootEventFilter';\n\nexport { default as readOnlyEventFilter } from 'diagramMaker/state/mode/readOnly/readOnlyEventFilter';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();var Lr=function(){var n="/Volumes/workplace/diagram-maker/src/state/node/nodeActionDispatcher.ts",A="64cc441570c019453882e67283429c591fa0e56c",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/node/nodeActionDispatcher.ts",statementMap:{0:{start:{line:4,column:23},end:{line:4,column:25}},1:{start:{line:6,column:4},end:{line:9,column:6}},2:{start:{line:12,column:4},end:{line:15,column:6}},3:{start:{line:18,column:4},end:{line:21,column:6}},4:{start:{line:24,column:4},end:{line:27,column:6}},5:{start:{line:30,column:4},end:{line:33,column:6}},6:{start:{line:36,column:4},end:{line:39,column:6}},7:{start:{line:42,column:4},end:{line:44,column:6}},8:{start:{line:47,column:4},end:{line:50,column:6}},9:{start:{line:53,column:16},end:{line:53,column:64}},10:{start:{line:54,column:17},end:{line:54,column:66}},11:{start:{line:55,column:4},end:{line:61,column:5}},12:{start:{line:56,column:26},end:{line:56,column:45}},13:{start:{line:57,column:27},end:{line:57,column:47}},14:{start:{line:58,column:8},end:{line:60,column:9}},15:{start:{line:59,column:12},end:{line:59,column:64}},16:{start:{line:62,column:4},end:{line:62,column:11}},17:{start:{line:65,column:4},end:{line:68,column:5}},18:{start:{line:66,column:21},end:{line:66,column:47}},19:{start:{line:67,column:8},end:{line:67,column:31}},20:{start:{line:71,column:4},end:{line:74,column:5}},21:{start:{line:72,column:21},end:{line:72,column:50}},22:{start:{line:73,column:8},end:{line:73,column:31}},23:{start:{line:77,column:4},end:{line:89,column:5}},24:{start:{line:78,column:25},end:{line:78,column:62}},25:{start:{line:79,column:33},end:{line:82,column:9}},26:{start:{line:83,column:19},end:{line:83,column:45}},27:{start:{line:84,column:8},end:{line:88,column:9}},28:{start:{line:85,column:23},end:{line:85,column:49}},29:{start:{line:86,column:25},end:{line:86,column:85}},30:{start:{line:87,column:12},end:{line:87,column:35}},31:{start:{line:92,column:4},end:{line:95,column:5}},32:{start:{line:93,column:21},end:{line:93,column:48}},33:{start:{line:94,column:8},end:{line:94,column:31}},34:{start:{line:98,column:17},end:{line:98,column:26}},35:{start:{line:99,column:4},end:{line:105,column:5}},36:{start:{line:100,column:19},end:{line:100,column:84}},37:{start:{line:101,column:8},end:{line:104,column:9}},38:{start:{line:102,column:25},end:{line:102,column:110}},39:{start:{line:103,column:12},end:{line:103,column:35}},40:{start:{line:108,column:21},end:{line:108,column:58}},41:{start:{line:109,column:29},end:{line:112,column:5}},42:{start:{line:113,column:24},end:{line:113,column:54}},43:{start:{line:114,column:15},end:{line:114,column:33}},44:{start:{line:115,column:17},end:{line:115,column:103}},45:{start:{line:116,column:4},end:{line:116,column:27}},46:{start:{line:119,column:4},end:{line:122,column:5}},47:{start:{line:120,column:21},end:{line:120,column:55}},48:{start:{line:121,column:8},end:{line:121,column:31}},49:{start:{line:125,column:4},end:{line:134,column:5}},50:{start:{line:126,column:17},end:{line:126,column:36}},51:{start:{line:127,column:20},end:{line:127,column:36}},52:{start:{line:128,column:28},end:{line:128,column:47}},53:{start:{line:129,column:8},end:{line:133,column:9}},54:{start:{line:130,column:27},end:{line:130,column:49}},55:{start:{line:130,column:58},end:{line:130,column:76}},56:{start:{line:131,column:25},end:{line:131,column:72}},57:{start:{line:132,column:12},end:{line:132,column:35}}},fnMap:{0:{name:"createSelectNodeAction",decl:{start:{line:5,column:9},end:{line:5,column:31}},loc:{start:{line:5,column:36},end:{line:10,column:1}},line:5},1:{name:"createDragStartNodeAction",decl:{start:{line:11,column:9},end:{line:11,column:34}},loc:{start:{line:11,column:39},end:{line:16,column:1}},line:11},2:{name:"createDragEndNodeAction",decl:{start:{line:17,column:9},end:{line:17,column:32}},loc:{start:{line:17,column:37},end:{line:22,column:1}},line:17},3:{name:"createDragNodeAction",decl:{start:{line:23,column:9},end:{line:23,column:29}},loc:{start:{line:23,column:70},end:{line:28,column:1}},line:23},4:{name:"createPotentialNodeDragStartAction",decl:{start:{line:29,column:9},end:{line:29,column:43}},loc:{start:{line:29,column:68},end:{line:34,column:1}},line:29},5:{name:"createPotentialNodeDragAction",decl:{start:{line:35,column:9},end:{line:35,column:38}},loc:{start:{line:35,column:69},end:{line:40,column:1}},line:35},6:{name:"createPotentialNodeDragEndAction",decl:{start:{line:41,column:9},end:{line:41,column:41}},loc:{start:{line:41,column:44},end:{line:45,column:1}},line:41},7:{name:"createNewNodeAction",decl:{start:{line:46,column:9},end:{line:46,column:28}},loc:{start:{line:46,column:57},end:{line:51,column:1}},line:46},8:{name:"getSizeFromDataAttrs",decl:{start:{line:52,column:9},end:{line:52,column:29}},loc:{start:{line:52,column:38},end:{line:63,column:1}},line:52},9:{name:"handleNodeClick",decl:{start:{line:64,column:16},end:{line:64,column:31}},loc:{start:{line:64,column:43},end:{line:69,column:1}},line:64},10:{name:"handleNodeDragStart",decl:{start:{line:70,column:16},end:{line:70,column:35}},loc:{start:{line:70,column:47},end:{line:75,column:1}},line:70},11:{name:"handleNodeDrag",decl:{start:{line:76,column:16},end:{line:76,column:30}},loc:{start:{line:76,column:52},end:{line:90,column:1}},line:76},12:{name:"handleNodeDragEnd",decl:{start:{line:91,column:16},end:{line:91,column:33}},loc:{start:{line:91,column:45},end:{line:96,column:1}},line:91},13:{name:"handlePotentialNodeDragStart",decl:{start:{line:97,column:16},end:{line:97,column:44}},loc:{start:{line:97,column:78},end:{line:106,column:1}},line:97},14:{name:"handlePotentialNodeDrag",decl:{start:{line:107,column:16},end:{line:107,column:39}},loc:{start:{line:107,column:57},end:{line:117,column:1}},line:107},15:{name:"handlePotentialNodeDragEnd",decl:{start:{line:118,column:16},end:{line:118,column:42}},loc:{start:{line:118,column:58},end:{line:123,column:1}},line:118},16:{name:"handleNodeCreate",decl:{start:{line:124,column:16},end:{line:124,column:32}},loc:{start:{line:124,column:48},end:{line:135,column:1}},line:124}},branchMap:{0:{loc:{start:{line:55,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:61,column:5}},{start:{line:55,column:4},end:{line:61,column:5}}],line:55},1:{loc:{start:{line:55,column:8},end:{line:55,column:23}},type:"binary-expr",locations:[{start:{line:55,column:8},end:{line:55,column:13}},{start:{line:55,column:17},end:{line:55,column:23}}],line:55},2:{loc:{start:{line:58,column:8},end:{line:60,column:9}},type:"if",locations:[{start:{line:58,column:8},end:{line:60,column:9}},{start:{line:58,column:8},end:{line:60,column:9}}],line:58},3:{loc:{start:{line:58,column:12},end:{line:58,column:55}},type:"binary-expr",locations:[{start:{line:58,column:12},end:{line:58,column:31}},{start:{line:58,column:35},end:{line:58,column:55}}],line:58},4:{loc:{start:{line:65,column:4},end:{line:68,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:68,column:5}},{start:{line:65,column:4},end:{line:68,column:5}}],line:65},5:{loc:{start:{line:71,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:74,column:5}},{start:{line:71,column:4},end:{line:74,column:5}}],line:71},6:{loc:{start:{line:77,column:4},end:{line:89,column:5}},type:"if",locations:[{start:{line:77,column:4},end:{line:89,column:5}},{start:{line:77,column:4},end:{line:89,column:5}}],line:77},7:{loc:{start:{line:84,column:8},end:{line:88,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:88,column:9}},{start:{line:84,column:8},end:{line:88,column:9}}],line:84},8:{loc:{start:{line:92,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:92,column:4},end:{line:95,column:5}},{start:{line:92,column:4},end:{line:95,column:5}}],line:92},9:{loc:{start:{line:99,column:4},end:{line:105,column:5}},type:"if",locations:[{start:{line:99,column:4},end:{line:105,column:5}},{start:{line:99,column:4},end:{line:105,column:5}}],line:99},10:{loc:{start:{line:100,column:19},end:{line:100,column:84}},type:"binary-expr",locations:[{start:{line:100,column:19},end:{line:100,column:47}},{start:{line:100,column:51},end:{line:100,column:84}}],line:100},11:{loc:{start:{line:101,column:8},end:{line:104,column:9}},type:"if",locations:[{start:{line:101,column:8},end:{line:104,column:9}},{start:{line:101,column:8},end:{line:104,column:9}}],line:101},12:{loc:{start:{line:119,column:4},end:{line:122,column:5}},type:"if",locations:[{start:{line:119,column:4},end:{line:122,column:5}},{start:{line:119,column:4},end:{line:122,column:5}}],line:119},13:{loc:{start:{line:125,column:4},end:{line:134,column:5}},type:"if",locations:[{start:{line:125,column:4},end:{line:134,column:5}},{start:{line:125,column:4},end:{line:134,column:5}}],line:125},14:{loc:{start:{line:129,column:8},end:{line:133,column:9}},type:"if",locations:[{start:{line:129,column:8},end:{line:133,column:9}},{start:{line:129,column:8},end:{line:133,column:9}}],line:129}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/node/nodeActionDispatcher.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/node/nodeActionDispatcher.ts"],names:[],mappings:"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",sourcesContent:["import { Store } from 'redux';\nimport { v4 as uuid } from 'uuid';\n\nimport ConfigService from 'diagramMaker/service/ConfigService';\nimport { getCenteredPosition } from 'diagramMaker/service/positionUtils';\nimport { NormalizedTarget } from 'diagramMaker/service/ui/UITargetNormalizer';\nimport {\n  DiagramMakerData,\n  DiagramMakerPotentialNode,\n  Position,\n  Rectangle,\n  Size\n} from 'diagramMaker/state/types';\n\nimport {\n  CreateNodeAction, DragEndNodeAction, DragEndPotentialNodeAction, DragNodeAction, DragPotentialNodeAction,\n  DragStartNodeAction, DragStartPotentialNodeAction, NodeActionsType, SelectNodeAction\n} from './nodeActions';\n\nexport const MARGIN_PX = 10;\n\nfunction createSelectNodeAction(id: string): SelectNodeAction {\n  return {\n    type: NodeActionsType.NODE_SELECT,\n    payload: { id }\n  };\n}\n\nfunction createDragStartNodeAction(id: string): DragStartNodeAction {\n  return {\n    type: NodeActionsType.NODE_DRAG_START,\n    payload: { id }\n  };\n}\n\nfunction createDragEndNodeAction(id: string): DragEndNodeAction {\n  return {\n    type: NodeActionsType.NODE_DRAG_END,\n    payload: { id }\n  };\n}\n\nfunction createDragNodeAction(\n  id: string,\n  position: Position,\n  workspaceRectangle: Rectangle,\n  size: Size\n): DragNodeAction {\n  return {\n    type: NodeActionsType.NODE_DRAG,\n    payload: { id, position, workspaceRectangle, size }\n  };\n}\n\nfunction createPotentialNodeDragStartAction(\n  typeId: string, position: Position, size: Size\n): DragStartPotentialNodeAction {\n  return {\n    type: NodeActionsType.POTENTIAL_NODE_DRAG_START,\n    payload: { typeId, position, size }\n  };\n}\n\nfunction createPotentialNodeDragAction(position: Position, workspaceRectangle: Rectangle): DragPotentialNodeAction {\n  return {\n    type: NodeActionsType.POTENTIAL_NODE_DRAG,\n    payload: { position, workspaceRectangle }\n  };\n}\n\nfunction createPotentialNodeDragEndAction(): DragEndPotentialNodeAction {\n  return {\n    type: NodeActionsType.POTENTIAL_NODE_DRAG_END\n  };\n}\n\nfunction createNewNodeAction<NodeType>(\n  id: string, typeId: string, position: Position, size: Size\n): CreateNodeAction<NodeType> {\n  return {\n    type: NodeActionsType.NODE_CREATE,\n    payload: { id, typeId, position, size }\n  };\n}\n\nfunction getSizeFromDataAttrs(target: NormalizedTarget): Size | undefined {\n  const width = target.originalTarget.getAttribute('data-width');\n  const height = target.originalTarget.getAttribute('data-height');\n  if (width && height) {\n    const parsedWidth = parseInt(width, 10);\n    const parsedHeight = parseInt(height, 10);\n    if (!isNaN(parsedWidth) && !isNaN(parsedHeight)) {\n      return { width: parsedWidth, height: parsedHeight };\n    }\n  }\n  return;\n}\n\nexport function handleNodeClick<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined\n) {\n  if (id) {\n    const action = createSelectNodeAction(id);\n    store.dispatch(action);\n  }\n}\n\nexport function handleNodeDragStart<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined\n) {\n  if (id) {\n    const action = createDragStartNodeAction(id);\n    store.dispatch(action);\n  }\n}\n\nexport function handleNodeDrag<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined,\n  position: Position\n) {\n  if (id) {\n    const { canvasSize } = store.getState().workspace;\n    const workspaceRectangle = {\n      position: { x: 0, y: 0 },\n      size: canvasSize\n    };\n    const node = store.getState().nodes[id];\n    if (node) {\n      const size = node.diagramMakerData.size;\n      const action = createDragNodeAction(id, position, workspaceRectangle, size);\n      store.dispatch(action);\n    }\n  }\n}\n\nexport function handleNodeDragEnd<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined\n) {\n  if (id) {\n    const action = createDragEndNodeAction(id);\n    store.dispatch(action);\n\n  }\n}\n\nexport function handlePotentialNodeDragStart<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  config: ConfigService<NodeType, EdgeType>,\n  target: NormalizedTarget,\n  position: Position\n) {\n  const typeId = target.id;\n  if (typeId) {\n    const size = getSizeFromDataAttrs(target) || config.getSizeForNodeType(typeId);\n    if (size) {\n      const action = createPotentialNodeDragStartAction(typeId, getCenteredPosition(position, size), size);\n      store.dispatch(action);\n    }\n  }\n}\n\nexport function handlePotentialNodeDrag<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  position: Position\n) {\n\n  const { canvasSize } = store.getState().workspace;\n  const workspaceRectangle = {\n    position: { x: 0, y: 0 },\n    size: canvasSize\n  };\n  const potentialNode = store.getState().potentialNode as DiagramMakerPotentialNode;\n  const size = potentialNode.size;\n  const action = createPotentialNodeDragAction(getCenteredPosition(position, size), workspaceRectangle);\n\n  store.dispatch(action);\n}\n\nexport function handlePotentialNodeDragEnd<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  typeId: string | undefined\n) {\n  if (typeId) {\n    const action = createPotentialNodeDragEndAction();\n    store.dispatch(action);\n  }\n}\n\nexport function handleNodeCreate<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  typeId: string | undefined\n) {\n  if (typeId) {\n    const id = `dm-node-${uuid()}`;\n    const state = store.getState();\n    const potentialNode = state.potentialNode;\n    if (potentialNode) {\n      const { position, size } = potentialNode;\n      const action = createNewNodeAction(id, typeId, position, size);\n      store.dispatch(action);\n    }\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),jr=(Lr.s[0]++,10);function Fr(n,A){if(Lr.f[9]++,Lr.s[17]++,A){Lr.b[4][0]++;var e=(Lr.s[18]++,function(n){return Lr.f[0]++,Lr.s[1]++,{type:ye.NODE_SELECT,payload:{id:n}}}(A));Lr.s[19]++,n.dispatch(e)}else Lr.b[4][1]++}function Vr(n,A){if(Lr.f[10]++,Lr.s[20]++,A){Lr.b[5][0]++;var e=(Lr.s[21]++,function(n){return Lr.f[1]++,Lr.s[2]++,{type:ye.NODE_DRAG_START,payload:{id:n}}}(A));Lr.s[22]++,n.dispatch(e)}else Lr.b[5][1]++}function Hr(n,A,e){if(Lr.f[11]++,Lr.s[23]++,A){Lr.b[6][0]++;var t=(Lr.s[24]++,n.getState().workspace.canvasSize),o=(Lr.s[25]++,{position:{x:0,y:0},size:t}),l=(Lr.s[26]++,n.getState().nodes[A]);if(Lr.s[27]++,l){Lr.b[7][0]++;var i=(Lr.s[28]++,l.diagramMakerData.size),r=(Lr.s[29]++,function(n,A,e,t){return Lr.f[3]++,Lr.s[4]++,{type:ye.NODE_DRAG,payload:{id:n,position:A,workspaceRectangle:e,size:t}}}(A,e,o,i));Lr.s[30]++,n.dispatch(r)}else Lr.b[7][1]++}else Lr.b[6][1]++}function qr(n,A){if(Lr.f[12]++,Lr.s[31]++,A){Lr.b[8][0]++;var e=(Lr.s[32]++,function(n){return Lr.f[2]++,Lr.s[3]++,{type:ye.NODE_DRAG_END,payload:{id:n}}}(A));Lr.s[33]++,n.dispatch(e)}else Lr.b[8][1]++}function Xr(n,A,e,t){Lr.f[13]++;var o=(Lr.s[34]++,e.id);if(Lr.s[35]++,o){Lr.b[9][0]++;var l=(Lr.s[36]++,Lr.b[10][0]++,function(n){Lr.f[8]++;var A=(Lr.s[9]++,n.originalTarget.getAttribute("data-width")),e=(Lr.s[10]++,n.originalTarget.getAttribute("data-height"));if(Lr.s[11]++,Lr.b[1][0]++,A&&(Lr.b[1][1]++,e)){Lr.b[0][0]++;var t=(Lr.s[12]++,parseInt(A,10)),o=(Lr.s[13]++,parseInt(e,10));if(Lr.s[14]++,Lr.b[3][0]++,!isNaN(t)&&(Lr.b[3][1]++,!isNaN(o)))return Lr.b[2][0]++,Lr.s[15]++,{width:t,height:o};Lr.b[2][1]++}else Lr.b[0][1]++;Lr.s[16]++}(e)||(Lr.b[10][1]++,A.getSizeForNodeType(o)));if(Lr.s[37]++,l){Lr.b[11][0]++;var i=(Lr.s[38]++,function(n,A,e){return Lr.f[4]++,Lr.s[5]++,{type:ye.POTENTIAL_NODE_DRAG_START,payload:{typeId:n,position:A,size:e}}}(o,J(t,l),l));Lr.s[39]++,n.dispatch(i)}else Lr.b[11][1]++}else Lr.b[9][1]++}function Zr(n,A){Lr.f[14]++;var e=(Lr.s[40]++,n.getState().workspace.canvasSize),t=(Lr.s[41]++,{position:{x:0,y:0},size:e}),o=(Lr.s[42]++,n.getState().potentialNode),l=(Lr.s[43]++,o.size),i=(Lr.s[44]++,function(n,A){return Lr.f[5]++,Lr.s[6]++,{type:ye.POTENTIAL_NODE_DRAG,payload:{position:n,workspaceRectangle:A}}}(J(A,l),t));Lr.s[45]++,n.dispatch(i)}function Jr(n,A){if(Lr.f[15]++,Lr.s[46]++,A){Lr.b[12][0]++;var e=(Lr.s[47]++,Lr.f[6]++,Lr.s[7]++,{type:ye.POTENTIAL_NODE_DRAG_END});Lr.s[48]++,n.dispatch(e)}else Lr.b[12][1]++}function $r(n,A){if(Lr.f[16]++,Lr.s[49]++,A){Lr.b[13][0]++;var e=(Lr.s[50]++,"dm-node-"+Br()),t=(Lr.s[51]++,n.getState()),o=(Lr.s[52]++,t.potentialNode);if(Lr.s[53]++,o){Lr.b[14][0]++;var l=(Lr.s[54]++,o.position),i=(Lr.s[55]++,o.size),r=(Lr.s[56]++,function(n,A,e,t){return Lr.f[7]++,Lr.s[8]++,{type:ye.NODE_CREATE,payload:{id:n,typeId:A,position:e,size:t}}}(e,A,l,i));Lr.s[57]++,n.dispatch(r)}else Lr.b[14][1]++}else Lr.b[13][1]++}var na,Aa=function(){var n="/Volumes/workplace/diagram-maker/src/state/panel/panelActions.ts",A="749ce5f7b63b22a17911187b466ad61fe923ea1d",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/panel/panelActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:20,column:48}},10:{start:{line:15,column:4},end:{line:15,column:62}},11:{start:{line:17,column:4},end:{line:17,column:50}},12:{start:{line:19,column:4},end:{line:19,column:54}},13:{start:{line:21,column:26},end:{line:21,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:29},end:{line:20,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:20,column:3},end:{line:20,column:46}},type:"binary-expr",locations:[{start:{line:20,column:3},end:{line:20,column:19}},{start:{line:20,column:24},end:{line:20,column:45}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/panel/panelActions.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/panel/panelActions.ts"],names:[],mappings:";;;;;;;;;;;AAIA,MAAM,CAAN,IAAY,gBAOX;AAPD,WAAY,gBAAgB;IAC1B,6BAA6B;IAC7B,yDAAqC,CAAA;IACrC,mBAAmB;IACnB,6CAAyB,CAAA;IACzB,qBAAqB;IACrB,iDAA6B,CAAA;AAC/B,CAAC,EAPW,gBAAgB,KAAhB,gBAAgB,QAO3B;AAED,MAAM,CAAC,IAAM,YAAY,gBACpB,gBAAgB,CACpB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nimport { Position, Size } from 'diagramMaker/state/types';\n\nexport enum PanelActionsType {\n  /** Start dragging a panel */\n  PANEL_DRAG_START = 'PANEL_DRAG_START',\n  /** Drag a panel */\n  PANEL_DRAG = 'PANEL_DRAG',\n  /** Resize a panel */\n  PANEL_RESIZE = 'PANEL_RESIZE'\n}\n\nexport const PanelActions = {\n  ...PanelActionsType\n};\n\n/** Action fired to resize a panel */\nexport interface ResizePanelAction extends Action {\n  type: PanelActionsType.PANEL_RESIZE;\n  payload: {\n    /** ID of the panel to resize */\n    id: string;\n    /** Updated size of the panel */\n    size: Size;\n  };\n}\n\n/** Action fired to drag a panel */\nexport interface DragPanelAction extends Action {\n  type: PanelActionsType.PANEL_DRAG;\n  payload: {\n    /** ID of the panel to drag */\n    id: string;\n    /** Updated position of the panel */\n    position: Position;\n    /** Size of diagram maker container */\n    viewContainerSize: Size;\n  };\n}\n\n/** Action fired on initial drag of panel */\nexport interface DragStartPanelAction extends Action {\n  type: PanelActionsType.PANEL_DRAG_START;\n  payload: {\n    /** ID of the panel to drag */\n    id: string;\n  };\n}\n\nexport type PanelAction = ResizePanelAction | DragPanelAction | DragStartPanelAction;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),ea=(Aa.s[0]++,void Aa.b[0][0]++&&(Aa.b[0][1]++,(void 0).__assign)||(Aa.b[0][2]++,function(){return Aa.f[0]++,Aa.s[1]++,Aa.b[1][0]++,ea=Object.assign||(Aa.b[1][1]++,function(n){Aa.f[1]++,Aa.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in Aa.s[3]++,A=arguments[e],Aa.s[4]++,A)Aa.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(Aa.b[2][0]++,Aa.s[6]++,n[o]=A[o]):Aa.b[2][1]++;return Aa.s[7]++,n}),Aa.s[8]++,ea.apply(this,arguments)}));Aa.s[9]++,function(n){Aa.f[2]++,Aa.s[10]++,n.PANEL_DRAG_START="PANEL_DRAG_START",Aa.s[11]++,n.PANEL_DRAG="PANEL_DRAG",Aa.s[12]++,n.PANEL_RESIZE="PANEL_RESIZE"}((Aa.b[3][0]++,na||(Aa.b[3][1]++,na={})));var ta=(Aa.s[13]++,ea({},na)),oa=function(){var n="/Volumes/workplace/diagram-maker/src/state/panel/panelActionDispatcher.ts",A="1fbd03b99f9f2fb59fa54e954b7a64689e63734e",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/panel/panelActionDispatcher.ts",statementMap:{0:{start:{line:4,column:16},end:{line:4,column:48}},1:{start:{line:5,column:4},end:{line:7,column:5}},2:{start:{line:6,column:8},end:{line:6,column:21}},3:{start:{line:8,column:4},end:{line:10,column:5}},4:{start:{line:9,column:8},end:{line:9,column:20}},5:{start:{line:11,column:4},end:{line:11,column:17}},6:{start:{line:14,column:24},end:{line:14,column:41}},7:{start:{line:15,column:4},end:{line:17,column:5}},8:{start:{line:16,column:8},end:{line:16,column:52}},9:{start:{line:18,column:4},end:{line:18,column:83}},10:{start:{line:21,column:23},end:{line:21,column:57}},11:{start:{line:22,column:4},end:{line:29,column:5}},12:{start:{line:23,column:29},end:{line:23,column:70}},13:{start:{line:24,column:24},end:{line:24,column:60}},14:{start:{line:25,column:8},end:{line:28,column:10}},15:{start:{line:30,column:4},end:{line:30,column:26}},16:{start:{line:33,column:31},end:{line:33,column:73}},17:{start:{line:34,column:4},end:{line:37,column:6}},18:{start:{line:40,column:4},end:{line:43,column:6}},19:{start:{line:46,column:4},end:{line:49,column:6}},20:{start:{line:52,column:4},end:{line:55,column:6}},21:{start:{line:58,column:4},end:{line:61,column:5}},22:{start:{line:59,column:21},end:{line:59,column:54}},23:{start:{line:60,column:8},end:{line:60,column:31}},24:{start:{line:64,column:4},end:{line:68,column:5}},25:{start:{line:65,column:23},end:{line:65,column:90}},26:{start:{line:66,column:21},end:{line:66,column:75}},27:{start:{line:67,column:8},end:{line:67,column:31}},28:{start:{line:71,column:4},end:{line:74,column:5}},29:{start:{line:72,column:21},end:{line:72,column:51}},30:{start:{line:73,column:8},end:{line:73,column:31}}},fnMap:{0:{name:"getPanelAttributeAsBoolean",decl:{start:{line:3,column:9},end:{line:3,column:35}},loc:{start:{line:3,column:44},end:{line:12,column:1}},line:3},1:{name:"getPanelElement",decl:{start:{line:13,column:9},end:{line:13,column:24}},loc:{start:{line:13,column:44},end:{line:19,column:1}},line:13},2:{name:"getDraggablePanelOffset",decl:{start:{line:20,column:9},end:{line:20,column:32}},loc:{start:{line:20,column:52},end:{line:31,column:1}},line:20},3:{name:"getDraggablePanelPosition",decl:{start:{line:32,column:9},end:{line:32,column:34}},loc:{start:{line:32,column:78},end:{line:38,column:1}},line:32},4:{name:"createResizePanelAction",decl:{start:{line:39,column:9},end:{line:39,column:32}},loc:{start:{line:39,column:43},end:{line:44,column:1}},line:39},5:{name:"createDragPanelAction",decl:{start:{line:45,column:9},end:{line:45,column:30}},loc:{start:{line:45,column:64},end:{line:50,column:1}},line:45},6:{name:"createDragPanelStartAction",decl:{start:{line:51,column:9},end:{line:51,column:35}},loc:{start:{line:51,column:40},end:{line:56,column:1}},line:51},7:{name:"handlePanelResize",decl:{start:{line:57,column:16},end:{line:57,column:33}},loc:{start:{line:57,column:51},end:{line:62,column:1}},line:57},8:{name:"handlePanelDrag",decl:{start:{line:63,column:16},end:{line:63,column:31}},loc:{start:{line:63,column:100},end:{line:69,column:1}},line:63},9:{name:"handlePanelDragStart",decl:{start:{line:70,column:16},end:{line:70,column:36}},loc:{start:{line:70,column:48},end:{line:75,column:1}},line:70}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:5,column:4},end:{line:7,column:5}}],line:5},1:{loc:{start:{line:8,column:4},end:{line:10,column:5}},type:"if",locations:[{start:{line:8,column:4},end:{line:10,column:5}},{start:{line:8,column:4},end:{line:10,column:5}}],line:8},2:{loc:{start:{line:15,column:11},end:{line:15,column:84}},type:"binary-expr",locations:[{start:{line:15,column:11},end:{line:15,column:53}},{start:{line:15,column:57},end:{line:15,column:84}}],line:15},3:{loc:{start:{line:18,column:11},end:{line:18,column:82}},type:"binary-expr",locations:[{start:{line:18,column:11},end:{line:18,column:52}},{start:{line:18,column:56},end:{line:18,column:69}},{start:{line:18,column:73},end:{line:18,column:82}}],line:18},4:{loc:{start:{line:22,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:29,column:5}},{start:{line:22,column:4},end:{line:29,column:5}}],line:22},5:{loc:{start:{line:58,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:58,column:4},end:{line:61,column:5}},{start:{line:58,column:4},end:{line:61,column:5}}],line:58},6:{loc:{start:{line:64,column:4},end:{line:68,column:5}},type:"if",locations:[{start:{line:64,column:4},end:{line:68,column:5}},{start:{line:64,column:4},end:{line:68,column:5}}],line:64},7:{loc:{start:{line:71,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:74,column:5}},{start:{line:71,column:4},end:{line:74,column:5}}],line:71}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/panel/panelActionDispatcher.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/panel/panelActionDispatcher.ts"],names:[],mappings:"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",sourcesContent:["import { Store } from 'redux';\n\nimport { DiagramMakerComponents } from 'diagramMaker/service/ui/types';\nimport { DiagramMakerData, Position, Size } from 'diagramMaker/state/types';\n\nimport {\n  DragPanelAction,\n  DragStartPanelAction,\n  PanelActionsType,\n  ResizePanelAction\n} from './panelActions';\n\nfunction getPanelAttributeAsBoolean(target: Element): boolean {\n  const value = target.getAttribute('data-type');\n\n  if (!value) {\n    return false;\n  }\n\n  if (value === DiagramMakerComponents.PANEL) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction getPanelElement(dragHandleElement: HTMLElement): HTMLElement | undefined {\n  let currentTarget = dragHandleElement;\n\n  while (!getPanelAttributeAsBoolean(currentTarget) && currentTarget.parentElement) {\n    currentTarget = currentTarget.parentElement;\n  }\n\n  return getPanelAttributeAsBoolean(currentTarget) && currentTarget || undefined;\n}\n\nfunction getDraggablePanelOffset(dragHandleElement: HTMLElement): Position {\n  const panelElement = getPanelElement(dragHandleElement);\n\n  if (panelElement) {\n    const dragHandleRect = dragHandleElement.getBoundingClientRect();\n    const panelRect = panelElement.getBoundingClientRect();\n\n    return {\n      x: dragHandleRect.left - panelRect.left,\n      y: dragHandleRect.top - panelRect.top\n    };\n  }\n  return { x: 0, y: 0 };\n}\n\nfunction getDraggablePanelPosition(dragHandleElement: HTMLElement, normalizedPosition: Position, id: string): Position {\n  const draggablePanelOffset = getDraggablePanelOffset(dragHandleElement);\n\n  return {\n    x: normalizedPosition.x - draggablePanelOffset.x,\n    y: normalizedPosition.y - draggablePanelOffset.y\n  };\n}\n\nfunction createResizePanelAction(id: string, size: Size): ResizePanelAction {\n  return {\n    type: PanelActionsType.PANEL_RESIZE,\n    payload: { id, size }\n  };\n}\n\nfunction createDragPanelAction(id: string, position: Position, viewContainerSize: Size): DragPanelAction {\n  return {\n    type: PanelActionsType.PANEL_DRAG,\n    payload: { id, position, viewContainerSize }\n  };\n}\n\nfunction createDragPanelStartAction(id: string): DragStartPanelAction {\n  return {\n    type: PanelActionsType.PANEL_DRAG_START,\n    payload: { id }\n  };\n}\n\nexport function handlePanelResize<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined,\n  size: Size\n) {\n  if (id) {\n    const action = createResizePanelAction(id, size);\n    store.dispatch(action);\n  }\n}\n\nexport function handlePanelDrag<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined,\n  draggableElement: HTMLElement,\n  normalizedPosition: Position,\n  viewContainerSize: Size\n) {\n  if (id) {\n    const position = getDraggablePanelPosition(draggableElement, normalizedPosition, id);\n    const action = createDragPanelAction(id, position, viewContainerSize);\n    store.dispatch(action);\n  }\n}\n\nexport function handlePanelDragStart<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined\n) {\n  if (id) {\n    const action = createDragPanelStartAction(id);\n    store.dispatch(action);\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function la(n){oa.f[0]++;var A=(oa.s[0]++,n.getAttribute("data-type"));return oa.s[1]++,A?(oa.b[0][1]++,oa.s[3]++,A===f.PANEL?(oa.b[1][0]++,oa.s[4]++,!0):(oa.b[1][1]++,oa.s[5]++,!1)):(oa.b[0][0]++,oa.s[2]++,!1)}function ia(n){oa.f[2]++;var A=(oa.s[10]++,function(n){oa.f[1]++;var A=(oa.s[6]++,n);for(oa.s[7]++;oa.b[2][0]++,!la(A)&&(oa.b[2][1]++,A.parentElement);)oa.s[8]++,A=A.parentElement;return oa.s[9]++,oa.b[3][0]++,la(A)&&(oa.b[3][1]++,A)||void oa.b[3][2]++}(n));if(oa.s[11]++,A){oa.b[4][0]++;var e=(oa.s[12]++,n.getBoundingClientRect()),t=(oa.s[13]++,A.getBoundingClientRect());return oa.s[14]++,{x:e.left-t.left,y:e.top-t.top}}return oa.b[4][1]++,oa.s[15]++,{x:0,y:0}}function ra(n,A,e,t,o){if(oa.f[8]++,oa.s[24]++,A){oa.b[6][0]++;var l=(oa.s[25]++,function(n,A,e){oa.f[3]++;var t=(oa.s[16]++,ia(n));return oa.s[17]++,{x:A.x-t.x,y:A.y-t.y}}(e,t)),i=(oa.s[26]++,function(n,A,e){return oa.f[5]++,oa.s[19]++,{type:na.PANEL_DRAG,payload:{id:n,position:A,viewContainerSize:e}}}(A,l,o));oa.s[27]++,n.dispatch(i)}else oa.b[6][1]++}function aa(n,A){if(oa.f[9]++,oa.s[28]++,A){oa.b[7][0]++;var e=(oa.s[29]++,function(n){return oa.f[6]++,oa.s[20]++,{type:na.PANEL_DRAG_START,payload:{id:n}}}(A));oa.s[30]++,n.dispatch(e)}else oa.b[7][1]++}var ca=function(){var n="/Volumes/workplace/diagram-maker/src/state/ActionDispatcher.ts",A="f8bcb10a324d90cd8b6ca26e2db1743e6d355dff",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/ActionDispatcher.ts",statementMap:{0:{start:{line:14,column:21},end:{line:14,column:32}},1:{start:{line:15,column:38},end:{line:277,column:3}},2:{start:{line:17,column:20},end:{line:17,column:24}},3:{start:{line:18,column:8},end:{line:18,column:33}},4:{start:{line:19,column:8},end:{line:19,column:27}},5:{start:{line:20,column:8},end:{line:20,column:29}},6:{start:{line:21,column:8},end:{line:36,column:10}},7:{start:{line:22,column:25},end:{line:22,column:37}},8:{start:{line:23,column:23},end:{line:23,column:34}},9:{start:{line:23,column:41},end:{line:23,column:50}},10:{start:{line:24,column:12},end:{line:35,column:13}},11:{start:{line:26,column:20},end:{line:26,column:53}},12:{start:{line:27,column:20},end:{line:27,column:26}},13:{start:{line:30,column:20},end:{line:30,column:53}},14:{start:{line:31,column:20},end:{line:31,column:26}},15:{start:{line:33,column:20},end:{line:33,column:54}},16:{start:{line:34,column:20},end:{line:34,column:26}},17:{start:{line:37,column:8},end:{line:40,column:10}},18:{start:{line:38,column:12},end:{line:38,column:63}},19:{start:{line:38,column:37},end:{line:38,column:61}},20:{start:{line:39,column:12},end:{line:39,column:46}},21:{start:{line:41,column:8},end:{line:48,column:10}},22:{start:{line:42,column:12},end:{line:42,column:63}},23:{start:{line:42,column:37},end:{line:42,column:61}},24:{start:{line:43,column:33},end:{line:43,column:84}},25:{start:{line:44,column:12},end:{line:47,column:14}},26:{start:{line:49,column:8},end:{line:85,column:10}},27:{start:{line:50,column:25},end:{line:50,column:37}},28:{start:{line:50,column:50},end:{line:50,column:64}},29:{start:{line:50,column:71},end:{line:50,column:83}},30:{start:{line:50,column:94},end:{line:50,column:129}},31:{start:{line:51,column:23},end:{line:51,column:34}},32:{start:{line:51,column:41},end:{line:51,column:50}},33:{start:{line:52,column:29},end:{line:52,column:63}},34:{start:{line:53,column:33},end:{line:53,column:65}},35:{start:{line:54,column:12},end:{line:84,column:13}},36:{start:{line:56,column:20},end:{line:60,column:21}},37:{start:{line:57,column:49},end:{line:57,column:100}},38:{start:{line:58,column:47},end:{line:58,column:68}},39:{start:{line:59,column:24},end:{line:59,column:129}},40:{start:{line:61,column:20},end:{line:61,column:26}},41:{start:{line:63,column:20},end:{line:63,column:132}},42:{start:{line:64,column:20},end:{line:64,column:26}},43:{start:{line:66,column:20},end:{line:74,column:21}},44:{start:{line:68,column:28},end:{line:68,column:142}},45:{start:{line:69,column:28},end:{line:69,column:34}},46:{start:{line:72,column:28},end:{line:72,column:114}},47:{start:{line:73,column:28},end:{line:73,column:34}},48:{start:{line:75,column:20},end:{line:75,column:26}},49:{start:{line:77,column:20},end:{line:79,column:92}},50:{start:{line:80,column:20},end:{line:80,column:26}},51:{start:{line:82,column:20},end:{line:82,column:129}},52:{start:{line:83,column:20},end:{line:83,column:26}},53:{start:{line:86,column:8},end:{line:112,column:10}},54:{start:{line:87,column:25},end:{line:87,column:37}},55:{start:{line:87,column:50},end:{line:87,column:64}},56:{start:{line:87,column:71},end:{line:87,column:83}},57:{start:{line:87,column:94},end:{line:87,column:129}},58:{start:{line:88,column:23},end:{line:88,column:34}},59:{start:{line:88,column:41},end:{line:88,column:50}},60:{start:{line:89,column:29},end:{line:89,column:63}},61:{start:{line:90,column:33},end:{line:90,column:65}},62:{start:{line:91,column:12},end:{line:111,column:13}},63:{start:{line:93,column:20},end:{line:95,column:21}},64:{start:{line:94,column:24},end:{line:94,column:136}},65:{start:{line:96,column:20},end:{line:96,column:26}},66:{start:{line:98,column:20},end:{line:98,column:58}},67:{start:{line:99,column:20},end:{line:99,column:26}},68:{start:{line:101,column:20},end:{line:101,column:57}},69:{start:{line:102,column:20},end:{line:102,column:26}},70:{start:{line:104,column:20},end:{line:106,column:92}},71:{start:{line:107,column:20},end:{line:107,column:26}},72:{start:{line:109,column:20},end:{line:109,column:156}},73:{start:{line:110,column:20},end:{line:110,column:26}},74:{start:{line:113,column:8},end:{line:134,column:10}},75:{start:{line:114,column:25},end:{line:114,column:37}},76:{start:{line:114,column:50},end:{line:114,column:64}},77:{start:{line:114,column:71},end:{line:114,column:83}},78:{start:{line:114,column:94},end:{line:114,column:129}},79:{start:{line:115,column:23},end:{line:115,column:34}},80:{start:{line:115,column:41},end:{line:115,column:50}},81:{start:{line:116,column:30},end:{line:116,column:59}},82:{start:{line:117,column:29},end:{line:117,column:60}},83:{start:{line:118,column:12},end:{line:133,column:13}},84:{start:{line:120,column:20},end:{line:122,column:21}},85:{start:{line:121,column:24},end:{line:121,column:64}},86:{start:{line:123,column:20},end:{line:123,column:26}},87:{start:{line:125,column:20},end:{line:125,column:55}},88:{start:{line:126,column:20},end:{line:126,column:26}},89:{start:{line:128,column:20},end:{line:128,column:55}},90:{start:{line:129,column:20},end:{line:129,column:26}},91:{start:{line:131,column:20},end:{line:131,column:64}},92:{start:{line:132,column:20},end:{line:132,column:26}},93:{start:{line:135,column:8},end:{line:144,column:10}},94:{start:{line:136,column:24},end:{line:136,column:35}},95:{start:{line:136,column:53},end:{line:136,column:72}},96:{start:{line:136,column:85},end:{line:136,column:99}},97:{start:{line:137,column:30},end:{line:137,column:59}},98:{start:{line:138,column:12},end:{line:143,column:13}},99:{start:{line:139,column:16},end:{line:139,column:47}},100:{start:{line:140,column:16},end:{line:142,column:17}},101:{start:{line:141,column:20},end:{line:141,column:71}},102:{start:{line:145,column:8},end:{line:148,column:10}},103:{start:{line:146,column:25},end:{line:146,column:37}},104:{start:{line:146,column:50},end:{line:146,column:64}},105:{start:{line:146,column:77},end:{line:146,column:91}},106:{start:{line:146,column:98},end:{line:146,column:110}},107:{start:{line:146,column:121},end:{line:146,column:156}},108:{start:{line:149,column:8},end:{line:152,column:10}},109:{start:{line:150,column:25},end:{line:150,column:37}},110:{start:{line:150,column:50},end:{line:150,column:64}},111:{start:{line:150,column:77},end:{line:150,column:91}},112:{start:{line:150,column:98},end:{line:150,column:110}},113:{start:{line:150,column:121},end:{line:150,column:156}},114:{start:{line:153,column:8},end:{line:156,column:10}},115:{start:{line:154,column:25},end:{line:154,column:37}},116:{start:{line:154,column:50},end:{line:154,column:64}},117:{start:{line:154,column:77},end:{line:154,column:91}},118:{start:{line:154,column:98},end:{line:154,column:110}},119:{start:{line:154,column:121},end:{line:154,column:156}},120:{start:{line:157,column:8},end:{line:172,column:10}},121:{start:{line:158,column:25},end:{line:158,column:37}},122:{start:{line:158,column:50},end:{line:158,column:64}},123:{start:{line:158,column:77},end:{line:158,column:91}},124:{start:{line:158,column:98},end:{line:158,column:110}},125:{start:{line:158,column:121},end:{line:158,column:156}},126:{start:{line:159,column:23},end:{line:159,column:34}},127:{start:{line:159,column:41},end:{line:159,column:50}},128:{start:{line:160,column:12},end:{line:170,column:13}},129:{start:{line:162,column:20},end:{line:164,column:21}},130:{start:{line:163,column:24},end:{line:163,column:71}},131:{start:{line:165,column:20},end:{line:165,column:26}},132:{start:{line:167,column:20},end:{line:169,column:21}},133:{start:{line:168,column:24},end:{line:168,column:58}},134:{start:{line:173,column:8},end:{line:176,column:10}},135:{start:{line:174,column:23},end:{line:174,column:33}},136:{start:{line:174,column:51},end:{line:174,column:70}},137:{start:{line:177,column:8},end:{line:182,column:10}},138:{start:{line:178,column:30},end:{line:178,column:47}},139:{start:{line:179,column:23},end:{line:179,column:79}},140:{start:{line:181,column:12},end:{line:181,column:53}},141:{start:{line:183,column:8},end:{line:186,column:10}},142:{start:{line:184,column:25},end:{line:184,column:37}},143:{start:{line:184,column:48},end:{line:184,column:60}},144:{start:{line:184,column:73},end:{line:184,column:87}},145:{start:{line:184,column:98},end:{line:184,column:110}},146:{start:{line:184,column:128},end:{line:184,column:147}},147:{start:{line:185,column:12},end:{line:185,column:68}},148:{start:{line:187,column:8},end:{line:190,column:10}},149:{start:{line:188,column:25},end:{line:188,column:37}},150:{start:{line:188,column:48},end:{line:188,column:60}},151:{start:{line:188,column:73},end:{line:188,column:87}},152:{start:{line:188,column:98},end:{line:188,column:110}},153:{start:{line:188,column:128},end:{line:188,column:147}},154:{start:{line:191,column:8},end:{line:194,column:10}},155:{start:{line:192,column:25},end:{line:192,column:37}},156:{start:{line:192,column:48},end:{line:192,column:60}},157:{start:{line:192,column:73},end:{line:192,column:87}},158:{start:{line:192,column:98},end:{line:192,column:110}},159:{start:{line:192,column:128},end:{line:192,column:147}},160:{start:{line:193,column:12},end:{line:193,column:47}},161:{start:{line:195,column:8},end:{line:198,column:10}},162:{start:{line:196,column:27},end:{line:196,column:41}},163:{start:{line:196,column:59},end:{line:196,column:78}},164:{start:{line:199,column:8},end:{line:201,column:10}},165:{start:{line:200,column:32},end:{line:200,column:51}},166:{start:{line:200,column:60},end:{line:200,column:70}},167:{start:{line:200,column:78},end:{line:200,column:87}},168:{start:{line:200,column:98},end:{line:200,column:110}},169:{start:{line:200,column:123},end:{line:200,column:137}},170:{start:{line:200,column:149},end:{line:200,column:162}},171:{start:{line:200,column:174},end:{line:200,column:187}},172:{start:{line:211,column:8},end:{line:226,column:10}},173:{start:{line:212,column:32},end:{line:212,column:51}},174:{start:{line:212,column:60},end:{line:212,column:70}},175:{start:{line:212,column:78},end:{line:212,column:87}},176:{start:{line:212,column:98},end:{line:212,column:110}},177:{start:{line:212,column:123},end:{line:212,column:137}},178:{start:{line:212,column:149},end:{line:212,column:162}},179:{start:{line:212,column:174},end:{line:212,column:187}},180:{start:{line:213,column:12},end:{line:225,column:13}},181:{start:{line:215,column:20},end:{line:217,column:21}},182:{start:{line:216,column:24},end:{line:216,column:53}},183:{start:{line:218,column:20},end:{line:218,column:26}},184:{start:{line:220,column:20},end:{line:220,column:59}},185:{start:{line:221,column:20},end:{line:221,column:26}},186:{start:{line:223,column:20},end:{line:223,column:59}},187:{start:{line:224,column:20},end:{line:224,column:26}},188:{start:{line:227,column:8},end:{line:230,column:10}},189:{start:{line:228,column:32},end:{line:228,column:51}},190:{start:{line:228,column:60},end:{line:228,column:70}},191:{start:{line:228,column:78},end:{line:228,column:87}},192:{start:{line:228,column:98},end:{line:228,column:110}},193:{start:{line:228,column:123},end:{line:228,column:137}},194:{start:{line:228,column:149},end:{line:228,column:162}},195:{start:{line:228,column:174},end:{line:228,column:187}},196:{start:{line:231,column:8},end:{line:231,column:35}},197:{start:{line:233,column:4},end:{line:260,column:6}},198:{start:{line:234,column:25},end:{line:234,column:55}},199:{start:{line:234,column:71},end:{line:234,column:102}},200:{start:{line:234,column:115},end:{line:234,column:143}},201:{start:{line:234,column:158},end:{line:234,column:188}},202:{start:{line:235,column:25},end:{line:235,column:54}},203:{start:{line:236,column:19},end:{line:236,column:37}},204:{start:{line:236,column:52},end:{line:236,column:76}},205:{start:{line:236,column:89},end:{line:236,column:111}},206:{start:{line:237,column:19},end:{line:237,column:37}},207:{start:{line:237,column:52},end:{line:237,column:76}},208:{start:{line:237,column:91},end:{line:237,column:115}},209:{start:{line:237,column:129},end:{line:237,column:152}},210:{start:{line:238,column:26},end:{line:238,column:52}},211:{start:{line:239,column:23},end:{line:239,column:49}},212:{start:{line:239,column:60},end:{line:239,column:84}},213:{start:{line:239,column:98},end:{line:239,column:125}},214:{start:{line:240,column:21},end:{line:240,column:43}},215:{start:{line:241,column:45},end:{line:241,column:94}},216:{start:{line:242,column:8},end:{line:242,column:72}},217:{start:{line:243,column:8},end:{line:243,column:74}},218:{start:{line:244,column:8},end:{line:244,column:63}},219:{start:{line:245,column:8},end:{line:245,column:67}},220:{start:{line:246,column:8},end:{line:246,column:67}},221:{start:{line:247,column:8},end:{line:247,column:56}},222:{start:{line:248,column:8},end:{line:248,column:67}},223:{start:{line:249,column:8},end:{line:249,column:67}},224:{start:{line:250,column:8},end:{line:250,column:67}},225:{start:{line:251,column:8},end:{line:251,column:65}},226:{start:{line:252,column:8},end:{line:252,column:63}},227:{start:{line:253,column:8},end:{line:253,column:56}},228:{start:{line:254,column:8},end:{line:254,column:66}},229:{start:{line:255,column:8},end:{line:255,column:93}},230:{start:{line:256,column:8},end:{line:256,column:70}},231:{start:{line:257,column:8},end:{line:257,column:63}},232:{start:{line:258,column:8},end:{line:258,column:59}},233:{start:{line:259,column:8},end:{line:259,column:65}},234:{start:{line:263,column:4},end:{line:271,column:6}},235:{start:{line:264,column:20},end:{line:264,column:24}},236:{start:{line:265,column:8},end:{line:270,column:10}},237:{start:{line:266,column:23},end:{line:266,column:57}},238:{start:{line:267,column:12},end:{line:269,column:13}},239:{start:{line:268,column:16},end:{line:268,column:27}},240:{start:{line:272,column:4},end:{line:275,column:6}},241:{start:{line:273,column:24},end:{line:273,column:47}},242:{start:{line:274,column:8},end:{line:274,column:66}},243:{start:{line:276,column:4},end:{line:276,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:38},end:{line:15,column:39}},loc:{start:{line:15,column:50},end:{line:277,column:1}},line:15},1:{name:"ActionDispatcher",decl:{start:{line:16,column:13},end:{line:16,column:29}},loc:{start:{line:16,column:55},end:{line:232,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:21,column:36},end:{line:21,column:37}},loc:{start:{line:21,column:53},end:{line:36,column:9}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:37,column:43},end:{line:37,column:44}},loc:{start:{line:37,column:71},end:{line:40,column:9}},line:37},4:{name:"(anonymous_4)",decl:{start:{line:41,column:54},end:{line:41,column:55}},loc:{start:{line:41,column:93},end:{line:48,column:9}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:49,column:26},end:{line:49,column:27}},loc:{start:{line:49,column:43},end:{line:85,column:9}},line:49},6:{name:"(anonymous_6)",decl:{start:{line:86,column:31},end:{line:86,column:32}},loc:{start:{line:86,column:48},end:{line:112,column:9}},line:86},7:{name:"(anonymous_7)",decl:{start:{line:113,column:29},end:{line:113,column:30}},loc:{start:{line:113,column:46},end:{line:134,column:9}},line:113},8:{name:"(anonymous_8)",decl:{start:{line:135,column:33},end:{line:135,column:34}},loc:{start:{line:135,column:50},end:{line:144,column:9}},line:135},9:{name:"(anonymous_9)",decl:{start:{line:145,column:31},end:{line:145,column:32}},loc:{start:{line:145,column:48},end:{line:148,column:9}},line:145},10:{name:"(anonymous_10)",decl:{start:{line:149,column:31},end:{line:149,column:32}},loc:{start:{line:149,column:48},end:{line:152,column:9}},line:149},11:{name:"(anonymous_11)",decl:{start:{line:153,column:30},end:{line:153,column:31}},loc:{start:{line:153,column:47},end:{line:156,column:9}},line:153},12:{name:"(anonymous_12)",decl:{start:{line:157,column:26},end:{line:157,column:27}},loc:{start:{line:157,column:43},end:{line:172,column:9}},line:157},13:{name:"(anonymous_13)",decl:{start:{line:173,column:34},end:{line:173,column:35}},loc:{start:{line:173,column:51},end:{line:176,column:9}},line:173},14:{name:"(anonymous_14)",decl:{start:{line:177,column:37},end:{line:177,column:38}},loc:{start:{line:177,column:54},end:{line:182,column:9}},line:177},15:{name:"(anonymous_15)",decl:{start:{line:183,column:37},end:{line:183,column:38}},loc:{start:{line:183,column:54},end:{line:186,column:9}},line:183},16:{name:"(anonymous_16)",decl:{start:{line:187,column:29},end:{line:187,column:30}},loc:{start:{line:187,column:46},end:{line:190,column:9}},line:187},17:{name:"(anonymous_17)",decl:{start:{line:191,column:31},end:{line:191,column:32}},loc:{start:{line:191,column:48},end:{line:194,column:9}},line:191},18:{name:"(anonymous_18)",decl:{start:{line:195,column:31},end:{line:195,column:32}},loc:{start:{line:195,column:48},end:{line:198,column:9}},line:195},19:{name:"(anonymous_19)",decl:{start:{line:199,column:27},end:{line:199,column:28}},loc:{start:{line:199,column:44},end:{line:201,column:9}},line:199},20:{name:"(anonymous_20)",decl:{start:{line:211,column:29},end:{line:211,column:30}},loc:{start:{line:211,column:46},end:{line:226,column:9}},line:211},21:{name:"(anonymous_21)",decl:{start:{line:227,column:30},end:{line:227,column:31}},loc:{start:{line:227,column:47},end:{line:230,column:9}},line:227},22:{name:"(anonymous_22)",decl:{start:{line:233,column:53},end:{line:233,column:54}},loc:{start:{line:233,column:65},end:{line:260,column:5}},line:233},23:{name:"(anonymous_23)",decl:{start:{line:263,column:59},end:{line:263,column:60}},loc:{start:{line:263,column:78},end:{line:271,column:5}},line:263},24:{name:"(anonymous_24)",decl:{start:{line:265,column:15},end:{line:265,column:16}},loc:{start:{line:265,column:28},end:{line:270,column:9}},line:265},25:{name:"(anonymous_25)",decl:{start:{line:272,column:53},end:{line:272,column:54}},loc:{start:{line:272,column:79},end:{line:275,column:5}},line:272}},branchMap:{0:{loc:{start:{line:24,column:12},end:{line:35,column:13}},type:"switch",locations:[{start:{line:25,column:16},end:{line:27,column:26}},{start:{line:28,column:16},end:{line:28,column:61}},{start:{line:29,column:16},end:{line:31,column:26}},{start:{line:32,column:16},end:{line:34,column:26}}],line:24},1:{loc:{start:{line:38,column:12},end:{line:38,column:63}},type:"if",locations:[{start:{line:38,column:12},end:{line:38,column:63}},{start:{line:38,column:12},end:{line:38,column:63}}],line:38},2:{loc:{start:{line:42,column:12},end:{line:42,column:63}},type:"if",locations:[{start:{line:42,column:12},end:{line:42,column:63}},{start:{line:42,column:12},end:{line:42,column:63}}],line:42},3:{loc:{start:{line:50,column:94},end:{line:50,column:129}},type:"cond-expr",locations:[{start:{line:50,column:110},end:{line:50,column:124}},{start:{line:50,column:127},end:{line:50,column:129}}],line:50},4:{loc:{start:{line:54,column:12},end:{line:84,column:13}},type:"switch",locations:[{start:{line:55,column:16},end:{line:61,column:26}},{start:{line:62,column:16},end:{line:64,column:26}},{start:{line:65,column:16},end:{line:75,column:26}},{start:{line:76,column:16},end:{line:80,column:26}},{start:{line:81,column:16},end:{line:83,column:26}}],line:54},5:{loc:{start:{line:56,column:20},end:{line:60,column:21}},type:"if",locations:[{start:{line:56,column:20},end:{line:60,column:21}},{start:{line:56,column:20},end:{line:60,column:21}}],line:56},6:{loc:{start:{line:66,column:20},end:{line:74,column:21}},type:"switch",locations:[{start:{line:67,column:24},end:{line:69,column:34}},{start:{line:70,column:24},end:{line:70,column:45}},{start:{line:71,column:24},end:{line:73,column:34}}],line:66},7:{loc:{start:{line:87,column:94},end:{line:87,column:129}},type:"cond-expr",locations:[{start:{line:87,column:110},end:{line:87,column:124}},{start:{line:87,column:127},end:{line:87,column:129}}],line:87},8:{loc:{start:{line:91,column:12},end:{line:111,column:13}},type:"switch",locations:[{start:{line:92,column:16},end:{line:96,column:26}},{start:{line:97,column:16},end:{line:99,column:26}},{start:{line:100,column:16},end:{line:102,column:26}},{start:{line:103,column:16},end:{line:107,column:26}},{start:{line:108,column:16},end:{line:110,column:26}}],line:91},9:{loc:{start:{line:93,column:20},end:{line:95,column:21}},type:"if",locations:[{start:{line:93,column:20},end:{line:95,column:21}},{start:{line:93,column:20},end:{line:95,column:21}}],line:93},10:{loc:{start:{line:114,column:94},end:{line:114,column:129}},type:"cond-expr",locations:[{start:{line:114,column:110},end:{line:114,column:124}},{start:{line:114,column:127},end:{line:114,column:129}}],line:114},11:{loc:{start:{line:117,column:29},end:{line:117,column:60}},type:"binary-expr",locations:[{start:{line:117,column:29},end:{line:117,column:40}},{start:{line:117,column:44},end:{line:117,column:60}}],line:117},12:{loc:{start:{line:118,column:12},end:{line:133,column:13}},type:"switch",locations:[{start:{line:119,column:16},end:{line:123,column:26}},{start:{line:124,column:16},end:{line:126,column:26}},{start:{line:127,column:16},end:{line:129,column:26}},{start:{line:130,column:16},end:{line:132,column:26}}],line:118},13:{loc:{start:{line:120,column:20},end:{line:122,column:21}},type:"if",locations:[{start:{line:120,column:20},end:{line:122,column:21}},{start:{line:120,column:20},end:{line:122,column:21}}],line:120},14:{loc:{start:{line:138,column:12},end:{line:143,column:13}},type:"if",locations:[{start:{line:138,column:12},end:{line:143,column:13}},{start:{line:138,column:12},end:{line:143,column:13}}],line:138},15:{loc:{start:{line:140,column:16},end:{line:142,column:17}},type:"if",locations:[{start:{line:140,column:16},end:{line:142,column:17}},{start:{line:140,column:16},end:{line:142,column:17}}],line:140},16:{loc:{start:{line:146,column:121},end:{line:146,column:156}},type:"cond-expr",locations:[{start:{line:146,column:137},end:{line:146,column:151}},{start:{line:146,column:154},end:{line:146,column:156}}],line:146},17:{loc:{start:{line:150,column:121},end:{line:150,column:156}},type:"cond-expr",locations:[{start:{line:150,column:137},end:{line:150,column:151}},{start:{line:150,column:154},end:{line:150,column:156}}],line:150},18:{loc:{start:{line:154,column:121},end:{line:154,column:156}},type:"cond-expr",locations:[{start:{line:154,column:137},end:{line:154,column:151}},{start:{line:154,column:154},end:{line:154,column:156}}],line:154},19:{loc:{start:{line:158,column:121},end:{line:158,column:156}},type:"cond-expr",locations:[{start:{line:158,column:137},end:{line:158,column:151}},{start:{line:158,column:154},end:{line:158,column:156}}],line:158},20:{loc:{start:{line:160,column:12},end:{line:170,column:13}},type:"switch",locations:[{start:{line:161,column:16},end:{line:165,column:26}},{start:{line:166,column:16},end:{line:169,column:21}}],line:160},21:{loc:{start:{line:162,column:20},end:{line:164,column:21}},type:"if",locations:[{start:{line:162,column:20},end:{line:164,column:21}},{start:{line:162,column:20},end:{line:164,column:21}}],line:162},22:{loc:{start:{line:167,column:20},end:{line:169,column:21}},type:"if",locations:[{start:{line:167,column:20},end:{line:169,column:21}},{start:{line:167,column:20},end:{line:169,column:21}}],line:167},23:{loc:{start:{line:213,column:12},end:{line:225,column:13}},type:"switch",locations:[{start:{line:214,column:16},end:{line:218,column:26}},{start:{line:219,column:16},end:{line:221,column:26}},{start:{line:222,column:16},end:{line:224,column:26}}],line:213},24:{loc:{start:{line:215,column:20},end:{line:217,column:21}},type:"if",locations:[{start:{line:215,column:20},end:{line:217,column:21}},{start:{line:215,column:20},end:{line:217,column:21}}],line:215},25:{loc:{start:{line:267,column:12},end:{line:269,column:13}},type:"if",locations:[{start:{line:267,column:12},end:{line:269,column:13}},{start:{line:267,column:12},end:{line:269,column:13}}],line:267}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0,0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0,0,0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0,0],24:[0,0],25:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/ActionDispatcher.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/ActionDispatcher.ts"],names:[],mappings:"AAIA,OAAO,EAAE,QAAQ,EAAE,MAAM,oCAAoC,CAAC;AAC9D,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAC3E,OAAO,EACL,kBAAkB,EAClB,aAAa,EACb,aAAa,EAEb,iBAAiB,EACjB,mBAAmB,EACnB,kBAAkB,EAClB,cAAc,EACd,eAAe,EAChB,MAAM,wCAAwC,CAAC;AAChD,OAAO,EACL,YAAY,EACZ,WAAW,EAUZ,MAAM,2CAA2C,CAAC;AACnD,OAAO,kBAAkB,MAAM,4CAA4C,CAAC;AAC5E,OAAO,EACL,eAAe,EAAE,gBAAgB,EAAE,cAAc,EAAE,iBAAiB,EAAE,mBAAmB,EAC1F,MAAM,8CAA8C,CAAC;AACtD,OAAO,EACL,qBAAqB,EACrB,0BAA0B,EAC1B,qBAAqB,EACrB,0BAA0B,EAC1B,4BAA4B,EAC7B,MAAM,kDAAkD,CAAC;AAC1D,OAAO,EAAE,yBAAyB,EAAE,MAAM,kDAAkD,CAAC;AAC7F,OAAO,EAAE,eAAe,EAAE,MAAM,yBAAyB,CAAC;AAC1D,OAAO,EACL,eAAe,EACf,gBAAgB,EAChB,cAAc,EACd,iBAAiB,EACjB,mBAAmB,EACnB,uBAAuB,EACvB,0BAA0B,EAC1B,4BAA4B,EAC7B,MAAM,8CAA8C,CAAC;AACtD,OAAO,EACL,eAAe,EACf,oBAAoB,EACrB,MAAM,gDAAgD,CAAC;AAExD,OAAO,EAA2C,UAAU,EAAY,MAAM,0BAA0B,CAAC;AACzG,OAAO,EACL,eAAe,EACf,oBAAoB,EACpB,mBAAmB,EACnB,qBAAqB,EACrB,mBAAmB,EACpB,MAAM,wDAAwD,CAAC;AAEhE,IAAM,cAAc,GAAG,WAAW,CAAC;AACnC;IACE,0BACU,QAAkB,EAClB,KAAkD,EAClD,MAAyC;QAHnD,iBAOC;QANS,aAAQ,GAAR,QAAQ,CAAU;QAClB,UAAK,GAAL,KAAK,CAA6C;QAClD,WAAM,GAAN,MAAM,CAAmC;QAuD3C,yBAAoB,GAAG,UAAC,KAAgC;YACtD,IAAA,MAAM,GAAK,KAAK,OAAV,CAAW;YACjB,IAAA,IAAI,GAAS,MAAM,KAAf,EAAE,EAAE,GAAK,MAAM,GAAX,CAAY;YAE5B,QAAQ,IAAI,EAAE;gBACZ,KAAK,0BAA0B,CAAC,IAAI;oBAClC,eAAe,CAAC,KAAI,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBAChC,MAAM;gBACR,KAAK,CAAC,0BAA0B,CAAC,UAAU,CAAC,CAAC;gBAC7C,KAAK,CAAC,0BAA0B,CAAC,IAAI,CAAC;oBACpC,eAAe,CAAC,KAAI,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBAChC,MAAM;gBACR,KAAK,CAAC,0BAA0B,CAAC,SAAS,CAAC;oBACzC,oBAAoB,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;oBACjC,MAAM;aACT;QACH,CAAC,CAAA;QAEO,gCAA2B,GAAG,UACpC,QAAkB,EAClB,MAAuB;YAAvB,uBAAA,EAAA,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;YACV,OAAA,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC;QAA1B,CAA0B,CAAA;QAEjC,2CAAsC,GAAG,UAC/C,QAAkB,EAClB,SAAgC,EAChC,MAAuB;YAAvB,uBAAA,EAAA,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;YAEvB,IAAM,cAAc,GAAG,KAAI,CAAC,2BAA2B,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;YAC1E,OAAO;gBACL,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK;gBAC9D,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK;aAC/D,CAAC;QACJ,CAAC,CAAA;QAEO,eAAU,GAAG,UAAC,KAA0B;YACtC,IAAA,MAAM,GAAwC,KAAK,OAA7C,EAAE,QAAQ,GAA8B,KAAK,SAAnC,EAAE,KAA4B,KAAK,OAAV,EAAvB,MAAM,mBAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAA,CAAW;YACpD,IAAA,IAAI,GAAS,MAAM,KAAf,EAAE,EAAE,GAAK,MAAM,GAAX,CAAY;YAC5B,IAAM,UAAU,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC;YACrD,IAAM,cAAc,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC;YAEvD,QAAQ,IAAI,EAAE;gBACZ,KAAK,0BAA0B,CAAC,iBAAiB;oBAC/C,IAAI,EAAE,EAAE;wBACN,IAAM,kBAAkB,GAAG,KAAI,CAAC,2BAA2B,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;wBAC9E,IAAM,gBAAgB,GAAG,MAAM,CAAC,cAA6B,CAAC;wBAC9D,eAAe,CACb,KAAI,CAAC,KAAK,EACV,EAAE,EACF,gBAAgB,EAChB,kBAAkB,EAClB,cAAc,CAAC,iBAAiB,CACjC,CAAC;qBACH;oBACD,MAAM;gBACR,KAAK,0BAA0B,CAAC,IAAI;oBAClC,cAAc,CAAC,KAAI,CAAC,KAAK,EAAE,EAAE,EAAE,KAAI,CAAC,sCAAsC,CAAC,QAAQ,EAAE,cAAc,EAAE,MAAM,CAAC,CAAC,CAAC;oBAC9G,MAAM;gBACR,KAAK,0BAA0B,CAAC,SAAS;oBACvC,QAAQ,UAAU,EAAE;wBAClB,KAAK,UAAU,CAAC,MAAM;4BACpB,4BAA4B,CAC1B,KAAI,CAAC,KAAK,EACV,KAAI,CAAC,sCAAsC,CAAC,QAAQ,EAAE,cAAc,CAAC,CACtE,CAAC;4BACF,MAAM;wBACR,KAAK,UAAU,CAAC,IAAI,CAAC;wBACrB;4BACE,mBAAmB,CAAC,KAAI,CAAC,KAAK,EAAE,KAAI,CAAC,2BAA2B,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC,CAAC;4BACpF,MAAM;qBACT;oBACD,MAAM;gBACR,KAAK,CAAC,0BAA0B,CAAC,cAAc,CAAC;oBAC9C,cAAc,CACZ,KAAI,CAAC,KAAK;oBACV,mFAAmF;oBACnF,KAAI,CAAC,sCAAsC,CAAC,QAAQ,EAAE,cAAc,CAAC,CACtE,CAAC;oBACF,MAAM;gBACR,KAAK,CAAC,0BAA0B,CAAC,cAAc,CAAC;oBAC9C,uBAAuB,CACrB,KAAI,CAAC,KAAK,EACV,KAAI,CAAC,sCAAsC,CAAC,QAAQ,EAAE,cAAc,CAAC,CACtE,CAAC;oBACF,MAAM;aACT;QACH,CAAC,CAAA;QAEO,oBAAe,GAAG,UAAC,KAA0B;YAC3C,IAAA,MAAM,GAAwC,KAAK,OAA7C,EAAE,QAAQ,GAA8B,KAAK,SAAnC,EAAE,KAA4B,KAAK,OAAV,EAAvB,MAAM,mBAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAA,CAAW;YACpD,IAAA,IAAI,GAAS,MAAM,KAAf,EAAE,EAAE,GAAK,MAAM,GAAX,CAAY;YAC5B,IAAM,UAAU,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC;YACrD,IAAM,cAAc,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC;YAEvD,QAAQ,IAAI,EAAE;gBACZ,KAAK,0BAA0B,CAAC,SAAS;oBACvC,IAAI,UAAU,KAAK,UAAU,CAAC,MAAM,EAAE;wBACpC,0BAA0B,CACxB,KAAI,CAAC,KAAK,EACV,KAAI,CAAC,sCAAsC,CAAC,QAAQ,EAAE,cAAc,CAAC,CACtE,CAAC;qBACH;oBACD,MAAM;gBACR,KAAK,0BAA0B,CAAC,iBAAiB;oBAC/C,oBAAoB,CAAC,KAAI,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBACrC,MAAM;gBACR,KAAK,0BAA0B,CAAC,IAAI;oBAClC,mBAAmB,CAAC,KAAI,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBACpC,MAAM;gBACR,KAAK,CAAC,0BAA0B,CAAC,cAAc,CAAC;oBAC9C,mBAAmB,CACjB,KAAI,CAAC,KAAK,EACV,EAAE;oBACF,mFAAmF;oBACnF,KAAI,CAAC,sCAAsC,CAAC,QAAQ,EAAE,cAAc,CAAC,CACtE,CAAC;oBACF,MAAM;gBACR,KAAK,CAAC,0BAA0B,CAAC,cAAc,CAAC;oBAC9C,4BAA4B,CAC1B,KAAI,CAAC,KAAK,EACV,KAAI,CAAC,MAAM,EACX,MAAM,EACN,KAAI,CAAC,sCAAsC,CAAC,QAAQ,EAAE,cAAc,CAAC,CACtE,CAAC;oBACF,MAAM;aACT;QACH,CAAC,CAAA;QAEO,kBAAa,GAAG,UAAC,KAA0B;YACzC,IAAA,MAAM,GAAwC,KAAK,OAA7C,EAAE,QAAQ,GAA8B,KAAK,SAAnC,EAAE,KAA4B,KAAK,OAAV,EAAvB,MAAM,mBAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAA,CAAW;YACpD,IAAA,IAAI,GAAS,MAAM,KAAf,EAAE,EAAE,GAAK,MAAM,GAAX,CAAY;YAC5B,IAAM,WAAW,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC;YACjD,IAAM,UAAU,GAAG,WAAW,IAAI,WAAW,CAAC,IAAI,CAAC;YAEnD,QAAQ,IAAI,EAAE;gBACZ,KAAK,0BAA0B,CAAC,SAAS;oBACvC,IAAI,UAAU,KAAK,UAAU,CAAC,MAAM,EAAE;wBACpC,0BAA0B,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;qBACxC;oBACD,MAAM;gBACR,KAAK,0BAA0B,CAAC,IAAI;oBAClC,iBAAiB,CAAC,KAAI,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBAClC,MAAM;gBACR,KAAK,CAAC,0BAA0B,CAAC,cAAc,CAAC;oBAC9C,iBAAiB,CAAC,KAAI,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBAClC,MAAM;gBACR,KAAK,CAAC,0BAA0B,CAAC,cAAc,CAAC;oBAC9C,0BAA0B,CAAC,KAAI,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBAC3C,MAAM;aACT;QACH,CAAC,CAAA;QAEO,sBAAiB,GAAG,UAAC,KAAiC;YACpD,IAAA,KAAK,GAA8B,KAAK,MAAnC,EAAE,aAAa,GAAe,KAAK,cAApB,EAAE,QAAQ,GAAK,KAAK,SAAV,CAAW;YAEjD,IAAM,WAAW,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC;YAEjD,IAAI,kBAAkB,CAAC,SAAS,CAAC,aAAa,EAAE,cAAc,EAAE,0BAA0B,CAAC,SAAS,CAAC,EAAE;gBACrG,aAAa,CAAC,cAAc,EAAE,CAAC;gBAE/B,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE;oBAC5B,mBAAmB,CAAC,KAAI,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;iBACnD;aACF;QACH,CAAC,CAAA;QAEO,oBAAe,GAAG,UAAC,KAA0B;YAC3C,IAAA,MAAM,GAAkD,KAAK,OAAvD,EAAE,QAAQ,GAAwC,KAAK,SAA7C,EAAE,QAAQ,GAA8B,KAAK,SAAnC,EAAE,KAA4B,KAAK,OAAV,EAAvB,MAAM,mBAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAA,CAAW;YAEtE,oBAAoB;QACtB,CAAC,CAAA;QAEO,oBAAe,GAAG,UAAC,KAA0B;YAC3C,IAAA,MAAM,GAAkD,KAAK,OAAvD,EAAE,QAAQ,GAAwC,KAAK,SAA7C,EAAE,QAAQ,GAA8B,KAAK,SAAnC,EAAE,KAA4B,KAAK,OAAV,EAAvB,MAAM,mBAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAA,CAAW;YAEtE,oBAAoB;QACtB,CAAC,CAAA;QAEO,mBAAc,GAAG,UAAC,KAA0B;YAC1C,IAAA,MAAM,GAAkD,KAAK,OAAvD,EAAE,QAAQ,GAAwC,KAAK,SAA7C,EAAE,QAAQ,GAA8B,KAAK,SAAnC,EAAE,KAA4B,KAAK,OAAV,EAAvB,MAAM,mBAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAA,CAAW;YAEtE,mBAAmB;QACrB,CAAC,CAAA;QAEO,eAAU,GAAG,UAAC,KAA0B;YACtC,IAAA,MAAM,GAAkD,KAAK,OAAvD,EAAE,QAAQ,GAAwC,KAAK,SAA7C,EAAE,QAAQ,GAA8B,KAAK,SAAnC,EAAE,KAA4B,KAAK,OAAV,EAAvB,MAAM,mBAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAA,CAAW;YAC9D,IAAA,IAAI,GAAS,MAAM,KAAf,EAAE,EAAE,GAAK,MAAM,GAAX,CAAY;YAE5B,QAAQ,QAAQ,CAAC,IAAI,EAAE;gBACrB,KAAK,CAAC,0BAA0B,CAAC,cAAc,CAAC;oBAC9C,IAAI,IAAI,KAAK,0BAA0B,CAAC,cAAc,EAAE;wBACtD,gBAAgB,CAAC,KAAI,CAAC,KAAK,EAAE,EAAE,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;qBAC/C;oBACD,MAAM;gBACR,KAAK,CAAC,0BAA0B,CAAC,SAAS,CAAC;oBACzC,IAAI,IAAI,KAAK,0BAA0B,CAAC,cAAc,EAAE;wBACtD,gBAAgB,CAAC,KAAI,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;qBAClC;aACJ;YAED,cAAc;QAChB,CAAC,CAAA;QAEO,uBAAkB,GAAG,UAAC,KAA4B;YAChD,IAAA,IAAI,GAAoB,KAAK,KAAzB,EAAE,aAAa,GAAK,KAAK,cAAV,CAAW;YACtC,uBAAuB;QACzB,CAAC,CAAA;QAEO,0BAAqB,GAAG,UAAC,KAA+B;YACtD,IAAA,WAAW,GAAK,KAAK,YAAV,CAAW;YAE9B,IAAM,IAAI,GAAG,EAAE,MAAM,EAAE,WAAW,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,KAAK,EAAE,CAAC;YAEtE,0BAA0B;YAC1B,qBAAqB,CAAC,KAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QAC1C,CAAC,CAAA;QAEO,0BAAqB,GAAG,UAAC,KAAgC;YACvD,IAAA,MAAM,GAA8C,KAAK,OAAnD,EAAE,MAAM,GAAsC,KAAK,OAA3C,EAAE,QAAQ,GAA4B,KAAK,SAAjC,EAAE,MAAM,GAAoB,KAAK,OAAzB,EAAE,aAAa,GAAK,KAAK,cAAV,CAAW;YAElE,qBAAqB,CAAC,KAAI,CAAC,KAAK,EAAE,KAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QACxD,CAAC,CAAA;QAEO,kBAAa,GAAG,UAAC,KAAgC;YAC/C,IAAA,MAAM,GAA8C,KAAK,OAAnD,EAAE,MAAM,GAAsC,KAAK,OAA3C,EAAE,QAAQ,GAA4B,KAAK,SAAjC,EAAE,MAAM,GAAoB,KAAK,OAAzB,EAAE,aAAa,GAAK,KAAK,cAAV,CAAW;YAElE,kBAAkB;QACpB,CAAC,CAAA;QAEO,oBAAe,GAAG,UAAC,KAAgC;YACjD,IAAA,MAAM,GAA8C,KAAK,OAAnD,EAAE,MAAM,GAAsC,KAAK,OAA3C,EAAE,QAAQ,GAA4B,KAAK,SAAjC,EAAE,MAAM,GAAoB,KAAK,OAAzB,EAAE,aAAa,GAAK,KAAK,cAAV,CAAW;YAElE,qBAAqB,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC,CAAA;QAEO,oBAAe,GAAG,UAAC,KAA+B;YAChD,IAAA,QAAQ,GAAoB,KAAK,SAAzB,EAAE,aAAa,GAAK,KAAK,cAAV,CAAW;YAE1C,oBAAoB;QACtB,CAAC,CAAA;QAEO,gBAAW,GAAG,UAAC,KAA8B;YAC3C,IAAA,aAAa,GAAoD,KAAK,cAAzD,EAAE,IAAI,GAA8C,KAAK,KAAnD,EAAE,GAAG,GAAyC,KAAK,IAA9C,EAAE,MAAM,GAAiC,KAAK,OAAtC,EAAE,QAAQ,GAAuB,KAAK,SAA5B,EAAE,OAAO,GAAc,KAAK,QAAnB,EAAE,OAAO,GAAK,KAAK,QAAV,CAAW;QAEjF,CAAC,CAAA;QAED,8FAA8F;QAC9F,8EAA8E;QAC9E,4FAA4F;QAC5F,6FAA6F;QAC7F,kEAAkE;QAClE,EAAE;QACF,qEAAqE;QACrE,gEAAgE;QAChE,gEAAgE;QAExD,kBAAa,GAAG,UAAC,KAA8B;YAC7C,IAAA,aAAa,GAAoD,KAAK,cAAzD,EAAE,IAAI,GAA8C,KAAK,KAAnD,EAAE,GAAG,GAAyC,KAAK,IAA9C,EAAE,MAAM,GAAiC,KAAK,OAAtC,EAAE,QAAQ,GAAuB,KAAK,SAA5B,EAAE,OAAO,GAAc,KAAK,QAAnB,EAAE,OAAO,GAAK,KAAK,QAAV,CAAW;YAE/E,QAAQ,GAAG,EAAE;gBACX,KAAK,WAAW,CAAC,CAAC;oBAChB,IAAI,MAAM,EAAE;wBACV,eAAe,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;qBAC7B;oBACD,MAAM;gBACR,KAAK,YAAY,CAAC,MAAM;oBACtB,yBAAyB,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;oBACtC,MAAM;gBACR,KAAK,YAAY,CAAC,SAAS;oBACzB,yBAAyB,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;oBACtC,MAAM;aACT;QACH,CAAC,CAAA;QAEO,mBAAc,GAAG,UAAC,KAA8B;YAC9C,IAAA,aAAa,GAAoD,KAAK,cAAzD,EAAE,IAAI,GAA8C,KAAK,KAAnD,EAAE,GAAG,GAAyC,KAAK,IAA9C,EAAE,MAAM,GAAiC,KAAK,OAAtC,EAAE,QAAQ,GAAuB,KAAK,SAA5B,EAAE,OAAO,GAAc,KAAK,QAAnB,EAAE,OAAO,GAAK,KAAK,QAAV,CAAW;YAE/E,mBAAmB;QACrB,CAAC,CAAA;QA1UC,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC7B,CAAC;IAEO,8CAAmB,GAA3B;QACU,IAAA,UAAU,GAAwC,mBAAmB,WAA3D,EAAE,WAAW,GAA2B,mBAAmB,YAA9C,EAAE,QAAQ,GAAiB,mBAAmB,SAApC,EAAE,UAAU,GAAK,mBAAmB,WAAxB,CAAyB;QACtE,IAAA,UAAU,GAAK,kBAAkB,WAAvB,CAAwB;QAClC,IAAA,IAAI,GAA2B,aAAa,KAAxC,EAAE,UAAU,GAAe,aAAa,WAA5B,EAAE,QAAQ,GAAK,aAAa,SAAlB,CAAmB;QAC7C,IAAA,IAAI,GAAwC,aAAa,KAArD,EAAE,UAAU,GAA4B,aAAa,WAAzC,EAAE,UAAU,GAAgB,aAAa,WAA7B,EAAE,SAAS,GAAK,aAAa,UAAlB,CAAmB;QAC1D,IAAA,WAAW,GAAK,cAAc,YAAnB,CAAoB;QAC/B,IAAA,QAAQ,GAAwB,iBAAiB,SAAzC,EAAE,MAAM,GAAgB,iBAAiB,OAAjC,EAAE,SAAS,GAAK,iBAAiB,UAAtB,CAAuB;QAClD,IAAA,MAAM,GAAK,eAAe,OAApB,CAAqB;QAC3B,IAAA,8BAA8B,GAAK,kBAAkB,+BAAvB,CAAwB;QAE9D,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAChE,IAAI,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAClE,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QACvD,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC3D,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC3D,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAChD,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC3D,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC3D,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC3D,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QACzD,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QACvD,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAChD,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC1D,IAAI,CAAC,mBAAmB,CAAC,8BAA8B,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;QACrF,IAAI,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAC9D,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QACvD,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;IAC3D,CAAC;IAED,sEAAsE;IACtE,yEAAyE;IAEjE,oDAAyB,GAAjC,UAAkC,OAA6B;QAA/D,iBAQC;QAPC,OAAO,UAAC,CAAkB;YAChB,IAAA,IAAI,GAAK,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,KAAjC,CAAkC;YAE9C,IAAI,eAAe,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE;gBAC5B,OAAO,CAAC,CAAC,CAAC,CAAC;aACZ;QACH,CAAC,CAAC;IACJ,CAAC;IAEO,8CAAmB,GAA3B,UAA4B,KAAgB,EAAE,OAA6B;QACjE,IAAA,SAAS,GAAK,IAAI,CAAC,QAAQ,UAAlB,CAAmB;QAEpC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,CAAC,CAAC;IAC5D,CAAC;IAyRH,uBAAC;AAAD,CAAC,AAlVD,IAkVC",sourcesContent:["import { Store } from 'redux';\n\nimport ConfigService from 'diagramMaker/service/ConfigService';\nimport Observer from 'diagramMaker/service/observer/Observer';\nimport { subtract } from 'diagramMaker/service/positionUtils';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport {\n  ContainerEventType,\n  DragEventType,\n  DropEventType,\n  EventType,\n  KeyboardEventType,\n  MouseClickEventType,\n  MouseMoveEventType,\n  WheelEventType,\n  WindowEventType\n} from 'diagramMaker/service/ui/UIEventManager';\nimport {\n  KeyboardCode,\n  KeyboardKey,\n  NormalizedContainerEvent,\n  NormalizedDragEvent,\n  NormalizedDropEvent,\n  NormalizedEvent,\n  NormalizedKeyboardEvent,\n  NormalizedMouseClickEvent,\n  NormalizedMouseMoveEvent,\n  NormalizedMouseScrollEvent,\n  NormalizedWindowEvent\n} from 'diagramMaker/service/ui/UIEventNormalizer';\nimport UITargetNormalizer from 'diagramMaker/service/ui/UITargetNormalizer';\nimport {\n  handleEdgeClick, handleEdgeCreate, handleEdgeDrag, handleEdgeDragEnd, handleEdgeDragStart\n} from 'diagramMaker/state/edge/edgeActionDispatcher';\nimport {\n  handleHideContextMenu,\n  handleHideSelectionMarquee,\n  handleShowContextMenu,\n  handleShowSelectionMarquee,\n  handleUpdateSelectionMarquee\n} from 'diagramMaker/state/editor/editorActionDispatcher';\nimport { handleDeleteSelectedItems } from 'diagramMaker/state/global/globalActionDispatcher';\nimport { rootEventFilter } from 'diagramMaker/state/mode';\nimport {\n  handleNodeClick,\n  handleNodeCreate,\n  handleNodeDrag,\n  handleNodeDragEnd,\n  handleNodeDragStart,\n  handlePotentialNodeDrag,\n  handlePotentialNodeDragEnd,\n  handlePotentialNodeDragStart\n} from 'diagramMaker/state/node/nodeActionDispatcher';\nimport {\n  handlePanelDrag,\n  handlePanelDragStart\n} from 'diagramMaker/state/panel/panelActionDispatcher';\n\nimport { DiagramMakerData, DiagramMakerWorkspace, EditorMode, Position } from 'diagramMaker/state/types';\nimport {\n  handleSelectAll,\n  handleWorkspaceClick,\n  handleWorkspaceDrag,\n  handleWorkspaceResize,\n  handleWorkspaceZoom\n} from 'diagramMaker/state/workspace/workspaceActionDispatcher';\n\nconst DATA_ATTR_TYPE = 'data-type';\nexport default class ActionDispatcher<NodeType, EdgeType> {\n  constructor(\n    private observer: Observer,\n    private store: Store<DiagramMakerData<NodeType, EdgeType>>,\n    private config: ConfigService<NodeType, EdgeType>\n  ) {\n\n    this.subscribeToUIEvents();\n  }\n\n  private subscribeToUIEvents() {\n    const { LEFT_CLICK, RIGHT_CLICK, MOUSE_UP, MOUSE_DOWN } = MouseClickEventType;\n    const { MOUSE_MOVE } = MouseMoveEventType;\n    const { DRAG, DRAG_START, DRAG_END } = DragEventType;\n    const { DROP, DRAG_ENTER, DRAG_LEAVE, DRAG_OVER } = DropEventType;\n    const { MOUSE_WHEEL } = WheelEventType;\n    const { KEY_DOWN, KEY_UP, KEY_PRESS } = KeyboardEventType;\n    const { RESIZE } = WindowEventType;\n    const { DIAGRAM_MAKER_CONTAINER_UPDATE } = ContainerEventType;\n\n    this.subscribeWithFilter(LEFT_CLICK, this.handleLeftMouseClick);\n    this.subscribeWithFilter(RIGHT_CLICK, this.handleRightMouseClick);\n    this.subscribeWithFilter(MOUSE_UP, this.handleMouseUp);\n    this.subscribeWithFilter(MOUSE_DOWN, this.handleMouseDown);\n    this.subscribeWithFilter(MOUSE_MOVE, this.handleMouseMove);\n    this.subscribeWithFilter(DRAG, this.handleDrag);\n    this.subscribeWithFilter(DRAG_START, this.handleDragStart);\n    this.subscribeWithFilter(DRAG_ENTER, this.handleDragEnter);\n    this.subscribeWithFilter(DRAG_LEAVE, this.handleDragLeave);\n    this.subscribeWithFilter(DRAG_OVER, this.handleDragOver);\n    this.subscribeWithFilter(DRAG_END, this.handleDragEnd);\n    this.subscribeWithFilter(DROP, this.handleDrop);\n    this.subscribeWithFilter(RESIZE, this.handleWindowResize);\n    this.subscribeWithFilter(DIAGRAM_MAKER_CONTAINER_UPDATE, this.handleContainerUpdate);\n    this.subscribeWithFilter(MOUSE_WHEEL, this.handleWheelScroll);\n    this.subscribeWithFilter(KEY_DOWN, this.handleKeyDown);\n    this.subscribeWithFilter(KEY_UP, this.handleKeyUp);\n    this.subscribeWithFilter(KEY_PRESS, this.handleKeyPress);\n  }\n\n  // Typescript will not allow `event` to be typed as `NormalizedEvent`,\n  // which is a union type of all possible normalized events.  No idea why.\n\n  private createEventFilterCallback(handler: (event: any) => void): (e: NormalizedEvent) => void {\n    return (e: NormalizedEvent) => {\n      const { mode } = this.store.getState().editor;\n\n      if (rootEventFilter(e, mode)) {\n        handler(e);\n      }\n    };\n  }\n\n  private subscribeWithFilter(event: EventType, handler: (event: any) => void): void {\n    const { subscribe } = this.observer;\n\n    subscribe(event, this.createEventFilterCallback(handler));\n  }\n\n  private handleLeftMouseClick = (event: NormalizedMouseClickEvent): void => {\n    const { target } = event;\n    const { type, id } = target;\n\n    switch (type) {\n      case DiagramMakerComponentsType.NODE:\n        handleNodeClick(this.store, id);\n        break;\n      case (DiagramMakerComponentsType.EDGE_BADGE):\n      case (DiagramMakerComponentsType.EDGE):\n        handleEdgeClick(this.store, id);\n        break;\n      case (DiagramMakerComponentsType.WORKSPACE):\n        handleWorkspaceClick(this.store);\n        break;\n    }\n  }\n\n  private getNormalizedPositionOffset = (\n    position: Position,\n    offset = { x: 0, y: 0 }\n  ): Position => subtract(position, offset)\n\n  private getNormalizedPositionOffsetInWorkspace = (\n    position: Position,\n    workspace: DiagramMakerWorkspace,\n    offset = { x: 0, y: 0 }\n  ): Position => {\n    const targetPosition = this.getNormalizedPositionOffset(position, offset);\n    return {\n      x: (targetPosition.x - workspace.position.x) / workspace.scale,\n      y: (targetPosition.y - workspace.position.y) / workspace.scale\n    };\n  }\n\n  private handleDrag = (event: NormalizedDragEvent): void => {\n    const { target, position, offset = { x: 0, y: 0 } } = event;\n    const { type, id } = target;\n    const editorMode = this.store.getState().editor.mode;\n    const workspaceState = this.store.getState().workspace;\n\n    switch (type) {\n      case DiagramMakerComponentsType.PANEL_DRAG_HANDLE:\n        if (id) {\n          const normalizedPosition = this.getNormalizedPositionOffset(position, offset);\n          const draggableElement = target.originalTarget as HTMLElement;\n          handlePanelDrag(\n            this.store,\n            id,\n            draggableElement,\n            normalizedPosition,\n            workspaceState.viewContainerSize\n          );\n        }\n        break;\n      case DiagramMakerComponentsType.NODE:\n        handleNodeDrag(this.store, id, this.getNormalizedPositionOffsetInWorkspace(position, workspaceState, offset));\n        break;\n      case DiagramMakerComponentsType.WORKSPACE:\n        switch (editorMode) {\n          case EditorMode.SELECT:\n            handleUpdateSelectionMarquee(\n              this.store,\n              this.getNormalizedPositionOffsetInWorkspace(position, workspaceState)\n            );\n            break;\n          case EditorMode.DRAG:\n          default:\n            handleWorkspaceDrag(this.store, this.getNormalizedPositionOffset(position, offset));\n            break;\n        }\n        break;\n      case (DiagramMakerComponentsType.NODE_CONNECTOR):\n        handleEdgeDrag(\n          this.store,\n          // No item offset, bc we want to draw dragged edges right at the tip of the pointer\n          this.getNormalizedPositionOffsetInWorkspace(position, workspaceState)\n        );\n        break;\n      case (DiagramMakerComponentsType.POTENTIAL_NODE):\n        handlePotentialNodeDrag(\n          this.store,\n          this.getNormalizedPositionOffsetInWorkspace(position, workspaceState)\n        );\n        break;\n    }\n  }\n\n  private handleDragStart = (event: NormalizedDragEvent): void => {\n    const { target, position, offset = { x: 0, y: 0 } } = event;\n    const { type, id } = target;\n    const editorMode = this.store.getState().editor.mode;\n    const workspaceState = this.store.getState().workspace;\n\n    switch (type) {\n      case DiagramMakerComponentsType.WORKSPACE:\n        if (editorMode === EditorMode.SELECT) {\n          handleShowSelectionMarquee(\n            this.store,\n            this.getNormalizedPositionOffsetInWorkspace(position, workspaceState)\n          );\n        }\n        break;\n      case DiagramMakerComponentsType.PANEL_DRAG_HANDLE:\n        handlePanelDragStart(this.store, id);\n        break;\n      case DiagramMakerComponentsType.NODE:\n        handleNodeDragStart(this.store, id);\n        break;\n      case (DiagramMakerComponentsType.NODE_CONNECTOR):\n        handleEdgeDragStart(\n          this.store,\n          id,\n          // No item offset, bc we want to draw dragged edges right at the tip of the pointer\n          this.getNormalizedPositionOffsetInWorkspace(position, workspaceState)\n        );\n        break;\n      case (DiagramMakerComponentsType.POTENTIAL_NODE):\n        handlePotentialNodeDragStart(\n          this.store,\n          this.config,\n          target,\n          this.getNormalizedPositionOffsetInWorkspace(position, workspaceState)\n        );\n        break;\n    }\n  }\n\n  private handleDragEnd = (event: NormalizedDragEvent): void => {\n    const { target, position, offset = { x: 0, y: 0 } } = event;\n    const { type, id } = target;\n    const editorState = this.store.getState().editor;\n    const editorMode = editorState && editorState.mode;\n\n    switch (type) {\n      case DiagramMakerComponentsType.WORKSPACE:\n        if (editorMode === EditorMode.SELECT) {\n          handleHideSelectionMarquee(this.store);\n        }\n        break;\n      case DiagramMakerComponentsType.NODE:\n        handleNodeDragEnd(this.store, id);\n        break;\n      case (DiagramMakerComponentsType.NODE_CONNECTOR):\n        handleEdgeDragEnd(this.store, id);\n        break;\n      case (DiagramMakerComponentsType.POTENTIAL_NODE):\n        handlePotentialNodeDragEnd(this.store, id);\n        break;\n    }\n  }\n\n  private handleWheelScroll = (event: NormalizedMouseScrollEvent): void => {\n    const { delta, originalEvent, position } = event;\n\n    const editorState = this.store.getState().editor;\n\n    if (UITargetNormalizer.getTarget(originalEvent, DATA_ATTR_TYPE, DiagramMakerComponentsType.WORKSPACE)) {\n      originalEvent.preventDefault();\n\n      if (!editorState.contextMenu) {\n        handleWorkspaceZoom(this.store, -delta, position);\n      }\n    }\n  }\n\n  private handleDragEnter = (event: NormalizedDropEvent): void => {\n    const { target, dropzone, position, offset = { x: 0, y: 0 } } = event;\n\n    // Handle drag enter\n  }\n\n  private handleDragLeave = (event: NormalizedDropEvent): void => {\n    const { target, dropzone, position, offset = { x: 0, y: 0 } } = event;\n\n    // Handle drag leave\n  }\n\n  private handleDragOver = (event: NormalizedDropEvent): void => {\n    const { target, dropzone, position, offset = { x: 0, y: 0 } } = event;\n\n    // Handle drag over\n  }\n\n  private handleDrop = (event: NormalizedDropEvent): void => {\n    const { target, dropzone, position, offset = { x: 0, y: 0 } } = event;\n    const { type, id } = target;\n\n    switch (dropzone.type) {\n      case (DiagramMakerComponentsType.NODE_CONNECTOR):\n        if (type === DiagramMakerComponentsType.NODE_CONNECTOR) {\n          handleEdgeCreate(this.store, id, dropzone.id);\n        }\n        break;\n      case (DiagramMakerComponentsType.WORKSPACE):\n        if (type === DiagramMakerComponentsType.POTENTIAL_NODE) {\n          handleNodeCreate(this.store, id);\n        }\n    }\n\n    // Handle drop\n  }\n\n  private handleWindowResize = (event: NormalizedWindowEvent): void => {\n    const { size, originalEvent } = event;\n    // Handle window resize\n  }\n\n  private handleContainerUpdate = (event: NormalizedContainerEvent): void => {\n    const { contextRect } = event;\n\n    const size = { height: contextRect.height, width: contextRect.width };\n\n    // Handle container resize\n    handleWorkspaceResize(this.store, size);\n  }\n\n  private handleRightMouseClick = (event: NormalizedMouseClickEvent): void => {\n    const { target, button, position, offset, originalEvent } = event;\n\n    handleShowContextMenu(this.store, this.config, event);\n  }\n\n  private handleMouseUp = (event: NormalizedMouseClickEvent): void => {\n    const { target, button, position, offset, originalEvent } = event;\n\n    // Handle mouse up\n  }\n\n  private handleMouseDown = (event: NormalizedMouseClickEvent): void => {\n    const { target, button, position, offset, originalEvent } = event;\n\n    handleHideContextMenu(this.store);\n  }\n\n  private handleMouseMove = (event: NormalizedMouseMoveEvent): void => {\n    const { position, originalEvent } = event;\n\n    // Handle mouse move\n  }\n\n  private handleKeyUp = (event: NormalizedKeyboardEvent): void => {\n    const { originalEvent, code, key, modKey, shiftKey, metaKey, ctrlKey } = event;\n\n  }\n\n  // @NOTE Justification for using KeyDown as opposed to KeyUp or KeyPress for the Delete event:\n  // 1) We cannot use KeyPress for the Delete key (or other non-printable keys).\n  //    See: https://stackoverflow.com/questions/1116244/capturing-delete-keypress-with-jquery\n  // 2) This leaves us with 2 options: KeyUp or KeyDown.  Other similar enterprise applications\n  //    tend to use KeyDown instead of KeyUp for this type of event.\n  //\n  // The issue with using KeyDown is that it continues to fire if held.\n  // This isn't an issue with delete, but it may cause an issue if\n  // we were doing something like duplicating a node via keypress.\n\n  private handleKeyDown = (event: NormalizedKeyboardEvent): void => {\n    const { originalEvent, code, key, modKey, shiftKey, metaKey, ctrlKey } = event;\n\n    switch (key) {\n      case KeyboardKey.A:\n        if (modKey) {\n          handleSelectAll(this.store);\n        }\n        break;\n      case KeyboardCode.DELETE:\n        handleDeleteSelectedItems(this.store);\n        break;\n      case KeyboardCode.BACKSPACE:\n        handleDeleteSelectedItems(this.store);\n        break;\n    }\n  }\n\n  private handleKeyPress = (event: NormalizedKeyboardEvent): void => {\n    const { originalEvent, code, key, modKey, shiftKey, metaKey, ctrlKey } = event;\n\n    // Handle key press\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),sa=(ca.s[0]++,"data-type"),Ca=(ca.s[1]++,function(){function n(n,A,e){ca.f[1]++;var t=(ca.s[2]++,this);ca.s[3]++,this.observer=n,ca.s[4]++,this.store=A,ca.s[5]++,this.config=e,ca.s[6]++,this.handleLeftMouseClick=function(n){ca.f[2]++;var A=(ca.s[7]++,n.target),e=(ca.s[8]++,A.type),o=(ca.s[9]++,A.id);switch(ca.s[10]++,e){case c.NODE:ca.b[0][0]++,ca.s[11]++,Fr(t.store,o),ca.s[12]++;break;case c.EDGE_BADGE:ca.b[0][1]++;case c.EDGE:ca.b[0][2]++,ca.s[13]++,Sr(t.store,o),ca.s[14]++;break;case c.WORKSPACE:ca.b[0][3]++,ca.s[15]++,Te(t.store),ca.s[16]++}},ca.s[17]++,this.getNormalizedPositionOffset=function(n,A){return ca.f[3]++,ca.s[18]++,void 0===A?(ca.b[1][0]++,ca.s[19]++,A={x:0,y:0}):ca.b[1][1]++,ca.s[20]++,H(n,A)},ca.s[21]++,this.getNormalizedPositionOffsetInWorkspace=function(n,A,e){ca.f[4]++,ca.s[22]++,void 0===e?(ca.b[2][0]++,ca.s[23]++,e={x:0,y:0}):ca.b[2][1]++;var o=(ca.s[24]++,t.getNormalizedPositionOffset(n,e));return ca.s[25]++,{x:(o.x-A.position.x)/A.scale,y:(o.y-A.position.y)/A.scale}},ca.s[26]++,this.handleDrag=function(n){ca.f[5]++;var A=(ca.s[27]++,n.target),e=(ca.s[28]++,n.position),o=(ca.s[29]++,n.offset),l=(ca.s[30]++,void 0===o?(ca.b[3][0]++,{x:0,y:0}):(ca.b[3][1]++,o)),i=(ca.s[31]++,A.type),r=(ca.s[32]++,A.id),a=(ca.s[33]++,t.store.getState().editor.mode),s=(ca.s[34]++,t.store.getState().workspace);switch(ca.s[35]++,i){case c.PANEL_DRAG_HANDLE:if(ca.b[4][0]++,ca.s[36]++,r){ca.b[5][0]++;var C=(ca.s[37]++,t.getNormalizedPositionOffset(e,l)),u=(ca.s[38]++,A.originalTarget);ca.s[39]++,ra(t.store,r,u,C,s.viewContainerSize)}else ca.b[5][1]++;ca.s[40]++;break;case c.NODE:ca.b[4][1]++,ca.s[41]++,Hr(t.store,r,t.getNormalizedPositionOffsetInWorkspace(e,s,l)),ca.s[42]++;break;case c.WORKSPACE:switch(ca.b[4][2]++,ca.s[43]++,a){case Un.SELECT:ca.b[6][0]++,ca.s[44]++,bA(t.store,t.getNormalizedPositionOffsetInWorkspace(e,s)),ca.s[45]++;break;case Un.DRAG:ca.b[6][1]++;default:ca.b[6][2]++,ca.s[46]++,function(n,A){Se.f[7]++;var e=(Se.s[7]++,we(A));Se.s[8]++,n.dispatch(e)}(t.store,t.getNormalizedPositionOffset(e,l)),ca.s[47]++}ca.s[48]++;break;case c.NODE_CONNECTOR:ca.b[4][3]++,ca.s[49]++,kr(t.store,t.getNormalizedPositionOffsetInWorkspace(e,s)),ca.s[50]++;break;case c.POTENTIAL_NODE:ca.b[4][4]++,ca.s[51]++,Zr(t.store,t.getNormalizedPositionOffsetInWorkspace(e,s)),ca.s[52]++}},ca.s[53]++,this.handleDragStart=function(n){ca.f[6]++;var A=(ca.s[54]++,n.target),e=(ca.s[55]++,n.position),o=(ca.s[56]++,n.offset),l=(ca.s[57]++,void 0===o?ca.b[7][0]++:ca.b[7][1]++,ca.s[58]++,A.type),i=(ca.s[59]++,A.id),r=(ca.s[60]++,t.store.getState().editor.mode),a=(ca.s[61]++,t.store.getState().workspace);switch(ca.s[62]++,l){case c.WORKSPACE:ca.b[8][0]++,ca.s[63]++,r===Un.SELECT?(ca.b[9][0]++,ca.s[64]++,vA(t.store,t.getNormalizedPositionOffsetInWorkspace(e,a))):ca.b[9][1]++,ca.s[65]++;break;case c.PANEL_DRAG_HANDLE:ca.b[8][1]++,ca.s[66]++,aa(t.store,i),ca.s[67]++;break;case c.NODE:ca.b[8][2]++,ca.s[68]++,Vr(t.store,i),ca.s[69]++;break;case c.NODE_CONNECTOR:ca.b[8][3]++,ca.s[70]++,Gr(t.store,i,t.getNormalizedPositionOffsetInWorkspace(e,a)),ca.s[71]++;break;case c.POTENTIAL_NODE:ca.b[8][4]++,ca.s[72]++,Xr(t.store,t.config,A,t.getNormalizedPositionOffsetInWorkspace(e,a)),ca.s[73]++}},ca.s[74]++,this.handleDragEnd=function(n){ca.f[7]++;var A=(ca.s[75]++,n.target),e=(ca.s[76]++,n.position,ca.s[77]++,n.offset),o=(ca.s[78]++,void 0===e?ca.b[10][0]++:ca.b[10][1]++,ca.s[79]++,A.type),l=(ca.s[80]++,A.id),i=(ca.s[81]++,t.store.getState().editor),r=(ca.s[82]++,ca.b[11][0]++,i&&(ca.b[11][1]++,i.mode));switch(ca.s[83]++,o){case c.WORKSPACE:ca.b[12][0]++,ca.s[84]++,r===Un.SELECT?(ca.b[13][0]++,ca.s[85]++,OA(t.store)):ca.b[13][1]++,ca.s[86]++;break;case c.NODE:ca.b[12][1]++,ca.s[87]++,qr(t.store,l),ca.s[88]++;break;case c.NODE_CONNECTOR:ca.b[12][2]++,ca.s[89]++,Dr(t.store,l),ca.s[90]++;break;case c.POTENTIAL_NODE:ca.b[12][3]++,ca.s[91]++,Jr(t.store,l),ca.s[92]++}},ca.s[93]++,this.handleWheelScroll=function(n){ca.f[8]++;var A=(ca.s[94]++,n.delta),e=(ca.s[95]++,n.originalEvent),o=(ca.s[96]++,n.position),l=(ca.s[97]++,t.store.getState().editor);ca.s[98]++,yi.getTarget(e,sa,c.WORKSPACE)?(ca.b[14][0]++,ca.s[99]++,e.preventDefault(),ca.s[100]++,l.contextMenu?ca.b[15][1]++:(ca.b[15][0]++,ca.s[101]++,function(n,A,e){Se.f[8]++;var t=(Se.s[9]++,_e(A,e));Se.s[10]++,n.dispatch(t)}(t.store,-A,o))):ca.b[14][1]++},ca.s[102]++,this.handleDragEnter=function(n){ca.f[9]++;ca.s[103]++,n.target,ca.s[104]++,n.dropzone,ca.s[105]++,n.position;var A=(ca.s[106]++,n.offset);ca.s[107]++,void 0===A?ca.b[16][0]++:ca.b[16][1]++},ca.s[108]++,this.handleDragLeave=function(n){ca.f[10]++;ca.s[109]++,n.target,ca.s[110]++,n.dropzone,ca.s[111]++,n.position;var A=(ca.s[112]++,n.offset);ca.s[113]++,void 0===A?ca.b[17][0]++:ca.b[17][1]++},ca.s[114]++,this.handleDragOver=function(n){ca.f[11]++;ca.s[115]++,n.target,ca.s[116]++,n.dropzone,ca.s[117]++,n.position;var A=(ca.s[118]++,n.offset);ca.s[119]++,void 0===A?ca.b[18][0]++:ca.b[18][1]++},ca.s[120]++,this.handleDrop=function(n){ca.f[12]++;var A=(ca.s[121]++,n.target),e=(ca.s[122]++,n.dropzone),o=(ca.s[123]++,n.position,ca.s[124]++,n.offset),l=(ca.s[125]++,void 0===o?ca.b[19][0]++:ca.b[19][1]++,ca.s[126]++,A.type),i=(ca.s[127]++,A.id);switch(ca.s[128]++,e.type){case c.NODE_CONNECTOR:ca.b[20][0]++,ca.s[129]++,l===c.NODE_CONNECTOR?(ca.b[21][0]++,ca.s[130]++,Kr(t.store,i,e.id)):ca.b[21][1]++,ca.s[131]++;break;case c.WORKSPACE:ca.b[20][1]++,ca.s[132]++,l===c.POTENTIAL_NODE?(ca.b[22][0]++,ca.s[133]++,$r(t.store,i)):ca.b[22][1]++}},ca.s[134]++,this.handleWindowResize=function(n){ca.f[13]++;ca.s[135]++,n.size,ca.s[136]++,n.originalEvent},ca.s[137]++,this.handleContainerUpdate=function(n){ca.f[14]++;var A=(ca.s[138]++,n.contextRect),e=(ca.s[139]++,{height:A.height,width:A.width});ca.s[140]++,Qe(t.store,e)},ca.s[141]++,this.handleRightMouseClick=function(n){ca.f[15]++;ca.s[142]++,n.target,ca.s[143]++,n.button,ca.s[144]++,n.position,ca.s[145]++,n.offset,ca.s[146]++,n.originalEvent;ca.s[147]++,BA(t.store,t.config,n)},ca.s[148]++,this.handleMouseUp=function(n){ca.f[16]++;ca.s[149]++,n.target,ca.s[150]++,n.button,ca.s[151]++,n.position,ca.s[152]++,n.offset,ca.s[153]++,n.originalEvent},ca.s[154]++,this.handleMouseDown=function(n){ca.f[17]++;ca.s[155]++,n.target,ca.s[156]++,n.button,ca.s[157]++,n.position,ca.s[158]++,n.offset,ca.s[159]++,n.originalEvent;ca.s[160]++,MA(t.store)},ca.s[161]++,this.handleMouseMove=function(n){ca.f[18]++;ca.s[162]++,n.position,ca.s[163]++,n.originalEvent},ca.s[164]++,this.handleKeyUp=function(n){ca.f[19]++;ca.s[165]++,n.originalEvent,ca.s[166]++,n.code,ca.s[167]++,n.key,ca.s[168]++,n.modKey,ca.s[169]++,n.shiftKey,ca.s[170]++,n.metaKey,ca.s[171]++,n.ctrlKey},ca.s[172]++,this.handleKeyDown=function(n){ca.f[20]++;ca.s[173]++,n.originalEvent,ca.s[174]++,n.code;var A=(ca.s[175]++,n.key),e=(ca.s[176]++,n.modKey);ca.s[177]++,n.shiftKey,ca.s[178]++,n.metaKey,ca.s[179]++,n.ctrlKey;switch(ca.s[180]++,A){case pi.A:ca.b[23][0]++,ca.s[181]++,e?(ca.b[24][0]++,ca.s[182]++,Ue(t.store)):ca.b[24][1]++,ca.s[183]++;break;case Ei.DELETE:ca.b[23][1]++,ca.s[184]++,Nr(t.store),ca.s[185]++;break;case Ei.BACKSPACE:ca.b[23][2]++,ca.s[186]++,Nr(t.store),ca.s[187]++}},ca.s[188]++,this.handleKeyPress=function(n){ca.f[21]++;ca.s[189]++,n.originalEvent,ca.s[190]++,n.code,ca.s[191]++,n.key,ca.s[192]++,n.modKey,ca.s[193]++,n.shiftKey,ca.s[194]++,n.metaKey,ca.s[195]++,n.ctrlKey},ca.s[196]++,this.subscribeToUIEvents()}return ca.f[0]++,ca.s[197]++,n.prototype.subscribeToUIEvents=function(){ca.f[22]++;var n=(ca.s[198]++,Gi.LEFT_CLICK),A=(ca.s[199]++,Gi.RIGHT_CLICK),e=(ca.s[200]++,Gi.MOUSE_UP),t=(ca.s[201]++,Gi.MOUSE_DOWN),o=(ca.s[202]++,Di.MOUSE_MOVE),l=(ca.s[203]++,Si.DRAG),i=(ca.s[204]++,Si.DRAG_START),r=(ca.s[205]++,Si.DRAG_END),a=(ca.s[206]++,wi.DROP),c=(ca.s[207]++,wi.DRAG_ENTER),s=(ca.s[208]++,wi.DRAG_LEAVE),C=(ca.s[209]++,wi.DRAG_OVER),u=(ca.s[210]++,ki.MOUSE_WHEEL),m=(ca.s[211]++,_i.KEY_DOWN),d=(ca.s[212]++,_i.KEY_UP),E=(ca.s[213]++,_i.KEY_PRESS),p=(ca.s[214]++,Ki.RESIZE),f=(ca.s[215]++,bi.DIAGRAM_MAKER_CONTAINER_UPDATE);ca.s[216]++,this.subscribeWithFilter(n,this.handleLeftMouseClick),ca.s[217]++,this.subscribeWithFilter(A,this.handleRightMouseClick),ca.s[218]++,this.subscribeWithFilter(e,this.handleMouseUp),ca.s[219]++,this.subscribeWithFilter(t,this.handleMouseDown),ca.s[220]++,this.subscribeWithFilter(o,this.handleMouseMove),ca.s[221]++,this.subscribeWithFilter(l,this.handleDrag),ca.s[222]++,this.subscribeWithFilter(i,this.handleDragStart),ca.s[223]++,this.subscribeWithFilter(c,this.handleDragEnter),ca.s[224]++,this.subscribeWithFilter(s,this.handleDragLeave),ca.s[225]++,this.subscribeWithFilter(C,this.handleDragOver),ca.s[226]++,this.subscribeWithFilter(r,this.handleDragEnd),ca.s[227]++,this.subscribeWithFilter(a,this.handleDrop),ca.s[228]++,this.subscribeWithFilter(p,this.handleWindowResize),ca.s[229]++,this.subscribeWithFilter(f,this.handleContainerUpdate),ca.s[230]++,this.subscribeWithFilter(u,this.handleWheelScroll),ca.s[231]++,this.subscribeWithFilter(m,this.handleKeyDown),ca.s[232]++,this.subscribeWithFilter(d,this.handleKeyUp),ca.s[233]++,this.subscribeWithFilter(E,this.handleKeyPress)},ca.s[234]++,n.prototype.createEventFilterCallback=function(n){ca.f[23]++;var A=(ca.s[235]++,this);return ca.s[236]++,function(e){ca.f[24]++;var t=(ca.s[237]++,A.store.getState().editor.mode);ca.s[238]++,zr(e,t)?(ca.b[25][0]++,ca.s[239]++,n(e)):ca.b[25][1]++}},ca.s[240]++,n.prototype.subscribeWithFilter=function(n,A){ca.f[25]++;var e=(ca.s[241]++,this.observer.subscribe);ca.s[242]++,e(n,this.createEventFilterCallback(A))},ca.s[243]++,n}()),ua=e(15),ma=function(){var n="/Volumes/workplace/diagram-maker/src/state/node/nodeReducer.ts",A="8b0388c395106a46ab3c422d08046ac2acb100ef",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/node/nodeReducer.ts",statementMap:{0:{start:{line:8,column:29},end:{line:11,column:5}},1:{start:{line:12,column:26},end:{line:15,column:5}},2:{start:{line:16,column:4},end:{line:19,column:73}},3:{start:{line:22,column:4},end:{line:24,column:5}},4:{start:{line:23,column:8},end:{line:23,column:18}},5:{start:{line:25,column:4},end:{line:139,column:5}},6:{start:{line:27,column:12},end:{line:31,column:15}},7:{start:{line:28,column:16},end:{line:30,column:19}},8:{start:{line:29,column:20},end:{line:29,column:47}},9:{start:{line:33,column:12},end:{line:37,column:15}},10:{start:{line:34,column:25},end:{line:34,column:39}},11:{start:{line:34,column:46},end:{line:34,column:51}},12:{start:{line:34,column:64},end:{line:34,column:75}},13:{start:{line:34,column:84},end:{line:34,column:91}},14:{start:{line:34,column:102},end:{line:34,column:111}},15:{start:{line:34,column:135},end:{line:34,column:150}},16:{start:{line:35,column:35},end:{line:35,column:54}},17:{start:{line:36,column:16},end:{line:36,column:142}},18:{start:{line:39,column:12},end:{line:41,column:15}},19:{start:{line:40,column:16},end:{line:40,column:53}},20:{start:{line:44,column:12},end:{line:54,column:15}},21:{start:{line:45,column:30},end:{line:45,column:53}},22:{start:{line:46,column:16},end:{line:53,column:19}},23:{start:{line:47,column:20},end:{line:52,column:21}},24:{start:{line:48,column:24},end:{line:48,column:77}},25:{start:{line:51,column:24},end:{line:51,column:76}},26:{start:{line:56,column:12},end:{line:61,column:15}},27:{start:{line:57,column:34},end:{line:57,column:63}},28:{start:{line:58,column:16},end:{line:60,column:17}},29:{start:{line:59,column:20},end:{line:59,column:65}},30:{start:{line:63,column:12},end:{line:95,column:15}},31:{start:{line:64,column:34},end:{line:64,column:63}},32:{start:{line:65,column:16},end:{line:94,column:17}},33:{start:{line:66,column:29},end:{line:66,column:43}},34:{start:{line:66,column:56},end:{line:66,column:67}},35:{start:{line:66,column:90},end:{line:66,column:111}},36:{start:{line:67,column:20},end:{line:67,column:69}},37:{start:{line:69,column:20},end:{line:80,column:21}},38:{start:{line:70,column:39},end:{line:70,column:63}},39:{start:{line:71,column:38},end:{line:71,column:61}},40:{start:{line:72,column:24},end:{line:79,column:27}},41:{start:{line:73,column:41},end:{line:73,column:85}},42:{start:{line:74,column:41},end:{line:77,column:29}},43:{start:{line:78,column:28},end:{line:78,column:82}},44:{start:{line:82,column:20},end:{line:93,column:21}},45:{start:{line:83,column:39},end:{line:83,column:63}},46:{start:{line:84,column:38},end:{line:84,column:61}},47:{start:{line:85,column:24},end:{line:92,column:27}},48:{start:{line:86,column:41},end:{line:86,column:85}},49:{start:{line:87,column:41},end:{line:90,column:29}},50:{start:{line:91,column:28},end:{line:91,column:82}},51:{start:{line:97,column:12},end:{line:102,column:15}},52:{start:{line:98,column:34},end:{line:98,column:63}},53:{start:{line:99,column:16},end:{line:101,column:17}},54:{start:{line:100,column:20},end:{line:100,column:66}},55:{start:{line:104,column:12},end:{line:114,column:15}},56:{start:{line:105,column:30},end:{line:105,column:53}},57:{start:{line:106,column:16},end:{line:113,column:19}},58:{start:{line:107,column:20},end:{line:112,column:21}},59:{start:{line:108,column:24},end:{line:108,column:76}},60:{start:{line:111,column:24},end:{line:111,column:77}},61:{start:{line:117,column:12},end:{line:122,column:15}},62:{start:{line:118,column:30},end:{line:118,column:53}},63:{start:{line:119,column:16},end:{line:121,column:19}},64:{start:{line:120,column:20},end:{line:120,column:73}},65:{start:{line:124,column:12},end:{line:129,column:15}},66:{start:{line:125,column:30},end:{line:125,column:53}},67:{start:{line:126,column:16},end:{line:128,column:19}},68:{start:{line:127,column:20},end:{line:127,column:72}},69:{start:{line:131,column:12},end:{line:136,column:15}},70:{start:{line:132,column:30},end:{line:132,column:52}},71:{start:{line:133,column:16},end:{line:135,column:19}},72:{start:{line:134,column:20},end:{line:134,column:46}},73:{start:{line:138,column:12},end:{line:138,column:25}}},fnMap:{0:{name:"isInsideBoundingBox",decl:{start:{line:7,column:9},end:{line:7,column:28}},loc:{start:{line:7,column:93},end:{line:20,column:1}},line:7},1:{name:"nodeReducer",decl:{start:{line:21,column:24},end:{line:21,column:35}},loc:{start:{line:21,column:51},end:{line:140,column:1}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:27,column:34},end:{line:27,column:35}},loc:{start:{line:27,column:56},end:{line:31,column:13}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:28,column:45},end:{line:28,column:46}},loc:{start:{line:28,column:61},end:{line:30,column:17}},line:28},4:{name:"(anonymous_4)",decl:{start:{line:33,column:34},end:{line:33,column:35}},loc:{start:{line:33,column:56},end:{line:37,column:13}},line:33},5:{name:"(anonymous_5)",decl:{start:{line:39,column:34},end:{line:39,column:35}},loc:{start:{line:39,column:56},end:{line:41,column:13}},line:39},6:{name:"(anonymous_6)",decl:{start:{line:44,column:34},end:{line:44,column:35}},loc:{start:{line:44,column:56},end:{line:54,column:13}},line:44},7:{name:"(anonymous_7)",decl:{start:{line:46,column:32},end:{line:46,column:33}},loc:{start:{line:46,column:50},end:{line:53,column:17}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:56,column:34},end:{line:56,column:35}},loc:{start:{line:56,column:56},end:{line:61,column:13}},line:56},9:{name:"(anonymous_9)",decl:{start:{line:63,column:34},end:{line:63,column:35}},loc:{start:{line:63,column:56},end:{line:95,column:13}},line:63},10:{name:"(anonymous_10)",decl:{start:{line:72,column:40},end:{line:72,column:41}},loc:{start:{line:72,column:58},end:{line:79,column:25}},line:72},11:{name:"(anonymous_11)",decl:{start:{line:85,column:40},end:{line:85,column:41}},loc:{start:{line:85,column:58},end:{line:92,column:25}},line:85},12:{name:"(anonymous_12)",decl:{start:{line:97,column:34},end:{line:97,column:35}},loc:{start:{line:97,column:56},end:{line:102,column:13}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:104,column:34},end:{line:104,column:35}},loc:{start:{line:104,column:56},end:{line:114,column:13}},line:104},14:{name:"(anonymous_14)",decl:{start:{line:106,column:32},end:{line:106,column:33}},loc:{start:{line:106,column:50},end:{line:113,column:17}},line:106},15:{name:"(anonymous_15)",decl:{start:{line:117,column:34},end:{line:117,column:35}},loc:{start:{line:117,column:56},end:{line:122,column:13}},line:117},16:{name:"(anonymous_16)",decl:{start:{line:119,column:32},end:{line:119,column:33}},loc:{start:{line:119,column:50},end:{line:121,column:17}},line:119},17:{name:"(anonymous_17)",decl:{start:{line:124,column:34},end:{line:124,column:35}},loc:{start:{line:124,column:56},end:{line:129,column:13}},line:124},18:{name:"(anonymous_18)",decl:{start:{line:126,column:32},end:{line:126,column:33}},loc:{start:{line:126,column:50},end:{line:128,column:17}},line:126},19:{name:"(anonymous_19)",decl:{start:{line:131,column:34},end:{line:131,column:35}},loc:{start:{line:131,column:56},end:{line:136,column:13}},line:131},20:{name:"(anonymous_20)",decl:{start:{line:133,column:32},end:{line:133,column:33}},loc:{start:{line:133,column:50},end:{line:135,column:17}},line:133}},branchMap:{0:{loc:{start:{line:16,column:12},end:{line:19,column:71}},type:"binary-expr",locations:[{start:{line:16,column:12},end:{line:16,column:67}},{start:{line:17,column:8},end:{line:17,column:70}},{start:{line:18,column:8},end:{line:18,column:64}},{start:{line:19,column:8},end:{line:19,column:71}}],line:16},1:{loc:{start:{line:22,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:24,column:5}},{start:{line:22,column:4},end:{line:24,column:5}}],line:22},2:{loc:{start:{line:25,column:4},end:{line:139,column:5}},type:"switch",locations:[{start:{line:26,column:8},end:{line:31,column:15}},{start:{line:32,column:8},end:{line:37,column:15}},{start:{line:38,column:8},end:{line:41,column:15}},{start:{line:42,column:8},end:{line:42,column:42}},{start:{line:43,column:8},end:{line:54,column:15}},{start:{line:55,column:8},end:{line:61,column:15}},{start:{line:62,column:8},end:{line:95,column:15}},{start:{line:96,column:8},end:{line:102,column:15}},{start:{line:103,column:8},end:{line:114,column:15}},{start:{line:115,column:8},end:{line:115,column:53}},{start:{line:116,column:8},end:{line:122,column:15}},{start:{line:123,column:8},end:{line:129,column:15}},{start:{line:130,column:8},end:{line:136,column:15}},{start:{line:137,column:8},end:{line:138,column:25}}],line:25},3:{loc:{start:{line:47,column:20},end:{line:52,column:21}},type:"if",locations:[{start:{line:47,column:20},end:{line:52,column:21}},{start:{line:47,column:20},end:{line:52,column:21}}],line:47},4:{loc:{start:{line:58,column:16},end:{line:60,column:17}},type:"if",locations:[{start:{line:58,column:16},end:{line:60,column:17}},{start:{line:58,column:16},end:{line:60,column:17}}],line:58},5:{loc:{start:{line:65,column:16},end:{line:94,column:17}},type:"if",locations:[{start:{line:65,column:16},end:{line:94,column:17}},{start:{line:65,column:16},end:{line:94,column:17}}],line:65},6:{loc:{start:{line:69,column:20},end:{line:80,column:21}},type:"if",locations:[{start:{line:69,column:20},end:{line:80,column:21}},{start:{line:69,column:20},end:{line:80,column:21}}],line:69},7:{loc:{start:{line:82,column:20},end:{line:93,column:21}},type:"if",locations:[{start:{line:82,column:20},end:{line:93,column:21}},{start:{line:82,column:20},end:{line:93,column:21}}],line:82},8:{loc:{start:{line:99,column:16},end:{line:101,column:17}},type:"if",locations:[{start:{line:99,column:16},end:{line:101,column:17}},{start:{line:99,column:16},end:{line:101,column:17}}],line:99},9:{loc:{start:{line:107,column:20},end:{line:112,column:21}},type:"if",locations:[{start:{line:107,column:20},end:{line:112,column:21}},{start:{line:107,column:20},end:{line:112,column:21}}],line:107}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0,0,0,0,0,0,0,0,0,0,0,0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/node/nodeReducer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/node/nodeReducer.ts"],names:[],mappings:"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",sourcesContent:["import { Draft, produce } from 'immer';\n\nimport { constrainRectangleWithinRectangle } from 'diagramMaker/service/positionUtils';\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { EdgeActionsType } from 'diagramMaker/state/edge';\nimport { EditorActionsType } from 'diagramMaker/state/editor/editorActions';\nimport { GlobalActionsType } from 'diagramMaker/state/global/globalActions';\nimport { DiagramMakerNode, DiagramMakerNodes, Position, Size } from 'diagramMaker/state/types';\nimport { WorkspaceActionsType } from 'diagramMaker/state/workspace';\n\nimport { MARGIN_PX } from './nodeActionDispatcher';\nimport { NodeActionsType } from './nodeActions';\n\nfunction isInsideBoundingBox(\n  nodePosition: Position, nodeSize: Size, boundingBoxAnchor: Position, boundingBoxPosition: Position\n): boolean {\n  const boundingBoxTopLeft: Position = {\n    x: Math.min(boundingBoxAnchor.x, boundingBoxPosition.x),\n    y: Math.min(boundingBoxAnchor.y, boundingBoxPosition.y)\n  };\n  const boundingBoxSize: Size = {\n    width: Math.abs(boundingBoxAnchor.x - boundingBoxPosition.x),\n    height: Math.abs(boundingBoxAnchor.y - boundingBoxPosition.y)\n  };\n  return (\n    nodePosition.x + nodeSize.width >= boundingBoxTopLeft.x &&\n    nodePosition.x <= boundingBoxTopLeft.x + boundingBoxSize.width &&\n    nodePosition.y + nodeSize.height >= boundingBoxTopLeft.y &&\n    nodePosition.y <= boundingBoxTopLeft.y + boundingBoxSize.height\n  );\n}\n\nexport default function nodeReducer<NodeType, EdgeType>(\n  state: DiagramMakerNodes<NodeType> | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerNodes<NodeType> {\n  if (state === undefined) {\n    return {};\n  }\n  switch (action.type) {\n    case GlobalActionsType.CREATE_ITEMS:\n      return produce(state, (draftState) => {\n        action.payload.nodes.forEach((node) => {\n          draftState[node.id] = node as Draft<DiagramMakerNode<NodeType>>;\n        });\n      });\n    case NodeActionsType.NODE_CREATE:\n      return produce(state, (draftState) => {\n        const { id, position, size, typeId, consumerData: untypedConsumerData } = action.payload;\n        const consumerData = untypedConsumerData as Draft<NodeType>;\n        draftState[id] = { id, typeId, consumerData, diagramMakerData: { position, size } };\n      });\n    case NodeActionsType.NODE_DELETE:\n      return produce(state, (draftState) => {\n        delete draftState[action.payload.id];\n      });\n    case EditorActionsType.FOCUS_NODE:\n    case NodeActionsType.NODE_SELECT:\n      return produce(state, (draftState) => {\n        const nodeIds = Object.keys(draftState);\n        nodeIds.forEach((nodeId) => {\n          if (nodeId !== action.payload.id) {\n            draftState[nodeId].diagramMakerData.selected = false;\n          } else {\n            draftState[nodeId].diagramMakerData.selected = true;\n          }\n        });\n      });\n    case NodeActionsType.NODE_DRAG_START:\n      return produce(state, (draftState) => {\n        const currentNode = draftState[action.payload.id];\n        if (currentNode) {\n          currentNode.diagramMakerData.dragging = true;\n        }\n      });\n    case NodeActionsType.NODE_DRAG:\n      return produce(state, (draftState) => {\n        const currentNode = draftState[action.payload.id];\n        if (currentNode) {\n          const { position, workspaceRectangle } = action.payload;\n          currentNode.diagramMakerData.position = position;\n\n          // Shift all the nodes when node is dragged outside top boundary\n          if (position.y < 0) {\n            const offset = { x: 0, y: - position.y };\n            const nodeIds = Object.keys(draftState);\n            nodeIds.forEach((nodeId) => {\n              const oldPos = draftState[nodeId].diagramMakerData.position;\n              const newPos = {\n                x: oldPos.x + offset.x,\n                y: oldPos.y + offset.y\n              };\n              draftState[nodeId].diagramMakerData.position = newPos;\n            });\n          }\n          // Shift all the nodes when node is dragged outside left boundary\n          if (position.x < 0) {\n            const offset = { x: - position.x, y: 0 };\n            const nodeIds = Object.keys(draftState);\n            nodeIds.forEach((nodeId) => {\n              const oldPos = draftState[nodeId].diagramMakerData.position;\n              const newPos = {\n                x: oldPos.x + offset.x,\n                y: oldPos.y + offset.y\n              };\n              draftState[nodeId].diagramMakerData.position = newPos;\n            });\n          }\n        }\n      });\n    case NodeActionsType.NODE_DRAG_END:\n      return produce(state, (draftState) => {\n        const currentNode = draftState[action.payload.id];\n        if (currentNode) {\n          currentNode.diagramMakerData.dragging = false;\n        }\n      });\n    case EditorActionsType.UPDATE_SELECTION_MARQUEE:\n      return produce(state, (draftState) => {\n        const nodeIds = Object.keys(draftState);\n        nodeIds.forEach((nodeId) => {\n          if (isInsideBoundingBox(\n            draftState[nodeId].diagramMakerData.position, draftState[nodeId].diagramMakerData.size,\n            action.payload.anchor, action.payload.position\n          )) {\n            draftState[nodeId].diagramMakerData.selected = true;\n          } else {\n            draftState[nodeId].diagramMakerData.selected = false;\n          }\n        });\n      });\n    case WorkspaceActionsType.WORKSPACE_DESELECT:\n    case EdgeActionsType.EDGE_SELECT:\n      return produce(state, (draftState) => {\n        const nodeIds = Object.keys(draftState);\n        nodeIds.forEach((nodeId) => {\n          draftState[nodeId].diagramMakerData.selected = false;\n        });\n      });\n    case WorkspaceActionsType.WORKSPACE_SELECT_ALL:\n      return produce(state, (draftState) => {\n        const nodeIds = Object.keys(draftState);\n        nodeIds.forEach((nodeId) => {\n          draftState[nodeId].diagramMakerData.selected = true;\n        });\n      });\n    case GlobalActionsType.DELETE_ITEMS:\n      return produce(state, (draftState) => {\n        const { nodeIds } = action.payload;\n        nodeIds.forEach((nodeId: string) => {\n          delete draftState[nodeId];\n        });\n      });\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function da(n,A){if(ma.f[1]++,ma.s[3]++,void 0===n)return ma.b[1][0]++,ma.s[4]++,{};switch(ma.b[1][1]++,ma.s[5]++,A.type){case wr.CREATE_ITEMS:return ma.b[2][0]++,ma.s[6]++,Me(n,(function(n){ma.f[2]++,ma.s[7]++,A.payload.nodes.forEach((function(A){ma.f[3]++,ma.s[8]++,n[A.id]=A}))}));case ye.NODE_CREATE:return ma.b[2][1]++,ma.s[9]++,Me(n,(function(n){ma.f[4]++;var e=(ma.s[10]++,A.payload),t=(ma.s[11]++,e.id),o=(ma.s[12]++,e.position),l=(ma.s[13]++,e.size),i=(ma.s[14]++,e.typeId),r=(ma.s[15]++,e.consumerData),a=(ma.s[16]++,r);ma.s[17]++,n[t]={id:t,typeId:i,consumerData:a,diagramMakerData:{position:o,size:l}}}));case ye.NODE_DELETE:return ma.b[2][2]++,ma.s[18]++,Me(n,(function(n){ma.f[5]++,ma.s[19]++,delete n[A.payload.id]}));case pA.FOCUS_NODE:ma.b[2][3]++;case ye.NODE_SELECT:return ma.b[2][4]++,ma.s[20]++,Me(n,(function(n){ma.f[6]++;var e=(ma.s[21]++,Object.keys(n));ma.s[22]++,e.forEach((function(e){ma.f[7]++,ma.s[23]++,e!==A.payload.id?(ma.b[3][0]++,ma.s[24]++,n[e].diagramMakerData.selected=!1):(ma.b[3][1]++,ma.s[25]++,n[e].diagramMakerData.selected=!0)}))}));case ye.NODE_DRAG_START:return ma.b[2][5]++,ma.s[26]++,Me(n,(function(n){ma.f[8]++;var e=(ma.s[27]++,n[A.payload.id]);ma.s[28]++,e?(ma.b[4][0]++,ma.s[29]++,e.diagramMakerData.dragging=!0):ma.b[4][1]++}));case ye.NODE_DRAG:return ma.b[2][6]++,ma.s[30]++,Me(n,(function(n){ma.f[9]++;var e=(ma.s[31]++,n[A.payload.id]);if(ma.s[32]++,e){ma.b[5][0]++;var t=(ma.s[33]++,A.payload),o=(ma.s[34]++,t.position);ma.s[35]++,t.workspaceRectangle;if(ma.s[36]++,e.diagramMakerData.position=o,ma.s[37]++,o.y<0){ma.b[6][0]++;var l=(ma.s[38]++,{x:0,y:-o.y}),i=(ma.s[39]++,Object.keys(n));ma.s[40]++,i.forEach((function(A){ma.f[10]++;var e=(ma.s[41]++,n[A].diagramMakerData.position),t=(ma.s[42]++,{x:e.x+l.x,y:e.y+l.y});ma.s[43]++,n[A].diagramMakerData.position=t}))}else ma.b[6][1]++;if(ma.s[44]++,o.x<0){ma.b[7][0]++;var r=(ma.s[45]++,{x:-o.x,y:0});i=(ma.s[46]++,Object.keys(n));ma.s[47]++,i.forEach((function(A){ma.f[11]++;var e=(ma.s[48]++,n[A].diagramMakerData.position),t=(ma.s[49]++,{x:e.x+r.x,y:e.y+r.y});ma.s[50]++,n[A].diagramMakerData.position=t}))}else ma.b[7][1]++}else ma.b[5][1]++}));case ye.NODE_DRAG_END:return ma.b[2][7]++,ma.s[51]++,Me(n,(function(n){ma.f[12]++;var e=(ma.s[52]++,n[A.payload.id]);ma.s[53]++,e?(ma.b[8][0]++,ma.s[54]++,e.diagramMakerData.dragging=!1):ma.b[8][1]++}));case pA.UPDATE_SELECTION_MARQUEE:return ma.b[2][8]++,ma.s[55]++,Me(n,(function(n){ma.f[13]++;var e=(ma.s[56]++,Object.keys(n));ma.s[57]++,e.forEach((function(e){ma.f[14]++,ma.s[58]++,!function(n,A,e,t){ma.f[0]++;var o=(ma.s[0]++,{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y)}),l=(ma.s[1]++,{width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)});return ma.s[2]++,ma.b[0][0]++,n.x+A.width>=o.x&&(ma.b[0][1]++,n.x<=o.x+l.width)&&(ma.b[0][2]++,n.y+A.height>=o.y)&&(ma.b[0][3]++,n.y<=o.y+l.height)}(n[e].diagramMakerData.position,n[e].diagramMakerData.size,A.payload.anchor,A.payload.position)?(ma.b[9][1]++,ma.s[60]++,n[e].diagramMakerData.selected=!1):(ma.b[9][0]++,ma.s[59]++,n[e].diagramMakerData.selected=!0)}))}));case Oe.WORKSPACE_DESELECT:ma.b[2][9]++;case yr.EDGE_SELECT:return ma.b[2][10]++,ma.s[61]++,Me(n,(function(n){ma.f[15]++;var A=(ma.s[62]++,Object.keys(n));ma.s[63]++,A.forEach((function(A){ma.f[16]++,ma.s[64]++,n[A].diagramMakerData.selected=!1}))}));case Oe.WORKSPACE_SELECT_ALL:return ma.b[2][11]++,ma.s[65]++,Me(n,(function(n){ma.f[17]++;var A=(ma.s[66]++,Object.keys(n));ma.s[67]++,A.forEach((function(A){ma.f[18]++,ma.s[68]++,n[A].diagramMakerData.selected=!0}))}));case wr.DELETE_ITEMS:return ma.b[2][12]++,ma.s[69]++,Me(n,(function(n){ma.f[19]++;var e=(ma.s[70]++,A.payload.nodeIds);ma.s[71]++,e.forEach((function(A){ma.f[20]++,ma.s[72]++,delete n[A]}))}));default:return ma.b[2][13]++,ma.s[73]++,n}}var Ea=function(){var n="/Volumes/workplace/diagram-maker/src/state/node/potentialNodeReducer.ts",A="25342d0f9a0d0595b576295db85024e5e9b18645",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/node/potentialNodeReducer.ts",statementMap:{0:{start:{line:6,column:4},end:{line:8,column:5}},1:{start:{line:7,column:8},end:{line:7,column:20}},2:{start:{line:9,column:4},end:{line:28,column:5}},3:{start:{line:11,column:12},end:{line:15,column:14}},4:{start:{line:17,column:12},end:{line:23,column:15}},5:{start:{line:18,column:16},end:{line:22,column:17}},6:{start:{line:19,column:29},end:{line:19,column:43}},7:{start:{line:19,column:56},end:{line:19,column:67}},8:{start:{line:19,column:90},end:{line:19,column:111}},9:{start:{line:20,column:31},end:{line:20,column:46}},10:{start:{line:21,column:20},end:{line:21,column:143}},11:{start:{line:25,column:12},end:{line:25,column:24}},12:{start:{line:27,column:12},end:{line:27,column:25}}},fnMap:{0:{name:"potentialNodeReducer",decl:{start:{line:5,column:24},end:{line:5,column:44}},loc:{start:{line:5,column:60},end:{line:29,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:17,column:34},end:{line:17,column:35}},loc:{start:{line:17,column:56},end:{line:23,column:13}},line:17}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:6,column:4},end:{line:8,column:5}}],line:6},1:{loc:{start:{line:9,column:4},end:{line:28,column:5}},type:"switch",locations:[{start:{line:10,column:8},end:{line:15,column:14}},{start:{line:16,column:8},end:{line:23,column:15}},{start:{line:24,column:8},end:{line:25,column:24}},{start:{line:26,column:8},end:{line:27,column:25}}],line:9},2:{loc:{start:{line:18,column:16},end:{line:22,column:17}},type:"if",locations:[{start:{line:18,column:16},end:{line:22,column:17}},{start:{line:18,column:16},end:{line:22,column:17}}],line:18}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0,0,0],2:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/node/potentialNodeReducer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/node/potentialNodeReducer.ts"],names:[],mappings:"AAAA,OAAO,EAAS,OAAO,EAAE,MAAM,OAAO,CAAC;AAEvC,OAAO,EAAE,iCAAiC,EAAE,MAAM,oCAAoC,CAAC;AAIvF,OAAO,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;AACnD,OAAO,EAAE,eAAe,EAAE,MAAM,eAAe,CAAC;AAEhD,MAAM,CAAC,OAAO,UAAU,oBAAoB,CAC1C,KAAmD,EAAE,MAA8C;IAEnG,IAAI,KAAK,KAAK,SAAS,EAAE;QACvB,OAAO,IAAI,CAAC;KACb;IACD,QAAQ,MAAM,CAAC,IAAI,EAAE;QACnB,KAAK,CAAC,eAAe,CAAC,yBAAyB,CAAC;YAC9C,OAAO;gBACL,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ;gBACjC,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,IAAI;gBACzB,MAAM,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM;aAC9B,CAAC;QACJ,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC;YACxC,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,IAAI,UAAU,EAAE;oBACR,IAAA,KAAmC,MAAM,CAAC,OAAO,EAA/C,QAAQ,cAAA,EAAE,kBAAkB,wBAAmB,CAAC;oBAChD,IAAA,IAAI,GAAK,UAAU,KAAf,CAAgB;oBAC5B,UAAU,CAAC,QAAQ,GAAG,iCAAiC,CAAC,EAAE,QAAQ,UAAA,EAAE,IAAI,MAAA,EAAE,EAAE,kBAAkB,EAAE,SAAS,CAAC,CAAC;iBAC5G;YACH,CAAC,CAAC,CAAC;QACL,KAAK,CAAC,eAAe,CAAC,uBAAuB,CAAC;YAC5C,OAAO,IAAI,CAAC;QACd;YACE,OAAO,KAAK,CAAC;KAChB;AACH,CAAC",sourcesContent:["import { Draft, produce } from 'immer';\n\nimport { constrainRectangleWithinRectangle } from 'diagramMaker/service/positionUtils';\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { DiagramMakerPotentialNode } from 'diagramMaker/state/types';\n\nimport { MARGIN_PX } from './nodeActionDispatcher';\nimport { NodeActionsType } from './nodeActions';\n\nexport default function potentialNodeReducer<NodeType, EdgeType>(\n  state: DiagramMakerPotentialNode | null | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerPotentialNode | null {\n  if (state === undefined) {\n    return null;\n  }\n  switch (action.type) {\n    case (NodeActionsType.POTENTIAL_NODE_DRAG_START):\n      return {\n        position: action.payload.position,\n        size: action.payload.size,\n        typeId: action.payload.typeId\n      };\n    case (NodeActionsType.POTENTIAL_NODE_DRAG):\n      return produce(state, (draftState) => {\n        if (draftState) {\n          const { position, workspaceRectangle } = action.payload;\n          const { size } = draftState;\n          draftState.position = constrainRectangleWithinRectangle({ position, size }, workspaceRectangle, MARGIN_PX);\n        }\n      });\n    case (NodeActionsType.POTENTIAL_NODE_DRAG_END):\n      return null;\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function pa(n,A){if(Ea.f[0]++,Ea.s[0]++,void 0===n)return Ea.b[0][0]++,Ea.s[1]++,null;switch(Ea.b[0][1]++,Ea.s[2]++,A.type){case ye.POTENTIAL_NODE_DRAG_START:return Ea.b[1][0]++,Ea.s[3]++,{position:A.payload.position,size:A.payload.size,typeId:A.payload.typeId};case ye.POTENTIAL_NODE_DRAG:return Ea.b[1][1]++,Ea.s[4]++,Me(n,(function(n){if(Ea.f[1]++,Ea.s[5]++,n){Ea.b[2][0]++;var e=(Ea.s[6]++,A.payload),t=(Ea.s[7]++,e.position),o=(Ea.s[8]++,e.workspaceRectangle),l=(Ea.s[9]++,n.size);Ea.s[10]++,n.position=nn({position:t,size:l},o,jr)}else Ea.b[2][1]++}));case ye.POTENTIAL_NODE_DRAG_END:return Ea.b[1][2]++,Ea.s[11]++,null;default:return Ea.b[1][3]++,Ea.s[12]++,n}}!function(){var n="/Volumes/workplace/diagram-maker/src/state/node/index.ts",A="ab73c0db17834bb60ed29bad25a0e4fd539a42a4",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/node/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/node/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/node/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,WAAW,EAAE,MAAM,eAAe,CAAC;AACvD,OAAO,EAAE,OAAO,IAAI,oBAAoB,EAAE,MAAM,wBAAwB,CAAC;AACzE,OAAO,EAAE,gBAAgB,EAAE,UAAU,EAAE,eAAe,EAAE,gBAAgB,EAAE,MAAM,eAAe,CAAC",sourcesContent:["export { default as nodeReducer } from './nodeReducer';\nexport { default as potentialNodeReducer } from './potentialNodeReducer';\nexport { DeleteNodeAction, NodeAction, NodeActionsType, SelectNodeAction } from './nodeActions';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();var fa=function(){var n="/Volumes/workplace/diagram-maker/src/state/edge/edgeReducer.ts",A="044a66efec969ea1e8ccc2e1a7d5d968dcb76341",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/edge/edgeReducer.ts",statementMap:{0:{start:{line:7,column:4},end:{line:9,column:5}},1:{start:{line:8,column:8},end:{line:8,column:18}},2:{start:{line:10,column:4},end:{line:63,column:5}},3:{start:{line:12,column:12},end:{line:16,column:15}},4:{start:{line:13,column:16},end:{line:15,column:19}},5:{start:{line:14,column:20},end:{line:14,column:47}},6:{start:{line:18,column:12},end:{line:20,column:15}},7:{start:{line:19,column:16},end:{line:19,column:53}},8:{start:{line:22,column:12},end:{line:33,column:15}},9:{start:{line:23,column:25},end:{line:23,column:39}},10:{start:{line:23,column:46},end:{line:23,column:51}},11:{start:{line:23,column:59},end:{line:23,column:65}},12:{start:{line:23,column:74},end:{line:23,column:81}},13:{start:{line:23,column:105},end:{line:23,column:120}},14:{start:{line:24,column:35},end:{line:24,column:54}},15:{start:{line:25,column:39},end:{line:25,column:41}},16:{start:{line:26,column:16},end:{line:32,column:18}},17:{start:{line:35,column:12},end:{line:45,column:15}},18:{start:{line:36,column:30},end:{line:36,column:53}},19:{start:{line:37,column:16},end:{line:44,column:19}},20:{start:{line:38,column:20},end:{line:43,column:21}},21:{start:{line:39,column:24},end:{line:39,column:77}},22:{start:{line:42,column:24},end:{line:42,column:76}},23:{start:{line:48,column:12},end:{line:53,column:15}},24:{start:{line:49,column:30},end:{line:49,column:53}},25:{start:{line:50,column:16},end:{line:52,column:19}},26:{start:{line:51,column:20},end:{line:51,column:73}},27:{start:{line:55,column:12},end:{line:60,column:15}},28:{start:{line:56,column:30},end:{line:56,column:52}},29:{start:{line:57,column:16},end:{line:59,column:19}},30:{start:{line:58,column:20},end:{line:58,column:46}},31:{start:{line:62,column:12},end:{line:62,column:25}}},fnMap:{0:{name:"edgeReducer",decl:{start:{line:6,column:24},end:{line:6,column:35}},loc:{start:{line:6,column:51},end:{line:64,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:12,column:34},end:{line:12,column:35}},loc:{start:{line:12,column:56},end:{line:16,column:13}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:13,column:45},end:{line:13,column:46}},loc:{start:{line:13,column:61},end:{line:15,column:17}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:18,column:34},end:{line:18,column:35}},loc:{start:{line:18,column:56},end:{line:20,column:13}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:22,column:34},end:{line:22,column:35}},loc:{start:{line:22,column:56},end:{line:33,column:13}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:35,column:34},end:{line:35,column:35}},loc:{start:{line:35,column:56},end:{line:45,column:13}},line:35},6:{name:"(anonymous_6)",decl:{start:{line:37,column:32},end:{line:37,column:33}},loc:{start:{line:37,column:50},end:{line:44,column:17}},line:37},7:{name:"(anonymous_7)",decl:{start:{line:48,column:34},end:{line:48,column:35}},loc:{start:{line:48,column:56},end:{line:53,column:13}},line:48},8:{name:"(anonymous_8)",decl:{start:{line:50,column:32},end:{line:50,column:33}},loc:{start:{line:50,column:50},end:{line:52,column:17}},line:50},9:{name:"(anonymous_9)",decl:{start:{line:55,column:34},end:{line:55,column:35}},loc:{start:{line:55,column:56},end:{line:60,column:13}},line:55},10:{name:"(anonymous_10)",decl:{start:{line:57,column:32},end:{line:57,column:33}},loc:{start:{line:57,column:50},end:{line:59,column:17}},line:57}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:7,column:4},end:{line:9,column:5}}],line:7},1:{loc:{start:{line:10,column:4},end:{line:63,column:5}},type:"switch",locations:[{start:{line:11,column:8},end:{line:16,column:15}},{start:{line:17,column:8},end:{line:20,column:15}},{start:{line:21,column:8},end:{line:33,column:15}},{start:{line:34,column:8},end:{line:45,column:15}},{start:{line:46,column:8},end:{line:46,column:55}},{start:{line:47,column:8},end:{line:53,column:15}},{start:{line:54,column:8},end:{line:60,column:15}},{start:{line:61,column:8},end:{line:62,column:25}}],line:10},2:{loc:{start:{line:38,column:20},end:{line:43,column:21}},type:"if",locations:[{start:{line:38,column:20},end:{line:43,column:21}},{start:{line:38,column:20},end:{line:43,column:21}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0,0,0,0,0,0,0],2:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/edge/edgeReducer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/edge/edgeReducer.ts"],names:[],mappings:"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",sourcesContent:["import { Draft, produce } from 'immer';\n\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { GlobalActionsType } from 'diagramMaker/state/global/globalActions';\nimport { NodeActionsType } from 'diagramMaker/state/node';\nimport { DiagramMakerEdge, DiagramMakerEdges } from 'diagramMaker/state/types';\nimport { WorkspaceActionsType } from 'diagramMaker/state/workspace';\n\nimport { EdgeActionsType } from './edgeActions';\n\nexport default function edgeReducer<NodeType, EdgeType>(\n  state: DiagramMakerEdges<EdgeType> | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerEdges<EdgeType> {\n  if (state === undefined) {\n    return {};\n  }\n  switch (action.type) {\n    case GlobalActionsType.CREATE_ITEMS:\n      return produce(state, (draftState) => {\n        action.payload.edges.forEach((edge) => {\n          draftState[edge.id] = edge as Draft<DiagramMakerEdge<EdgeType>>;\n        });\n      });\n    case EdgeActionsType.EDGE_DELETE:\n      return produce(state, (draftState) => {\n        delete draftState[action.payload.id];\n      });\n    case (EdgeActionsType.EDGE_CREATE):\n      return produce(state, (draftState) => {\n        const { id, src, dest, consumerData: untypedConsumerData } = action.payload;\n        const consumerData = untypedConsumerData as Draft<EdgeType>;\n        const diagramMakerData = {};\n        draftState[id] = {\n          consumerData,\n          dest,\n          diagramMakerData,\n          id,\n          src\n        };\n      });\n    case (EdgeActionsType.EDGE_SELECT):\n      return produce(state, (draftState) => {\n        const edgeIds = Object.keys(draftState);\n        edgeIds.forEach((edgeId) => {\n          if (edgeId !== action.payload.id) {\n            draftState[edgeId].diagramMakerData.selected = false;\n          } else {\n            draftState[edgeId].diagramMakerData.selected = true;\n          }\n        });\n      });\n    case (WorkspaceActionsType.WORKSPACE_DESELECT):\n    case (NodeActionsType.NODE_SELECT):\n      return produce(state, (draftState) => {\n        const edgeIds = Object.keys(draftState);\n        edgeIds.forEach((edgeId) => {\n          draftState[edgeId].diagramMakerData.selected = false;\n        });\n      });\n    case (GlobalActionsType.DELETE_ITEMS):\n      return produce(state, (draftState) => {\n        const { edgeIds } = action.payload;\n        edgeIds.forEach((edgeId: string) => {\n          delete draftState[edgeId];\n        });\n      });\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function ga(n,A){if(fa.f[0]++,fa.s[0]++,void 0===n)return fa.b[0][0]++,fa.s[1]++,{};switch(fa.b[0][1]++,fa.s[2]++,A.type){case wr.CREATE_ITEMS:return fa.b[1][0]++,fa.s[3]++,Me(n,(function(n){fa.f[1]++,fa.s[4]++,A.payload.edges.forEach((function(A){fa.f[2]++,fa.s[5]++,n[A.id]=A}))}));case yr.EDGE_DELETE:return fa.b[1][1]++,fa.s[6]++,Me(n,(function(n){fa.f[3]++,fa.s[7]++,delete n[A.payload.id]}));case yr.EDGE_CREATE:return fa.b[1][2]++,fa.s[8]++,Me(n,(function(n){fa.f[4]++;var e=(fa.s[9]++,A.payload),t=(fa.s[10]++,e.id),o=(fa.s[11]++,e.src),l=(fa.s[12]++,e.dest),i=(fa.s[13]++,e.consumerData),r=(fa.s[14]++,i),a=(fa.s[15]++,{});fa.s[16]++,n[t]={consumerData:r,dest:l,diagramMakerData:a,id:t,src:o}}));case yr.EDGE_SELECT:return fa.b[1][3]++,fa.s[17]++,Me(n,(function(n){fa.f[5]++;var e=(fa.s[18]++,Object.keys(n));fa.s[19]++,e.forEach((function(e){fa.f[6]++,fa.s[20]++,e!==A.payload.id?(fa.b[2][0]++,fa.s[21]++,n[e].diagramMakerData.selected=!1):(fa.b[2][1]++,fa.s[22]++,n[e].diagramMakerData.selected=!0)}))}));case Oe.WORKSPACE_DESELECT:fa.b[1][4]++;case ye.NODE_SELECT:return fa.b[1][5]++,fa.s[23]++,Me(n,(function(n){fa.f[7]++;var A=(fa.s[24]++,Object.keys(n));fa.s[25]++,A.forEach((function(A){fa.f[8]++,fa.s[26]++,n[A].diagramMakerData.selected=!1}))}));case wr.DELETE_ITEMS:return fa.b[1][6]++,fa.s[27]++,Me(n,(function(n){fa.f[9]++;var e=(fa.s[28]++,A.payload.edgeIds);fa.s[29]++,e.forEach((function(A){fa.f[10]++,fa.s[30]++,delete n[A]}))}));default:return fa.b[1][7]++,fa.s[31]++,n}}var ha=function(){var n="/Volumes/workplace/diagram-maker/src/state/edge/potentialEdgeReducer.ts",A="da597e507fb8f6293a683ebadf42b7c0ea14bb79",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/edge/potentialEdgeReducer.ts",statementMap:{0:{start:{line:4,column:4},end:{line:6,column:5}},1:{start:{line:5,column:8},end:{line:5,column:20}},2:{start:{line:7,column:4},end:{line:23,column:5}},3:{start:{line:9,column:12},end:{line:12,column:14}},4:{start:{line:14,column:12},end:{line:18,column:15}},5:{start:{line:15,column:16},end:{line:17,column:17}},6:{start:{line:16,column:20},end:{line:16,column:66}},7:{start:{line:20,column:12},end:{line:20,column:24}},8:{start:{line:22,column:12},end:{line:22,column:25}}},fnMap:{0:{name:"potentialEdgeReducer",decl:{start:{line:3,column:24},end:{line:3,column:44}},loc:{start:{line:3,column:60},end:{line:24,column:1}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:14,column:34},end:{line:14,column:35}},loc:{start:{line:14,column:56},end:{line:18,column:13}},line:14}},branchMap:{0:{loc:{start:{line:4,column:4},end:{line:6,column:5}},type:"if",locations:[{start:{line:4,column:4},end:{line:6,column:5}},{start:{line:4,column:4},end:{line:6,column:5}}],line:4},1:{loc:{start:{line:7,column:4},end:{line:23,column:5}},type:"switch",locations:[{start:{line:8,column:8},end:{line:12,column:14}},{start:{line:13,column:8},end:{line:18,column:15}},{start:{line:19,column:8},end:{line:20,column:24}},{start:{line:21,column:8},end:{line:22,column:25}}],line:7},2:{loc:{start:{line:15,column:16},end:{line:17,column:17}},type:"if",locations:[{start:{line:15,column:16},end:{line:17,column:17}},{start:{line:15,column:16},end:{line:17,column:17}}],line:15}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0,0,0],2:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/edge/potentialEdgeReducer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/edge/potentialEdgeReducer.ts"],names:[],mappings:"AAAA,OAAO,EAAS,OAAO,EAAE,MAAM,OAAO,CAAC;AAKvC,OAAO,EAAE,eAAe,EAAE,MAAM,eAAe,CAAC;AAEhD,MAAM,CAAC,OAAO,UAAU,oBAAoB,CAC1C,KAAmD,EAAE,MAA8C;IAEnG,IAAI,KAAK,KAAK,SAAS,EAAE;QACvB,OAAO,IAAI,CAAC;KACb;IACD,QAAQ,MAAM,CAAC,IAAI,EAAE;QACnB,KAAK,CAAC,eAAe,CAAC,eAAe,CAAC;YACpC,OAAO;gBACL,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ;gBACjC,GAAG,EAAE,MAAM,CAAC,OAAO,CAAC,EAAE;aACvB,CAAC;QACJ,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC;YAC9B,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,IAAI,UAAU,EAAE;oBACd,UAAU,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;iBAC/C;YACH,CAAC,CAAC,CAAC;QACL,KAAK,CAAC,eAAe,CAAC,aAAa,CAAC;YAClC,OAAO,IAAI,CAAC;QACd;YACE,OAAO,KAAK,CAAC;KAChB;AACH,CAAC",sourcesContent:["import { Draft, produce } from 'immer';\n\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { DiagramMakerPotentialEdge } from 'diagramMaker/state/types';\n\nimport { EdgeActionsType } from './edgeActions';\n\nexport default function potentialEdgeReducer<NodeType, EdgeType>(\n  state: DiagramMakerPotentialEdge | null | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerPotentialEdge | null {\n  if (state === undefined) {\n    return null;\n  }\n  switch (action.type) {\n    case (EdgeActionsType.EDGE_DRAG_START):\n      return {\n        position: action.payload.position,\n        src: action.payload.id\n      };\n    case (EdgeActionsType.EDGE_DRAG):\n      return produce(state, (draftState) => {\n        if (draftState) {\n          draftState.position = action.payload.position;\n        }\n      });\n    case (EdgeActionsType.EDGE_DRAG_END):\n      return null;\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function Ia(n,A){if(ha.f[0]++,ha.s[0]++,void 0===n)return ha.b[0][0]++,ha.s[1]++,null;switch(ha.b[0][1]++,ha.s[2]++,A.type){case yr.EDGE_DRAG_START:return ha.b[1][0]++,ha.s[3]++,{position:A.payload.position,src:A.payload.id};case yr.EDGE_DRAG:return ha.b[1][1]++,ha.s[4]++,Me(n,(function(n){ha.f[1]++,ha.s[5]++,n?(ha.b[2][0]++,ha.s[6]++,n.position=A.payload.position):ha.b[2][1]++}));case yr.EDGE_DRAG_END:return ha.b[1][2]++,ha.s[7]++,null;default:return ha.b[1][3]++,ha.s[8]++,n}}!function(){var n="/Volumes/workplace/diagram-maker/src/state/edge/index.ts",A="8abedb60e30c47cfab10a4e275279527be68eb8e",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/edge/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/edge/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/edge/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,WAAW,EAAE,MAAM,eAAe,CAAC;AACvD,OAAO,EAAE,OAAO,IAAI,oBAAoB,EAAE,MAAM,wBAAwB,CAAC;AACzE,OAAO,EAAE,UAAU,EAAE,eAAe,EAAE,gBAAgB,EAAE,MAAM,eAAe,CAAC",sourcesContent:["export { default as edgeReducer } from './edgeReducer';\nexport { default as potentialEdgeReducer } from './potentialEdgeReducer';\nexport { EdgeAction, EdgeActionsType, SelectEdgeAction } from './edgeActions';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();var ya=function(){var n="/Volumes/workplace/diagram-maker/src/state/editor/editorReducer.ts",A="8bd805faecf490ec99e585ead8ed0b9ea4e18ec2",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/editor/editorReducer.ts",statementMap:{0:{start:{line:5,column:4},end:{line:9,column:5}},1:{start:{line:6,column:8},end:{line:8,column:10}},2:{start:{line:10,column:4},end:{line:48,column:5}},3:{start:{line:12,column:12},end:{line:14,column:15}},4:{start:{line:13,column:16},end:{line:13,column:54}},5:{start:{line:16,column:12},end:{line:22,column:15}},6:{start:{line:17,column:16},end:{line:21,column:18}},7:{start:{line:24,column:12},end:{line:26,column:15}},8:{start:{line:25,column:16},end:{line:25,column:51}},9:{start:{line:28,column:12},end:{line:33,column:15}},10:{start:{line:29,column:16},end:{line:32,column:18}},11:{start:{line:35,column:12},end:{line:41,column:15}},12:{start:{line:36,column:29},end:{line:36,column:111}},13:{start:{line:37,column:16},end:{line:40,column:18}},14:{start:{line:43,column:12},end:{line:45,column:15}},15:{start:{line:44,column:16},end:{line:44,column:56}},16:{start:{line:47,column:12},end:{line:47,column:25}}},fnMap:{0:{name:"editorReducer",decl:{start:{line:4,column:24},end:{line:4,column:37}},loc:{start:{line:4,column:53},end:{line:49,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:12,column:34},end:{line:12,column:35}},loc:{start:{line:12,column:56},end:{line:14,column:13}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:16,column:34},end:{line:16,column:35}},loc:{start:{line:16,column:56},end:{line:22,column:13}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:24,column:34},end:{line:24,column:35}},loc:{start:{line:24,column:56},end:{line:26,column:13}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:28,column:34},end:{line:28,column:35}},loc:{start:{line:28,column:56},end:{line:33,column:13}},line:28},5:{name:"(anonymous_5)",decl:{start:{line:35,column:34},end:{line:35,column:35}},loc:{start:{line:35,column:56},end:{line:41,column:13}},line:35},6:{name:"(anonymous_6)",decl:{start:{line:43,column:34},end:{line:43,column:35}},loc:{start:{line:43,column:56},end:{line:45,column:13}},line:43}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:9,column:5}},{start:{line:5,column:4},end:{line:9,column:5}}],line:5},1:{loc:{start:{line:10,column:4},end:{line:48,column:5}},type:"switch",locations:[{start:{line:11,column:8},end:{line:14,column:15}},{start:{line:15,column:8},end:{line:22,column:15}},{start:{line:23,column:8},end:{line:26,column:15}},{start:{line:27,column:8},end:{line:33,column:15}},{start:{line:34,column:8},end:{line:41,column:15}},{start:{line:42,column:8},end:{line:45,column:15}},{start:{line:46,column:8},end:{line:47,column:25}}],line:10},2:{loc:{start:{line:36,column:29},end:{line:36,column:111}},type:"binary-expr",locations:[{start:{line:36,column:29},end:{line:36,column:51}},{start:{line:36,column:55},end:{line:36,column:84}},{start:{line:36,column:88},end:{line:36,column:111}}],line:36}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0,0,0,0,0,0],2:[0,0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/editor/editorReducer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/editor/editorReducer.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,OAAO,CAAC;AAGhC,OAAO,EAAsB,UAAU,EAAE,MAAM,0BAA0B,CAAC;AAE1E,OAAO,EAAE,iBAAiB,EAAE,MAAM,iBAAiB,CAAC;AAEpD,MAAM,CAAC,OAAO,UAAU,aAAa,CACnC,KAAqC,EAAE,MAA8C;IAErF,IAAI,KAAK,KAAK,SAAS,EAAE;QACvB,OAAO;YACL,IAAI,EAAE,UAAU,CAAC,IAAI;SACtB,CAAC;KACH;IACD,QAAQ,MAAM,CAAC,IAAI,EAAE;QACnB,KAAK,iBAAiB,CAAC,eAAe;YACpC,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,UAAU,CAAC,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;YACxC,CAAC,CAAC,CAAC;QACL,KAAK,iBAAiB,CAAC,iBAAiB;YACtC,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,UAAU,CAAC,WAAW,GAAG;oBACvB,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ;oBACjC,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ;oBACjC,UAAU,EAAE,MAAM,CAAC,OAAO,CAAC,UAAU;iBACtC,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,KAAK,iBAAiB,CAAC,iBAAiB;YACtC,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,UAAU,CAAC,WAAW,GAAG,SAAS,CAAC;YACrC,CAAC,CAAC,CAAC;QACL,KAAK,iBAAiB,CAAC,sBAAsB;YAC3C,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,UAAU,CAAC,gBAAgB,GAAG;oBAC5B,MAAM,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM;oBAC7B,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM;iBAChC,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,KAAK,iBAAiB,CAAC,wBAAwB;YAC7C,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,IAAM,MAAM,GAAG,KAAK,CAAC,gBAAgB,IAAI,KAAK,CAAC,gBAAgB,CAAC,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;gBAClG,UAAU,CAAC,gBAAgB,GAAG;oBAC5B,MAAM,QAAA;oBACN,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ;iBAClC,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,KAAK,iBAAiB,CAAC,sBAAsB;YAC3C,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,UAAU,CAAC,gBAAgB,GAAG,SAAS,CAAC;YAC1C,CAAC,CAAC,CAAC;QACL;YACE,OAAO,KAAK,CAAC;KAChB;AACH,CAAC",sourcesContent:["import { produce } from 'immer';\n\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { DiagramMakerEditor, EditorMode } from 'diagramMaker/state/types';\n\nimport { EditorActionsType } from './editorActions';\n\nexport default function editorReducer<NodeType, EdgeType>(\n  state: DiagramMakerEditor | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerEditor {\n  if (state === undefined) {\n    return {\n      mode: EditorMode.DRAG\n    };\n  }\n  switch (action.type) {\n    case EditorActionsType.SET_EDITOR_MODE:\n      return produce(state, (draftState) => {\n        draftState.mode = action.payload.mode;\n      });\n    case EditorActionsType.SHOW_CONTEXT_MENU:\n      return produce(state, (draftState) => {\n        draftState.contextMenu = {\n          position: action.payload.position,\n          targetId: action.payload.targetId,\n          targetType: action.payload.targetType\n        };\n      });\n    case EditorActionsType.HIDE_CONTEXT_MENU:\n      return produce(state, (draftState) => {\n        draftState.contextMenu = undefined;\n      });\n    case EditorActionsType.SHOW_SELECTION_MARQUEE:\n      return produce(state, (draftState) => {\n        draftState.selectionMarquee = {\n          anchor: action.payload.anchor,\n          position: action.payload.anchor\n        };\n      });\n    case EditorActionsType.UPDATE_SELECTION_MARQUEE:\n      return produce(state, (draftState) => {\n        const anchor = state.selectionMarquee && state.selectionMarquee.anchor || action.payload.position;\n        draftState.selectionMarquee = {\n          anchor,\n          position: action.payload.position\n        };\n      });\n    case EditorActionsType.HIDE_SELECTION_MARQUEE:\n      return produce(state, (draftState) => {\n        draftState.selectionMarquee = undefined;\n      });\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function Ba(n,A){if(ya.f[0]++,ya.s[0]++,void 0===n)return ya.b[0][0]++,ya.s[1]++,{mode:Un.DRAG};switch(ya.b[0][1]++,ya.s[2]++,A.type){case pA.SET_EDITOR_MODE:return ya.b[1][0]++,ya.s[3]++,Me(n,(function(n){ya.f[1]++,ya.s[4]++,n.mode=A.payload.mode}));case pA.SHOW_CONTEXT_MENU:return ya.b[1][1]++,ya.s[5]++,Me(n,(function(n){ya.f[2]++,ya.s[6]++,n.contextMenu={position:A.payload.position,targetId:A.payload.targetId,targetType:A.payload.targetType}}));case pA.HIDE_CONTEXT_MENU:return ya.b[1][2]++,ya.s[7]++,Me(n,(function(n){ya.f[3]++,ya.s[8]++,n.contextMenu=void 0}));case pA.SHOW_SELECTION_MARQUEE:return ya.b[1][3]++,ya.s[9]++,Me(n,(function(n){ya.f[4]++,ya.s[10]++,n.selectionMarquee={anchor:A.payload.anchor,position:A.payload.anchor}}));case pA.UPDATE_SELECTION_MARQUEE:return ya.b[1][4]++,ya.s[11]++,Me(n,(function(e){ya.f[5]++;var t=(ya.s[12]++,ya.b[2][0]++,n.selectionMarquee&&(ya.b[2][1]++,n.selectionMarquee.anchor)||(ya.b[2][2]++,A.payload.position));ya.s[13]++,e.selectionMarquee={anchor:t,position:A.payload.position}}));case pA.HIDE_SELECTION_MARQUEE:return ya.b[1][5]++,ya.s[14]++,Me(n,(function(n){ya.f[6]++,ya.s[15]++,n.selectionMarquee=void 0}));default:return ya.b[1][6]++,ya.s[16]++,n}}!function(){var n="/Volumes/workplace/diagram-maker/src/state/editor/index.ts",A="0047ca7ed1223f223510f8d74ec1a0a8fff36121",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/editor/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/editor/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/editor/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,aAAa,EAAE,MAAM,iBAAiB,CAAC",sourcesContent:["export { default as editorReducer } from './editorReducer';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();var Ma=function(){var n="/Volumes/workplace/diagram-maker/src/state/panel/panelReducer.ts",A="9127b9ddbb66e7bdefc0bf62c4760d04bff2b8be",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/panel/panelReducer.ts",statementMap:{0:{start:{line:5,column:22},end:{line:5,column:24}},1:{start:{line:6,column:32},end:{line:17,column:1}},2:{start:{line:7,column:12},end:{line:7,column:27}},3:{start:{line:7,column:33},end:{line:7,column:48}},4:{start:{line:8,column:24},end:{line:8,column:77}},5:{start:{line:9,column:25},end:{line:9,column:80}},6:{start:{line:10,column:4},end:{line:15,column:5}},7:{start:{line:14,column:8},end:{line:14,column:20}},8:{start:{line:16,column:4},end:{line:16,column:17}},9:{start:{line:18,column:18},end:{line:40,column:1}},10:{start:{line:19,column:24},end:{line:19,column:56}},11:{start:{line:20,column:23},end:{line:20,column:52}},12:{start:{line:21,column:13},end:{line:21,column:34}},13:{start:{line:21,column:40},end:{line:21,column:44}},14:{start:{line:21,column:50},end:{line:21,column:54}},15:{start:{line:22,column:24},end:{line:22,column:85}},16:{start:{line:23,column:25},end:{line:23,column:88}},17:{start:{line:24,column:4},end:{line:39,column:5}},18:{start:{line:25,column:8},end:{line:25,column:62}},19:{start:{line:26,column:8},end:{line:26,column:47}},20:{start:{line:28,column:9},end:{line:39,column:5}},21:{start:{line:29,column:8},end:{line:29,column:63}},22:{start:{line:30,column:8},end:{line:30,column:47}},23:{start:{line:32,column:9},end:{line:39,column:5}},24:{start:{line:33,column:8},end:{line:33,column:65}},25:{start:{line:34,column:8},end:{line:34,column:47}},26:{start:{line:36,column:9},end:{line:39,column:5}},27:{start:{line:37,column:8},end:{line:37,column:66}},28:{start:{line:38,column:8},end:{line:38,column:47}},29:{start:{line:41,column:23},end:{line:52,column:1}},30:{start:{line:42,column:23},end:{line:42,column:52}},31:{start:{line:45,column:4},end:{line:50,column:5}},32:{start:{line:46,column:8},end:{line:46,column:38}},33:{start:{line:49,column:8},end:{line:49,column:39}},34:{start:{line:51,column:4},end:{line:51,column:44}},35:{start:{line:53,column:18},end:{line:68,column:1}},36:{start:{line:54,column:23},end:{line:54,column:52}},37:{start:{line:55,column:13},end:{line:55,column:27}},38:{start:{line:55,column:40},end:{line:55,column:51}},39:{start:{line:55,column:73},end:{line:55,column:93}},40:{start:{line:56,column:15},end:{line:56,column:32}},41:{start:{line:57,column:4},end:{line:57,column:153}},42:{start:{line:58,column:4},end:{line:67,column:5}},43:{start:{line:59,column:28},end:{line:59,column:45}},44:{start:{line:61,column:8},end:{line:63,column:9}},45:{start:{line:62,column:12},end:{line:62,column:43}},46:{start:{line:66,column:8},end:{line:66,column:40}},47:{start:{line:70,column:4},end:{line:72,column:5}},48:{start:{line:71,column:8},end:{line:71,column:18}},49:{start:{line:73,column:4},end:{line:94,column:5}},50:{start:{line:75,column:12},end:{line:79,column:15}},51:{start:{line:76,column:16},end:{line:78,column:17}},52:{start:{line:77,column:20},end:{line:77,column:77}},53:{start:{line:81,column:12},end:{line:85,column:15}},54:{start:{line:82,column:16},end:{line:84,column:17}},55:{start:{line:83,column:20},end:{line:83,column:52}},56:{start:{line:87,column:12},end:{line:91,column:15}},57:{start:{line:88,column:16},end:{line:90,column:17}},58:{start:{line:89,column:20},end:{line:89,column:57}},59:{start:{line:93,column:12},end:{line:93,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:32},end:{line:6,column:33}},loc:{start:{line:6,column:83},end:{line:17,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:18,column:18},end:{line:18,column:19}},loc:{start:{line:18,column:48},end:{line:40,column:1}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:41,column:23},end:{line:41,column:24}},loc:{start:{line:41,column:53},end:{line:52,column:1}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:53,column:18},end:{line:53,column:19}},loc:{start:{line:53,column:48},end:{line:68,column:1}},line:53},4:{name:"panelReducer",decl:{start:{line:69,column:24},end:{line:69,column:36}},loc:{start:{line:69,column:52},end:{line:95,column:1}},line:69},5:{name:"(anonymous_5)",decl:{start:{line:75,column:34},end:{line:75,column:35}},loc:{start:{line:75,column:56},end:{line:79,column:13}},line:75},6:{name:"(anonymous_6)",decl:{start:{line:81,column:34},end:{line:81,column:35}},loc:{start:{line:81,column:56},end:{line:85,column:13}},line:81},7:{name:"(anonymous_7)",decl:{start:{line:87,column:34},end:{line:87,column:35}},loc:{start:{line:87,column:56},end:{line:91,column:13}},line:87}},branchMap:{0:{loc:{start:{line:10,column:4},end:{line:15,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:15,column:5}},{start:{line:10,column:4},end:{line:15,column:5}}],line:10},1:{loc:{start:{line:10,column:8},end:{line:13,column:78}},type:"binary-expr",locations:[{start:{line:10,column:8},end:{line:10,column:27}},{start:{line:10,column:31},end:{line:10,column:50}},{start:{line:11,column:11},end:{line:11,column:42}},{start:{line:11,column:46},end:{line:11,column:65}},{start:{line:12,column:11},end:{line:12,column:30}},{start:{line:12,column:34},end:{line:12,column:66}},{start:{line:13,column:11},end:{line:13,column:42}},{start:{line:13,column:46},end:{line:13,column:78}}],line:10},2:{loc:{start:{line:24,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:39,column:5}},{start:{line:24,column:4},end:{line:39,column:5}}],line:24},3:{loc:{start:{line:24,column:8},end:{line:24,column:50}},type:"binary-expr",locations:[{start:{line:24,column:8},end:{line:24,column:27}},{start:{line:24,column:31},end:{line:24,column:50}}],line:24},4:{loc:{start:{line:28,column:9},end:{line:39,column:5}},type:"if",locations:[{start:{line:28,column:9},end:{line:39,column:5}},{start:{line:28,column:9},end:{line:39,column:5}}],line:28},5:{loc:{start:{line:28,column:13},end:{line:28,column:67}},type:"binary-expr",locations:[{start:{line:28,column:13},end:{line:28,column:44}},{start:{line:28,column:48},end:{line:28,column:67}}],line:28},6:{loc:{start:{line:32,column:9},end:{line:39,column:5}},type:"if",locations:[{start:{line:32,column:9},end:{line:39,column:5}},{start:{line:32,column:9},end:{line:39,column:5}}],line:32},7:{loc:{start:{line:32,column:13},end:{line:32,column:68}},type:"binary-expr",locations:[{start:{line:32,column:13},end:{line:32,column:32}},{start:{line:32,column:36},end:{line:32,column:68}}],line:32},8:{loc:{start:{line:36,column:9},end:{line:39,column:5}},type:"if",locations:[{start:{line:36,column:9},end:{line:39,column:5}},{start:{line:36,column:9},end:{line:39,column:5}}],line:36},9:{loc:{start:{line:36,column:13},end:{line:36,column:80}},type:"binary-expr",locations:[{start:{line:36,column:13},end:{line:36,column:44}},{start:{line:36,column:48},end:{line:36,column:80}}],line:36},10:{loc:{start:{line:45,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:50,column:5}},{start:{line:45,column:4},end:{line:50,column:5}}],line:45},11:{loc:{start:{line:58,column:4},end:{line:67,column:5}},type:"if",locations:[{start:{line:58,column:4},end:{line:67,column:5}},{start:{line:58,column:4},end:{line:67,column:5}}],line:58},12:{loc:{start:{line:61,column:8},end:{line:63,column:9}},type:"if",locations:[{start:{line:61,column:8},end:{line:63,column:9}},{start:{line:61,column:8},end:{line:63,column:9}}],line:61},13:{loc:{start:{line:70,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:70,column:4},end:{line:72,column:5}},{start:{line:70,column:4},end:{line:72,column:5}}],line:70},14:{loc:{start:{line:73,column:4},end:{line:94,column:5}},type:"switch",locations:[{start:{line:74,column:8},end:{line:79,column:15}},{start:{line:80,column:8},end:{line:85,column:15}},{start:{line:86,column:8},end:{line:91,column:15}},{start:{line:92,column:8},end:{line:93,column:25}}],line:73},15:{loc:{start:{line:76,column:16},end:{line:78,column:17}},type:"if",locations:[{start:{line:76,column:16},end:{line:78,column:17}},{start:{line:76,column:16},end:{line:78,column:17}}],line:76},16:{loc:{start:{line:82,column:16},end:{line:84,column:17}},type:"if",locations:[{start:{line:82,column:16},end:{line:84,column:17}},{start:{line:82,column:16},end:{line:84,column:17}}],line:82},17:{loc:{start:{line:82,column:20},end:{line:82,column:98}},type:"binary-expr",locations:[{start:{line:82,column:20},end:{line:82,column:49}},{start:{line:82,column:53},end:{line:82,column:98}}],line:82},18:{loc:{start:{line:88,column:16},end:{line:90,column:17}},type:"if",locations:[{start:{line:88,column:16},end:{line:90,column:17}},{start:{line:88,column:16},end:{line:90,column:17}}],line:88}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0,0,0,0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0,0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/panel/panelReducer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/panel/panelReducer.ts"],names:[],mappings:"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",sourcesContent:["import { Draft, produce } from 'immer';\n\nimport { constrainRectangleWithinRectangle } from 'diagramMaker/service/positionUtils';\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport {\n  DragPanelAction,\n  DragStartPanelAction,\n  PanelActionsType\n} from 'diagramMaker/state/panel/panelActions';\nimport { DiagramMakerPanels, Position, PositionAnchor, Size } from 'diagramMaker/state/types';\n\nconst ANCHOR_DISTANCE = 10;\n\nconst isPanelWithinAnchorBounds = (panelPosition: Position, panelSize: Size, containerSize: Size): boolean => {\n  const { x, y } = panelPosition;\n\n  const rightDistance = Math.abs(containerSize.width - (x + panelSize.width));\n  const bottomDistance = Math.abs(containerSize.height - (y + panelSize.height));\n\n  if (x < ANCHOR_DISTANCE  && y < ANCHOR_DISTANCE\n    || rightDistance < ANCHOR_DISTANCE && y < ANCHOR_DISTANCE\n    || x < ANCHOR_DISTANCE && bottomDistance < ANCHOR_DISTANCE\n    || rightDistance < ANCHOR_DISTANCE && bottomDistance < ANCHOR_DISTANCE\n  ) {\n    return true;\n  }\n\n  return false;\n};\n\nconst anchorPanel = (\n  draftState: Draft<DiagramMakerPanels>,\n  action: DragPanelAction\n) => {\n  const containerSize = action.payload.viewContainerSize;\n  const currentPanel = draftState[action.payload.id];\n  const { x, y } = currentPanel.position;\n\n  const rightDistance = Math.abs(containerSize.width - (x + currentPanel.size.width));\n  const bottomDistance = Math.abs(containerSize.height - (y + currentPanel.size.height));\n\n  if (x < ANCHOR_DISTANCE  && y < ANCHOR_DISTANCE) {\n    currentPanel.positionAnchor = PositionAnchor.TOP_LEFT;\n    currentPanel.position = { x: 0, y: 0 };\n  } else if (rightDistance < ANCHOR_DISTANCE && y < ANCHOR_DISTANCE) {\n    currentPanel.positionAnchor = PositionAnchor.TOP_RIGHT;\n    currentPanel.position = { x: 0, y: 0 };\n  } else if (x < ANCHOR_DISTANCE && bottomDistance < ANCHOR_DISTANCE) {\n    currentPanel.positionAnchor = PositionAnchor.BOTTOM_LEFT;\n    currentPanel.position = { x: 0, y: 0 };\n  } else if (rightDistance < ANCHOR_DISTANCE && bottomDistance < ANCHOR_DISTANCE) {\n    currentPanel.positionAnchor = PositionAnchor.BOTTOM_RIGHT;\n    currentPanel.position = { x: 0, y: 0 };\n  }\n};\n\nconst dragStartReducer = (draftState: Draft<DiagramMakerPanels>, action: DragStartPanelAction) => {\n  const currentPanel = draftState[action.payload.id];\n\n  // When in undocking mode, we wait until panel is outside docking bounds\n  // Before checking for docking again\n  if (currentPanel.positionAnchor) {\n    currentPanel.undocking = true;\n  } else {\n    currentPanel.undocking = false;\n  }\n\n  currentPanel.positionAnchor = undefined;\n};\n\nconst dragReducer = (draftState: Draft<DiagramMakerPanels>, action: DragPanelAction) => {\n  const currentPanel = draftState[action.payload.id];\n\n  const { position, viewContainerSize } = action.payload;\n  const { size } = currentPanel;\n\n  currentPanel.position = constrainRectangleWithinRectangle(\n    { position, size },\n    { position: { x: 0, y: 0 }, size: viewContainerSize }\n  );\n\n  if (currentPanel.undocking) {\n    const containerSize = viewContainerSize;\n\n    // Once we are outside of anchor bounds, we are no longer in undocking mode\n    if (!isPanelWithinAnchorBounds(currentPanel.position, currentPanel.size, containerSize)) {\n      currentPanel.undocking = false;\n    }\n  } else {\n    anchorPanel(draftState, action);\n  }\n};\n\nexport default function panelReducer<NodeType, EdgeType>(\n  state: DiagramMakerPanels | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerPanels {\n  if (state === undefined) {\n    return {};\n  }\n  switch (action.type) {\n    case PanelActionsType.PANEL_RESIZE:\n      return produce(state, (draftState) => {\n        if (draftState[action.payload.id]) {\n          draftState[action.payload.id].size = action.payload.size;\n        }\n      });\n    case PanelActionsType.PANEL_DRAG:\n      return produce(state, (draftState) => {\n        if (draftState[action.payload.id] && !draftState[action.payload.id].positionAnchor) {\n          dragReducer(draftState, action);\n        }\n      });\n    case PanelActionsType.PANEL_DRAG_START:\n      return produce(state, (draftState) => {\n        if (draftState[action.payload.id]) {\n          dragStartReducer(draftState, action);\n        }\n      });\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),va=(Ma.s[0]++,10);Ma.s[1]++;Ma.s[9]++;Ma.s[29]++;Ma.s[35]++;var ba=function(n,A){Ma.f[3]++;var e=(Ma.s[36]++,n[A.payload.id]),t=(Ma.s[37]++,A.payload),o=(Ma.s[38]++,t.position),l=(Ma.s[39]++,t.viewContainerSize),i=(Ma.s[40]++,e.size);if(Ma.s[41]++,e.position=nn({position:o,size:i},{position:{x:0,y:0},size:l}),Ma.s[42]++,e.undocking){Ma.b[11][0]++;var r=(Ma.s[43]++,l);Ma.s[44]++,!function(n,A,e){Ma.f[0]++;var t=(Ma.s[2]++,n.x),o=(Ma.s[3]++,n.y),l=(Ma.s[4]++,Math.abs(e.width-(t+A.width))),i=(Ma.s[5]++,Math.abs(e.height-(o+A.height)));return Ma.s[6]++,Ma.b[1][0]++,t<va&&(Ma.b[1][1]++,o<va)||(Ma.b[1][2]++,l<va&&(Ma.b[1][3]++,o<va))||(Ma.b[1][4]++,t<va&&(Ma.b[1][5]++,i<va))||(Ma.b[1][6]++,l<va&&(Ma.b[1][7]++,i<va))?(Ma.b[0][0]++,Ma.s[7]++,!0):(Ma.b[0][1]++,Ma.s[8]++,!1)}(e.position,e.size,r)?(Ma.b[12][0]++,Ma.s[45]++,e.undocking=!1):Ma.b[12][1]++}else Ma.b[11][1]++,Ma.s[46]++,function(n,A){Ma.f[1]++;var e=(Ma.s[10]++,A.payload.viewContainerSize),t=(Ma.s[11]++,n[A.payload.id]),o=(Ma.s[12]++,t.position),l=(Ma.s[13]++,o.x),i=(Ma.s[14]++,o.y),r=(Ma.s[15]++,Math.abs(e.width-(l+t.size.width))),a=(Ma.s[16]++,Math.abs(e.height-(i+t.size.height)));Ma.s[17]++,Ma.b[3][0]++,l<va&&(Ma.b[3][1]++,i<va)?(Ma.b[2][0]++,Ma.s[18]++,t.positionAnchor=Nn.TOP_LEFT,Ma.s[19]++,t.position={x:0,y:0}):(Ma.b[2][1]++,Ma.s[20]++,Ma.b[5][0]++,r<va&&(Ma.b[5][1]++,i<va)?(Ma.b[4][0]++,Ma.s[21]++,t.positionAnchor=Nn.TOP_RIGHT,Ma.s[22]++,t.position={x:0,y:0}):(Ma.b[4][1]++,Ma.s[23]++,Ma.b[7][0]++,l<va&&(Ma.b[7][1]++,a<va)?(Ma.b[6][0]++,Ma.s[24]++,t.positionAnchor=Nn.BOTTOM_LEFT,Ma.s[25]++,t.position={x:0,y:0}):(Ma.b[6][1]++,Ma.s[26]++,Ma.b[9][0]++,r<va&&(Ma.b[9][1]++,a<va)?(Ma.b[8][0]++,Ma.s[27]++,t.positionAnchor=Nn.BOTTOM_RIGHT,Ma.s[28]++,t.position={x:0,y:0}):Ma.b[8][1]++)))}(n,A)};function Oa(n,A){if(Ma.f[4]++,Ma.s[47]++,void 0===n)return Ma.b[13][0]++,Ma.s[48]++,{};switch(Ma.b[13][1]++,Ma.s[49]++,A.type){case na.PANEL_RESIZE:return Ma.b[14][0]++,Ma.s[50]++,Me(n,(function(n){Ma.f[5]++,Ma.s[51]++,n[A.payload.id]?(Ma.b[15][0]++,Ma.s[52]++,n[A.payload.id].size=A.payload.size):Ma.b[15][1]++}));case na.PANEL_DRAG:return Ma.b[14][1]++,Ma.s[53]++,Me(n,(function(n){Ma.f[6]++,Ma.s[54]++,Ma.b[17][0]++,n[A.payload.id]&&(Ma.b[17][1]++,!n[A.payload.id].positionAnchor)?(Ma.b[16][0]++,Ma.s[55]++,ba(n,A)):Ma.b[16][1]++}));case na.PANEL_DRAG_START:return Ma.b[14][2]++,Ma.s[56]++,Me(n,(function(n){Ma.f[7]++,Ma.s[57]++,n[A.payload.id]?(Ma.b[18][0]++,Ma.s[58]++,function(n,A){Ma.f[2]++;var e=(Ma.s[30]++,n[A.payload.id]);Ma.s[31]++,e.positionAnchor?(Ma.b[10][0]++,Ma.s[32]++,e.undocking=!0):(Ma.b[10][1]++,Ma.s[33]++,e.undocking=!1),Ma.s[34]++,e.positionAnchor=void 0}(n,A)):Ma.b[18][1]++}));default:return Ma.b[14][3]++,Ma.s[59]++,n}}!function(){var n="/Volumes/workplace/diagram-maker/src/state/panel/index.ts",A="fb9f6c89a3283efca8f3424443576f1fd5fe1d03",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/panel/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/panel/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/panel/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,YAAY,EAAE,MAAM,gBAAgB,CAAC;AACzD,OAAO,EACL,oBAAoB,EACpB,eAAe,EACf,WAAW,EACX,gBAAgB,EAChB,iBAAiB,EAClB,MAAM,gBAAgB,CAAC",sourcesContent:["export { default as panelReducer } from './panelReducer';\nexport {\n  DragStartPanelAction,\n  DragPanelAction,\n  PanelAction,\n  PanelActionsType,\n  ResizePanelAction\n} from './panelActions';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();var Ga=function(){var n="/Volumes/workplace/diagram-maker/src/state/plugin/pluginReducer.ts",A="d8b50f3a1337756676480a764c40b8922c139594",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/plugin/pluginReducer.ts",statementMap:{0:{start:{line:2,column:4},end:{line:4,column:5}},1:{start:{line:3,column:8},end:{line:3,column:18}},2:{start:{line:5,column:4},end:{line:5,column:17}}},fnMap:{0:{name:"pluginReducer",decl:{start:{line:1,column:24},end:{line:1,column:37}},loc:{start:{line:1,column:53},end:{line:6,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:4},end:{line:4,column:5}},type:"if",locations:[{start:{line:2,column:4},end:{line:4,column:5}},{start:{line:2,column:4},end:{line:4,column:5}}],line:2}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/plugin/pluginReducer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/plugin/pluginReducer.ts"],names:[],mappings:"AAGA,MAAM,CAAC,OAAO,UAAU,aAAa,CACjC,KAAsC,EAAE,MAA8C;IAExF,IAAI,KAAK,KAAK,SAAS,EAAE;QACvB,OAAO,EAAE,CAAC;KACX;IACD,OAAO,KAAK,CAAC;AACf,CAAC",sourcesContent:["import { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { DiagramMakerPlugins } from 'diagramMaker/state/types';\n\nexport default function pluginReducer<NodeType, EdgeType>(\n    state: DiagramMakerPlugins | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n  ): DiagramMakerPlugins {\n  if (state === undefined) {\n    return {};\n  }\n  return state;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();function Da(n,A){return Ga.f[0]++,Ga.s[0]++,void 0===n?(Ga.b[0][0]++,Ga.s[1]++,{}):(Ga.b[0][1]++,Ga.s[2]++,n)}!function(){var n="/Volumes/workplace/diagram-maker/src/state/plugin/index.ts",A="27eaf873d7330749f53e0993da6959df2f96ef14",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/plugin/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/plugin/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/plugin/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,aAAa,EAAE,MAAM,iBAAiB,CAAC",sourcesContent:["export { default as pluginReducer } from './pluginReducer';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();var ka=function(){var n="/Volumes/workplace/diagram-maker/src/state/common/rootReducer.ts",A="58ce20bac0005e1895d6ca459063cf7ec97e42b3",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/common/rootReducer.ts",statementMap:{0:{start:{line:10,column:4},end:{line:20,column:7}}},fnMap:{0:{name:"getRootReducer",decl:{start:{line:9,column:16},end:{line:9,column:30}},loc:{start:{line:9,column:33},end:{line:21,column:1}},line:9}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/common/rootReducer.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/common/rootReducer.ts"],names:[],mappings:"AAAA,OAAO,EAAE,eAAe,EAAW,MAAM,OAAO,CAAC;AACjD,OAAO,EAAE,kBAAkB,EAAE,MAAM,iBAAiB,CAAC;AAGrD,OAAO,EAAE,WAAW,EAAE,oBAAoB,EAAE,MAAM,yBAAyB,CAAC;AAC5E,OAAO,EAAE,aAAa,EAAE,MAAM,2BAA2B,CAAC;AAC1D,OAAO,EAAE,WAAW,EAAE,oBAAoB,EAAE,MAAM,yBAAyB,CAAC;AAC5E,OAAO,EAAE,YAAY,EAAE,MAAM,0BAA0B,CAAC;AACxD,OAAO,EAAE,aAAa,EAAE,MAAM,2BAA2B,CAAC;AAE1D,OAAO,EAAE,gBAAgB,EAAE,MAAM,8BAA8B,CAAC;AAEhE,MAAM,UAAU,cAAc;IAE5B,OAAO,eAAe,CAA+E;QACnG,KAAK,EAAE,WAAW;QAClB,MAAM,EAAE,aAAa;QACrB,KAAK,EAAE,WAAW;QAClB,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,aAAa;QACtB,aAAa,EAAE,oBAAoB;QACnC,aAAa,EAAE,oBAAoB;QACnC,WAAW,EAAE,kBAAkB;QAC/B,SAAS,EAAE,gBAAgB;KAC5B,CAAC,CAAC;AACL,CAAC",sourcesContent:["import { combineReducers, Reducer } from 'redux';\nimport { undoHistoryReducer } from 'redux-undo-redo';\n\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { edgeReducer, potentialEdgeReducer } from 'diagramMaker/state/edge';\nimport { editorReducer } from 'diagramMaker/state/editor';\nimport { nodeReducer, potentialNodeReducer } from 'diagramMaker/state/node';\nimport { panelReducer } from 'diagramMaker/state/panel';\nimport { pluginReducer } from 'diagramMaker/state/plugin';\nimport { DiagramMakerData } from 'diagramMaker/state/types';\nimport { workspaceReducer } from 'diagramMaker/state/workspace';\n\nexport function getRootReducer<NodeType, EdgeType>(\n): Reducer<DiagramMakerData<NodeType, EdgeType>, DiagramMakerAction<NodeType, EdgeType>> {\n  return combineReducers<DiagramMakerData<NodeType, EdgeType>, DiagramMakerAction<NodeType, EdgeType>>({\n    edges: edgeReducer,\n    editor: editorReducer,\n    nodes: nodeReducer,\n    panels: panelReducer,\n    plugins: pluginReducer,\n    potentialEdge: potentialEdgeReducer,\n    potentialNode: potentialNodeReducer,\n    undoHistory: undoHistoryReducer,\n    workspace: workspaceReducer\n  });\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();var Ka=function(){var n="/Volumes/workplace/diagram-maker/src/state/common/sequenceReducers.ts",A="55027d14d0f5b8973d7f8ca834b86b86565a8afd",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/common/sequenceReducers.ts",statementMap:{0:{start:{line:9,column:19},end:{line:9,column:21}},1:{start:{line:10,column:4},end:{line:12,column:5}},2:{start:{line:11,column:8},end:{line:11,column:41}},3:{start:{line:13,column:4},end:{line:21,column:6}},4:{start:{line:14,column:32},end:{line:14,column:58}},5:{start:{line:15,column:8},end:{line:19,column:11}},6:{start:{line:16,column:12},end:{line:18,column:13}},7:{start:{line:17,column:16},end:{line:17,column:71}},8:{start:{line:20,column:8},end:{line:20,column:33}}},fnMap:{0:{name:"sequenceReducers",decl:{start:{line:8,column:16},end:{line:8,column:32}},loc:{start:{line:8,column:46},end:{line:22,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:13,column:11},end:{line:13,column:12}},loc:{start:{line:13,column:36},end:{line:21,column:5}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:15,column:25},end:{line:15,column:26}},loc:{start:{line:15,column:44},end:{line:19,column:9}},line:15}},branchMap:{0:{loc:{start:{line:16,column:12},end:{line:18,column:13}},type:"if",locations:[{start:{line:16,column:12},end:{line:18,column:13}},{start:{line:16,column:12},end:{line:18,column:13}}],line:16}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/common/sequenceReducers.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/common/sequenceReducers.ts"],names:[],mappings:"AAEA;;;;;;GAMG;AACH,MAAM,UAAU,gBAAgB,CAC9B,WAA2C;IAC3C,kBAAkE;SAAlE,UAAkE,EAAlE,qBAAkE,EAAlE,IAAkE;QAAlE,iCAAkE;;IAElE,OAAO,UAAC,KAA4B,EAAE,MAAkB;QACtD,IAAI,iBAAiB,GAAG,WAAW,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACnD,QAAQ,CAAC,OAAO,CAAC,UAAC,OAAO;YACvB,IAAI,OAAO,EAAE;gBACX,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;aACxD;QACH,CAAC,CAAC,CAAC;QACH,OAAO,iBAAiB,CAAC;IAC3B,CAAC,CAAC;AACJ,CAAC",sourcesContent:["import { AnyAction, Reducer } from 'redux';\n\n/**\n * Combine multiple reducers into one that will pipe `state` through the provided reducers one-by-one,\n * passing the result of the previous reducer as an input of the next one.\n *\n * Allows having `null` or `undefined` reducers in the list. They will be treated as identity function and will\n * pass the state forward without any modifications.\n */\nexport function sequenceReducers<StateType, ActionType extends AnyAction>(\n  rootReducer: Reducer<StateType, ActionType>,\n  ...reducers: (Reducer<StateType, ActionType> | undefined | null)[]\n): Reducer<StateType, ActionType> {\n  return (state: StateType | undefined, action: ActionType) => {\n    let intermediateState = rootReducer(state, action);\n    reducers.forEach((reducer) => {\n      if (reducer) {\n        intermediateState = reducer(intermediateState, action);\n      }\n    });\n    return intermediateState;\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();var Sa=function(){var n="/Volumes/workplace/diagram-maker/src/state/middleware/createInterceptorMiddleware.ts",A="996a9c3021ae39dfa7d8be3a09a6e68e278ea7c9",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/middleware/createInterceptorMiddleware.ts",statementMap:{0:{start:{line:2,column:4},end:{line:7,column:12}},1:{start:{line:2,column:30},end:{line:7,column:9}},2:{start:{line:2,column:55},end:{line:7,column:6}},3:{start:{line:3,column:8},end:{line:5,column:9}},4:{start:{line:4,column:12},end:{line:4,column:32}},5:{start:{line:6,column:8},end:{line:6,column:56}}},fnMap:{0:{name:"createInterceptorMiddleware",decl:{start:{line:1,column:16},end:{line:1,column:43}},loc:{start:{line:1,column:63},end:{line:8,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:11},end:{line:2,column:12}},loc:{start:{line:2,column:28},end:{line:7,column:11}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:2,column:37},end:{line:2,column:38}},loc:{start:{line:2,column:53},end:{line:7,column:8}},line:2},3:{name:"(anonymous_3)",decl:{start:{line:2,column:62},end:{line:2,column:63}},loc:{start:{line:2,column:80},end:{line:7,column:5}},line:2}},branchMap:{0:{loc:{start:{line:3,column:8},end:{line:5,column:9}},type:"if",locations:[{start:{line:3,column:8},end:{line:5,column:9}},{start:{line:3,column:8},end:{line:5,column:9}}],line:3}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/middleware/createInterceptorMiddleware.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/middleware/createInterceptorMiddleware.ts"],names:[],mappings:"AAMA,MAAM,UAAU,2BAA2B,CACzC,iBAAyD;IAEzD,OAAO,UAAC,KAAoB,IAAK,OAAA,UAAC,IAAsB,IAAK,OAAA,UAAC,MAAc;QAC1E,IAAI,CAAC,iBAAiB,EAAE;YACtB,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC;SACrB;QAED,iBAAiB,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;IAClD,CAAC,EAN4D,CAM5D,EANgC,CAMhC,CAAC;AACJ,CAAC",sourcesContent:["import { DiagramMakerData } from 'diagramMaker/state/types';\nimport { Action, Dispatch, MiddlewareAPI } from 'redux';\n\nexport type ActionInterceptor<NodeType, EdgeType> =\n  (action: Action, dispatch: Dispatch<Action>, getState: () => DiagramMakerData<NodeType, EdgeType>) => void;\n\nexport function createInterceptorMiddleware<NodeType, EdgeType>(\n  actionInterceptor?: ActionInterceptor<NodeType, EdgeType>\n) {\n  return (store: MiddlewareAPI) => (next: Dispatch<Action>) => (action: Action) => {\n    if (!actionInterceptor) {\n      return next(action);\n    }\n\n    actionInterceptor(action, next, store.getState);\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();var wa=function(n){return function(A,e,t){for(var o=-1,l=Object(A),i=t(A),r=i.length;r--;){var a=i[n?r:++o];if(!1===e(l[a],a,l))break}return A}}();var _a=function(n,A){return function(e,t){if(null==e)return e;if(!Oo(e))return n(e,t);for(var o=e.length,l=A?o:-1,i=Object(e);(A?l--:++l<o)&&!1!==t(i[l],l,i););return e}}((function(n,A){return n&&wa(n,A,Go)}));var xa=function(n,A){var e=[];return _a(n,(function(n,t,o){A(n,t,o)&&e.push(n)})),e};var Ta=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this};var Qa=function(n){return this.__data__.has(n)};function Ua(n){var A=-1,e=null==n?0:n.length;for(this.__data__=new Lt;++A<e;)this.add(n[A])}Ua.prototype.add=Ua.prototype.push=Ta,Ua.prototype.has=Qa;var Na=Ua;var Pa=function(n,A){for(var e=-1,t=null==n?0:n.length;++e<t;)if(A(n[e],e,n))return!0;return!1};var Ra=function(n,A){return n.has(A)};var Wa=function(n,A,e,t,o,l){var i=1&e,r=n.length,a=A.length;if(r!=a&&!(i&&a>r))return!1;var c=l.get(n);if(c&&l.get(A))return c==A;var s=-1,C=!0,u=2&e?new Na:void 0;for(l.set(n,A),l.set(A,n);++s<r;){var m=n[s],d=A[s];if(t)var E=i?t(d,m,s,A,n,l):t(m,d,s,n,A,l);if(void 0!==E){if(E)continue;C=!1;break}if(u){if(!Pa(A,(function(n,A){if(!Ra(u,A)&&(m===n||o(m,n,e,t,l)))return u.push(A)}))){C=!1;break}}else if(m!==d&&!o(m,d,e,t,l)){C=!1;break}}return l.delete(n),l.delete(A),C};var Ya=function(n){var A=-1,e=Array(n.size);return n.forEach((function(n,t){e[++A]=[t,n]})),e};var za=function(n){var A=-1,e=Array(n.size);return n.forEach((function(n){e[++A]=n})),e},La=b?b.prototype:void 0,ja=La?La.valueOf:void 0;var Fa=function(n,A,e,t,o,l,i){switch(e){case"[object DataView]":if(n.byteLength!=A.byteLength||n.byteOffset!=A.byteOffset)return!1;n=n.buffer,A=A.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=A.byteLength||!l(new al(n),new al(A)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Xe(+n,+A);case"[object Error]":return n.name==A.name&&n.message==A.message;case"[object RegExp]":case"[object String]":return n==A+"";case"[object Map]":var r=Ya;case"[object Set]":var a=1&t;if(r||(r=za),n.size!=A.size&&!a)return!1;var c=i.get(n);if(c)return c==A;t|=2,i.set(n,A);var s=Wa(r(n),r(A),t,o,l,i);return i.delete(n),s;case"[object Symbol]":if(ja)return ja.call(n)==ja.call(A)}return!1},Va=Object.prototype.hasOwnProperty;var Ha=function(n,A,e,t,o,l){var i=1&e,r=Vo(n),a=r.length;if(a!=Vo(A).length&&!i)return!1;for(var c=a;c--;){var s=r[c];if(!(i?s in A:Va.call(A,s)))return!1}var C=l.get(n);if(C&&l.get(A))return C==A;var u=!0;l.set(n,A),l.set(A,n);for(var m=i;++c<a;){var d=n[s=r[c]],E=A[s];if(t)var p=i?t(E,d,s,A,n,l):t(d,E,s,n,A,l);if(!(void 0===p?d===E||o(d,E,e,t,l):p)){u=!1;break}m||(m="constructor"==s)}if(u&&!m){var f=n.constructor,g=A.constructor;f==g||!("constructor"in n)||!("constructor"in A)||"function"==typeof f&&f instanceof f&&"function"==typeof g&&g instanceof g||(u=!1)}return l.delete(n),l.delete(A),u},qa=Object.prototype.hasOwnProperty;var Xa=function(n,A,e,t,o,l){var i=io(n),r=io(A),a=i?"[object Array]":ll(n),c=r?"[object Array]":ll(A),s="[object Object]"==(a="[object Arguments]"==a?"[object Object]":a),C="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),u=a==c;if(u&&Object(ro.a)(n)){if(!Object(ro.a)(A))return!1;i=!0,s=!1}if(u&&!s)return l||(l=new Vt),i||fo(n)?Wa(n,A,e,t,o,l):Fa(n,A,a,e,t,o,l);if(!(1&e)){var m=s&&qa.call(n,"__wrapped__"),d=C&&qa.call(A,"__wrapped__");if(m||d){var E=m?n.value():n,p=d?A.value():A;return l||(l=new Vt),o(E,p,e,t,l)}}return!!u&&(l||(l=new Vt),Ha(n,A,e,t,o,l))};var Za=function n(A,e,t,o,l){return A===e||(null==A||null==e||!T(A)&&!T(e)?A!=A&&e!=e:Xa(A,e,t,o,n,l))};var Ja=function(n,A,e,t){var o=e.length,l=o,i=!t;if(null==n)return!l;for(n=Object(n);o--;){var r=e[o];if(i&&r[2]?r[1]!==n[r[0]]:!(r[0]in n))return!1}for(;++o<l;){var a=(r=e[o])[0],c=n[a],s=r[1];if(i&&r[2]){if(void 0===c&&!(a in n))return!1}else{var C=new Vt;if(t)var u=t(c,s,a,n,A,C);if(!(void 0===u?Za(s,c,3,t,C):u))return!1}}return!0};var $a=function(n){return n==n&&!M(n)};var nc=function(n){for(var A=Go(n),e=A.length;e--;){var t=A[e],o=n[t];A[e]=[t,o,$a(o)]}return A};var Ac=function(n,A){return function(e){return null!=e&&(e[n]===A&&(void 0!==A||n in Object(e)))}};var ec=function(n){var A=nc(n);return 1==A.length&&A[0][2]?Ac(A[0][0],A[0][1]):function(e){return e===n||Ja(e,n,A)}},tc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oc=/^\w*$/;var lc=function(n,A){if(io(n))return!1;var e=typeof n;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=n&&!Q(n))||(oc.test(n)||!tc.test(n)||null!=A&&n in Object(A))};function ic(n,A){if("function"!=typeof n||null!=A&&"function"!=typeof A)throw new TypeError("Expected a function");var e=function(){var t=arguments,o=A?A.apply(this,t):t[0],l=e.cache;if(l.has(o))return l.get(o);var i=n.apply(this,t);return e.cache=l.set(o,i)||l,i};return e.cache=new(ic.Cache||Lt),e}ic.Cache=Lt;var rc=ic;var ac=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cc=/\\(\\)?/g,sc=function(n){var A=rc(n,(function(n){return 500===e.size&&e.clear(),n})),e=A.cache;return A}((function(n){var A=[];return 46===n.charCodeAt(0)&&A.push(""),n.replace(ac,(function(n,e,t,o){A.push(t?o.replace(cc,"$1"):e||n)})),A})),Cc=b?b.prototype:void 0,uc=Cc?Cc.toString:void 0;var mc=function n(A){if("string"==typeof A)return A;if(io(A))return _l(A,n)+"";if(Q(A))return uc?uc.call(A):"";var e=A+"";return"0"==e&&1/A==-1/0?"-0":e};var dc=function(n){return null==n?"":mc(n)};var Ec=function(n,A){return io(n)?n:lc(n,A)?[n]:sc(dc(n))};var pc=function(n){if("string"==typeof n||Q(n))return n;var A=n+"";return"0"==A&&1/n==-1/0?"-0":A};var fc=function(n,A){for(var e=0,t=(A=Ec(A,n)).length;null!=n&&e<t;)n=n[pc(A[e++])];return e&&e==t?n:void 0};var gc=function(n,A,e){var t=null==n?void 0:fc(n,A);return void 0===t?e:t};var hc=function(n,A){return null!=n&&A in Object(n)};var Ic=function(n,A,e){for(var t=-1,o=(A=Ec(A,n)).length,l=!1;++t<o;){var i=pc(A[t]);if(!(l=null!=n&&e(n,i)))break;n=n[i]}return l||++t!=o?l:!!(o=null==n?0:n.length)&&so(o)&&co(i,o)&&(io(n)||lo(n))};var yc=function(n,A){return null!=n&&Ic(n,A,hc)};var Bc=function(n,A){return lc(n)&&$a(A)?Ac(pc(n),A):function(e){var t=gc(e,n);return void 0===t&&t===A?yc(e,n):Za(A,t,3)}};var Mc=function(n){return n};var vc=function(n){return function(A){return null==A?void 0:A[n]}};var bc=function(n){return function(A){return fc(A,n)}};var Oc=function(n){return lc(n)?vc(pc(n)):bc(n)};var Gc=function(n){return"function"==typeof n?n:null==n?Mc:"object"==typeof n?io(n)?Bc(n[0],n[1]):ec(n):Oc(n)};var Dc=function(n,A){return(io(n)?Qo:xa)(n,Gc(A,3))},kc=function(){var n="/Volumes/workplace/diagram-maker/src/state/middleware/undoMiddleware.ts",A="7814dcd82e42654f64dee888c7e11a634aa9b6b7",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/middleware/undoMiddleware.ts",statementMap:{0:{start:{line:7,column:31},end:{line:30,column:1}},1:{start:{line:9,column:4},end:{line:29,column:7}},2:{start:{line:12,column:16},end:{line:12,column:72}},3:{start:{line:15,column:16},end:{line:15,column:72}},4:{start:{line:19,column:20},end:{line:19,column:72}},5:{start:{line:21,column:55},end:{line:26,column:19}},6:{start:{line:23,column:24},end:{line:23,column:76}},7:{start:{line:25,column:65},end:{line:25,column:117}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:31},end:{line:7,column:32}},loc:{start:{line:7,column:43},end:{line:30,column:1}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:60},end:{line:13,column:13}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:14,column:42},end:{line:14,column:43}},loc:{start:{line:14,column:60},end:{line:16,column:13}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:18,column:24},end:{line:18,column:25}},loc:{start:{line:18,column:48},end:{line:20,column:17}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:21,column:28},end:{line:21,column:29}},loc:{start:{line:21,column:53},end:{line:26,column:21}},line:21},5:{name:"(anonymous_5)",decl:{start:{line:22,column:47},end:{line:22,column:48}},loc:{start:{line:22,column:63},end:{line:24,column:21}},line:22},6:{name:"(anonymous_6)",decl:{start:{line:25,column:47},end:{line:25,column:48}},loc:{start:{line:25,column:63},end:{line:25,column:119}},line:25}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/middleware/undoMiddleware.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/middleware/undoMiddleware.ts"],names:[],mappings:"AAAA,OAAO,MAAM,MAAM,kBAAkB,CAAC;AACtC,OAAO,EAAE,oBAAoB,EAAE,MAAM,iBAAiB,CAAC;AAEvD,OAAO,EAAoB,WAAW,EAAE,MAAM,qCAAqC,CAAC;AACpF,OAAO,EAAE,uBAAuB,EAAE,oBAAoB,EAAE,MAAM,kDAAkD,CAAC;AACjH,OAAO,EAAqB,aAAa,EAAE,MAAM,yCAAyC,CAAC;AAC3F,OAAO,EAAoB,WAAW,EAAE,MAAM,qCAAqC,CAAC;AAGpF,MAAM,CAAC,IAAM,iBAAiB,GAAG;;IAC/B,OAAO,oBAAoB,CAAuC;QAChE,gBAAgB;YACd,GAAC,WAAW,CAAC,WAAW,IAAG,UAAC,MAAkC;gBAC1D,OAAA,uBAAuB,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAAhD,CAAgD;YACpD,GAAC,WAAW,CAAC,WAAW,IAAG,UAAC,MAAkC;gBAC1D,OAAA,uBAAuB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;YAAhD,CAAgD;YACpD,GAAC,aAAa,CAAC,YAAY,IAAG;gBAC5B,MAAM,EAAE,UAAC,MAAyB,EAAE,IAAS;oBAC3C,OAAA,oBAAoB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC;gBAA5C,CAA4C;gBAC9C,UAAU,EAAE,UAAC,KAA2C,EAAE,MAAyB,IAAK,OAAA,CAAC;oBACvF,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,UAAC,IAAgC;wBAC1D,OAAA,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;oBAA5C,CAA4C,CAAC;oBAC/C,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,UAAC,IAAgC,IAAK,OAAA,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAA5C,CAA4C,CAAC;iBAC/G,CAAC,EAJsF,CAItF;aACH;eACF;KACF,CAAC,CAAC;AACL,CAAC,CAAC",sourcesContent:["import filter from 'lodash-es/filter';\nimport { createUndoMiddleware } from 'redux-undo-redo';\n\nimport { CreateEdgeAction, EdgeActions } from 'diagramMaker/state/edge/edgeActions';\nimport { createDeleteItemsAction, createNewItemsAction } from 'diagramMaker/state/global/globalActionDispatcher';\nimport { DeleteItemsAction, GlobalActions } from 'diagramMaker/state/global/globalActions';\nimport { CreateNodeAction, NodeActions } from 'diagramMaker/state/node/nodeActions';\nimport { DiagramMakerData, DiagramMakerEdge, DiagramMakerNode } from 'diagramMaker/state/types';\n\nexport const getUndoMiddleware = <NodeType, EdgeType>() => {\n  return createUndoMiddleware<DiagramMakerData<NodeType, EdgeType>>({\n    revertingActions: {\n      [EdgeActions.EDGE_CREATE]: (action: CreateEdgeAction<EdgeType>) =>\n          createDeleteItemsAction([], [action.payload.id]),\n      [NodeActions.NODE_CREATE]: (action: CreateNodeAction<NodeType>) =>\n          createDeleteItemsAction([action.payload.id], []),\n      [GlobalActions.DELETE_ITEMS]: {\n        action: (action: DeleteItemsAction, args: any) =>\n          createNewItemsAction(args.nodes, args.edges),\n        createArgs: (state: DiagramMakerData<NodeType, EdgeType>, action: DeleteItemsAction) => ({\n          edges: filter(state.edges, (edge: DiagramMakerEdge<EdgeType>) =>\n            action.payload.edgeIds.indexOf(edge.id) > -1),\n          nodes: filter(state.nodes, (node: DiagramMakerNode<NodeType>) => action.payload.nodeIds.indexOf(node.id) > -1)\n        })\n      }\n    }\n  });\n};\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}();kc.s[0]++;var Kc=function(){var n;return kc.f[0]++,kc.s[1]++,Object(fA.createUndoMiddleware)({revertingActions:(n={},n[br.EDGE_CREATE]=function(n){return kc.f[1]++,kc.s[2]++,Ur([],[n.payload.id])},n[Ge.NODE_CREATE]=function(n){return kc.f[2]++,kc.s[3]++,Ur([n.payload.id],[])},n[Tr.DELETE_ITEMS]={action:function(n,A){return kc.f[3]++,kc.s[4]++,e=A.nodes,t=A.edges,Qr.f[1]++,Qr.s[1]++,{type:wr.CREATE_ITEMS,payload:{nodes:e,edges:t}};var e,t},createArgs:function(n,A){return kc.f[4]++,kc.s[5]++,{edges:Dc(n.edges,(function(n){return kc.f[5]++,kc.s[6]++,A.payload.edgeIds.indexOf(n.id)>-1})),nodes:Dc(n.nodes,(function(n){return kc.f[6]++,kc.s[7]++,A.payload.nodeIds.indexOf(n.id)>-1}))}}},n)})},Sc=(function(){var n="/Volumes/workplace/diagram-maker/src/state/middleware/index.ts",A="0b41902099052b94bb629c37cd6c061bcd97a1a4",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/middleware/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/middleware/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/middleware/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,iBAAiB,EAAE,2BAA2B,EAAE,MAAM,+BAA+B,CAAC;AAC/F,OAAO,EAAE,iBAAiB,EAAE,MAAM,kBAAkB,CAAC",sourcesContent:["export { ActionInterceptor, createInterceptorMiddleware } from './createInterceptorMiddleware';\nexport { getUndoMiddleware } from './undoMiddleware';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),function(){var n="/Volumes/workplace/diagram-maker/src/state/createStore.ts",A="f2be4cc1ec036c6d49222feaa8dac785cb1cf556",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/createStore.ts",statementMap:{0:{start:{line:7,column:32},end:{line:7,column:95}},1:{start:{line:8,column:25},end:{line:8,column:61}},2:{start:{line:9,column:21},end:{line:9,column:67}},3:{start:{line:10,column:27},end:{line:12,column:20}},4:{start:{line:20,column:4},end:{line:20,column:131}}},fnMap:{0:{name:"createStore",decl:{start:{line:6,column:24},end:{line:6,column:35}},loc:{start:{line:6,column:107},end:{line:21,column:1}},line:6}},branchMap:{0:{loc:{start:{line:10,column:27},end:{line:12,column:20}},type:"cond-expr",locations:[{start:{line:11,column:10},end:{line:11,column:47}},{start:{line:12,column:10},end:{line:12,column:20}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/createStore.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/createStore.ts"],names:[],mappings:"AAAA,OAAO,EACL,eAAe,EACf,OAAO,EACP,WAAW,IAAI,gBAAgB,EAIhC,MAAM,OAAO,CAAC;AAGf,OAAO,EAAE,cAAc,EAAE,MAAM,uCAAuC,CAAC;AACvE,OAAO,EAAE,gBAAgB,EAAE,MAAM,4CAA4C,CAAC;AAC9E,OAAO,EAAE,aAAa,EAAE,MAAM,2BAA2B,CAAC;AAC1D,OAAO,EAAqB,2BAA2B,EAAE,iBAAiB,EAAE,MAAM,+BAA+B,CAAC;AAGlH,MAAM,CAAC,OAAO,UAAU,WAAW,CACjC,WAAkD,EAClD,mBAA2G,EAC3G,gBAAgC,EAChC,iBAAyD;IAGzD,IAAM,qBAAqB,GAAG,eAAe,CAAC,2BAA2B,CAAC,iBAAiB,CAAC,CAAC,CAAC;IAC9F,IAAM,cAAc,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC,CAAC;IAC5D,IAAM,UAAU,GAAG,OAAO,CAAC,qBAAqB,EAAE,cAAc,CAAC,CAAC;IAClE,IAAM,gBAAgB,GAAG,gBAAgB;QACvC,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,gBAAgB,CAAC;QACvC,CAAC,CAAC,UAAU,CAAC;IAEf;;;;;;OAMG;IAEH,OAAO,gBAAgB,CACrB,gBAAgB,CACd,cAAc,EAAE,EAChB,aAAa,EACb,mBAAmB,CACpB,EACD,WAAkB,EAClB,gBAAgB,CACjB,CAAC;AACJ,CAAC",sourcesContent:["import {\n  applyMiddleware,\n  compose,\n  createStore as reduxCreateStore,\n  Reducer,\n  Store,\n  StoreEnhancer\n} from 'redux';\n\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { getRootReducer } from 'diagramMaker/state/common/rootReducer';\nimport { sequenceReducers } from 'diagramMaker/state/common/sequenceReducers';\nimport { layoutReducer } from 'diagramMaker/state/layout';\nimport { ActionInterceptor, createInterceptorMiddleware, getUndoMiddleware } from 'diagramMaker/state/middleware';\nimport { DiagramMakerData } from 'diagramMaker/state/types';\n\nexport default function createStore<NodeType, EdgeType>(\n  initialData?: DiagramMakerData<NodeType, EdgeType>,\n  consumerRootReducer?: Reducer<DiagramMakerData<NodeType, EdgeType>, DiagramMakerAction<NodeType, EdgeType>>,\n  consumerEnhancer?: StoreEnhancer,\n  actionInterceptor?: ActionInterceptor<NodeType, EdgeType>\n): Store<DiagramMakerData<NodeType, EdgeType>> {\n\n  const interceptorMiddleware = applyMiddleware(createInterceptorMiddleware(actionInterceptor));\n  const undoMiddleware = applyMiddleware(getUndoMiddleware());\n  const middleware = compose(interceptorMiddleware, undoMiddleware);\n  const composedEnhancer = consumerEnhancer\n    ? compose(middleware, consumerEnhancer)\n    : middleware;\n\n  /**\n   * FIXME: Due to this issue: https://github.com/Microsoft/TypeScript/issues/21592\n   * The below line needs an \"any\" typecast. It throws a type error for excessive\n   * stack depth otherwise. Also, note that due to the type signatures on the function\n   * declaration, type safety is lost within this method, but is retained everywhere else.\n   * Remove this when typescript fixes it.\n   */\n\n  return reduxCreateStore(\n    sequenceReducers<DiagramMakerData<NodeType, EdgeType>, DiagramMakerAction<NodeType, EdgeType>>(\n      getRootReducer(),\n      layoutReducer,\n      consumerRootReducer\n    ),\n    initialData as any,\n    composedEnhancer\n  );\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}());function wc(n,A,e,t){Sc.f[0]++;var o=(Sc.s[0]++,Object(ua.a)(function(n){return Sa.f[0]++,Sa.s[0]++,function(A){return Sa.f[1]++,Sa.s[1]++,function(e){return Sa.f[2]++,Sa.s[2]++,function(t){if(Sa.f[3]++,Sa.s[3]++,!n)return Sa.b[0][0]++,Sa.s[4]++,e(t);Sa.b[0][1]++,Sa.s[5]++,n(t,e,A.getState)}}}}(t))),l=(Sc.s[1]++,Object(ua.a)(Kc())),i=(Sc.s[2]++,Object(ua.d)(o,l)),r=(Sc.s[3]++,e?(Sc.b[0][0]++,Object(ua.d)(i,e)):(Sc.b[0][1]++,i));return Sc.s[4]++,Object(ua.e)(function(n){Ka.f[0]++;var A=(Ka.s[0]++,[]);Ka.s[1]++;for(var e=1;e<arguments.length;e++)Ka.s[2]++,A[e-1]=arguments[e];return Ka.s[3]++,function(e,t){Ka.f[1]++;var o=(Ka.s[4]++,n(e,t));return Ka.s[5]++,A.forEach((function(n){Ka.f[2]++,Ka.s[6]++,n?(Ka.b[0][0]++,Ka.s[7]++,o=n(o,t)):Ka.b[0][1]++})),Ka.s[8]++,o}}((ka.f[0]++,ka.s[0]++,Object(ua.c)({edges:ga,editor:Ba,nodes:da,panels:Oa,plugins:Da,potentialEdge:Ia,potentialNode:pa,undoHistory:fA.undoHistoryReducer,workspace:Ve})),li,A),n,r)}var _c=function(){var n="/Volumes/workplace/diagram-maker/src/DiagramMaker.ts",A="c567a2b2ded9e87644e620292ffccde561378af3",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/DiagramMaker.ts",statementMap:{0:{start:{line:17,column:34},end:{line:70,column:3}},1:{start:{line:19,column:20},end:{line:19,column:24}},2:{start:{line:20,column:17},end:{line:20,column:40}},3:{start:{line:20,column:56},end:{line:20,column:70}},4:{start:{line:20,column:94},end:{line:20,column:116}},5:{start:{line:20,column:137},end:{line:20,column:156}},6:{start:{line:20,column:174},end:{line:20,column:190}},7:{start:{line:29,column:8},end:{line:32,column:10}},8:{start:{line:30,column:34},end:{line:30,column:92}},9:{start:{line:31,column:12},end:{line:31,column:103}},10:{start:{line:42,column:8},end:{line:45,column:10}},11:{start:{line:43,column:12},end:{line:43,column:61}},12:{start:{line:44,column:12},end:{line:44,column:49}},13:{start:{line:46,column:8},end:{line:55,column:10}},14:{start:{line:47,column:12},end:{line:49,column:13}},15:{start:{line:48,column:16},end:{line:48,column:33}},16:{start:{line:50,column:28},end:{line:50,column:62}},17:{start:{line:51,column:12},end:{line:53,column:13}},18:{start:{line:52,column:16},end:{line:52,column:55}},19:{start:{line:54,column:12},end:{line:54,column:29}},20:{start:{line:56,column:8},end:{line:56,column:48}},21:{start:{line:57,column:8},end:{line:57,column:121}},22:{start:{line:58,column:8},end:{line:58,column:51}},23:{start:{line:59,column:8},end:{line:59,column:54}},24:{start:{line:60,column:8},end:{line:60,column:39}},25:{start:{line:61,column:8},end:{line:63,column:9}},26:{start:{line:62,column:12},end:{line:62,column:54}},27:{start:{line:64,column:8},end:{line:64,column:78}},28:{start:{line:65,column:8},end:{line:65,column:93}},29:{start:{line:66,column:8},end:{line:66,column:68}},30:{start:{line:67,column:8},end:{line:67,column:31}},31:{start:{line:69,column:4},end:{line:69,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:34},end:{line:17,column:35}},loc:{start:{line:17,column:46},end:{line:70,column:1}},line:17},1:{name:"DiagramMaker",decl:{start:{line:18,column:13},end:{line:18,column:25}},loc:{start:{line:18,column:49},end:{line:68,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:29,column:31},end:{line:29,column:32}},loc:{start:{line:29,column:43},end:{line:32,column:9}},line:29},3:{name:"(anonymous_3)",decl:{start:{line:42,column:23},end:{line:42,column:24}},loc:{start:{line:42,column:35},end:{line:45,column:9}},line:42},4:{name:"(anonymous_4)",decl:{start:{line:46,column:28},end:{line:46,column:29}},loc:{start:{line:46,column:49},end:{line:55,column:9}},line:46}},branchMap:{0:{loc:{start:{line:20,column:17},end:{line:20,column:40}},type:"cond-expr",locations:[{start:{line:20,column:33},end:{line:20,column:35}},{start:{line:20,column:38},end:{line:20,column:40}}],line:20},1:{loc:{start:{line:47,column:12},end:{line:49,column:13}},type:"if",locations:[{start:{line:47,column:12},end:{line:49,column:13}},{start:{line:47,column:12},end:{line:49,column:13}}],line:47},2:{loc:{start:{line:51,column:12},end:{line:53,column:13}},type:"if",locations:[{start:{line:51,column:12},end:{line:53,column:13}},{start:{line:51,column:12},end:{line:53,column:13}}],line:51},3:{loc:{start:{line:61,column:8},end:{line:63,column:9}},type:"if",locations:[{start:{line:61,column:8},end:{line:63,column:9}},{start:{line:61,column:8},end:{line:63,column:9}}],line:61}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/DiagramMaker.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/DiagramMaker.ts"],names:[],mappings:"AAAA,2BAA2B;AAC3B,gDAAgD;AAChD,OAAO,sCAAsC,CAAC;AAI9C,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,qCAAqC,CAAC;AACtE,OAAO,aAAqC,MAAM,oCAAoC,CAAC;AACvF,OAAO,eAAe,MAAM,sCAAsC,CAAC;AACnE,OAAO,EAAE,OAAO,IAAI,QAAQ,EAAoB,MAAM,wCAAwC,CAAC;AAC/F,OAAO,EACL,kBAAkB,EAClB,OAAO,IAAI,cAAc,EACzB,gBAAgB,EACjB,MAAM,wCAAwC,CAAC;AAChD,OAAO,iBAAiB,MAAM,2CAA2C,CAAC;AAC1E,OAAO,gBAAgB,MAAM,qCAAqC,CAAC;AACnE,OAAO,WAAW,MAAM,gCAAgC,CAAC;AAGzD;;;;GAIG;AACH;IAoBE,sBACE,SAA+B,EAC/B,MAA8C,EAC9C,EAKM;QARR,iBAyBC;YAtBC,qBAKI,EAAE,KAAA,EALJ,WAAW,iBAAA,EAAE,mBAAmB,yBAAA,EAAE,gBAAgB,sBAAA,EAAE,aAAa,mBAAA;QAwBrE;;;;;;;WAOG;QACI,oBAAe,GAAG;YACvB,IAAM,eAAe,GAAG,iBAAiB,CAAC,uBAAuB,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;YAClF,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,kBAAkB,CAAC,8BAA8B,EAAE,eAAe,CAAC,CAAC;QAC5F,CAAC,CAAA;QAED;;;;;;;;WAQG;QACI,YAAO,GAAG;YACf,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;YAChD,OAAO,CAAC,KAAI,CAAC,SAAS,EAAE,KAAI,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,CAAA;QAEO,iBAAY,GAAG,UAAC,SAA+B;YACrD,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;gBACjC,OAAO,SAAS,CAAC;aAClB;YACD,IAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;YACrD,IAAI,CAAC,SAAS,EAAE;gBACd,MAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAC;aACxC;YACD,OAAO,SAAS,CAAC;QACnB,CAAC,CAAA;QArDC,IAAI,CAAC,MAAM,GAAG,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC;QACxC,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,WAAW,EAAE,mBAAmB,EAAE,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,CAAC;QACjH,IAAI,CAAC,GAAG,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE3C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC/B,IAAI,aAAa,EAAE;YACjB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;SAC3C;QACD,IAAI,CAAC,YAAY,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACtE,IAAI,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAErF,IAAI,CAAC,IAAI,GAAG,MAAM,CAAqB,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAEhF,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAuCH,mBAAC;AAAD,CAAC,AApFD,IAoFC",sourcesContent:["// Object.values() polyfill\n// TODO: import polyfills instead of bundling it\nimport 'diagramMaker/polyfills/object-values';\n\nimport { Action, AnyAction, Reducer, Store, StoreEnhancer } from 'redux';\n\nimport { destroy, render } from 'diagramMaker/components/renderUtils';\nimport ConfigService, { DiagramMakerConfig } from 'diagramMaker/service/ConfigService';\nimport DiagramMakerApi from 'diagramMaker/service/DiagramMakerApi';\nimport { default as Observer, ObserverCallback } from 'diagramMaker/service/observer/Observer';\nimport {\n  ContainerEventType,\n  default as UIEventManager,\n  DestroyEventType\n} from 'diagramMaker/service/ui/UIEventManager';\nimport UIEventNormalizer from 'diagramMaker/service/ui/UIEventNormalizer';\nimport ActionDispatcher from 'diagramMaker/state/ActionDispatcher';\nimport createStore from 'diagramMaker/state/createStore';\nimport { DiagramMakerData } from 'diagramMaker/state/types';\n\n/**\n * Top Level DiagramMaker Class.\n * Instantiate to render a diagram maker instance within a container.\n * @class\n */\nexport default class DiagramMaker<NodeType = {}, EdgeType = {}> {\n  /**\n   * DiagramMaker store.\n   * Currently used for dispatching, fetching state & listening to updates.\n   * Will be moved to API and closed out.\n   */\n  public readonly store: Store<DiagramMakerData<NodeType, EdgeType>>;\n  /**\n   * DiagramMaker APIs.\n   */\n  public readonly api: DiagramMakerApi<NodeType, EdgeType>;\n\n  // Root is required to ensure that we replace on rerender, since Preact.render appends by default.\n  private ROOT: Element;\n  private config: ConfigService<NodeType, EdgeType>;\n  private container: HTMLElement;\n  private actionDispatcher: ActionDispatcher<NodeType, EdgeType>;\n  private observer: Observer;\n  private eventManager: UIEventManager;\n\n  constructor(\n    domHandle: string | HTMLElement,\n    config: DiagramMakerConfig<NodeType, EdgeType>,\n    { initialData, consumerRootReducer, consumerEnhancer, eventListener }: {\n      initialData?: DiagramMakerData<NodeType, EdgeType>,\n      consumerRootReducer?: Reducer<DiagramMakerData<NodeType, EdgeType>, Action>,\n      consumerEnhancer?: StoreEnhancer,\n      eventListener?: ObserverCallback;\n    } = {}\n  ) {\n    this.config = new ConfigService(config);\n    this.store = createStore(initialData, consumerRootReducer, consumerEnhancer, this.config.getActionInterceptor());\n    this.api = new DiagramMakerApi(this.store);\n\n    this.container = this.getContainer(domHandle);\n    this.observer = new Observer();\n    if (eventListener) {\n      this.observer.subscribeAll(eventListener);\n    }\n    this.eventManager = new UIEventManager(this.observer, this.container);\n    this.actionDispatcher = new ActionDispatcher(this.observer, this.store, this.config);\n\n    this.ROOT = render<NodeType, EdgeType>(this.store, this.container, this.config);\n\n    this.updateContainer();\n  }\n\n  /**\n   * API called to update diagram maker about container size changes.\n   * Should be called when the window resizes or panels outside of diagram maker\n   * opening up to cause changes to container size.\n   *\n   * This is used for several calculations, so dragging & other interactions might be broken\n   * if this API is not called appropriately.\n   */\n  public updateContainer = () => {\n    const normalizedEvent = UIEventNormalizer.normalizeContainerEvent(this.container);\n    this.observer.publish(ContainerEventType.DIAGRAM_MAKER_CONTAINER_UPDATE, normalizedEvent);\n  }\n\n  /**\n   * API called to clean up a diagram maker instance after the user navigates away from the page\n   * or closes the workspace.\n   *\n   * This is used to clean up event handlers that diagram maker attaches to the container, so\n   * it could lead to a memory leak if its not called. This is because DOM & event listeners\n   * have a self loop so it never gets garbage collected automatically unless we remove the event\n   * listeners.\n   */\n  public destroy = () => {\n    this.observer.publish(DestroyEventType.DESTROY);\n    destroy(this.container, this.ROOT);\n  }\n\n  private getContainer = (domHandle: string | HTMLElement) => {\n    if (typeof domHandle !== 'string') {\n      return domHandle;\n    }\n    const container = document.getElementById(domHandle);\n    if (!container) {\n      throw new Error('Container not found');\n    }\n    return container;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),xc=(_c.s[0]++,_c.f[0]++,_c.s[31]++,function(n,A,e){_c.f[1]++;var t=(_c.s[1]++,this),o=(_c.s[2]++,void 0===e?(_c.b[0][0]++,{}):(_c.b[0][1]++,e)),l=(_c.s[3]++,o.initialData),i=(_c.s[4]++,o.consumerRootReducer),r=(_c.s[5]++,o.consumerEnhancer),a=(_c.s[6]++,o.eventListener);_c.s[7]++,this.updateContainer=function(){_c.f[2]++;var n=(_c.s[8]++,xi.normalizeContainerEvent(t.container));_c.s[9]++,t.observer.publish(bi.DIAGRAM_MAKER_CONTAINER_UPDATE,n)},_c.s[10]++,this.destroy=function(){var n,A;_c.f[3]++,_c.s[11]++,t.observer.publish(Oi.DESTROY),_c.s[12]++,n=t.container,A=t.ROOT,dA.f[1]++,dA.s[2]++,s.render(null,n,A)},_c.s[13]++,this.getContainer=function(n){if(_c.f[4]++,_c.s[14]++,"string"!=typeof n)return _c.b[1][0]++,_c.s[15]++,n;_c.b[1][1]++;var A=(_c.s[16]++,document.getElementById(n));if(_c.s[17]++,!A)throw _c.b[2][0]++,_c.s[18]++,new Error("Container not found");return _c.b[2][1]++,_c.s[19]++,A},_c.s[20]++,this.config=new Gn(A),_c.s[21]++,this.store=wc(l,i,r,this.config.getActionInterceptor()),_c.s[22]++,this.api=new ci(this.store),_c.s[23]++,this.container=this.getContainer(n),_c.s[24]++,this.observer=new Ci,_c.s[25]++,a?(_c.b[3][0]++,_c.s[26]++,this.observer.subscribeAll(a)):_c.b[3][1]++,_c.s[27]++,this.eventManager=new ur(this.observer,this.container),_c.s[28]++,this.actionDispatcher=new Ca(this.observer,this.store,this.config),_c.s[29]++,this.ROOT=EA(this.store,this.container,this.config),_c.s[30]++,this.updateContainer()}),Tc=function(){var n="/Volumes/workplace/diagram-maker/src/state/actions.ts",A="3c7340bd569ed1dbf939d4e24794378b13c91eb8",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/state/actions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:19,column:33},end:{line:19,column:208}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0},b:{0:[0,0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/state/actions.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/state/actions.ts"],names:[],mappings:";;;;;;;;;;;AAAA,OAAO,EAAc,WAAW,EAAmB,MAAM,qCAAqC,CAAC;AAC/F,OAAO,EAAgB,aAAa,EAAqB,MAAM,yCAAyC,CAAC;AACzG,OAAO,EAAgB,aAAa,EAAqB,MAAM,yCAAyC,CAAC;AACzG,OAAO,EAAgB,aAAa,EAAqB,MAAM,yCAAyC,CAAC;AACzG,OAAO,EAAc,WAAW,EAAmB,MAAM,qCAAqC,CAAC;AAC/F,OAAO,EAAe,YAAY,EAAoB,MAAM,uCAAuC,CAAC;AACpG,OAAO,EAAmB,gBAAgB,EAAwB,MAAM,+CAA+C,CAAC;AAExH,MAAM,CAAC,IAAM,mBAAmB,sEAC3B,WAAW,GACX,YAAY,GACZ,gBAAgB,GAChB,WAAW,GACX,aAAa,GACb,aAAa,GACb,aAAa,CACjB,CAAC",sourcesContent:["import { EdgeAction, EdgeActions, EdgeActionsType } from 'diagramMaker/state/edge/edgeActions';\nimport { EditorAction, EditorActions, EditorActionsType } from 'diagramMaker/state/editor/editorActions';\nimport { GlobalAction, GlobalActions, GlobalActionsType } from 'diagramMaker/state/global/globalActions';\nimport { LayoutAction, LayoutActions, LayoutActionsType } from 'diagramMaker/state/layout/layoutActions';\nimport { NodeAction, NodeActions, NodeActionsType } from 'diagramMaker/state/node/nodeActions';\nimport { PanelAction, PanelActions, PanelActionsType } from 'diagramMaker/state/panel/panelActions';\nimport { WorkspaceAction, WorkspaceActions, WorkspaceActionsType } from 'diagramMaker/state/workspace/workspaceActions';\n\nexport const DiagramMakerActions = {\n  ...NodeActions,\n  ...PanelActions,\n  ...WorkspaceActions,\n  ...EdgeActions,\n  ...EditorActions,\n  ...GlobalActions,\n  ...LayoutActions\n};\n\nexport type DiagramMakerAction<NodeType, EdgeType> = NodeAction<NodeType> | WorkspaceAction | PanelAction |\nEdgeAction<EdgeType> | GlobalAction<NodeType, EdgeType>  | EditorAction | LayoutAction;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});return l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}(),Qc=(Tc.s[0]++,void Tc.b[0][0]++&&(Tc.b[0][1]++,(void 0).__assign)||(Tc.b[0][2]++,function(){return Tc.f[0]++,Tc.s[1]++,Tc.b[1][0]++,Qc=Object.assign||(Tc.b[1][1]++,function(n){Tc.f[1]++,Tc.s[2]++;for(var A,e=1,t=arguments.length;e<t;e++)for(var o in Tc.s[3]++,A=arguments[e],Tc.s[4]++,A)Tc.s[5]++,Object.prototype.hasOwnProperty.call(A,o)?(Tc.b[2][0]++,Tc.s[6]++,n[o]=A[o]):Tc.b[2][1]++;return Tc.s[7]++,n}),Tc.s[8]++,Qc.apply(this,arguments)})),Uc=(Tc.s[9]++,Qc(Qc(Qc(Qc(Qc(Qc(Qc({},Ge),ta),Ke),br),IA),Tr),ni));!function(){var n="/Volumes/workplace/diagram-maker/src/index.ts",A="0021a2361993da2a0fdfe99a911f266953929ccd",e=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Volumes/workplace/diagram-maker/src/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/index.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,YAAY,EAAE,MAAM,gBAAgB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,KAAK,EAAE,qBAAqB,EAAE,MAAM,yBAAyB,CAAC;AAC3F,OAAO,EAAE,sBAAsB,EAAE,MAAM,oBAAoB,CAAC;AAC5D,OAAO,EAAE,eAAe,EAAE,MAAM,gCAAgC,CAAC;AACjE,OAAO,EAAE,KAAK,EAAE,MAAM,6BAA6B,CAAC;AACpD,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,MAAM,0BAA0B,CAAC;AACnE,OAAO,EAAE,YAAY,EAAE,aAAa,EAAE,MAAM,8BAA8B,CAAC;AAC3E,OAAO,EAAE,YAAY,EAAE,aAAa,EAAE,MAAM,8BAA8B,CAAC;AAC3E,OAAO,EAAE,MAAM,EAAE,aAAa,EAAE,uBAAuB,EAAE,MAAM,8BAA8B,CAAC;AAC9F,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,MAAM,0BAA0B,CAAC;AACnE,OAAO,EAAE,WAAW,EAAE,YAAY,EAAE,MAAM,4BAA4B,CAAC;AACvE,OAAO,EAAE,eAAe,EAAE,gBAAgB,EAAE,MAAM,oCAAoC,CAAC;AACvF,OAAO,EAAE,kBAAkB,EAAE,mBAAmB,EAAE,MAAM,iBAAiB,CAAC;AAC1E,OAAO,EAAE,UAAU,EAAE,cAAc,EAAE,MAAM,eAAe,CAAC;AAC3D,OAAO,EAAE,gBAAgB,EAAE,MAAM,iCAAiC,CAAC",sourcesContent:["export { default as DiagramMaker } from './DiagramMaker';\nexport { ConnectorPlacement, Shape, VisibleConnectorTypes } from './service/ConfigService';\nexport { DiagramMakerComponents } from './service/ui/types';\nexport { NormalizedEvent } from './service/ui/UIEventNormalizer';\nexport { Event } from './service/ui/UIEventManager';\nexport { EdgeAction, EdgeActions } from './state/edge/edgeActions';\nexport { EditorAction, EditorActions } from './state/editor/editorActions';\nexport { GlobalAction, GlobalActions } from './state/global/globalActions';\nexport { Layout, LayoutActions, WorkflowLayoutDirection } from './state/layout/layoutActions';\nexport { NodeAction, NodeActions } from './state/node/nodeActions';\nexport { PanelAction, PanelActions } from './state/panel/panelActions';\nexport { WorkspaceAction, WorkspaceActions } from './state/workspace/workspaceActions';\nexport { DiagramMakerAction, DiagramMakerActions } from './state/actions';\nexport { EditorMode, PositionAnchor } from './state/types';\nexport { sequenceReducers } from './state/common/sequenceReducers';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=e[t]||(e[t]={});l[n]&&l[n].hash===A?l[n]:(o.hash=A,l[n]=o)}()},function(n,A){var e=Array.isArray;n.exports=e},function(n,A,e){var t;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var e={}.hasOwnProperty;function o(){for(var n=[],A=0;A<arguments.length;A++){var t=arguments[A];if(t){var l=typeof t;if("string"===l||"number"===l)n.push(t);else if(Array.isArray(t)&&t.length){var i=o.apply(null,t);i&&n.push(i)}else if("object"===l)for(var r in t)e.call(t,r)&&t[r]&&n.push(r)}}return n.join(" ")}n.exports?(o.default=o,n.exports=o):void 0===(t=function(){return o}.apply(A,[]))||(n.exports=t)}()},function(n,A,e){"use strict";var t=e(1),o=e(12).Graph;function l(n,A,e,o){var l;do{l=t.uniqueId(o)}while(n.hasNode(l));return e.dummy=A,n.setNode(l,e),l}function i(n){return t.max(t.map(n.nodes(),(function(A){var e=n.node(A).rank;if(!t.isUndefined(e))return e})))}n.exports={addDummyNode:l,simplify:function(n){var A=(new o).setGraph(n.graph());return t.forEach(n.nodes(),(function(e){A.setNode(e,n.node(e))})),t.forEach(n.edges(),(function(e){var t=A.edge(e.v,e.w)||{weight:0,minlen:1},o=n.edge(e);A.setEdge(e.v,e.w,{weight:t.weight+o.weight,minlen:Math.max(t.minlen,o.minlen)})})),A},asNonCompoundGraph:function(n){var A=new o({multigraph:n.isMultigraph()}).setGraph(n.graph());return t.forEach(n.nodes(),(function(e){n.children(e).length||A.setNode(e,n.node(e))})),t.forEach(n.edges(),(function(e){A.setEdge(e,n.edge(e))})),A},successorWeights:function(n){var A=t.map(n.nodes(),(function(A){var e={};return t.forEach(n.outEdges(A),(function(A){e[A.w]=(e[A.w]||0)+n.edge(A).weight})),e}));return t.zipObject(n.nodes(),A)},predecessorWeights:function(n){var A=t.map(n.nodes(),(function(A){var e={};return t.forEach(n.inEdges(A),(function(A){e[A.v]=(e[A.v]||0)+n.edge(A).weight})),e}));return t.zipObject(n.nodes(),A)},intersectRect:function(n,A){var e,t,o=n.x,l=n.y,i=A.x-o,r=A.y-l,a=n.width/2,c=n.height/2;if(!i&&!r)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(r)*a>Math.abs(i)*c?(r<0&&(c=-c),e=c*i/r,t=c):(i<0&&(a=-a),e=a,t=a*r/i);return{x:o+e,y:l+t}},buildLayerMatrix:function(n){var A=t.map(t.range(i(n)+1),(function(){return[]}));return t.forEach(n.nodes(),(function(e){var o=n.node(e),l=o.rank;t.isUndefined(l)||(A[l][o.order]=e)})),A},normalizeRanks:function(n){var A=t.min(t.map(n.nodes(),(function(A){return n.node(A).rank})));t.forEach(n.nodes(),(function(e){var o=n.node(e);t.has(o,"rank")&&(o.rank-=A)}))},removeEmptyRanks:function(n){var A=t.min(t.map(n.nodes(),(function(A){return n.node(A).rank}))),e=[];t.forEach(n.nodes(),(function(t){var o=n.node(t).rank-A;e[o]||(e[o]=[]),e[o].push(t)}));var o=0,l=n.graph().nodeRankFactor;t.forEach(e,(function(A,e){t.isUndefined(A)&&e%l!=0?--o:o&&t.forEach(A,(function(A){n.node(A).rank+=o}))}))},addBorderNode:function(n,A,e,t){var o={width:0,height:0};arguments.length>=4&&(o.rank=e,o.order=t);return l(n,"border",o,A)},maxRank:i,partition:function(n,A){var e={lhs:[],rhs:[]};return t.forEach(n,(function(n){A(n)?e.lhs.push(n):e.rhs.push(n)})),e},time:function(n,A){var e=t.now();try{return A()}finally{console.log(n+" time: "+(t.now()-e)+"ms")}},notime:function(n,A){return A()}}},function(n,A,e){"use strict";e.d(A,"j",(function(){return l})),e.d(A,"k",(function(){return i})),e.d(A,"g",(function(){return r})),e.d(A,"f",(function(){return a})),e.d(A,"b",(function(){return c})),e.d(A,"e",(function(){return C})),e.d(A,"c",(function(){return u})),e.d(A,"h",(function(){return m})),e.d(A,"m",(function(){return d})),e.d(A,"d",(function(){return p})),e.d(A,"l",(function(){return g})),e.d(A,"i",(function(){return h})),e.d(A,"n",(function(){return I})),e.d(A,"o",(function(){return y})),e.d(A,"a",(function(){return B}));var t=e(3);function o(n){var A=document.createElement("div"),e=document.createTextNode(n);return A.appendChild(e),A}function l(n,A){var e=o(n.typeId);return e.classList.add("rectangle","example-node"),A.innerHTML="",A.appendChild(e),e}function i(n,A){var e=o(n.id.substring(0,13));return e.classList.add("rectangle","example-node"),n.diagramMakerData.selected&&e.classList.add("selected"),n.consumerData&&(n.consumerData.odd?e.classList.add("odd"):e.classList.add("even")),A.innerHTML="",A.appendChild(e),e}function r(n,A){if(""===A.innerHTML){var e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("data-event-target","true"),t.setAttribute("data-draggable","true"),e.appendChild(t),e.classList.add("rectangle","example-node"),n.diagramMakerData.selected&&e.classList.add("selected"),A.appendChild(e),e}var o=A.children[0];n.diagramMakerData.selected?o.classList.add("selected"):o.classList.remove("selected")}function a(n,A){if(""===A.innerHTML){var e=document.createElement("div"),t=document.createElement("select"),o=document.createElement("option"),l=document.createTextNode("test");return o.appendChild(l),t.appendChild(o),t.setAttribute("type","text"),t.setAttribute("data-event-target","true"),e.appendChild(t),e.classList.add("rectangle","example-node"),n.diagramMakerData.selected&&e.classList.add("selected"),A.appendChild(e),e}var i=A.children[0];n.diagramMakerData.selected?i.classList.add("selected"):i.classList.remove("selected")}function c(n,A){var e=o(n.id.substring(0,13));e.classList.add("circle","example-node"),n.diagramMakerData.selected&&e.classList.add("selected"),A.innerHTML="";var t=document.createElement("div");return t.classList.add("outer"),t.setAttribute("data-id",n.id),t.setAttribute("data-type","DiagramMaker.Connector"),t.setAttribute("data-draggable","true"),t.setAttribute("data-event-target","true"),e.setAttribute("data-id",n.id),e.setAttribute("data-type","DiagramMaker.Connector"),e.setAttribute("data-dropzone","true"),A.appendChild(t),A.appendChild(e),e}function s(n){var A=o(n);return A.classList.add("contextMenu"),A}function C(n,A){n&&(A.innerHTML="",A.appendChild(s("This is the node: "+n)))}function u(n,A){n&&(A.innerHTML="",A.appendChild(s("This is the edge: "+n)))}function m(n,A){n&&(A.innerHTML="",A.appendChild(s("This is the panel: "+n)))}function d(n){n.innerHTML="",n.appendChild(s("This is the workspace"))}function E(n,A,e){var t=o(A);return t.classList.add("rectangle","example-node","potential-node"),t.setAttribute("data-id",n),t.setAttribute("data-type","DiagramMaker.PotentialNode"),t.setAttribute("data-draggable","true"),t.setAttribute("data-event-target","true"),e&&(t.setAttribute("data-width",""+e.width),t.setAttribute("data-height",""+e.height)),t}function p(n){if(""===n.innerHTML){var A=document.createElement("div");A.setAttribute("data-event-target","true"),A.setAttribute("data-dropzone","true"),A.classList.add("library");var e=document.createElement("div");return e.innerText="drag here",e.classList.add("draggableElement"),e.setAttribute("data-event-target","true"),e.setAttribute("data-draggable","true"),e.setAttribute("data-type","DiagramMaker.PanelDragHandle"),e.setAttribute("data-id","library"),A.appendChild(e),A.appendChild(E("testId-normal","Normal")),A.appendChild(E("testId-normalWithSize","Normal with Size",{width:100,height:50})),A.appendChild(E("testId-topBottom","Top Bottom")),A.appendChild(E("testId-centered","Centered")),A.appendChild(E("testId-start","Start Node")),A.appendChild(E("testId-end","End Node")),A.appendChild(E("testId-dead","Dead Node")),A.appendChild(E("testId-input","With Input")),A.appendChild(E("testId-dropdown","With Dropdown")),n.appendChild(A),A}}function f(n,A){var e=o(n);return e.setAttribute("data-type","DiagramMaker.Tools"),e.setAttribute("data-id",n),e.addEventListener("click",A),e}function g(n,A){if(""===n.innerHTML){var e,o,l=document.createElement("div");l.classList.add("tools"),l.appendChild(function(n){return f("UpdateContainer",(function(){n().updateContainer()}))}(A)),l.appendChild(function(n){return f("Destroy",(function(){n().destroy()}))}(A)),l.appendChild(function(n){return f("Drag",(function(){n().api.setEditorMode(t.d.DRAG)}))}(A)),l.appendChild(function(n){return f("Select",(function(){n().api.setEditorMode(t.d.SELECT)}))}(A)),l.appendChild(function(n){return f("ReadOnly",(function(){n().api.setEditorMode(t.d.READ_ONLY)}))}(A)),l.appendChild(function(n){return f("FocusNode",(function(){n().api.focusNode("node1")}))}(A)),l.appendChild(function(n){return f("FocusSelected",(function(){n().api.focusSelected()}))}(A)),l.appendChild(function(n){return f("Fit",(function(){n().api.fit()}))}(A)),l.appendChild(function(n){return f("ZoomIn",(function(){n().api.zoomIn()}))}(A)),l.appendChild(function(n){return f("ZoomOut",(function(){n().api.zoomOut()}))}(A)),l.appendChild(function(n){return f("ResetZoom",(function(){n().api.resetZoom()}))}(A)),l.appendChild(function(n){return f("Undo",(function(){n().api.undo()}))}(A)),l.appendChild(function(n){return f("Redo",(function(){n().api.redo()}))}(A)),l.appendChild(function(n){return f("WorkflowLayout",(function(){n().api.layout({direction:t.j.LEFT_RIGHT,distanceMin:200,layoutType:t.f.WORKFLOW})}))}(A)),l.appendChild(function(n){return f("HierarchicalLayout",(function(){n().api.layout({distanceMin:200,fixedNodeIds:["node1"],layoutType:t.f.HIERARCHICAL})}))}(A)),l.appendChild((e=document.createElement("div"),(o=document.createElement("input")).classList.add("testInput"),o.setAttribute("data-type","DiagramMaker.Tools"),o.setAttribute("data-id","TestInput"),o.setAttribute("type","text"),e.appendChild(o),e)),n.appendChild(l)}}function h(n,A){if(""===n.innerHTML){var e=document.createElement("div");e.setAttribute("data-event-target","true"),e.setAttribute("data-dropzone","true"),e.classList.add("library");var t=document.createElement("div");t.innerText="drag here",t.classList.add("draggableElement"),t.setAttribute("data-event-target","true"),t.setAttribute("data-draggable","true"),t.setAttribute("data-type","DiagramMaker.PanelDragHandle"),t.setAttribute("data-id","plugin"),e.appendChild(t);var l=o("Click this plugin to move workspace to a target position");l.setAttribute("data-event-target","true"),l.setAttribute("data-type","testPlugin"),l.setAttribute("data-id","testPlugin");var i=A.plugins.testPlugin.data.size.width,r=A.plugins.testPlugin.data.size.height;return l.style.width=i+"px",l.style.height=r+"px",l.style.backgroundColor="orange",l.style.paddingTop="15px",l.style.textAlign="center",e.appendChild(l),n.appendChild(e),e}}function I(n,A){if(n.type===t.e.LEFT_CLICK&&"testPlugin"===n.target.type){var e=A.store.getState();if(!e.plugins)return;var o=e.plugins.testPlugin.data.workspacePos;A.api.dispatch({payload:{position:o},type:t.k.WORKSPACE_DRAG})}}function y(n){var A=n,e=document.getElementById("diagramMakerLogger");if(e){var t=o("Type is "+n.type);if(t.setAttribute("data-type","DiagramMaker.ActionType"),t.setAttribute("data-id",n.type),e.innerHTML="",e.appendChild(t),A.payload){var l=o("Payload is "+JSON.stringify(A.payload));l.setAttribute("data-type","DiagramMaker.ActionPayload"),l.setAttribute("data-id",n.type),e.appendChild(l)}}}function B(){}},function(n,A){n.exports=function(n){var A=typeof n;return null!=n&&("object"==A||"function"==A)}},function(n,A,e){var t;try{t={clone:e(222),constant:e(70),each:e(115),filter:e(118),has:e(119),isArray:e(4),isEmpty:e(240),isFunction:e(29),isUndefined:e(120),keys:e(17),map:e(121),reduce:e(123),size:e(243),transform:e(248),union:e(249),values:e(66)}}catch(n){}t||(t=window._),n.exports=t},function(n,A,e){var t=e(153),o=e(199),l=e(20),i=e(4),r=e(205);n.exports=function(n){return"function"==typeof n?n:null==n?l:"object"==typeof n?i(n)?o(n[0],n[1]):t(n):r(n)}},function(n,A,e){var t=e(78),o="object"==typeof self&&self&&self.Object===Object&&self,l=t||o||Function("return this")();n.exports=l},function(n,A,e){var t;try{t=e(220)}catch(n){}t||(t=window.graphlib),n.exports=t},function(n,A){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,A,e){var t=e(29),o=e(62);n.exports=function(n){return null!=n&&o(n.length)&&!t(n)}},function(n,A,e){"use strict";e.d(A,"a",(function(){return p})),e.d(A,"b",(function(){return C})),e.d(A,"c",(function(){return c})),e.d(A,"d",(function(){return E})),e.d(A,"e",(function(){return r}));var t=e(75),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function i(n){if("object"!=typeof n||null===n)return!1;for(var A=n;null!==Object.getPrototypeOf(A);)A=Object.getPrototypeOf(A);return Object.getPrototypeOf(n)===A}function r(n,A,e){var o;if("function"==typeof A&&"function"==typeof e||"function"==typeof e&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof A&&void 0===e&&(e=A,A=void 0),void 0!==e){if("function"!=typeof e)throw new Error("Expected the enhancer to be a function.");return e(r)(n,A)}if("function"!=typeof n)throw new Error("Expected the reducer to be a function.");var a=n,c=A,s=[],C=s,u=!1;function m(){C===s&&(C=s.slice())}function d(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function E(n){if("function"!=typeof n)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var A=!0;return m(),C.push(n),function(){if(A){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");A=!1,m();var e=C.indexOf(n);C.splice(e,1),s=null}}}function p(n){if(!i(n))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===n.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,c=a(c,n)}finally{u=!1}for(var A=s=C,e=0;e<A.length;e++){(0,A[e])()}return n}function f(n){if("function"!=typeof n)throw new Error("Expected the nextReducer to be a function.");a=n,p({type:l.REPLACE})}function g(){var n,A=E;return(n={subscribe:function(n){if("object"!=typeof n||null===n)throw new TypeError("Expected the observer to be an object.");function e(){n.next&&n.next(d())}return e(),{unsubscribe:A(e)}}})[t.a]=function(){return this},n}return p({type:l.INIT}),(o={dispatch:p,subscribe:E,getState:d,replaceReducer:f})[t.a]=g,o}function a(n,A){var e=A&&A.type;return"Given "+(e&&'action "'+String(e)+'"'||"an action")+', reducer "'+n+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(n){for(var A=Object.keys(n),e={},t=0;t<A.length;t++){var o=A[t];0,"function"==typeof n[o]&&(e[o]=n[o])}var i,r=Object.keys(e);try{!function(n){Object.keys(n).forEach((function(A){var e=n[A];if(void 0===e(void 0,{type:l.INIT}))throw new Error('Reducer "'+A+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===e(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+A+"\" returned undefined when probed with a random type. Don't try to handle "+l.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(e)}catch(n){i=n}return function(n,A){if(void 0===n&&(n={}),i)throw i;for(var t=!1,o={},l=0;l<r.length;l++){var c=r[l],s=e[c],C=n[c],u=s(C,A);if(void 0===u){var m=a(c,A);throw new Error(m)}o[c]=u,t=t||u!==C}return(t=t||r.length!==Object.keys(n).length)?o:n}}function s(n,A){return function(){return A(n.apply(this,arguments))}}function C(n,A){if("function"==typeof n)return s(n,A);if("object"!=typeof n||null===n)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===n?"null":typeof n)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var e={};for(var t in n){var o=n[t];"function"==typeof o&&(e[t]=s(o,A))}return e}function u(n,A,e){return A in n?Object.defineProperty(n,A,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[A]=e,n}function m(n,A){var e=Object.keys(n);return Object.getOwnPropertySymbols&&e.push.apply(e,Object.getOwnPropertySymbols(n)),A&&(e=e.filter((function(A){return Object.getOwnPropertyDescriptor(n,A).enumerable}))),e}function d(n){for(var A=1;A<arguments.length;A++){var e=null!=arguments[A]?arguments[A]:{};A%2?m(e,!0).forEach((function(A){u(n,A,e[A])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):m(e).forEach((function(A){Object.defineProperty(n,A,Object.getOwnPropertyDescriptor(e,A))}))}return n}function E(){for(var n=arguments.length,A=new Array(n),e=0;e<n;e++)A[e]=arguments[e];return 0===A.length?function(n){return n}:1===A.length?A[0]:A.reduce((function(n,A){return function(){return n(A.apply(void 0,arguments))}}))}function p(){for(var n=arguments.length,A=new Array(n),e=0;e<n;e++)A[e]=arguments[e];return function(n){return function(){var e=n.apply(void 0,arguments),t=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:e.getState,dispatch:function(){return t.apply(void 0,arguments)}},l=A.map((function(n){return n(o)}));return d({},e,{dispatch:t=E.apply(void 0,l)(e.dispatch)})}}}},function(n,A,e){"use strict";(function(n){var t=e(55),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,l=o&&"object"==typeof n&&n&&!n.nodeType&&n,i=l&&l.exports===o&&t.a.process,r=function(){try{var n=l&&l.require&&l.require("util").types;return n||i&&i.binding&&i.binding("util")}catch(n){}}();A.a=r}).call(this,e(36)(n))},function(n,A,e){var t=e(89),o=e(64),l=e(14);n.exports=function(n){return l(n)?t(n):o(n)}},function(n,A,e){var t=e(165),o=e(170);n.exports=function(n,A){var e=o(n,A);return t(e)?e:void 0}},function(n,A,e){var t=e(25),o=e(166),l=e(167),i=t?t.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":i&&i in Object(n)?o(n):l(n)}},function(n,A){n.exports=function(n){return n}},function(n,A,e){var t=e(89),o=e(210),l=e(14);n.exports=function(n){return l(n)?t(n,!0):o(n)}},function(n,A,e){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.actions=A.undoHistoryReducerCreator=A.undoHistoryReducer=A.createUndoMiddleware=void 0;var t=e(150);Object.defineProperty(A,"undoHistoryReducerCreator",{enumerable:!0,get:function(){return t.undoHistoryReducerCreator}});var o=r(e(212)),l=r(t),i=function(n){if(n&&n.__esModule)return n;var A={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(A[e]=n[e]);return A.default=n,A}(e(108));function r(n){return n&&n.__esModule?n:{default:n}}A.createUndoMiddleware=o.default,A.undoHistoryReducer=l.default,A.actions=i},function(n,A,e){"use strict";(function(n){var t=e(2),o=e(138),l="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=l&&"object"==typeof n&&n&&!n.nodeType&&n,r=i&&i.exports===l?t.a.Buffer:void 0,a=(r?r.isBuffer:void 0)||o.a;A.a=a}).call(this,e(36)(n))},function(n,A){n.exports=function(n,A){return n===A||n!=n&&A!=A}},function(n,A,e){var t=e(11).Symbol;n.exports=t},function(n,A,e){(function(n){var t=e(11),o=e(192),l=A&&!A.nodeType&&A,i=l&&"object"==typeof n&&n&&!n.nodeType&&n,r=i&&i.exports===l?t.Buffer:void 0,a=(r?r.isBuffer:void 0)||o;n.exports=a}).call(this,e(61)(n))},function(n,A,e){var t=e(195),o=e(56),l=e(196),i=e(91),r=e(197),a=e(19),c=e(79),s=c(t),C=c(o),u=c(l),m=c(i),d=c(r),E=a;(t&&"[object DataView]"!=E(new t(new ArrayBuffer(1)))||o&&"[object Map]"!=E(new o)||l&&"[object Promise]"!=E(l.resolve())||i&&"[object Set]"!=E(new i)||r&&"[object WeakMap]"!=E(new r))&&(E=function(n){var A=a(n),e="[object Object]"==A?n.constructor:void 0,t=e?c(e):"";if(t)switch(t){case s:return"[object DataView]";case C:return"[object Map]";case u:return"[object Promise]";case m:return"[object Set]";case d:return"[object WeakMap]"}return A}),n.exports=E},function(n,A,e){var t=e(19),o=e(13);n.exports=function(n){return"symbol"==typeof n||o(n)&&"[object Symbol]"==t(n)}},function(n,A,e){var t=e(19),o=e(8);n.exports=function(n){if(!o(n))return!1;var A=t(n);return"[object Function]"==A||"[object GeneratorFunction]"==A||"[object AsyncFunction]"==A||"[object Proxy]"==A}},function(n,A,e){var t=e(191),o=e(13),l=Object.prototype,i=l.hasOwnProperty,r=l.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(n){return o(n)&&i.call(n,"callee")&&!r.call(n,"callee")};n.exports=a},function(n,A,e){var t=e(193),o=e(43),l=e(63),i=l&&l.isTypedArray,r=i?o(i):t;n.exports=r},function(n,A){n.exports=function(n,A){for(var e=-1,t=null==n?0:n.length,o=Array(t);++e<t;)o[e]=A(n[e],e,n);return o}},function(n,A,e){var t=e(28);n.exports=function(n){if("string"==typeof n||t(n))return n;var A=n+"";return"0"==A&&1/n==-1/0?"-0":A}},function(n,A,e){var t=e(47),o=e(48);n.exports=function(n,A,e,l){var i=!e;e||(e={});for(var r=-1,a=A.length;++r<a;){var c=A[r],s=l?l(e[c],n[c],c,e,n):void 0;void 0===s&&(s=n[c]),i?o(e,c,s):t(e,c,s)}return e}},function(n,A){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(n){"object"==typeof window&&(e=window)}n.exports=e},function(n,A){n.exports=function(n){if(!n.webpackPolyfill){var A=Object.create(n);A.children||(A.children=[]),Object.defineProperty(A,"loaded",{enumerable:!0,get:function(){return A.l}}),Object.defineProperty(A,"id",{enumerable:!0,get:function(){return A.i}}),Object.defineProperty(A,"exports",{enumerable:!0}),A.webpackPolyfill=1}return A}},function(n,A,e){var t=e(38),o=e(160),l=e(161),i=e(162),r=e(163),a=e(164);function c(n){var A=this.__data__=new t(n);this.size=A.size}c.prototype.clear=o,c.prototype.delete=l,c.prototype.get=i,c.prototype.has=r,c.prototype.set=a,n.exports=c},function(n,A,e){var t=e(155),o=e(156),l=e(157),i=e(158),r=e(159);function a(n){var A=-1,e=null==n?0:n.length;for(this.clear();++A<e;){var t=n[A];this.set(t[0],t[1])}}a.prototype.clear=t,a.prototype.delete=o,a.prototype.get=l,a.prototype.has=i,a.prototype.set=r,n.exports=a},function(n,A,e){var t=e(24);n.exports=function(n,A){for(var e=n.length;e--;)if(t(n[e][0],A))return e;return-1}},function(n,A,e){var t=e(18)(Object,"create");n.exports=t},function(n,A,e){var t=e(179);n.exports=function(n,A){var e=n.__data__;return t(A)?e["string"==typeof A?"string":"hash"]:e.map}},function(n,A){var e=/^(?:0|[1-9]\d*)$/;n.exports=function(n,A){var t=typeof n;return!!(A=null==A?9007199254740991:A)&&("number"==t||"symbol"!=t&&e.test(n))&&n>-1&&n%1==0&&n<A}},function(n,A){n.exports=function(n){return function(A){return n(A)}}},function(n,A){var e=Object.prototype;n.exports=function(n){var A=n&&n.constructor;return n===("function"==typeof A&&A.prototype||e)}},function(n,A,e){var t=e(46),o=e(33);n.exports=function(n,A){for(var e=0,l=(A=t(A,n)).length;null!=n&&e<l;)n=n[o(A[e++])];return e&&e==l?n:void 0}},function(n,A,e){var t=e(4),o=e(65),l=e(200),i=e(95);n.exports=function(n,A){return t(n)?n:o(n,A)?[n]:l(i(n))}},function(n,A,e){var t=e(48),o=e(24),l=Object.prototype.hasOwnProperty;n.exports=function(n,A,e){var i=n[A];l.call(n,A)&&o(i,e)&&(void 0!==e||A in n)||t(n,A,e)}},function(n,A,e){var t=e(100);n.exports=function(n,A,e){"__proto__"==A&&t?t(n,A,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[A]=e}},function(n,A,e){var t=e(90)(Object.getPrototypeOf,Object);n.exports=t},function(n,A,e){var t=e(71),o=e(237)(t);n.exports=o},function(n,A,e){var t=e(20),o=e(124),l=e(125);n.exports=function(n,A){return l(o(n,A,t),n+"")}},function(n,A,e){var t=e(24),o=e(14),l=e(42),i=e(8);n.exports=function(n,A,e){if(!i(e))return!1;var r=typeof A;return!!("number"==r?o(e)&&l(A,e.length):"string"==r&&A in e)&&t(e[A],n)}},function(n,A,e){"use strict";var t=e(1);n.exports={longestPath:function(n){var A={};t.forEach(n.sources(),(function e(o){var l=n.node(o);if(t.has(A,o))return l.rank;A[o]=!0;var i=t.min(t.map(n.outEdges(o),(function(A){return e(A.w)-n.edge(A).minlen})));return i!==Number.POSITIVE_INFINITY&&null!=i||(i=0),l.rank=i}))},slack:function(n,A){return n.node(A.w).rank-n.node(A.v).rank-n.edge(A).minlen}}},function(n,A,e){"use strict";(function(n){e.d(A,"a",(function(){return h})),e.d(A,"b",(function(){return hn}));var t=e(0),o=e(15),l=function(n){return n&&n[0]||null};function i(){}i.isRequired=i;var r={element:i,func:i,shape:function(){return i},instanceOf:function(){return i}},a=r.shape({trySubscribe:r.func.isRequired,tryUnsubscribe:r.func.isRequired,notifyNestedSubs:r.func.isRequired,isSubscribed:r.func.isRequired}),c=r.shape({subscribe:r.func.isRequired,dispatch:r.func.isRequired,getState:r.func.isRequired});function s(n){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(n);try{throw new Error(n)}catch(n){}}var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},u=function(n,A){if(!(n instanceof A))throw new TypeError("Cannot call a class as a function")},m=Object.assign||function(n){for(var A=1;A<arguments.length;A++){var e=arguments[A];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},d=function(n,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function, not "+typeof A);n.prototype=Object.create(A&&A.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(n,A):n.__proto__=A)},E=function(n,A){var e={};for(var t in n)A.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},p=function(n,A){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?n:A},f=!1;function g(){f||(f=!0,s("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}var h=function(){var n,A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",e=arguments[1],o=e||A+"Subscription",i=function(n){function e(t,o){u(this,e);var l=p(this,n.call(this,t,o));return l[A]=t.store,l}return d(e,n),e.prototype.getChildContext=function(){var n;return(n={})[A]=this[A],n[o]=null,n},e.prototype.render=function(){return l(this.props.children)},e}(t.Component);return i.prototype.componentWillReceiveProps=function(n){this[A]!==n.store&&g()},i.childContextTypes=((n={})[A]=c.isRequired,n[o]=a,n),i}(),I={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},y={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},B=Object.defineProperty,M=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,b=Object.getOwnPropertyDescriptor,O=Object.getPrototypeOf,G=O&&O(Object),D=function n(A,e,t){if("string"!=typeof e){if(G){var o=O(e);o&&o!==G&&n(A,o,t)}var l=M(e);v&&(l=l.concat(v(e)));for(var i=0;i<l.length;++i){var r=l[i];if(!(I[r]||y[r]||t&&t[r])){var a=b(e,r);try{B(A,r,a)}catch(n){}}}return A}return A},k={notify:function(){}};var K=function(){function n(A,e,t){u(this,n),this.store=A,this.parentSub=e,this.onStateChange=t,this.unsubscribe=null,this.listeners=k}return n.prototype.addNestedSub=function(n){return this.trySubscribe(),this.listeners.subscribe(n)},n.prototype.notifyNestedSubs=function(){this.listeners.notify()},n.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},n.prototype.trySubscribe=function(){var n,A;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(n=[],A=[],{clear:function(){A=null,n=null},notify:function(){for(var e=n=A,t=0;t<e.length;t++)e[t]()},get:function(){return A},subscribe:function(e){var t=!0;return A===n&&(A=n.slice()),A.push(e),function(){t&&null!==n&&(t=!1,A===n&&(A=n.slice()),A.splice(A.indexOf(e),1))}}}))},n.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=k)},n}(),S=0,w={};function _(){}function x(n,A){var e={run:function(t){try{var o=n(A.getState(),t);(o!==e.props||e.error)&&(e.shouldComponentUpdate=!0,e.props=o,e.error=null)}catch(n){e.shouldComponentUpdate=!0,e.error=n}}};return e}function T(n){var A,e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=o.getDisplayName,i=void 0===l?function(n){return"ConnectAdvanced("+n+")"}:l,r=o.methodName,s=void 0===r?"connectAdvanced":r,C=o.renderCountProp,f=void 0===C?void 0:C,g=o.shouldHandleStateChanges,h=void 0===g||g,I=o.storeKey,y=void 0===I?"store":I,B=o.withRef,M=void 0!==B&&B,v=E(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),b=y+"Subscription",O=S++,G=((A={})[y]=c,A[b]=a,A),k=((e={})[b]=a,e);return function(A){JSON.stringify(A);var e=A.displayName||A.name||"Component",o=i(e),l=m({},v,{getDisplayName:i,methodName:s,renderCountProp:f,shouldHandleStateChanges:h,storeKey:y,withRef:M,displayName:o,wrappedComponentName:e,WrappedComponent:A}),r=function(e){function o(n,A){u(this,o);var t=p(this,e.call(this,n,A));return t.version=O,t.state={},t.renderCount=0,t.store=n[y]||A[y],t.propsMode=Boolean(n[y]),t.setWrappedInstance=t.setWrappedInstance.bind(t),t.store,t.initSelector(),t.initSubscription(),t}return d(o,e),o.prototype.getChildContext=function(){var n,A=this.propsMode?null:this.subscription;return(n={})[b]=A||this.context[b],n},o.prototype.componentDidMount=function(){h&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},o.prototype.componentWillReceiveProps=function(n){this.selector.run(n)},o.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},o.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=_,this.store=null,this.selector.run=_,this.selector.shouldComponentUpdate=!1},o.prototype.getWrappedInstance=function(){return this.wrappedInstance},o.prototype.setWrappedInstance=function(n){this.wrappedInstance=n},o.prototype.initSelector=function(){var A=n(this.store.dispatch,l);this.selector=x(A,this.store),this.selector.run(this.props)},o.prototype.initSubscription=function(){if(h){var n=(this.propsMode?this.props:this.context)[b];this.subscription=new K(this.store,n,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},o.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(w)):this.notifyNestedSubs()},o.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},o.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},o.prototype.addExtraProps=function(n){if(!(M||f||this.propsMode&&this.subscription))return n;var A=m({},n);return M&&(A.ref=this.setWrappedInstance),f&&(A[f]=this.renderCount++),this.propsMode&&this.subscription&&(A[b]=this.subscription),A},o.prototype.render=function(){var n=this.selector;if(n.shouldComponentUpdate=!1,n.error)throw n.error;return Object(t.h)(A,this.addExtraProps(n.props))},o}(t.Component);return r.WrappedComponent=A,r.displayName=o,r.childContextTypes=k,r.contextTypes=G,r.prototype.componentWillUpdate=function(){var n=this;if(this.version!==O){this.version=O,this.initSelector();var A=[];this.subscription&&(A=this.subscription.listeners.get(),this.subscription.tryUnsubscribe()),this.initSubscription(),h&&(this.subscription.trySubscribe(),A.forEach((function(A){return n.subscription.listeners.subscribe(A)})))}},D(r,A)}}var Q=Object.prototype.hasOwnProperty;function U(n,A){return n===A?0!==n||0!==A||1/n==1/A:n!=n&&A!=A}function N(n,A){if(U(n,A))return!0;if("object"!==(void 0===n?"undefined":C(n))||null===n||"object"!==(void 0===A?"undefined":C(A))||null===A)return!1;var e=Object.keys(n),t=Object.keys(A);if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(!Q.call(A,e[o])||!U(n[e[o]],A[e[o]]))return!1;return!0}var P="object"==(void 0===n?"undefined":C(n))&&n&&n.Object===Object&&n,R="object"==("undefined"==typeof self?"undefined":C(self))&&self&&self.Object===Object&&self,W=(P||R||Function("return this")()).Symbol,Y=Object.prototype,z=Y.hasOwnProperty,L=Y.toString,j=W?W.toStringTag:void 0;var F=Object.prototype.toString;var V=W?W.toStringTag:void 0;function H(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":V&&V in Object(n)?function(n){var A=z.call(n,j),e=n[j];try{n[j]=void 0;var t=!0}catch(n){}var o=L.call(n);return t&&(A?n[j]=e:delete n[j]),o}(n):function(n){return F.call(n)}(n)}var q,X,Z=(q=Object.getPrototypeOf,X=Object,function(n){return q(X(n))});var J=Function.prototype,$=Object.prototype,nn=J.toString,An=$.hasOwnProperty,en=nn.call(Object);function tn(n){if(!function(n){return null!=n&&"object"==(void 0===n?"undefined":C(n))}(n)||"[object Object]"!=H(n))return!1;var A=Z(n);if(null===A)return!0;var e=An.call(A,"constructor")&&A.constructor;return"function"==typeof e&&e instanceof e&&nn.call(e)==en}function on(n,A,e){tn(n)||s(e+"() in "+A+" must return a plain object. Instead received "+n+".")}function ln(n){return function(A,e){var t=n(A,e);function o(){return t}return o.dependsOnOwnProps=!1,o}}function rn(n){return null!==n.dependsOnOwnProps&&void 0!==n.dependsOnOwnProps?Boolean(n.dependsOnOwnProps):1!==n.length}function an(n,A){return function(e,t){var o=t.displayName,l=function(n,A){return l.dependsOnOwnProps?l.mapToProps(n,A):l.mapToProps(n)};return l.dependsOnOwnProps=!0,l.mapToProps=function(e,t){l.mapToProps=n,l.dependsOnOwnProps=rn(n);var i=l(e,t);return"function"==typeof i&&(l.mapToProps=i,l.dependsOnOwnProps=rn(i),i=l(e,t)),on(i,o,A),i},l}}var cn=[function(n){return"function"==typeof n?an(n,"mapDispatchToProps"):void 0},function(n){return n?void 0:ln((function(n){return{dispatch:n}}))},function(n){return n&&"object"===(void 0===n?"undefined":C(n))?ln((function(A){return Object(o.b)(n,A)})):void 0}];var sn=[function(n){return"function"==typeof n?an(n,"mapStateToProps"):void 0},function(n){return n?void 0:ln((function(){return{}}))}];function Cn(n,A,e){return m({},e,n,A)}var un=[function(n){return"function"==typeof n?function(n){return function(A,e){var t=e.displayName,o=e.pure,l=e.areMergedPropsEqual,i=!1,r=void 0;return function(A,e,a){var c=n(A,e,a);return i?o&&l(c,r)||(r=c):(i=!0,on(r=c,t,"mergeProps")),r}}}(n):void 0},function(n){return n?void 0:function(){return Cn}}];function mn(n,A,e){if(!n)throw new Error("Unexpected value for "+A+" in "+e+".");"mapStateToProps"!==A&&"mapDispatchToProps"!==A||n.hasOwnProperty("dependsOnOwnProps")||s("The selector for "+A+" of "+e+" did not specify a value for dependsOnOwnProps.")}function dn(n,A,e,t){return function(o,l){return e(n(o,l),A(t,l),l)}}function En(n,A,e,t,o){var l=o.areStatesEqual,i=o.areOwnPropsEqual,r=o.areStatePropsEqual,a=!1,c=void 0,s=void 0,C=void 0,u=void 0,m=void 0;function d(o,a){var d,E,p=!i(a,s),f=!l(o,c);return c=o,s=a,p&&f?(C=n(c,s),A.dependsOnOwnProps&&(u=A(t,s)),m=e(C,u,s)):p?(n.dependsOnOwnProps&&(C=n(c,s)),A.dependsOnOwnProps&&(u=A(t,s)),m=e(C,u,s)):f?(d=n(c,s),E=!r(d,C),C=d,E&&(m=e(C,u,s)),m):m}return function(o,l){return a?d(o,l):(C=n(c=o,s=l),u=A(t,s),m=e(C,u,s),a=!0,m)}}function pn(n,A){var e=A.initMapStateToProps,t=A.initMapDispatchToProps,o=A.initMergeProps,l=E(A,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=e(n,l),r=t(n,l),a=o(n,l);return function(n,A,e,t){mn(n,"mapStateToProps",t),mn(A,"mapDispatchToProps",t),mn(e,"mergeProps",t)}(i,r,a,l.displayName),(l.pure?En:dn)(i,r,a,n,l)}function fn(n,A,e){for(var t=A.length-1;t>=0;t--){var o=A[t](n);if(o)return o}return function(A,t){throw new Error("Invalid value of type "+(void 0===n?"undefined":C(n))+" for "+e+" argument when connecting component "+t.wrappedComponentName+".")}}function gn(n,A){return n===A}var hn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=n.connectHOC,e=void 0===A?T:A,t=n.mapStateToPropsFactories,o=void 0===t?sn:t,l=n.mapDispatchToPropsFactories,i=void 0===l?cn:l,r=n.mergePropsFactories,a=void 0===r?un:r,c=n.selectorFactory,s=void 0===c?pn:c;return function(n,A,t){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=l.pure,c=void 0===r||r,C=l.areStatesEqual,u=void 0===C?gn:C,d=l.areOwnPropsEqual,p=void 0===d?N:d,f=l.areStatePropsEqual,g=void 0===f?N:f,h=l.areMergedPropsEqual,I=void 0===h?N:h,y=E(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),B=fn(n,o,"mapStateToProps"),M=fn(A,i,"mapDispatchToProps"),v=fn(t,a,"mergeProps");return e(s,m({methodName:"connect",getDisplayName:function(n){return"Connect("+n+")"},shouldHandleStateChanges:Boolean(n),initMapStateToProps:B,initMapDispatchToProps:M,initMergeProps:v,pure:c,areStatesEqual:u,areOwnPropsEqual:p,areStatePropsEqual:g,areMergedPropsEqual:I},y))}}()}).call(this,e(35))},function(n,A,e){"use strict";(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;A.a=e}).call(this,e(35))},function(n,A,e){var t=e(18)(e(11),"Map");n.exports=t},function(n,A,e){var t=e(171),o=e(178),l=e(180),i=e(181),r=e(182);function a(n){var A=-1,e=null==n?0:n.length;for(this.clear();++A<e;){var t=n[A];this.set(t[0],t[1])}}a.prototype.clear=t,a.prototype.delete=o,a.prototype.get=l,a.prototype.has=i,a.prototype.set=r,n.exports=a},function(n,A){n.exports=function(n){var A=-1,e=Array(n.size);return n.forEach((function(n){e[++A]=n})),e}},function(n,A){n.exports=function(n,A){for(var e=-1,t=A.length,o=n.length;++e<t;)n[o+e]=A[e];return n}},function(n,A,e){var t=e(87),o=e(88),l=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,r=i?function(n){return null==n?[]:(n=Object(n),t(i(n),(function(A){return l.call(n,A)})))}:o;n.exports=r},function(n,A){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,A){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,A,e){(function(n){var t=e(78),o=A&&!A.nodeType&&A,l=o&&"object"==typeof n&&n&&!n.nodeType&&n,i=l&&l.exports===o&&t.process,r=function(){try{var n=l&&l.require&&l.require("util").types;return n||i&&i.binding&&i.binding("util")}catch(n){}}();n.exports=r}).call(this,e(61)(n))},function(n,A,e){var t=e(44),o=e(194),l=Object.prototype.hasOwnProperty;n.exports=function(n){if(!t(n))return o(n);var A=[];for(var e in Object(n))l.call(n,e)&&"constructor"!=e&&A.push(e);return A}},function(n,A,e){var t=e(4),o=e(28),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;n.exports=function(n,A){if(t(n))return!1;var e=typeof n;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=n&&!o(n))||(i.test(n)||!l.test(n)||null!=A&&n in Object(A))}},function(n,A,e){var t=e(217),o=e(17);n.exports=function(n){return null==n?[]:t(n,o(n))}},function(n,A,e){"use strict";var t=e(9);n.exports=o;function o(n){this._isDirected=!t.has(n,"directed")||n.directed,this._isMultigraph=!!t.has(n,"multigraph")&&n.multigraph,this._isCompound=!!t.has(n,"compound")&&n.compound,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function l(n,A){n[A]?n[A]++:n[A]=1}function i(n,A){--n[A]||delete n[A]}function r(n,A,e,o){var l=""+A,i=""+e;if(!n&&l>i){var r=l;l=i,i=r}return l+""+i+""+(t.isUndefined(o)?"\0":o)}function a(n,A,e,t){var o=""+A,l=""+e;if(!n&&o>l){var i=o;o=l,l=i}var r={v:o,w:l};return t&&(r.name=t),r}function c(n,A){return r(n,A.v,A.w,A.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(n){return this._label=n,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(n){return t.isFunction(n)||(n=t.constant(n)),this._defaultNodeLabelFn=n,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return t.keys(this._nodes)},o.prototype.sources=function(){var n=this;return t.filter(this.nodes(),(function(A){return t.isEmpty(n._in[A])}))},o.prototype.sinks=function(){var n=this;return t.filter(this.nodes(),(function(A){return t.isEmpty(n._out[A])}))},o.prototype.setNodes=function(n,A){var e=arguments,o=this;return t.each(n,(function(n){e.length>1?o.setNode(n,A):o.setNode(n)})),this},o.prototype.setNode=function(n,A){return t.has(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=A),this):(this._nodes[n]=arguments.length>1?A:this._defaultNodeLabelFn(n),this._isCompound&&(this._parent[n]="\0",this._children[n]={},this._children["\0"][n]=!0),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)},o.prototype.node=function(n){return this._nodes[n]},o.prototype.hasNode=function(n){return t.has(this._nodes,n)},o.prototype.removeNode=function(n){var A=this;if(t.has(this._nodes,n)){var e=function(n){A.removeEdge(A._edgeObjs[n])};delete this._nodes[n],this._isCompound&&(this._removeFromParentsChildList(n),delete this._parent[n],t.each(this.children(n),(function(n){A.setParent(n)})),delete this._children[n]),t.each(t.keys(this._in[n]),e),delete this._in[n],delete this._preds[n],t.each(t.keys(this._out[n]),e),delete this._out[n],delete this._sucs[n],--this._nodeCount}return this},o.prototype.setParent=function(n,A){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(A))A="\0";else{for(var e=A+="";!t.isUndefined(e);e=this.parent(e))if(e===n)throw new Error("Setting "+A+" as parent of "+n+" would create a cycle");this.setNode(A)}return this.setNode(n),this._removeFromParentsChildList(n),this._parent[n]=A,this._children[A][n]=!0,this},o.prototype._removeFromParentsChildList=function(n){delete this._children[this._parent[n]][n]},o.prototype.parent=function(n){if(this._isCompound){var A=this._parent[n];if("\0"!==A)return A}},o.prototype.children=function(n){if(t.isUndefined(n)&&(n="\0"),this._isCompound){var A=this._children[n];if(A)return t.keys(A)}else{if("\0"===n)return this.nodes();if(this.hasNode(n))return[]}},o.prototype.predecessors=function(n){var A=this._preds[n];if(A)return t.keys(A)},o.prototype.successors=function(n){var A=this._sucs[n];if(A)return t.keys(A)},o.prototype.neighbors=function(n){var A=this.predecessors(n);if(A)return t.union(A,this.successors(n))},o.prototype.isLeaf=function(n){return 0===(this.isDirected()?this.successors(n):this.neighbors(n)).length},o.prototype.filterNodes=function(n){var A=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});A.setGraph(this.graph());var e=this;t.each(this._nodes,(function(e,t){n(t)&&A.setNode(t,e)})),t.each(this._edgeObjs,(function(n){A.hasNode(n.v)&&A.hasNode(n.w)&&A.setEdge(n,e.edge(n))}));var o={};return this._isCompound&&t.each(A.nodes(),(function(n){A.setParent(n,function n(t){var l=e.parent(t);return void 0===l||A.hasNode(l)?(o[t]=l,l):l in o?o[l]:n(l)}(n))})),A},o.prototype.setDefaultEdgeLabel=function(n){return t.isFunction(n)||(n=t.constant(n)),this._defaultEdgeLabelFn=n,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return t.values(this._edgeObjs)},o.prototype.setPath=function(n,A){var e=this,o=arguments;return t.reduce(n,(function(n,t){return o.length>1?e.setEdge(n,t,A):e.setEdge(n,t),t})),this},o.prototype.setEdge=function(){var n,A,e,o,i=!1,c=arguments[0];"object"==typeof c&&null!==c&&"v"in c?(n=c.v,A=c.w,e=c.name,2===arguments.length&&(o=arguments[1],i=!0)):(n=c,A=arguments[1],e=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),n=""+n,A=""+A,t.isUndefined(e)||(e=""+e);var s=r(this._isDirected,n,A,e);if(t.has(this._edgeLabels,s))return i&&(this._edgeLabels[s]=o),this;if(!t.isUndefined(e)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(n),this.setNode(A),this._edgeLabels[s]=i?o:this._defaultEdgeLabelFn(n,A,e);var C=a(this._isDirected,n,A,e);return n=C.v,A=C.w,Object.freeze(C),this._edgeObjs[s]=C,l(this._preds[A],n),l(this._sucs[n],A),this._in[A][s]=C,this._out[n][s]=C,this._edgeCount++,this},o.prototype.edge=function(n,A,e){var t=1===arguments.length?c(this._isDirected,arguments[0]):r(this._isDirected,n,A,e);return this._edgeLabels[t]},o.prototype.hasEdge=function(n,A,e){var o=1===arguments.length?c(this._isDirected,arguments[0]):r(this._isDirected,n,A,e);return t.has(this._edgeLabels,o)},o.prototype.removeEdge=function(n,A,e){var t=1===arguments.length?c(this._isDirected,arguments[0]):r(this._isDirected,n,A,e),o=this._edgeObjs[t];return o&&(n=o.v,A=o.w,delete this._edgeLabels[t],delete this._edgeObjs[t],i(this._preds[A],n),i(this._sucs[n],A),delete this._in[A][t],delete this._out[n][t],this._edgeCount--),this},o.prototype.inEdges=function(n,A){var e=this._in[n];if(e){var o=t.values(e);return A?t.filter(o,(function(n){return n.v===A})):o}},o.prototype.outEdges=function(n,A){var e=this._out[n];if(e){var o=t.values(e);return A?t.filter(o,(function(n){return n.w===A})):o}},o.prototype.nodeEdges=function(n,A){var e=this.inEdges(n,A);if(e)return e.concat(this.outEdges(n,A))}},function(n,A){n.exports=function(n,A){for(var e=-1,t=null==n?0:n.length;++e<t&&!1!==A(n[e],e,n););return n}},function(n,A,e){var t=e(84);n.exports=function(n){var A=new n.constructor(n.byteLength);return new t(A).set(new t(n)),A}},function(n,A){n.exports=function(n){return function(){return n}}},function(n,A,e){var t=e(72),o=e(17);n.exports=function(n,A){return n&&t(n,A,o)}},function(n,A,e){var t=e(236)();n.exports=t},function(n,A,e){var t=e(59),o=e(250);n.exports=function n(A,e,l,i,r){var a=-1,c=A.length;for(l||(l=o),r||(r=[]);++a<c;){var s=A[a];e>0&&l(s)?e>1?n(s,e-1,l,i,r):t(r,s):i||(r[r.length]=s)}return r}},function(n,A,e){var t=e(28);n.exports=function(n,A,e){for(var o=-1,l=n.length;++o<l;){var i=n[o],r=A(i);if(null!=r&&(void 0===a?r==r&&!t(r):e(r,a)))var a=r,c=i}return c}},function(n,A,e){"use strict";(function(n,t){var o,l=e(137);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:t;var i=Object(l.a)(o);A.a=i}).call(this,e(35),e(36)(n))},function(n,A,e){},function(n,A,e){},function(n,A,e){(function(A){var e="object"==typeof A&&A&&A.Object===Object&&A;n.exports=e}).call(this,e(35))},function(n,A){var e=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return e.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,A,e){var t=e(183),o=e(13);n.exports=function n(A,e,l,i,r){return A===e||(null==A||null==e||!o(A)&&!o(e)?A!=A&&e!=e:t(A,e,l,i,n,r))}},function(n,A,e){var t=e(82),o=e(186),l=e(83);n.exports=function(n,A,e,i,r,a){var c=1&e,s=n.length,C=A.length;if(s!=C&&!(c&&C>s))return!1;var u=a.get(n),m=a.get(A);if(u&&m)return u==A&&m==n;var d=-1,E=!0,p=2&e?new t:void 0;for(a.set(n,A),a.set(A,n);++d<s;){var f=n[d],g=A[d];if(i)var h=c?i(g,f,d,A,n,a):i(f,g,d,n,A,a);if(void 0!==h){if(h)continue;E=!1;break}if(p){if(!o(A,(function(n,A){if(!l(p,A)&&(f===n||r(f,n,e,i,a)))return p.push(A)}))){E=!1;break}}else if(f!==g&&!r(f,g,e,i,a)){E=!1;break}}return a.delete(n),a.delete(A),E}},function(n,A,e){var t=e(57),o=e(184),l=e(185);function i(n){var A=-1,e=null==n?0:n.length;for(this.__data__=new t;++A<e;)this.add(n[A])}i.prototype.add=i.prototype.push=o,i.prototype.has=l,n.exports=i},function(n,A){n.exports=function(n,A){return n.has(A)}},function(n,A,e){var t=e(11).Uint8Array;n.exports=t},function(n,A,e){var t=e(86),o=e(60),l=e(17);n.exports=function(n){return t(n,l,o)}},function(n,A,e){var t=e(59),o=e(4);n.exports=function(n,A,e){var l=A(n);return o(n)?l:t(l,e(n))}},function(n,A){n.exports=function(n,A){for(var e=-1,t=null==n?0:n.length,o=0,l=[];++e<t;){var i=n[e];A(i,e,n)&&(l[o++]=i)}return l}},function(n,A){n.exports=function(){return[]}},function(n,A,e){var t=e(190),o=e(30),l=e(4),i=e(26),r=e(42),a=e(31),c=Object.prototype.hasOwnProperty;n.exports=function(n,A){var e=l(n),s=!e&&o(n),C=!e&&!s&&i(n),u=!e&&!s&&!C&&a(n),m=e||s||C||u,d=m?t(n.length,String):[],E=d.length;for(var p in n)!A&&!c.call(n,p)||m&&("length"==p||C&&("offset"==p||"parent"==p)||u&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||r(p,E))||d.push(p);return d}},function(n,A){n.exports=function(n,A){return function(e){return n(A(e))}}},function(n,A,e){var t=e(18)(e(11),"Set");n.exports=t},function(n,A,e){var t=e(8);n.exports=function(n){return n==n&&!t(n)}},function(n,A){n.exports=function(n,A){return function(e){return null!=e&&(e[n]===A&&(void 0!==A||n in Object(e)))}}},function(n,A,e){var t=e(45);n.exports=function(n,A,e){var o=null==n?void 0:t(n,A);return void 0===o?e:o}},function(n,A,e){var t=e(203);n.exports=function(n){return null==n?"":t(n)}},function(n,A,e){var t=e(204),o=e(97);n.exports=function(n,A){return null!=n&&o(n,A,t)}},function(n,A,e){var t=e(46),o=e(30),l=e(4),i=e(42),r=e(62),a=e(33);n.exports=function(n,A,e){for(var c=-1,s=(A=t(A,n)).length,C=!1;++c<s;){var u=a(A[c]);if(!(C=null!=n&&e(n,u)))break;n=n[u]}return C||++c!=s?C:!!(s=null==n?0:n.length)&&r(s)&&i(u,s)&&(l(n)||o(n))}},function(n,A){n.exports=function(n){return function(A){return null==A?void 0:A[n]}}},function(n,A,e){var t=e(45),o=e(209),l=e(46);n.exports=function(n,A,e){for(var i=-1,r=A.length,a={};++i<r;){var c=A[i],s=t(n,c);e(s,c)&&o(a,l(c,n),s)}return a}},function(n,A,e){var t=e(18),o=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=o},function(n,A,e){var t=e(86),o=e(102),l=e(21);n.exports=function(n){return t(n,l,o)}},function(n,A,e){var t=e(59),o=e(49),l=e(60),i=e(88),r=Object.getOwnPropertySymbols?function(n){for(var A=[];n;)t(A,l(n)),n=o(n);return A}:i;n.exports=r},function(n,A,e){var t=e(104),o=e(214),l=e(215);n.exports=function(n,A,e){return A==A?l(n,A,e):t(n,o,e)}},function(n,A){n.exports=function(n,A,e,t){for(var o=n.length,l=e+(t?1:-1);t?l--:++l<o;)if(A(n[l],l,n))return l;return-1}},function(n,A,e){var t=e(19),o=e(4),l=e(13);n.exports=function(n){return"string"==typeof n||!o(n)&&l(n)&&"[object String]"==t(n)}},function(n,A,e){var t=e(107);n.exports=function(n){var A=t(n),e=A%1;return A==A?e?A-e:A:0}},function(n,A,e){var t=e(216);n.exports=function(n){return n?(n=t(n))===1/0||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}},function(n,A,e){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.undo=function(){return{type:"UNDO_HISTORY@UNDO"}},A.redo=function(){return{type:"UNDO_HISTORY@REDO"}},A.addUndoItem=function(n,A,e,t){return{type:"UNDO_HISTORY@ADD",payload:{action:n,beforeState:A,afterState:e,args:t}}},A.clear=function(){return{type:"UNDO_HISTORY@CLEAR"}}},function(n,A,e){var t=e(37),o=e(68),l=e(47),i=e(223),r=e(224),a=e(110),c=e(111),s=e(225),C=e(226),u=e(85),m=e(101),d=e(27),E=e(227),p=e(228),f=e(113),g=e(4),h=e(26),I=e(232),y=e(8),B=e(234),M=e(17),v=e(21),b={};b["[object Arguments]"]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object DataView]"]=b["[object Boolean]"]=b["[object Date]"]=b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Map]"]=b["[object Number]"]=b["[object Object]"]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object Symbol]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b["[object Error]"]=b["[object Function]"]=b["[object WeakMap]"]=!1,n.exports=function n(A,e,O,G,D,k){var K,S=1&e,w=2&e,_=4&e;if(O&&(K=D?O(A,G,D,k):O(A)),void 0!==K)return K;if(!y(A))return A;var x=g(A);if(x){if(K=E(A),!S)return c(A,K)}else{var T=d(A),Q="[object Function]"==T||"[object GeneratorFunction]"==T;if(h(A))return a(A,S);if("[object Object]"==T||"[object Arguments]"==T||Q&&!D){if(K=w||Q?{}:f(A),!S)return w?C(A,r(K,A)):s(A,i(K,A))}else{if(!b[T])return D?A:{};K=p(A,T,S)}}k||(k=new t);var U=k.get(A);if(U)return U;k.set(A,K),B(A)?A.forEach((function(t){K.add(n(t,e,O,t,A,k))})):I(A)&&A.forEach((function(t,o){K.set(o,n(t,e,O,o,A,k))}));var N=x?void 0:(_?w?m:u:w?v:M)(A);return o(N||A,(function(t,o){N&&(t=A[o=t]),l(K,o,n(t,e,O,o,A,k))})),K}},function(n,A,e){(function(n){var t=e(11),o=A&&!A.nodeType&&A,l=o&&"object"==typeof n&&n&&!n.nodeType&&n,i=l&&l.exports===o?t.Buffer:void 0,r=i?i.allocUnsafe:void 0;n.exports=function(n,A){if(A)return n.slice();var e=n.length,t=r?r(e):new n.constructor(e);return n.copy(t),t}}).call(this,e(61)(n))},function(n,A){n.exports=function(n,A){var e=-1,t=n.length;for(A||(A=Array(t));++e<t;)A[e]=n[e];return A}},function(n,A,e){var t=e(69);n.exports=function(n,A){var e=A?t(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}},function(n,A,e){var t=e(114),o=e(49),l=e(44);n.exports=function(n){return"function"!=typeof n.constructor||l(n)?{}:t(o(n))}},function(n,A,e){var t=e(8),o=Object.create,l=function(){function n(){}return function(A){if(!t(A))return{};if(o)return o(A);n.prototype=A;var e=new n;return n.prototype=void 0,e}}();n.exports=l},function(n,A,e){n.exports=e(116)},function(n,A,e){var t=e(68),o=e(50),l=e(117),i=e(4);n.exports=function(n,A){return(i(n)?t:o)(n,l(A))}},function(n,A,e){var t=e(20);n.exports=function(n){return"function"==typeof n?n:t}},function(n,A,e){var t=e(87),o=e(238),l=e(10),i=e(4);n.exports=function(n,A){return(i(n)?t:o)(n,l(A,3))}},function(n,A,e){var t=e(239),o=e(97);n.exports=function(n,A){return null!=n&&o(n,A,t)}},function(n,A){n.exports=function(n){return void 0===n}},function(n,A,e){var t=e(32),o=e(10),l=e(122),i=e(4);n.exports=function(n,A){return(i(n)?t:l)(n,o(A,3))}},function(n,A,e){var t=e(50),o=e(14);n.exports=function(n,A){var e=-1,l=o(n)?Array(n.length):[];return t(n,(function(n,t,o){l[++e]=A(n,t,o)})),l}},function(n,A,e){var t=e(241),o=e(50),l=e(10),i=e(242),r=e(4);n.exports=function(n,A,e){var a=r(n)?t:i,c=arguments.length<3;return a(n,l(A,4),e,c,o)}},function(n,A,e){var t=e(251),o=Math.max;n.exports=function(n,A,e){return A=o(void 0===A?n.length-1:A,0),function(){for(var l=arguments,i=-1,r=o(l.length-A,0),a=Array(r);++i<r;)a[i]=l[A+i];i=-1;for(var c=Array(A+1);++i<A;)c[i]=l[i];return c[A]=e(a),t(n,this,c)}}},function(n,A,e){var t=e(252),o=e(253)(t);n.exports=o},function(n,A,e){var t=e(14),o=e(13);n.exports=function(n){return o(n)&&t(n)}},function(n,A,e){var t=e(9),o=e(128);n.exports=function(n,A,e,t){return function(n,A,e,t){var l,i,r={},a=new o,c=function(n){var A=n.v!==l?n.v:n.w,t=r[A],o=e(n),c=i.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+n+" Weight: "+o);c<t.distance&&(t.distance=c,t.predecessor=l,a.decrease(A,c))};n.nodes().forEach((function(n){var e=n===A?0:Number.POSITIVE_INFINITY;r[n]={distance:e},a.add(n,e)}));for(;a.size()>0&&(l=a.removeMin(),(i=r[l]).distance!==Number.POSITIVE_INFINITY);)t(l).forEach(c);return r}(n,String(A),e||l,t||function(A){return n.outEdges(A)})};var l=t.constant(1)},function(n,A,e){var t=e(9);function o(){this._arr=[],this._keyIndices={}}n.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(n){return n.key}))},o.prototype.has=function(n){return t.has(this._keyIndices,n)},o.prototype.priority=function(n){var A=this._keyIndices[n];if(void 0!==A)return this._arr[A].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(n,A){var e=this._keyIndices;if(n=String(n),!t.has(e,n)){var o=this._arr,l=o.length;return e[n]=l,o.push({key:n,priority:A}),this._decrease(l),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},o.prototype.decrease=function(n,A){var e=this._keyIndices[n];if(A>this._arr[e].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[e].priority+" New: "+A);this._arr[e].priority=A,this._decrease(e)},o.prototype._heapify=function(n){var A=this._arr,e=2*n,t=e+1,o=n;e<A.length&&(o=A[e].priority<A[o].priority?e:o,t<A.length&&(o=A[t].priority<A[o].priority?t:o),o!==n&&(this._swap(n,o),this._heapify(o)))},o.prototype._decrease=function(n){for(var A,e=this._arr,t=e[n].priority;0!==n&&!(e[A=n>>1].priority<t);)this._swap(n,A),n=A},o.prototype._swap=function(n,A){var e=this._arr,t=this._keyIndices,o=e[n],l=e[A];e[n]=l,e[A]=o,t[l.key]=n,t[o.key]=A}},function(n,A,e){var t=e(9);n.exports=function(n){var A=0,e=[],o={},l=[];return n.nodes().forEach((function(i){t.has(o,i)||function i(r){var a=o[r]={onStack:!0,lowlink:A,index:A++};if(e.push(r),n.successors(r).forEach((function(n){t.has(o,n)?o[n].onStack&&(a.lowlink=Math.min(a.lowlink,o[n].index)):(i(n),a.lowlink=Math.min(a.lowlink,o[n].lowlink))})),a.lowlink===a.index){var c,s=[];do{c=e.pop(),o[c].onStack=!1,s.push(c)}while(r!==c);l.push(s)}}(i)})),l}},function(n,A,e){var t=e(9);function o(n){var A={},e={},o=[];if(t.each(n.sinks(),(function i(r){if(t.has(e,r))throw new l;t.has(A,r)||(e[r]=!0,A[r]=!0,t.each(n.predecessors(r),i),delete e[r],o.push(r))})),t.size(A)!==n.nodeCount())throw new l;return o}function l(){}n.exports=o,o.CycleException=l,l.prototype=new Error},function(n,A,e){var t=e(9);n.exports=function(n,A,e){t.isArray(A)||(A=[A]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),l=[],i={};return t.each(A,(function(A){if(!n.hasNode(A))throw new Error("Graph does not have node: "+A);!function n(A,e,o,l,i,r){t.has(l,e)||(l[e]=!0,o||r.push(e),t.each(i(e),(function(e){n(A,e,o,l,i,r)})),o&&r.push(e))}(n,A,"post"===e,i,o,l)})),l}},function(n,A,e){var t=e(73);n.exports=function(n){return(null==n?0:n.length)?t(n,1):[]}},function(n,A,e){var t=e(48),o=e(24);n.exports=function(n,A,e){(void 0!==e&&!o(n[A],e)||void 0===e&&!(A in n))&&t(n,A,e)}},function(n,A){n.exports=function(n,A){if(("constructor"!==A||"function"!=typeof n[A])&&"__proto__"!=A)return n[A]}},function(n,A){n.exports=function(n,A){return n<A}},function(n,A,e){"use strict";var t=e(1),o=e(12).Graph,l=e(53).slack;function i(n,A){return t.forEach(n.nodes(),(function e(o){t.forEach(A.nodeEdges(o),(function(t){var i=t.v,r=o===i?t.w:i;n.hasNode(r)||l(A,t)||(n.setNode(r,{}),n.setEdge(o,r,{}),e(r))}))})),n.nodeCount()}function r(n,A){return t.minBy(A.edges(),(function(e){if(n.hasNode(e.v)!==n.hasNode(e.w))return l(A,e)}))}function a(n,A,e){t.forEach(n.nodes(),(function(n){A.node(n).rank+=e}))}n.exports=function(n){var A,e,t=new o({directed:!1}),c=n.nodes()[0],s=n.nodeCount();t.setNode(c,{});for(;i(t,n)<s;)A=r(t,n),e=t.hasNode(A.v)?l(n,A):-l(n,A),a(t,n,e);return t}},function(n,A,e){"use strict";function t(n){var A,e=n.Symbol;return"function"==typeof e?e.observable?A=e.observable:(A=e("observable"),e.observable=A):A="@@observable",A}e.d(A,"a",(function(){return t}))},function(n,A,e){"use strict";A.a=function(){return!1}},function(n,A,e){"use strict";(function(n){var t=e(2),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,l=o&&"object"==typeof n&&n&&!n.nodeType&&n,i=l&&l.exports===o?t.a.Buffer:void 0,r=i?i.allocUnsafe:void 0;A.a=function(n,A){if(A)return n.slice();var e=n.length,t=r?r(e):new n.constructor(e);return n.copy(t),t}}).call(this,e(36)(n))},,function(n,A,e){"use strict";var t,o,l,i,r,a,c=(t="/Volumes/workplace/diagram-maker/src/polyfills/object-values.ts",o="e4d55ec585a5f336837e8748b34cc3018bdf83f9",l=new(0,function(){}.constructor)("return this")(),r={path:"/Volumes/workplace/diagram-maker/src/polyfills/object-values.ts",statementMap:{0:{start:{line:3,column:0},end:{line:8,column:1}},1:{start:{line:4,column:4},end:{line:7,column:6}},2:{start:{line:5,column:8},end:{line:6,column:54}},3:{start:{line:6,column:34},end:{line:6,column:50}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:20},end:{line:4,column:21}},loc:{start:{line:4,column:35},end:{line:7,column:5}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:6,column:17},end:{line:6,column:18}},loc:{start:{line:6,column:32},end:{line:6,column:52}},line:6}},branchMap:{0:{loc:{start:{line:3,column:0},end:{line:8,column:1}},type:"if",locations:[{start:{line:3,column:0},end:{line:8,column:1}},{start:{line:3,column:0},end:{line:8,column:1}}],line:3}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Volumes/workplace/diagram-maker/src/polyfills/object-values.ts",sourceRoot:"",sources:["/Volumes/workplace/diagram-maker/src/polyfills/object-values.ts"],names:[],mappings:";AAAA,6BAA6B;AAC7B,IAAI,CAAE,MAAc,CAAC,MAAM,EAAE;IAC1B,MAAc,CAAC,MAAM,GAAG,UAAC,GAAQ;QAChC,OAAA,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;aACb,GAAG,CAAC,UAAC,GAAW,IAAK,OAAA,GAAG,CAAC,GAAG,CAAC,EAAR,CAAQ,CAAC;IADjC,CACiC,CAAC;CACrC",sourcesContent:["// Polyfill for Object.values\nif (!(Object as any).values) {\n  (Object as any).values = (src: any) =>\n    Object.keys(src)\n      .map((key: string) => src[key]);\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},(a=l[i="__coverage__"]||(l[i]={}))[t]&&a[t].hash===o?a[t]:(r.hash=o,a[t]=r));c.s[0]++,Object.values?c.b[0][1]++:(c.b[0][0]++,c.s[1]++,Object.values=function(n){return c.f[0]++,c.s[2]++,Object.keys(n).map((function(A){return c.f[1]++,c.s[3]++,n[A]}))})},function(n,A,e){},function(n,A,e){},function(n,A,e){},function(n,A,e){},function(n,A,e){},function(n,A,e){},function(n,A,e){},function(n,A,e){},function(n,A,e){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var t=l(e(151)),o=l(e(152));function l(n){return n&&n.__esModule?n:{default:n}}function i(n){if(Array.isArray(n)){for(var A=0,e=Array(n.length);A<n.length;A++)e[A]=n[A];return e}return Array.from(n)}A.undoHistoryReducerCreator=c;var r={undoQueue:[],redoQueue:[]},a=c();function c(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=n.undoHistoryLimit;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,e=arguments[1],l=e.type,a=e.payload,c=n.undoQueue,s=n.redoQueue;switch(l){case"UNDO_HISTORY@UNDO":return 0===c.length?n:{undoQueue:c.slice(1),redoQueue:[c[0]].concat(i(s))};case"UNDO_HISTORY@REDO":return 0===s.length?n:{undoQueue:[s[0]].concat(i(c)),redoQueue:s.slice(1)};case"UNDO_HISTORY@ADD":var C=[(0,o.default)(a,t.default)];return A?C.push.apply(C,i(c.slice(0,A-1))):C.push.apply(C,i(c)),{undoQueue:C,redoQueue:[]};case"UNDO_HISTORY@CLEAR":return r;default:return n}}}A.default=a},function(n,A){n.exports=function(n){return null==n}},function(n,A,e){var t=e(10),o=e(207),l=e(208);n.exports=function(n,A){return l(n,o(t(A)))}},function(n,A,e){var t=e(154),o=e(198),l=e(93);n.exports=function(n){var A=o(n);return 1==A.length&&A[0][2]?l(A[0][0],A[0][1]):function(e){return e===n||t(e,n,A)}}},function(n,A,e){var t=e(37),o=e(80);n.exports=function(n,A,e,l){var i=e.length,r=i,a=!l;if(null==n)return!r;for(n=Object(n);i--;){var c=e[i];if(a&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++i<r;){var s=(c=e[i])[0],C=n[s],u=c[1];if(a&&c[2]){if(void 0===C&&!(s in n))return!1}else{var m=new t;if(l)var d=l(C,u,s,n,A,m);if(!(void 0===d?o(u,C,3,l,m):d))return!1}}return!0}},function(n,A){n.exports=function(){this.__data__=[],this.size=0}},function(n,A,e){var t=e(39),o=Array.prototype.splice;n.exports=function(n){var A=this.__data__,e=t(A,n);return!(e<0)&&(e==A.length-1?A.pop():o.call(A,e,1),--this.size,!0)}},function(n,A,e){var t=e(39);n.exports=function(n){var A=this.__data__,e=t(A,n);return e<0?void 0:A[e][1]}},function(n,A,e){var t=e(39);n.exports=function(n){return t(this.__data__,n)>-1}},function(n,A,e){var t=e(39);n.exports=function(n,A){var e=this.__data__,o=t(e,n);return o<0?(++this.size,e.push([n,A])):e[o][1]=A,this}},function(n,A,e){var t=e(38);n.exports=function(){this.__data__=new t,this.size=0}},function(n,A){n.exports=function(n){var A=this.__data__,e=A.delete(n);return this.size=A.size,e}},function(n,A){n.exports=function(n){return this.__data__.get(n)}},function(n,A){n.exports=function(n){return this.__data__.has(n)}},function(n,A,e){var t=e(38),o=e(56),l=e(57);n.exports=function(n,A){var e=this.__data__;if(e instanceof t){var i=e.__data__;if(!o||i.length<199)return i.push([n,A]),this.size=++e.size,this;e=this.__data__=new l(i)}return e.set(n,A),this.size=e.size,this}},function(n,A,e){var t=e(29),o=e(168),l=e(8),i=e(79),r=/^\[object .+?Constructor\]$/,a=Function.prototype,c=Object.prototype,s=a.toString,C=c.hasOwnProperty,u=RegExp("^"+s.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!l(n)||o(n))&&(t(n)?u:r).test(i(n))}},function(n,A,e){var t=e(25),o=Object.prototype,l=o.hasOwnProperty,i=o.toString,r=t?t.toStringTag:void 0;n.exports=function(n){var A=l.call(n,r),e=n[r];try{n[r]=void 0;var t=!0}catch(n){}var o=i.call(n);return t&&(A?n[r]=e:delete n[r]),o}},function(n,A){var e=Object.prototype.toString;n.exports=function(n){return e.call(n)}},function(n,A,e){var t,o=e(169),l=(t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";n.exports=function(n){return!!l&&l in n}},function(n,A,e){var t=e(11)["__core-js_shared__"];n.exports=t},function(n,A){n.exports=function(n,A){return null==n?void 0:n[A]}},function(n,A,e){var t=e(172),o=e(38),l=e(56);n.exports=function(){this.size=0,this.__data__={hash:new t,map:new(l||o),string:new t}}},function(n,A,e){var t=e(173),o=e(174),l=e(175),i=e(176),r=e(177);function a(n){var A=-1,e=null==n?0:n.length;for(this.clear();++A<e;){var t=n[A];this.set(t[0],t[1])}}a.prototype.clear=t,a.prototype.delete=o,a.prototype.get=l,a.prototype.has=i,a.prototype.set=r,n.exports=a},function(n,A,e){var t=e(40);n.exports=function(){this.__data__=t?t(null):{},this.size=0}},function(n,A){n.exports=function(n){var A=this.has(n)&&delete this.__data__[n];return this.size-=A?1:0,A}},function(n,A,e){var t=e(40),o=Object.prototype.hasOwnProperty;n.exports=function(n){var A=this.__data__;if(t){var e=A[n];return"__lodash_hash_undefined__"===e?void 0:e}return o.call(A,n)?A[n]:void 0}},function(n,A,e){var t=e(40),o=Object.prototype.hasOwnProperty;n.exports=function(n){var A=this.__data__;return t?void 0!==A[n]:o.call(A,n)}},function(n,A,e){var t=e(40);n.exports=function(n,A){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=t&&void 0===A?"__lodash_hash_undefined__":A,this}},function(n,A,e){var t=e(41);n.exports=function(n){var A=t(this,n).delete(n);return this.size-=A?1:0,A}},function(n,A){n.exports=function(n){var A=typeof n;return"string"==A||"number"==A||"symbol"==A||"boolean"==A?"__proto__"!==n:null===n}},function(n,A,e){var t=e(41);n.exports=function(n){return t(this,n).get(n)}},function(n,A,e){var t=e(41);n.exports=function(n){return t(this,n).has(n)}},function(n,A,e){var t=e(41);n.exports=function(n,A){var e=t(this,n),o=e.size;return e.set(n,A),this.size+=e.size==o?0:1,this}},function(n,A,e){var t=e(37),o=e(81),l=e(187),i=e(189),r=e(27),a=e(4),c=e(26),s=e(31),C="[object Object]",u=Object.prototype.hasOwnProperty;n.exports=function(n,A,e,m,d,E){var p=a(n),f=a(A),g=p?"[object Array]":r(n),h=f?"[object Array]":r(A),I=(g="[object Arguments]"==g?C:g)==C,y=(h="[object Arguments]"==h?C:h)==C,B=g==h;if(B&&c(n)){if(!c(A))return!1;p=!0,I=!1}if(B&&!I)return E||(E=new t),p||s(n)?o(n,A,e,m,d,E):l(n,A,g,e,m,d,E);if(!(1&e)){var M=I&&u.call(n,"__wrapped__"),v=y&&u.call(A,"__wrapped__");if(M||v){var b=M?n.value():n,O=v?A.value():A;return E||(E=new t),d(b,O,e,m,E)}}return!!B&&(E||(E=new t),i(n,A,e,m,d,E))}},function(n,A){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,A){n.exports=function(n){return this.__data__.has(n)}},function(n,A){n.exports=function(n,A){for(var e=-1,t=null==n?0:n.length;++e<t;)if(A(n[e],e,n))return!0;return!1}},function(n,A,e){var t=e(25),o=e(84),l=e(24),i=e(81),r=e(188),a=e(58),c=t?t.prototype:void 0,s=c?c.valueOf:void 0;n.exports=function(n,A,e,t,c,C,u){switch(e){case"[object DataView]":if(n.byteLength!=A.byteLength||n.byteOffset!=A.byteOffset)return!1;n=n.buffer,A=A.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=A.byteLength||!C(new o(n),new o(A)));case"[object Boolean]":case"[object Date]":case"[object Number]":return l(+n,+A);case"[object Error]":return n.name==A.name&&n.message==A.message;case"[object RegExp]":case"[object String]":return n==A+"";case"[object Map]":var m=r;case"[object Set]":var d=1&t;if(m||(m=a),n.size!=A.size&&!d)return!1;var E=u.get(n);if(E)return E==A;t|=2,u.set(n,A);var p=i(m(n),m(A),t,c,C,u);return u.delete(n),p;case"[object Symbol]":if(s)return s.call(n)==s.call(A)}return!1}},function(n,A){n.exports=function(n){var A=-1,e=Array(n.size);return n.forEach((function(n,t){e[++A]=[t,n]})),e}},function(n,A,e){var t=e(85),o=Object.prototype.hasOwnProperty;n.exports=function(n,A,e,l,i,r){var a=1&e,c=t(n),s=c.length;if(s!=t(A).length&&!a)return!1;for(var C=s;C--;){var u=c[C];if(!(a?u in A:o.call(A,u)))return!1}var m=r.get(n),d=r.get(A);if(m&&d)return m==A&&d==n;var E=!0;r.set(n,A),r.set(A,n);for(var p=a;++C<s;){var f=n[u=c[C]],g=A[u];if(l)var h=a?l(g,f,u,A,n,r):l(f,g,u,n,A,r);if(!(void 0===h?f===g||i(f,g,e,l,r):h)){E=!1;break}p||(p="constructor"==u)}if(E&&!p){var I=n.constructor,y=A.constructor;I==y||!("constructor"in n)||!("constructor"in A)||"function"==typeof I&&I instanceof I&&"function"==typeof y&&y instanceof y||(E=!1)}return r.delete(n),r.delete(A),E}},function(n,A){n.exports=function(n,A){for(var e=-1,t=Array(n);++e<n;)t[e]=A(e);return t}},function(n,A,e){var t=e(19),o=e(13);n.exports=function(n){return o(n)&&"[object Arguments]"==t(n)}},function(n,A){n.exports=function(){return!1}},function(n,A,e){var t=e(19),o=e(62),l=e(13),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,n.exports=function(n){return l(n)&&o(n.length)&&!!i[t(n)]}},function(n,A,e){var t=e(90)(Object.keys,Object);n.exports=t},function(n,A,e){var t=e(18)(e(11),"DataView");n.exports=t},function(n,A,e){var t=e(18)(e(11),"Promise");n.exports=t},function(n,A,e){var t=e(18)(e(11),"WeakMap");n.exports=t},function(n,A,e){var t=e(92),o=e(17);n.exports=function(n){for(var A=o(n),e=A.length;e--;){var l=A[e],i=n[l];A[e]=[l,i,t(i)]}return A}},function(n,A,e){var t=e(80),o=e(94),l=e(96),i=e(65),r=e(92),a=e(93),c=e(33);n.exports=function(n,A){return i(n)&&r(A)?a(c(n),A):function(e){var i=o(e,n);return void 0===i&&i===A?l(e,n):t(A,i,3)}}},function(n,A,e){var t=e(201),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,i=t((function(n){var A=[];return 46===n.charCodeAt(0)&&A.push(""),n.replace(o,(function(n,e,t,o){A.push(t?o.replace(l,"$1"):e||n)})),A}));n.exports=i},function(n,A,e){var t=e(202);n.exports=function(n){var A=t(n,(function(n){return 500===e.size&&e.clear(),n})),e=A.cache;return A}},function(n,A,e){var t=e(57);function o(n,A){if("function"!=typeof n||null!=A&&"function"!=typeof A)throw new TypeError("Expected a function");var e=function(){var t=arguments,o=A?A.apply(this,t):t[0],l=e.cache;if(l.has(o))return l.get(o);var i=n.apply(this,t);return e.cache=l.set(o,i)||l,i};return e.cache=new(o.Cache||t),e}o.Cache=t,n.exports=o},function(n,A,e){var t=e(25),o=e(32),l=e(4),i=e(28),r=t?t.prototype:void 0,a=r?r.toString:void 0;n.exports=function n(A){if("string"==typeof A)return A;if(l(A))return o(A,n)+"";if(i(A))return a?a.call(A):"";var e=A+"";return"0"==e&&1/A==-1/0?"-0":e}},function(n,A){n.exports=function(n,A){return null!=n&&A in Object(n)}},function(n,A,e){var t=e(98),o=e(206),l=e(65),i=e(33);n.exports=function(n){return l(n)?t(i(n)):o(n)}},function(n,A,e){var t=e(45);n.exports=function(n){return function(A){return t(A,n)}}},function(n,A){n.exports=function(n){if("function"!=typeof n)throw new TypeError("Expected a function");return function(){var A=arguments;switch(A.length){case 0:return!n.call(this);case 1:return!n.call(this,A[0]);case 2:return!n.call(this,A[0],A[1]);case 3:return!n.call(this,A[0],A[1],A[2])}return!n.apply(this,A)}}},function(n,A,e){var t=e(32),o=e(10),l=e(99),i=e(101);n.exports=function(n,A){if(null==n)return{};var e=t(i(n),(function(n){return[n]}));return A=o(A),l(n,e,(function(n,e){return A(n,e[0])}))}},function(n,A,e){var t=e(47),o=e(46),l=e(42),i=e(8),r=e(33);n.exports=function(n,A,e,a){if(!i(n))return n;for(var c=-1,s=(A=o(A,n)).length,C=s-1,u=n;null!=u&&++c<s;){var m=r(A[c]),d=e;if("__proto__"===m||"constructor"===m||"prototype"===m)return n;if(c!=C){var E=u[m];void 0===(d=a?a(E,m,u):void 0)&&(d=i(E)?E:l(A[c+1])?[]:{})}t(u,m,d),u=u[m]}return n}},function(n,A,e){var t=e(8),o=e(44),l=e(211),i=Object.prototype.hasOwnProperty;n.exports=function(n){if(!t(n))return l(n);var A=o(n),e=[];for(var r in n)("constructor"!=r||!A&&i.call(n,r))&&e.push(r);return e}},function(n,A){n.exports=function(n){var A=[];if(null!=n)for(var e in Object(n))A.push(e);return A}},function(n,A,e){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var t=r(e(213)),o=r(e(94));A.default=function(n){var A=n.getViewState,e=n.setViewState,r=n.revertingActions;Object.values(r).some((function(n){return n.meta}))&&console.warn('[redux-undo-redo] The "meta" property in reverting actions is deprecated and replaced with "createArgs" and will be removed in future versions.');var a=Object.keys(r),c=!1;return function(n){var s=n.dispatch,C=n.getState;return function(n){return function(u){var m=C(),d=n(u);switch(u.type){case"UNDO_HISTORY@UNDO":var E=(0,i.getUndoItem)(m);E&&(c=!0,e&&s(e(E.afterState)),s(function(n){var A=n.action,e=n.args,t=A.type,l=(0,o.default)(r[t],"action",r[t]);if(!l)throw new Error("Illegal reverting action definition for '"+t+"'");return l(A,e)}(E)),e&&s(e(E.beforeState)),c=!1);break;case"UNDO_HISTORY@REDO":var p=(0,i.getRedoItem)(m);p&&(c=!0,e&&s(e(p.beforeState)),s(p.action),c=!1);break;default:!c&&(0,t.default)(a,u.type)&&s((0,l.addUndoItem)(u,A&&A(m),A&&A(C()),function(n,A){var e=(0,o.default)(r[A.type],"createArgs");e||(e=(0,o.default)(r[A.type],"meta"));return e&&e(n,A)}(m,u)))}return d}}}};var l=e(108),i=e(218);function r(n){return n&&n.__esModule?n:{default:n}}},function(n,A,e){var t=e(103),o=e(14),l=e(105),i=e(106),r=e(66),a=Math.max;n.exports=function(n,A,e,c){n=o(n)?n:r(n),e=e&&!c?i(e):0;var s=n.length;return e<0&&(e=a(s+e,0)),l(n)?e<=s&&n.indexOf(A,e)>-1:!!s&&t(n,A,e)>-1}},function(n,A){n.exports=function(n){return n!=n}},function(n,A){n.exports=function(n,A,e){for(var t=e-1,o=n.length;++t<o;)if(n[t]===A)return t;return-1}},function(n,A,e){var t=e(8),o=e(28),l=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,c=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(o(n))return NaN;if(t(n)){var A="function"==typeof n.valueOf?n.valueOf():n;n=t(A)?A+"":A}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(l,"");var e=r.test(n);return e||a.test(n)?c(n.slice(2),e?2:8):i.test(n)?NaN:+n}},function(n,A,e){var t=e(32);n.exports=function(n,A){return t(A,(function(A){return n[A]}))}},function(n,A,e){"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.getUndoItem=function(n){return n.undoHistory.undoQueue[0]},A.getRedoItem=function(n){return n.undoHistory.redoQueue[0]}},function(n,A,e){n.exports={graphlib:e(12),layout:e(270),debug:e(325),util:{time:e(6).time,notime:e(6).notime},version:e(326)}},function(n,A,e){var t=e(221);n.exports={Graph:t.Graph,json:e(260),alg:e(261),version:t.version}},function(n,A,e){n.exports={Graph:e(67),version:e(259)}},function(n,A,e){var t=e(109);n.exports=function(n){return t(n,4)}},function(n,A,e){var t=e(34),o=e(17);n.exports=function(n,A){return n&&t(A,o(A),n)}},function(n,A,e){var t=e(34),o=e(21);n.exports=function(n,A){return n&&t(A,o(A),n)}},function(n,A,e){var t=e(34),o=e(60);n.exports=function(n,A){return t(n,o(n),A)}},function(n,A,e){var t=e(34),o=e(102);n.exports=function(n,A){return t(n,o(n),A)}},function(n,A){var e=Object.prototype.hasOwnProperty;n.exports=function(n){var A=n.length,t=new n.constructor(A);return A&&"string"==typeof n[0]&&e.call(n,"index")&&(t.index=n.index,t.input=n.input),t}},function(n,A,e){var t=e(69),o=e(229),l=e(230),i=e(231),r=e(112);n.exports=function(n,A,e){var a=n.constructor;switch(A){case"[object ArrayBuffer]":return t(n);case"[object Boolean]":case"[object Date]":return new a(+n);case"[object DataView]":return o(n,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return r(n,e);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(n);case"[object RegExp]":return l(n);case"[object Set]":return new a;case"[object Symbol]":return i(n)}}},function(n,A,e){var t=e(69);n.exports=function(n,A){var e=A?t(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}},function(n,A){var e=/\w*$/;n.exports=function(n){var A=new n.constructor(n.source,e.exec(n));return A.lastIndex=n.lastIndex,A}},function(n,A,e){var t=e(25),o=t?t.prototype:void 0,l=o?o.valueOf:void 0;n.exports=function(n){return l?Object(l.call(n)):{}}},function(n,A,e){var t=e(233),o=e(43),l=e(63),i=l&&l.isMap,r=i?o(i):t;n.exports=r},function(n,A,e){var t=e(27),o=e(13);n.exports=function(n){return o(n)&&"[object Map]"==t(n)}},function(n,A,e){var t=e(235),o=e(43),l=e(63),i=l&&l.isSet,r=i?o(i):t;n.exports=r},function(n,A,e){var t=e(27),o=e(13);n.exports=function(n){return o(n)&&"[object Set]"==t(n)}},function(n,A){n.exports=function(n){return function(A,e,t){for(var o=-1,l=Object(A),i=t(A),r=i.length;r--;){var a=i[n?r:++o];if(!1===e(l[a],a,l))break}return A}}},function(n,A,e){var t=e(14);n.exports=function(n,A){return function(e,o){if(null==e)return e;if(!t(e))return n(e,o);for(var l=e.length,i=A?l:-1,r=Object(e);(A?i--:++i<l)&&!1!==o(r[i],i,r););return e}}},function(n,A,e){var t=e(50);n.exports=function(n,A){var e=[];return t(n,(function(n,t,o){A(n,t,o)&&e.push(n)})),e}},function(n,A){var e=Object.prototype.hasOwnProperty;n.exports=function(n,A){return null!=n&&e.call(n,A)}},function(n,A,e){var t=e(64),o=e(27),l=e(30),i=e(4),r=e(14),a=e(26),c=e(44),s=e(31),C=Object.prototype.hasOwnProperty;n.exports=function(n){if(null==n)return!0;if(r(n)&&(i(n)||"string"==typeof n||"function"==typeof n.splice||a(n)||s(n)||l(n)))return!n.length;var A=o(n);if("[object Map]"==A||"[object Set]"==A)return!n.size;if(c(n))return!t(n).length;for(var e in n)if(C.call(n,e))return!1;return!0}},function(n,A){n.exports=function(n,A,e,t){var o=-1,l=null==n?0:n.length;for(t&&l&&(e=n[++o]);++o<l;)e=A(e,n[o],o,n);return e}},function(n,A){n.exports=function(n,A,e,t,o){return o(n,(function(n,o,l){e=t?(t=!1,n):A(e,n,o,l)})),e}},function(n,A,e){var t=e(64),o=e(27),l=e(14),i=e(105),r=e(244);n.exports=function(n){if(null==n)return 0;if(l(n))return i(n)?r(n):n.length;var A=o(n);return"[object Map]"==A||"[object Set]"==A?n.size:t(n).length}},function(n,A,e){var t=e(245),o=e(246),l=e(247);n.exports=function(n){return o(n)?l(n):t(n)}},function(n,A,e){var t=e(98)("length");n.exports=t},function(n,A){var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");n.exports=function(n){return e.test(n)}},function(n,A){var e="[\\ud800-\\udfff]",t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",l="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",r="[\\ud800-\\udbff][\\udc00-\\udfff]",a="(?:"+t+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?"+a+("(?:\\u200d(?:"+[l,i,r].join("|")+")[\\ufe0e\\ufe0f]?"+a+")*"),s="(?:"+[l+t+"?",t,i,r,e].join("|")+")",C=RegExp(o+"(?="+o+")|"+s+c,"g");n.exports=function(n){for(var A=C.lastIndex=0;C.test(n);)++A;return A}},function(n,A,e){var t=e(68),o=e(114),l=e(71),i=e(10),r=e(49),a=e(4),c=e(26),s=e(29),C=e(8),u=e(31);n.exports=function(n,A,e){var m=a(n),d=m||c(n)||u(n);if(A=i(A,4),null==e){var E=n&&n.constructor;e=d?m?new E:[]:C(n)&&s(E)?o(r(n)):{}}return(d?t:l)(n,(function(n,t,o){return A(e,n,t,o)})),e}},function(n,A,e){var t=e(73),o=e(51),l=e(254),i=e(126),r=o((function(n){return l(t(n,1,i,!0))}));n.exports=r},function(n,A,e){var t=e(25),o=e(30),l=e(4),i=t?t.isConcatSpreadable:void 0;n.exports=function(n){return l(n)||o(n)||!!(i&&n&&n[i])}},function(n,A){n.exports=function(n,A,e){switch(e.length){case 0:return n.call(A);case 1:return n.call(A,e[0]);case 2:return n.call(A,e[0],e[1]);case 3:return n.call(A,e[0],e[1],e[2])}return n.apply(A,e)}},function(n,A,e){var t=e(70),o=e(100),l=e(20),i=o?function(n,A){return o(n,"toString",{configurable:!0,enumerable:!1,value:t(A),writable:!0})}:l;n.exports=i},function(n,A){var e=Date.now;n.exports=function(n){var A=0,t=0;return function(){var o=e(),l=16-(o-t);if(t=o,l>0){if(++A>=800)return arguments[0]}else A=0;return n.apply(void 0,arguments)}}},function(n,A,e){var t=e(82),o=e(255),l=e(256),i=e(83),r=e(257),a=e(58);n.exports=function(n,A,e){var c=-1,s=o,C=n.length,u=!0,m=[],d=m;if(e)u=!1,s=l;else if(C>=200){var E=A?null:r(n);if(E)return a(E);u=!1,s=i,d=new t}else d=A?[]:m;n:for(;++c<C;){var p=n[c],f=A?A(p):p;if(p=e||0!==p?p:0,u&&f==f){for(var g=d.length;g--;)if(d[g]===f)continue n;A&&d.push(f),m.push(p)}else s(d,f,e)||(d!==m&&d.push(f),m.push(p))}return m}},function(n,A,e){var t=e(103);n.exports=function(n,A){return!!(null==n?0:n.length)&&t(n,A,0)>-1}},function(n,A){n.exports=function(n,A,e){for(var t=-1,o=null==n?0:n.length;++t<o;)if(e(A,n[t]))return!0;return!1}},function(n,A,e){var t=e(91),o=e(258),l=e(58),i=t&&1/l(new t([,-0]))[1]==1/0?function(n){return new t(n)}:o;n.exports=i},function(n,A){n.exports=function(){}},function(n,A){n.exports="2.1.8"},function(n,A,e){var t=e(9),o=e(67);function l(n){return t.map(n.nodes(),(function(A){var e=n.node(A),o=n.parent(A),l={v:A};return t.isUndefined(e)||(l.value=e),t.isUndefined(o)||(l.parent=o),l}))}function i(n){return t.map(n.edges(),(function(A){var e=n.edge(A),o={v:A.v,w:A.w};return t.isUndefined(A.name)||(o.name=A.name),t.isUndefined(e)||(o.value=e),o}))}n.exports={write:function(n){var A={options:{directed:n.isDirected(),multigraph:n.isMultigraph(),compound:n.isCompound()},nodes:l(n),edges:i(n)};t.isUndefined(n.graph())||(A.value=t.clone(n.graph()));return A},read:function(n){var A=new o(n.options).setGraph(n.value);return t.each(n.nodes,(function(n){A.setNode(n.v,n.value),n.parent&&A.setParent(n.v,n.parent)})),t.each(n.edges,(function(n){A.setEdge({v:n.v,w:n.w,name:n.name},n.value)})),A}}},function(n,A,e){n.exports={components:e(262),dijkstra:e(127),dijkstraAll:e(263),findCycles:e(264),floydWarshall:e(265),isAcyclic:e(266),postorder:e(267),preorder:e(268),prim:e(269),tarjan:e(129),topsort:e(130)}},function(n,A,e){var t=e(9);n.exports=function(n){var A,e={},o=[];function l(o){t.has(e,o)||(e[o]=!0,A.push(o),t.each(n.successors(o),l),t.each(n.predecessors(o),l))}return t.each(n.nodes(),(function(n){A=[],l(n),A.length&&o.push(A)})),o}},function(n,A,e){var t=e(127),o=e(9);n.exports=function(n,A,e){return o.transform(n.nodes(),(function(o,l){o[l]=t(n,l,A,e)}),{})}},function(n,A,e){var t=e(9),o=e(129);n.exports=function(n){return t.filter(o(n),(function(A){return A.length>1||1===A.length&&n.hasEdge(A[0],A[0])}))}},function(n,A,e){var t=e(9);n.exports=function(n,A,e){return function(n,A,e){var t={},o=n.nodes();return o.forEach((function(n){t[n]={},t[n][n]={distance:0},o.forEach((function(A){n!==A&&(t[n][A]={distance:Number.POSITIVE_INFINITY})})),e(n).forEach((function(e){var o=e.v===n?e.w:e.v,l=A(e);t[n][o]={distance:l,predecessor:n}}))})),o.forEach((function(n){var A=t[n];o.forEach((function(e){var l=t[e];o.forEach((function(e){var t=l[n],o=A[e],i=l[e],r=t.distance+o.distance;r<i.distance&&(i.distance=r,i.predecessor=o.predecessor)}))}))})),t}(n,A||o,e||function(A){return n.outEdges(A)})};var o=t.constant(1)},function(n,A,e){var t=e(130);n.exports=function(n){try{t(n)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}},function(n,A,e){var t=e(131);n.exports=function(n,A){return t(n,A,"post")}},function(n,A,e){var t=e(131);n.exports=function(n,A){return t(n,A,"pre")}},function(n,A,e){var t=e(9),o=e(67),l=e(128);n.exports=function(n,A){var e,i=new o,r={},a=new l;function c(n){var t=n.v===e?n.w:n.v,o=a.priority(t);if(void 0!==o){var l=A(n);l<o&&(r[t]=e,a.decrease(t,l))}}if(0===n.nodeCount())return i;t.each(n.nodes(),(function(n){a.add(n,Number.POSITIVE_INFINITY),i.setNode(n)})),a.decrease(n.nodes()[0],0);var s=!1;for(;a.size()>0;){if(e=a.removeMin(),t.has(r,e))i.setEdge(e,r[e]);else{if(s)throw new Error("Input graph is not connected: "+n);s=!0}n.nodeEdges(e).forEach(c)}return i}},function(n,A,e){"use strict";var t=e(1),o=e(304),l=e(307),i=e(308),r=e(6).normalizeRanks,a=e(310),c=e(6).removeEmptyRanks,s=e(311),C=e(312),u=e(313),m=e(314),d=e(323),E=e(6),p=e(12).Graph;n.exports=function(n,A){var e=A&&A.debugTiming?E.time:E.notime;e("layout",(function(){var A=e("  buildLayoutGraph",(function(){return function(n){var A=new p({multigraph:!0,compound:!0}),e=O(n.graph());return A.setGraph(t.merge({},g,b(e,f),t.pick(e,h))),t.forEach(n.nodes(),(function(e){var o=O(n.node(e));A.setNode(e,t.defaults(b(o,I),y)),A.setParent(e,n.parent(e))})),t.forEach(n.edges(),(function(e){var o=O(n.edge(e));A.setEdge(e,t.merge({},M,b(o,B),t.pick(o,v)))})),A}(n)}));e("  runLayout",(function(){!function(n,A){A("    makeSpaceForEdgeLabels",(function(){!function(n){var A=n.graph();A.ranksep/=2,t.forEach(n.edges(),(function(e){var t=n.edge(e);t.minlen*=2,"c"!==t.labelpos.toLowerCase()&&("TB"===A.rankdir||"BT"===A.rankdir?t.width+=t.labeloffset:t.height+=t.labeloffset)}))}(n)})),A("    removeSelfEdges",(function(){!function(n){t.forEach(n.edges(),(function(A){if(A.v===A.w){var e=n.node(A.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:A,label:n.edge(A)}),n.removeEdge(A)}}))}(n)})),A("    acyclic",(function(){o.run(n)})),A("    nestingGraph.run",(function(){s.run(n)})),A("    rank",(function(){i(E.asNonCompoundGraph(n))})),A("    injectEdgeLabelProxies",(function(){!function(n){t.forEach(n.edges(),(function(A){var e=n.edge(A);if(e.width&&e.height){var t=n.node(A.v),o={rank:(n.node(A.w).rank-t.rank)/2+t.rank,e:A};E.addDummyNode(n,"edge-proxy",o,"_ep")}}))}(n)})),A("    removeEmptyRanks",(function(){c(n)})),A("    nestingGraph.cleanup",(function(){s.cleanup(n)})),A("    normalizeRanks",(function(){r(n)})),A("    assignRankMinMax",(function(){!function(n){var A=0;t.forEach(n.nodes(),(function(e){var o=n.node(e);o.borderTop&&(o.minRank=n.node(o.borderTop).rank,o.maxRank=n.node(o.borderBottom).rank,A=t.max(A,o.maxRank))})),n.graph().maxRank=A}(n)})),A("    removeEdgeLabelProxies",(function(){!function(n){t.forEach(n.nodes(),(function(A){var e=n.node(A);"edge-proxy"===e.dummy&&(n.edge(e.e).labelRank=e.rank,n.removeNode(A))}))}(n)})),A("    normalize.run",(function(){l.run(n)})),A("    parentDummyChains",(function(){a(n)})),A("    addBorderSegments",(function(){C(n)})),A("    order",(function(){m(n)})),A("    insertSelfEdges",(function(){!function(n){var A=E.buildLayerMatrix(n);t.forEach(A,(function(A){var e=0;t.forEach(A,(function(A,o){var l=n.node(A);l.order=o+e,t.forEach(l.selfEdges,(function(A){E.addDummyNode(n,"selfedge",{width:A.label.width,height:A.label.height,rank:l.rank,order:o+ ++e,e:A.e,label:A.label},"_se")})),delete l.selfEdges}))}))}(n)})),A("    adjustCoordinateSystem",(function(){u.adjust(n)})),A("    position",(function(){d(n)})),A("    positionSelfEdges",(function(){!function(n){t.forEach(n.nodes(),(function(A){var e=n.node(A);if("selfedge"===e.dummy){var t=n.node(e.e.v),o=t.x+t.width/2,l=t.y,i=e.x-o,r=t.height/2;n.setEdge(e.e,e.label),n.removeNode(A),e.label.points=[{x:o+2*i/3,y:l-r},{x:o+5*i/6,y:l-r},{x:o+i,y:l},{x:o+5*i/6,y:l+r},{x:o+2*i/3,y:l+r}],e.label.x=e.x,e.label.y=e.y}}))}(n)})),A("    removeBorderNodes",(function(){!function(n){t.forEach(n.nodes(),(function(A){if(n.children(A).length){var e=n.node(A),o=n.node(e.borderTop),l=n.node(e.borderBottom),i=n.node(t.last(e.borderLeft)),r=n.node(t.last(e.borderRight));e.width=Math.abs(r.x-i.x),e.height=Math.abs(l.y-o.y),e.x=i.x+e.width/2,e.y=o.y+e.height/2}})),t.forEach(n.nodes(),(function(A){"border"===n.node(A).dummy&&n.removeNode(A)}))}(n)})),A("    normalize.undo",(function(){l.undo(n)})),A("    fixupEdgeLabelCoords",(function(){!function(n){t.forEach(n.edges(),(function(A){var e=n.edge(A);if(t.has(e,"x"))switch("l"!==e.labelpos&&"r"!==e.labelpos||(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset}}))}(n)})),A("    undoCoordinateSystem",(function(){u.undo(n)})),A("    translateGraph",(function(){!function(n){var A=Number.POSITIVE_INFINITY,e=0,o=Number.POSITIVE_INFINITY,l=0,i=n.graph(),r=i.marginx||0,a=i.marginy||0;function c(n){var t=n.x,i=n.y,r=n.width,a=n.height;A=Math.min(A,t-r/2),e=Math.max(e,t+r/2),o=Math.min(o,i-a/2),l=Math.max(l,i+a/2)}t.forEach(n.nodes(),(function(A){c(n.node(A))})),t.forEach(n.edges(),(function(A){var e=n.edge(A);t.has(e,"x")&&c(e)})),A-=r,o-=a,t.forEach(n.nodes(),(function(e){var t=n.node(e);t.x-=A,t.y-=o})),t.forEach(n.edges(),(function(e){var l=n.edge(e);t.forEach(l.points,(function(n){n.x-=A,n.y-=o})),t.has(l,"x")&&(l.x-=A),t.has(l,"y")&&(l.y-=o)})),i.width=e-A+r,i.height=l-o+a}(n)})),A("    assignNodeIntersects",(function(){!function(n){t.forEach(n.edges(),(function(A){var e,t,o=n.edge(A),l=n.node(A.v),i=n.node(A.w);o.points?(e=o.points[0],t=o.points[o.points.length-1]):(o.points=[],e=i,t=l),o.points.unshift(E.intersectRect(l,e)),o.points.push(E.intersectRect(i,t))}))}(n)})),A("    reversePoints",(function(){!function(n){t.forEach(n.edges(),(function(A){var e=n.edge(A);e.reversed&&e.points.reverse()}))}(n)})),A("    acyclic.undo",(function(){o.undo(n)}))}(A,e)})),e("  updateInputGraph",(function(){!function(n,A){t.forEach(n.nodes(),(function(e){var t=n.node(e),o=A.node(e);t&&(t.x=o.x,t.y=o.y,A.children(e).length&&(t.width=o.width,t.height=o.height))})),t.forEach(n.edges(),(function(e){var o=n.edge(e),l=A.edge(e);o.points=l.points,t.has(l,"x")&&(o.x=l.x,o.y=l.y)})),n.graph().width=A.graph().width,n.graph().height=A.graph().height}(n,A)}))}))};var f=["nodesep","edgesep","ranksep","marginx","marginy"],g={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},h=["acyclicer","ranker","rankdir","align"],I=["width","height"],y={width:0,height:0},B=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},v=["labelpos"];function b(n,A){return t.mapValues(t.pick(n,A),Number)}function O(n){var A={};return t.forEach(n,(function(n,e){A[e.toLowerCase()]=n})),A}},function(n,A,e){var t=e(109);n.exports=function(n){return t(n,5)}},function(n,A,e){var t=e(51),o=e(24),l=e(52),i=e(21),r=Object.prototype,a=r.hasOwnProperty,c=t((function(n,A){n=Object(n);var e=-1,t=A.length,c=t>2?A[2]:void 0;for(c&&l(A[0],A[1],c)&&(t=1);++e<t;)for(var s=A[e],C=i(s),u=-1,m=C.length;++u<m;){var d=C[u],E=n[d];(void 0===E||o(E,r[d])&&!a.call(n,d))&&(n[d]=s[d])}return n}));n.exports=c},function(n,A,e){var t=e(274)(e(275));n.exports=t},function(n,A,e){var t=e(10),o=e(14),l=e(17);n.exports=function(n){return function(A,e,i){var r=Object(A);if(!o(A)){var a=t(e,3);A=l(A),e=function(n){return a(r[n],n,r)}}var c=n(A,e,i);return c>-1?r[a?A[c]:c]:void 0}}},function(n,A,e){var t=e(104),o=e(10),l=e(106),i=Math.max;n.exports=function(n,A,e){var r=null==n?0:n.length;if(!r)return-1;var a=null==e?0:l(e);return a<0&&(a=i(r+a,0)),t(n,o(A,3),a)}},function(n,A,e){var t=e(72),o=e(117),l=e(21);n.exports=function(n,A){return null==n?n:t(n,o(A),l)}},function(n,A){n.exports=function(n){var A=null==n?0:n.length;return A?n[A-1]:void 0}},function(n,A,e){var t=e(48),o=e(71),l=e(10);n.exports=function(n,A){var e={};return A=l(A,3),o(n,(function(n,o,l){t(e,o,A(n,o,l))})),e}},function(n,A,e){var t=e(74),o=e(280),l=e(20);n.exports=function(n){return n&&n.length?t(n,l,o):void 0}},function(n,A){n.exports=function(n,A){return n>A}},function(n,A,e){var t=e(282),o=e(286)((function(n,A,e){t(n,A,e)}));n.exports=o},function(n,A,e){var t=e(37),o=e(133),l=e(72),i=e(283),r=e(8),a=e(21),c=e(134);n.exports=function n(A,e,s,C,u){A!==e&&l(e,(function(l,a){if(u||(u=new t),r(l))i(A,e,a,s,n,C,u);else{var m=C?C(c(A,a),l,a+"",A,e,u):void 0;void 0===m&&(m=l),o(A,a,m)}}),a)}},function(n,A,e){var t=e(133),o=e(110),l=e(112),i=e(111),r=e(113),a=e(30),c=e(4),s=e(126),C=e(26),u=e(29),m=e(8),d=e(284),E=e(31),p=e(134),f=e(285);n.exports=function(n,A,e,g,h,I,y){var B=p(n,e),M=p(A,e),v=y.get(M);if(v)t(n,e,v);else{var b=I?I(B,M,e+"",n,A,y):void 0,O=void 0===b;if(O){var G=c(M),D=!G&&C(M),k=!G&&!D&&E(M);b=M,G||D||k?c(B)?b=B:s(B)?b=i(B):D?(O=!1,b=o(M,!0)):k?(O=!1,b=l(M,!0)):b=[]:d(M)||a(M)?(b=B,a(B)?b=f(B):m(B)&&!u(B)||(b=r(M))):O=!1}O&&(y.set(M,b),h(b,M,g,I,y),y.delete(M)),t(n,e,b)}}},function(n,A,e){var t=e(19),o=e(49),l=e(13),i=Function.prototype,r=Object.prototype,a=i.toString,c=r.hasOwnProperty,s=a.call(Object);n.exports=function(n){if(!l(n)||"[object Object]"!=t(n))return!1;var A=o(n);if(null===A)return!0;var e=c.call(A,"constructor")&&A.constructor;return"function"==typeof e&&e instanceof e&&a.call(e)==s}},function(n,A,e){var t=e(34),o=e(21);n.exports=function(n){return t(n,o(n))}},function(n,A,e){var t=e(51),o=e(52);n.exports=function(n){return t((function(A,e){var t=-1,l=e.length,i=l>1?e[l-1]:void 0,r=l>2?e[2]:void 0;for(i=n.length>3&&"function"==typeof i?(l--,i):void 0,r&&o(e[0],e[1],r)&&(i=l<3?void 0:i,l=1),A=Object(A);++t<l;){var a=e[t];a&&n(A,a,t,i)}return A}))}},function(n,A,e){var t=e(74),o=e(135),l=e(20);n.exports=function(n){return n&&n.length?t(n,l,o):void 0}},function(n,A,e){var t=e(74),o=e(10),l=e(135);n.exports=function(n,A){return n&&n.length?t(n,o(A,2),l):void 0}},function(n,A,e){var t=e(11);n.exports=function(){return t.Date.now()}},function(n,A,e){var t=e(291),o=e(292)((function(n,A){return null==n?{}:t(n,A)}));n.exports=o},function(n,A,e){var t=e(99),o=e(96);n.exports=function(n,A){return t(n,A,(function(A,e){return o(n,e)}))}},function(n,A,e){var t=e(132),o=e(124),l=e(125);n.exports=function(n){return l(o(n,void 0,t),n+"")}},function(n,A,e){var t=e(294)();n.exports=t},function(n,A,e){var t=e(295),o=e(52),l=e(107);n.exports=function(n){return function(A,e,i){return i&&"number"!=typeof i&&o(A,e,i)&&(e=i=void 0),A=l(A),void 0===e?(e=A,A=0):e=l(e),i=void 0===i?A<e?1:-1:l(i),t(A,e,i,n)}}},function(n,A){var e=Math.ceil,t=Math.max;n.exports=function(n,A,o,l){for(var i=-1,r=t(e((A-n)/(o||1)),0),a=Array(r);r--;)a[l?r:++i]=n,n+=o;return a}},function(n,A,e){var t=e(73),o=e(297),l=e(51),i=e(52),r=l((function(n,A){if(null==n)return[];var e=A.length;return e>1&&i(n,A[0],A[1])?A=[]:e>2&&i(A[0],A[1],A[2])&&(A=[A[0]]),o(n,t(A,1),[])}));n.exports=r},function(n,A,e){var t=e(32),o=e(45),l=e(10),i=e(122),r=e(298),a=e(43),c=e(299),s=e(20),C=e(4);n.exports=function(n,A,e){A=A.length?t(A,(function(n){return C(n)?function(A){return o(A,1===n.length?n[0]:n)}:n})):[s];var u=-1;A=t(A,a(l));var m=i(n,(function(n,e,o){return{criteria:t(A,(function(A){return A(n)})),index:++u,value:n}}));return r(m,(function(n,A){return c(n,A,e)}))}},function(n,A){n.exports=function(n,A){var e=n.length;for(n.sort(A);e--;)n[e]=n[e].value;return n}},function(n,A,e){var t=e(300);n.exports=function(n,A,e){for(var o=-1,l=n.criteria,i=A.criteria,r=l.length,a=e.length;++o<r;){var c=t(l[o],i[o]);if(c)return o>=a?c:c*("desc"==e[o]?-1:1)}return n.index-A.index}},function(n,A,e){var t=e(28);n.exports=function(n,A){if(n!==A){var e=void 0!==n,o=null===n,l=n==n,i=t(n),r=void 0!==A,a=null===A,c=A==A,s=t(A);if(!a&&!s&&!i&&n>A||i&&r&&c&&!a&&!s||o&&r&&c||!e&&c||!l)return 1;if(!o&&!i&&!s&&n<A||s&&e&&l&&!o&&!i||a&&e&&l||!r&&l||!c)return-1}return 0}},function(n,A,e){var t=e(95),o=0;n.exports=function(n){var A=++o;return t(n)+A}},function(n,A,e){var t=e(47),o=e(303);n.exports=function(n,A){return o(n||[],A||[],t)}},function(n,A){n.exports=function(n,A,e){for(var t=-1,o=n.length,l=A.length,i={};++t<o;){var r=t<l?A[t]:void 0;e(i,n[t],r)}return i}},function(n,A,e){"use strict";var t=e(1),o=e(305);n.exports={run:function(n){var A="greedy"===n.graph().acyclicer?o(n,function(n){return function(A){return n.edge(A).weight}}(n)):function(n){var A=[],e={},o={};function l(i){t.has(o,i)||(o[i]=!0,e[i]=!0,t.forEach(n.outEdges(i),(function(n){t.has(e,n.w)?A.push(n):l(n.w)})),delete e[i])}return t.forEach(n.nodes(),l),A}(n);t.forEach(A,(function(A){var e=n.edge(A);n.removeEdge(A),e.forwardName=A.name,e.reversed=!0,n.setEdge(A.w,A.v,e,t.uniqueId("rev"))}))},undo:function(n){t.forEach(n.edges(),(function(A){var e=n.edge(A);if(e.reversed){n.removeEdge(A);var t=e.forwardName;delete e.reversed,delete e.forwardName,n.setEdge(A.w,A.v,e,t)}}))}}},function(n,A,e){var t=e(1),o=e(12).Graph,l=e(306);n.exports=function(n,A){if(n.nodeCount()<=1)return[];var e=function(n,A){var e=new o,i=0,r=0;t.forEach(n.nodes(),(function(n){e.setNode(n,{v:n,in:0,out:0})})),t.forEach(n.edges(),(function(n){var t=e.edge(n.v,n.w)||0,o=A(n),l=t+o;e.setEdge(n.v,n.w,l),r=Math.max(r,e.node(n.v).out+=o),i=Math.max(i,e.node(n.w).in+=o)}));var c=t.range(r+i+3).map((function(){return new l})),s=i+1;return t.forEach(e.nodes(),(function(n){a(c,s,e.node(n))})),{graph:e,buckets:c,zeroIdx:s}}(n,A||i),c=function(n,A,e){var t,o=[],l=A[A.length-1],i=A[0];for(;n.nodeCount();){for(;t=i.dequeue();)r(n,A,e,t);for(;t=l.dequeue();)r(n,A,e,t);if(n.nodeCount())for(var a=A.length-2;a>0;--a)if(t=A[a].dequeue()){o=o.concat(r(n,A,e,t,!0));break}}return o}(e.graph,e.buckets,e.zeroIdx);return t.flatten(t.map(c,(function(A){return n.outEdges(A.v,A.w)})),!0)};var i=t.constant(1);function r(n,A,e,o,l){var i=l?[]:void 0;return t.forEach(n.inEdges(o.v),(function(t){var o=n.edge(t),r=n.node(t.v);l&&i.push({v:t.v,w:t.w}),r.out-=o,a(A,e,r)})),t.forEach(n.outEdges(o.v),(function(t){var o=n.edge(t),l=t.w,i=n.node(l);i.in-=o,a(A,e,i)})),n.removeNode(o.v),i}function a(n,A,e){e.out?e.in?n[e.out-e.in+A].enqueue(e):n[n.length-1].enqueue(e):n[0].enqueue(e)}},function(n,A){function e(){var n={};n._next=n._prev=n,this._sentinel=n}function t(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function o(n,A){if("_next"!==n&&"_prev"!==n)return A}n.exports=e,e.prototype.dequeue=function(){var n=this._sentinel,A=n._prev;if(A!==n)return t(A),A},e.prototype.enqueue=function(n){var A=this._sentinel;n._prev&&n._next&&t(n),n._next=A._next,A._next._prev=n,A._next=n,n._prev=A},e.prototype.toString=function(){for(var n=[],A=this._sentinel,e=A._prev;e!==A;)n.push(JSON.stringify(e,o)),e=e._prev;return"["+n.join(", ")+"]"}},function(n,A,e){"use strict";var t=e(1),o=e(6);n.exports={run:function(n){n.graph().dummyChains=[],t.forEach(n.edges(),(function(A){!function(n,A){var e,t,l,i=A.v,r=n.node(i).rank,a=A.w,c=n.node(a).rank,s=A.name,C=n.edge(A),u=C.labelRank;if(c===r+1)return;for(n.removeEdge(A),l=0,++r;r<c;++l,++r)C.points=[],t={width:0,height:0,edgeLabel:C,edgeObj:A,rank:r},e=o.addDummyNode(n,"edge",t,"_d"),r===u&&(t.width=C.width,t.height=C.height,t.dummy="edge-label",t.labelpos=C.labelpos),n.setEdge(i,e,{weight:C.weight},s),0===l&&n.graph().dummyChains.push(e),i=e;n.setEdge(i,a,{weight:C.weight},s)}(n,A)}))},undo:function(n){t.forEach(n.graph().dummyChains,(function(A){var e,t=n.node(A),o=t.edgeLabel;for(n.setEdge(t.edgeObj,o);t.dummy;)e=n.successors(A)[0],n.removeNode(A),o.points.push({x:t.x,y:t.y}),"edge-label"===t.dummy&&(o.x=t.x,o.y=t.y,o.width=t.width,o.height=t.height),A=e,t=n.node(A)}))}}},function(n,A,e){"use strict";var t=e(53).longestPath,o=e(136),l=e(309);n.exports=function(n){switch(n.graph().ranker){case"network-simplex":r(n);break;case"tight-tree":!function(n){t(n),o(n)}(n);break;case"longest-path":i(n);break;default:r(n)}};var i=t;function r(n){l(n)}},function(n,A,e){"use strict";var t=e(1),o=e(136),l=e(53).slack,i=e(53).longestPath,r=e(12).alg.preorder,a=e(12).alg.postorder,c=e(6).simplify;function s(n){n=c(n),i(n);var A,e=o(n);for(m(e),C(e,n);A=E(e);)f(e,n,A,p(e,n,A))}function C(n,A){var e=a(n,n.nodes());e=e.slice(0,e.length-1),t.forEach(e,(function(e){!function(n,A,e){var t=n.node(e).parent;n.edge(e,t).cutvalue=u(n,A,e)}(n,A,e)}))}function u(n,A,e){var o=n.node(e).parent,l=!0,i=A.edge(e,o),r=0;return i||(l=!1,i=A.edge(o,e)),r=i.weight,t.forEach(A.nodeEdges(e),(function(t){var i,a,c=t.v===e,s=c?t.w:t.v;if(s!==o){var C=c===l,u=A.edge(t).weight;if(r+=C?u:-u,i=e,a=s,n.hasEdge(i,a)){var m=n.edge(e,s).cutvalue;r+=C?-m:m}}})),r}function m(n,A){arguments.length<2&&(A=n.nodes()[0]),d(n,{},1,A)}function d(n,A,e,o,l){var i=e,r=n.node(o);return A[o]=!0,t.forEach(n.neighbors(o),(function(l){t.has(A,l)||(e=d(n,A,e,l,o))})),r.low=i,r.lim=e++,l?r.parent=l:delete r.parent,e}function E(n){return t.find(n.edges(),(function(A){return n.edge(A).cutvalue<0}))}function p(n,A,e){var o=e.v,i=e.w;A.hasEdge(o,i)||(o=e.w,i=e.v);var r=n.node(o),a=n.node(i),c=r,s=!1;r.lim>a.lim&&(c=a,s=!0);var C=t.filter(A.edges(),(function(A){return s===g(n,n.node(A.v),c)&&s!==g(n,n.node(A.w),c)}));return t.minBy(C,(function(n){return l(A,n)}))}function f(n,A,e,o){var l=e.v,i=e.w;n.removeEdge(l,i),n.setEdge(o.v,o.w,{}),m(n),C(n,A),function(n,A){var e=t.find(n.nodes(),(function(n){return!A.node(n).parent})),o=r(n,e);o=o.slice(1),t.forEach(o,(function(e){var t=n.node(e).parent,o=A.edge(e,t),l=!1;o||(o=A.edge(t,e),l=!0),A.node(e).rank=A.node(t).rank+(l?o.minlen:-o.minlen)}))}(n,A)}function g(n,A,e){return e.low<=A.lim&&A.lim<=e.lim}n.exports=s,s.initLowLimValues=m,s.initCutValues=C,s.calcCutValue=u,s.leaveEdge=E,s.enterEdge=p,s.exchangeEdges=f},function(n,A,e){var t=e(1);n.exports=function(n){var A=function(n){var A={},e=0;function o(l){var i=e;t.forEach(n.children(l),o),A[l]={low:i,lim:e++}}return t.forEach(n.children(),o),A}(n);t.forEach(n.graph().dummyChains,(function(e){for(var t=n.node(e),o=t.edgeObj,l=function(n,A,e,t){var o,l,i=[],r=[],a=Math.min(A[e].low,A[t].low),c=Math.max(A[e].lim,A[t].lim);o=e;do{o=n.parent(o),i.push(o)}while(o&&(A[o].low>a||c>A[o].lim));l=o,o=t;for(;(o=n.parent(o))!==l;)r.push(o);return{path:i.concat(r.reverse()),lca:l}}(n,A,o.v,o.w),i=l.path,r=l.lca,a=0,c=i[a],s=!0;e!==o.w;){if(t=n.node(e),s){for(;(c=i[a])!==r&&n.node(c).maxRank<t.rank;)a++;c===r&&(s=!1)}if(!s){for(;a<i.length-1&&n.node(c=i[a+1]).minRank<=t.rank;)a++;c=i[a]}n.setParent(e,c),e=n.successors(e)[0]}}))}},function(n,A,e){var t=e(1),o=e(6);n.exports={run:function(n){var A=o.addDummyNode(n,"root",{},"_root"),e=function(n){var A={};return t.forEach(n.children(),(function(e){!function e(o,l){var i=n.children(o);i&&i.length&&t.forEach(i,(function(n){e(n,l+1)}));A[o]=l}(e,1)})),A}(n),l=t.max(t.values(e))-1,i=2*l+1;n.graph().nestingRoot=A,t.forEach(n.edges(),(function(A){n.edge(A).minlen*=i}));var r=function(n){return t.reduce(n.edges(),(function(A,e){return A+n.edge(e).weight}),0)}(n)+1;t.forEach(n.children(),(function(a){!function n(A,e,l,i,r,a,c){var s=A.children(c);if(!s.length)return void(c!==e&&A.setEdge(e,c,{weight:0,minlen:l}));var C=o.addBorderNode(A,"_bt"),u=o.addBorderNode(A,"_bb"),m=A.node(c);A.setParent(C,c),m.borderTop=C,A.setParent(u,c),m.borderBottom=u,t.forEach(s,(function(t){n(A,e,l,i,r,a,t);var o=A.node(t),s=o.borderTop?o.borderTop:t,m=o.borderBottom?o.borderBottom:t,d=o.borderTop?i:2*i,E=s!==m?1:r-a[c]+1;A.setEdge(C,s,{weight:d,minlen:E,nestingEdge:!0}),A.setEdge(m,u,{weight:d,minlen:E,nestingEdge:!0})})),A.parent(c)||A.setEdge(e,C,{weight:0,minlen:r+a[c]})}(n,A,i,r,l,e,a)})),n.graph().nodeRankFactor=i},cleanup:function(n){var A=n.graph();n.removeNode(A.nestingRoot),delete A.nestingRoot,t.forEach(n.edges(),(function(A){n.edge(A).nestingEdge&&n.removeEdge(A)}))}}},function(n,A,e){var t=e(1),o=e(6);function l(n,A,e,t,l,i){var r={width:0,height:0,rank:i,borderType:A},a=l[A][i-1],c=o.addDummyNode(n,"border",r,e);l[A][i]=c,n.setParent(c,t),a&&n.setEdge(a,c,{weight:1})}n.exports=function(n){t.forEach(n.children(),(function A(e){var o=n.children(e),i=n.node(e);if(o.length&&t.forEach(o,A),t.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var r=i.minRank,a=i.maxRank+1;r<a;++r)l(n,"borderLeft","_bl",e,i,r),l(n,"borderRight","_br",e,i,r)}}))}},function(n,A,e){"use strict";var t=e(1);function o(n){t.forEach(n.nodes(),(function(A){l(n.node(A))})),t.forEach(n.edges(),(function(A){l(n.edge(A))}))}function l(n){var A=n.width;n.width=n.height,n.height=A}function i(n){n.y=-n.y}function r(n){var A=n.x;n.x=n.y,n.y=A}n.exports={adjust:function(n){var A=n.graph().rankdir.toLowerCase();"lr"!==A&&"rl"!==A||o(n)},undo:function(n){var A=n.graph().rankdir.toLowerCase();"bt"!==A&&"rl"!==A||function(n){t.forEach(n.nodes(),(function(A){i(n.node(A))})),t.forEach(n.edges(),(function(A){var e=n.edge(A);t.forEach(e.points,i),t.has(e,"y")&&i(e)}))}(n);"lr"!==A&&"rl"!==A||(!function(n){t.forEach(n.nodes(),(function(A){r(n.node(A))})),t.forEach(n.edges(),(function(A){var e=n.edge(A);t.forEach(e.points,r),t.has(e,"x")&&r(e)}))}(n),o(n))}}},function(n,A,e){"use strict";var t=e(1),o=e(315),l=e(316),i=e(317),r=e(321),a=e(322),c=e(12).Graph,s=e(6);function C(n,A,e){return t.map(A,(function(A){return r(n,A,e)}))}function u(n,A){var e=new c;t.forEach(n,(function(n){var o=n.graph().root,l=i(n,o,e,A);t.forEach(l.vs,(function(A,e){n.node(A).order=e})),a(n,e,l.vs)}))}function m(n,A){t.forEach(A,(function(A){t.forEach(A,(function(A,e){n.node(A).order=e}))}))}n.exports=function(n){var A=s.maxRank(n),e=C(n,t.range(1,A+1),"inEdges"),i=C(n,t.range(A-1,-1,-1),"outEdges"),r=o(n);m(n,r);for(var a,c=Number.POSITIVE_INFINITY,d=0,E=0;E<4;++d,++E){u(d%2?e:i,d%4>=2),r=s.buildLayerMatrix(n);var p=l(n,r);p<c&&(E=0,a=t.cloneDeep(r),c=p)}m(n,a)}},function(n,A,e){"use strict";var t=e(1);n.exports=function(n){var A={},e=t.filter(n.nodes(),(function(A){return!n.children(A).length})),o=t.max(t.map(e,(function(A){return n.node(A).rank}))),l=t.map(t.range(o+1),(function(){return[]}));var i=t.sortBy(e,(function(A){return n.node(A).rank}));return t.forEach(i,(function e(o){if(t.has(A,o))return;A[o]=!0;var i=n.node(o);l[i.rank].push(o),t.forEach(n.successors(o),e)})),l}},function(n,A,e){"use strict";var t=e(1);function o(n,A,e){for(var o=t.zipObject(e,t.map(e,(function(n,A){return A}))),l=t.flatten(t.map(A,(function(A){return t.sortBy(t.map(n.outEdges(A),(function(A){return{pos:o[A.w],weight:n.edge(A).weight}})),"pos")})),!0),i=1;i<e.length;)i<<=1;var r=2*i-1;i-=1;var a=t.map(new Array(r),(function(){return 0})),c=0;return t.forEach(l.forEach((function(n){var A=n.pos+i;a[A]+=n.weight;for(var e=0;A>0;)A%2&&(e+=a[A+1]),a[A=A-1>>1]+=n.weight;c+=n.weight*e}))),c}n.exports=function(n,A){for(var e=0,t=1;t<A.length;++t)e+=o(n,A[t-1],A[t]);return e}},function(n,A,e){var t=e(1),o=e(318),l=e(319),i=e(320);n.exports=function n(A,e,r,a){var c=A.children(e),s=A.node(e),C=s?s.borderLeft:void 0,u=s?s.borderRight:void 0,m={};C&&(c=t.filter(c,(function(n){return n!==C&&n!==u})));var d=o(A,c);t.forEach(d,(function(e){if(A.children(e.v).length){var o=n(A,e.v,r,a);m[e.v]=o,t.has(o,"barycenter")&&(l=e,i=o,t.isUndefined(l.barycenter)?(l.barycenter=i.barycenter,l.weight=i.weight):(l.barycenter=(l.barycenter*l.weight+i.barycenter*i.weight)/(l.weight+i.weight),l.weight+=i.weight))}var l,i}));var E=l(d,r);!function(n,A){t.forEach(n,(function(n){n.vs=t.flatten(n.vs.map((function(n){return A[n]?A[n].vs:n})),!0)}))}(E,m);var p=i(E,a);if(C&&(p.vs=t.flatten([C,p.vs,u],!0),A.predecessors(C).length)){var f=A.node(A.predecessors(C)[0]),g=A.node(A.predecessors(u)[0]);t.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+f.order+g.order)/(p.weight+2),p.weight+=2}return p}},function(n,A,e){var t=e(1);n.exports=function(n,A){return t.map(A,(function(A){var e=n.inEdges(A);if(e.length){var o=t.reduce(e,(function(A,e){var t=n.edge(e),o=n.node(e.v);return{sum:A.sum+t.weight*o.order,weight:A.weight+t.weight}}),{sum:0,weight:0});return{v:A,barycenter:o.sum/o.weight,weight:o.weight}}return{v:A}}))}},function(n,A,e){"use strict";var t=e(1);n.exports=function(n,A){var e={};return t.forEach(n,(function(n,A){var o=e[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:A};t.isUndefined(n.barycenter)||(o.barycenter=n.barycenter,o.weight=n.weight)})),t.forEach(A.edges(),(function(n){var A=e[n.v],o=e[n.w];t.isUndefined(A)||t.isUndefined(o)||(o.indegree++,A.out.push(e[n.w]))})),function(n){var A=[];function e(n){return function(A){A.merged||(t.isUndefined(A.barycenter)||t.isUndefined(n.barycenter)||A.barycenter>=n.barycenter)&&function(n,A){var e=0,t=0;n.weight&&(e+=n.barycenter*n.weight,t+=n.weight);A.weight&&(e+=A.barycenter*A.weight,t+=A.weight);n.vs=A.vs.concat(n.vs),n.barycenter=e/t,n.weight=t,n.i=Math.min(A.i,n.i),A.merged=!0}(n,A)}}function o(A){return function(e){e.in.push(A),0==--e.indegree&&n.push(e)}}for(;n.length;){var l=n.pop();A.push(l),t.forEach(l.in.reverse(),e(l)),t.forEach(l.out,o(l))}return t.map(t.filter(A,(function(n){return!n.merged})),(function(n){return t.pick(n,["vs","i","barycenter","weight"])}))}(t.filter(e,(function(n){return!n.indegree})))}},function(n,A,e){var t=e(1),o=e(6);function l(n,A,e){for(var o;A.length&&(o=t.last(A)).i<=e;)A.pop(),n.push(o.vs),e++;return e}n.exports=function(n,A){var e=o.partition(n,(function(n){return t.has(n,"barycenter")})),i=e.lhs,r=t.sortBy(e.rhs,(function(n){return-n.i})),a=[],c=0,s=0,C=0;i.sort((u=!!A,function(n,A){return n.barycenter<A.barycenter?-1:n.barycenter>A.barycenter?1:u?A.i-n.i:n.i-A.i})),C=l(a,r,C),t.forEach(i,(function(n){C+=n.vs.length,a.push(n.vs),c+=n.barycenter*n.weight,s+=n.weight,C=l(a,r,C)}));var u;var m={vs:t.flatten(a,!0)};s&&(m.barycenter=c/s,m.weight=s);return m}},function(n,A,e){var t=e(1),o=e(12).Graph;n.exports=function(n,A,e){var l=function(n){var A;for(;n.hasNode(A=t.uniqueId("_root")););return A}(n),i=new o({compound:!0}).setGraph({root:l}).setDefaultNodeLabel((function(A){return n.node(A)}));return t.forEach(n.nodes(),(function(o){var r=n.node(o),a=n.parent(o);(r.rank===A||r.minRank<=A&&A<=r.maxRank)&&(i.setNode(o),i.setParent(o,a||l),t.forEach(n[e](o),(function(A){var e=A.v===o?A.w:A.v,l=i.edge(e,o),r=t.isUndefined(l)?0:l.weight;i.setEdge(e,o,{weight:n.edge(A).weight+r})})),t.has(r,"minRank")&&i.setNode(o,{borderLeft:r.borderLeft[A],borderRight:r.borderRight[A]}))})),i}},function(n,A,e){var t=e(1);n.exports=function(n,A,e){var o,l={};t.forEach(e,(function(e){for(var t,i,r=n.parent(e);r;){if((t=n.parent(r))?(i=l[t],l[t]=r):(i=o,o=r),i&&i!==r)return void A.setEdge(i,r);r=t}}))}},function(n,A,e){"use strict";var t=e(1),o=e(6),l=e(324).positionX;n.exports=function(n){(function(n){var A=o.buildLayerMatrix(n),e=n.graph().ranksep,l=0;t.forEach(A,(function(A){var o=t.max(t.map(A,(function(A){return n.node(A).height})));t.forEach(A,(function(A){n.node(A).y=l+o/2})),l+=o+e}))})(n=o.asNonCompoundGraph(n)),t.forEach(l(n),(function(A,e){n.node(e).x=A}))}},function(n,A,e){"use strict";var t=e(1),o=e(12).Graph,l=e(6);function i(n,A){var e={};return t.reduce(A,(function(A,o){var l=0,i=0,r=A.length,c=t.last(o);return t.forEach(o,(function(A,s){var C=function(n,A){if(n.node(A).dummy)return t.find(n.predecessors(A),(function(A){return n.node(A).dummy}))}(n,A),u=C?n.node(C).order:r;(C||A===c)&&(t.forEach(o.slice(i,s+1),(function(A){t.forEach(n.predecessors(A),(function(t){var o=n.node(t),i=o.order;!(i<l||u<i)||o.dummy&&n.node(A).dummy||a(e,t,A)}))})),i=s+1,l=u)})),o})),e}function r(n,A){var e={};function o(A,o,l,i,r){var c;t.forEach(t.range(o,l),(function(o){c=A[o],n.node(c).dummy&&t.forEach(n.predecessors(c),(function(A){var t=n.node(A);t.dummy&&(t.order<i||t.order>r)&&a(e,A,c)}))}))}return t.reduce(A,(function(A,e){var l,i=-1,r=0;return t.forEach(e,(function(t,a){if("border"===n.node(t).dummy){var c=n.predecessors(t);c.length&&(l=n.node(c[0]).order,o(e,r,a,i,l),r=a,i=l)}o(e,r,e.length,l,A.length)})),e})),e}function a(n,A,e){if(A>e){var t=A;A=e,e=t}var o=n[A];o||(n[A]=o={}),o[e]=!0}function c(n,A,e){if(A>e){var o=A;A=e,e=o}return t.has(n[A],e)}function s(n,A,e,o){var l={},i={},r={};return t.forEach(A,(function(n){t.forEach(n,(function(n,A){l[n]=n,i[n]=n,r[n]=A}))})),t.forEach(A,(function(n){var A=-1;t.forEach(n,(function(n){var a=o(n);if(a.length)for(var s=((a=t.sortBy(a,(function(n){return r[n]}))).length-1)/2,C=Math.floor(s),u=Math.ceil(s);C<=u;++C){var m=a[C];i[n]===n&&A<r[m]&&!c(e,n,m)&&(i[m]=n,i[n]=l[n]=l[m],A=r[m])}}))})),{root:l,align:i}}function C(n,A,e,l,i){var r={},a=function(n,A,e,l){var i=new o,r=n.graph(),a=function(n,A,e){return function(o,l,i){var r,a=o.node(l),c=o.node(i),s=0;if(s+=a.width/2,t.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":r=-a.width/2;break;case"r":r=a.width/2}if(r&&(s+=e?r:-r),r=0,s+=(a.dummy?A:n)/2,s+=(c.dummy?A:n)/2,s+=c.width/2,t.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":r=c.width/2;break;case"r":r=-c.width/2}return r&&(s+=e?r:-r),r=0,s}}(r.nodesep,r.edgesep,l);return t.forEach(A,(function(A){var o;t.forEach(A,(function(A){var t=e[A];if(i.setNode(t),o){var l=e[o],r=i.edge(l,t);i.setEdge(l,t,Math.max(a(n,A,o),r||0))}o=A}))})),i}(n,A,e,i),c=i?"borderLeft":"borderRight";function s(n,A){for(var e=a.nodes(),t=e.pop(),o={};t;)o[t]?n(t):(o[t]=!0,e.push(t),e=e.concat(A(t))),t=e.pop()}return s((function(n){r[n]=a.inEdges(n).reduce((function(n,A){return Math.max(n,r[A.v]+a.edge(A))}),0)}),a.predecessors.bind(a)),s((function(A){var e=a.outEdges(A).reduce((function(n,A){return Math.min(n,r[A.w]-a.edge(A))}),Number.POSITIVE_INFINITY),t=n.node(A);e!==Number.POSITIVE_INFINITY&&t.borderType!==c&&(r[A]=Math.max(r[A],e))}),a.successors.bind(a)),t.forEach(l,(function(n){r[n]=r[e[n]]})),r}function u(n,A){return t.minBy(t.values(A),(function(A){var e=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return t.forIn(A,(function(A,t){var l=function(n,A){return n.node(A).width}(n,t)/2;e=Math.max(A+l,e),o=Math.min(A-l,o)})),e-o}))}function m(n,A){var e=t.values(A),o=t.min(e),l=t.max(e);t.forEach(["u","d"],(function(e){t.forEach(["l","r"],(function(i){var r,a=e+i,c=n[a];if(c!==A){var s=t.values(c);(r="l"===i?o-t.min(s):l-t.max(s))&&(n[a]=t.mapValues(c,(function(n){return n+r})))}}))}))}function d(n,A){return t.mapValues(n.ul,(function(e,o){if(A)return n[A.toLowerCase()][o];var l=t.sortBy(t.map(n,o));return(l[1]+l[2])/2}))}n.exports={positionX:function(n){var A,e=l.buildLayerMatrix(n),o=t.merge(i(n,e),r(n,e)),a={};t.forEach(["u","d"],(function(l){A="u"===l?e:t.values(e).reverse(),t.forEach(["l","r"],(function(e){"r"===e&&(A=t.map(A,(function(n){return t.values(n).reverse()})));var i=("u"===l?n.predecessors:n.successors).bind(n),r=s(n,A,o,i),c=C(n,A,r.root,r.align,"r"===e);"r"===e&&(c=t.mapValues(c,(function(n){return-n}))),a[l+e]=c}))}));var c=u(n,a);return m(a,c),d(a,n.graph().align)},findType1Conflicts:i,findType2Conflicts:r,addConflict:a,hasConflict:c,verticalAlignment:s,horizontalCompaction:C,alignCoordinates:m,findSmallestWidthAlignment:u,balance:d}},function(n,A,e){var t=e(1),o=e(6),l=e(12).Graph;n.exports={debugOrdering:function(n){var A=o.buildLayerMatrix(n),e=new l({compound:!0,multigraph:!0}).setGraph({});return t.forEach(n.nodes(),(function(A){e.setNode(A,{label:A}),e.setParent(A,"layer"+n.node(A).rank)})),t.forEach(n.edges(),(function(n){e.setEdge(n.v,n.w,{},n.name)})),t.forEach(A,(function(n,A){var o="layer"+A;e.setNode(o,{rank:"same"}),t.reduce(n,(function(n,A){return e.setEdge(n,A,{style:"invis"}),A}))})),e}}},function(n,A){n.exports="0.8.5"},function(n,A,e){!function(n){"use strict";function A(n){return{type:n.constructor,key:n.key,ref:null,props:n.props}}var e="function"==typeof Map&&new Map;function t(n){var o,l,i,r=n instanceof Node?(l=(o=n).nodeType===Node.ELEMENT_NODE?Array.from(o.childNodes):[],{_currentElement:(i=o.nodeType===Node.TEXT_NODE)?o.textContent:{type:o.nodeName.toLowerCase(),props:o.__preactattr_},_renderedChildren:l.map((function(n){return n._component?t(n._component):t(n)})),_stringText:i?o.textContent:null,_inDevTools:!1,node:o}):function(n){var e=A(n),o=n.base,l={getPublicInstance:function(){return!0},getName:function(){return"function"==typeof(n=e).type?n.type.displayName||n.type.name:n.type;var n},_currentElement:A(n),props:n.props,state:n.state,forceUpdate:n.forceUpdate&&n.forceUpdate.bind(n),setState:n.setState&&n.setState.bind(n),node:o};return l._instance=n,n._component?l._renderedComponent=t(n._component):l._renderedComponent=t(o),l}(n);if(e.has(n)){var a=e.get(n);return Object.assign(a,r),a}return e.set(n,r),r}function o(n){return"."+Object.keys(n).length}function l(){var n={getNodeFromInstance:function(n){return n.node},getClosestInstanceFromNode:function(n){for(;n&&!n._component;)n=n.parentNode;return n?t(n._component):null}},A={};!function n(A,e){Array.from(A.childNodes).forEach((function(A){A._component?e[o(e)]=t(A._component):n(A,e)}))}(document.body,A);var l={_instancesByReactRootID:A,_renderNewRootComponent:function(){}},r={mountComponent:function(){},performUpdateIfNecessary:function(){},receiveComponent:function(){},unmountComponent:function(){}};return{componentAdded:function(n){var e=t(n);(function(n){return!n._parentComponent&&!n.__u&&(!n.base.parentElement||!n.base.parentElement.__preactattr_)})(n)&&(e._rootID=o(A),A[e._rootID]=e,l._renderNewRootComponent(e)),i(e,(function(n){n._inDevTools=!0,r.mountComponent(n)})),r.mountComponent(e)},componentUpdated:function(n){var A=[],o=e.get(n);o&&i(o,(function(n){A.push(n)})),o=t(n),r.receiveComponent(o),i(o,(function(n){var A={_topLevelWrapper:o};n._inDevTools?r.receiveComponent(n,null,null,A):(n._inDevTools=!0,r.mountComponent(n,null,null,A))})),A.forEach((function(n){document.body.contains(n.node)||(e.delete(n.node),r.unmountComponent(n))}))},componentRemoved:function(n){var o=t(n);i((function(n){e.delete(n.node),r.unmountComponent(n)})),r.unmountComponent(o),e.delete(n),o._rootID&&delete A[o._rootID]},ComponentTree:n,Mount:l,Reconciler:r}}function i(n,A){n&&(n._renderedComponent?n._renderedComponent._component||(A(n._renderedComponent),i(n._renderedComponent,A)):n._renderedChildren&&n._renderedChildren.forEach((function(n){A(n),n._component||i(n,A)})))}!function(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var A=l(),e=n.options.afterMount;n.options.afterMount=function(n){A.componentAdded(n),e&&e(n)};var t=n.options.afterUpdate;n.options.afterUpdate=function(n){A.componentUpdated(n),t&&t(n)};var o=n.options.beforeUnmount;n.options.beforeUnmount=function(n){A.componentRemoved(n),o&&o(n)},__REACT_DEVTOOLS_GLOBAL_HOOK__.inject(A)}}()}(e(0))},function(n,A,e){},function(n,A,e){},function(n,A,e){},,,,function(n,A,e){"use strict";e.r(A);var t,o=e(3),l=(e(327),{nodes:{node1:{id:"node1",diagramMakerData:{position:{x:200,y:150},size:{width:100,height:50}}},node2:{id:"node2",diagramMakerData:{position:{x:400,y:300},size:{width:100,height:50}}}},edges:{edge1:{id:"edge1",src:"node1",dest:"node2",diagramMakerData:{}}},panels:(t={},t.library={id:"library",position:{x:20,y:20},size:{width:250,height:600},positionAnchor:o.g.TOP_RIGHT},t.tools={id:"tools",position:{x:20,y:20},size:{width:150,height:400}},t),workspace:{position:{x:0,y:0},scale:1,canvasSize:{width:3200,height:1600},viewContainerSize:{width:window.innerWidth,height:window.innerHeight}},editor:{mode:o.d.DRAG}}),i=(e(328),e(329),e(330),e(7)),r=window;window;document.body.classList.add("dm-dark-theme"),r.diagramMaker=new o.b("diagramMakerContainer",{options:{connectorPlacement:o.a.LEFT_RIGHT},renderCallbacks:{destroy:function(){},node:function(n,A){return"testId-centered"===n.typeId?Object(i.b)(n,A):"testId-input"===n.typeId?Object(i.g)(n,A):"testId-dropdown"===n.typeId?Object(i.f)(n,A):Object(i.k)(n,A)},potentialNode:function(n,A){return Object(i.j)(n,A)},panels:{library:function(n,A,e){return Object(i.d)(e)},tools:function(n,A,e){return Object(i.l)(e,(function(){return r.diagramMaker}))}},contextMenu:{node:function(n,A){return Object(i.e)(n,A)},edge:function(n,A){return Object(i.c)(n,A)},panel:function(n,A){return Object(i.h)(n,A)},workspace:function(n){return Object(i.m)(n)}}},actionInterceptor:function(n,A,e){Object(i.o)(n),A(n)},nodeTypeConfig:{"testId-centered":{size:{width:100,height:100},connectorPlacementOverride:o.a.CENTERED},"testId-dead":{size:{width:150,height:50},visibleConnectorTypes:o.i.NONE},"testId-dropdown":{size:{width:150,height:50}},"testId-end":{size:{width:150,height:50},visibleConnectorTypes:o.i.INPUT_ONLY},"testId-input":{size:{width:150,height:50}},"testId-normal":{size:{width:150,height:50}},"testId-normalWithSize":{size:{width:150,height:50}},"testId-start":{size:{width:150,height:50},visibleConnectorTypes:o.i.OUTPUT_ONLY},"testId-topBottom":{size:{width:150,height:50},connectorPlacementOverride:o.a.TOP_BOTTOM}}},{consumerEnhancer:Object(i.a)(),initialData:l})}]);