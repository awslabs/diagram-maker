!function(n){var e={};function A(t){if(e[t])return e[t].exports;var o=e[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,A),o.l=!0,o.exports}A.m=n,A.c=e,A.d=function(n,e,t){A.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},A.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},A.t=function(n,e){if(1&e&&(n=A(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(A.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)A.d(t,o,function(e){return n[e]}.bind(null,o));return t},A.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return A.d(e,"a",e),e},A.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},A.p="",A(A.s=326)}([function(n,e,A){"use strict";A.r(e),A.d(e,"h",(function(){return r})),A.d(e,"createElement",(function(){return r})),A.d(e,"cloneElement",(function(){return C})),A.d(e,"createRef",(function(){return P})),A.d(e,"Component",(function(){return w})),A.d(e,"render",(function(){return N})),A.d(e,"rerender",(function(){return E})),A.d(e,"options",(function(){return o}));var t=function(){},o={},i=[],l=[];function r(n,e){var A,r,a,c,s=l;for(c=arguments.length;c-- >2;)i.push(arguments[c]);for(e&&null!=e.children&&(i.length||i.push(e.children),delete e.children);i.length;)if((r=i.pop())&&void 0!==r.pop)for(c=r.length;c--;)i.push(r[c]);else"boolean"==typeof r&&(r=null),(a="function"!=typeof n)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(a=!1)),a&&A?s[s.length-1]+=r:s===l?s=[r]:s.push(r),A=a;var C=new t;return C.nodeName=n,C.children=s,C.attributes=null==e?void 0:e,C.key=null==e?void 0:e.key,void 0!==o.vnode&&o.vnode(C),C}function a(n,e){for(var A in e)n[A]=e[A];return n}function c(n,e){n&&("function"==typeof n?n(e):n.current=e)}var s="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function C(n,e){return r(n.nodeName,a(a({},n.attributes),e),arguments.length>2?[].slice.call(arguments,2):n.children)}var u=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,d=[];function m(n){!n._dirty&&(n._dirty=!0)&&1==d.push(n)&&(o.debounceRendering||s)(E)}function E(){for(var n;n=d.pop();)n._dirty&&Q(n)}function p(n,e,A){return"string"==typeof e||"number"==typeof e?void 0!==n.splitText:"string"==typeof e.nodeName?!n._componentConstructor&&f(n,e.nodeName):A||n._componentConstructor===e.nodeName}function f(n,e){return n.normalizedNodeName===e||n.nodeName.toLowerCase()===e.toLowerCase()}function g(n){var e=a({},n.attributes);e.children=n.children;var A=n.nodeName.defaultProps;if(void 0!==A)for(var t in A)void 0===e[t]&&(e[t]=A[t]);return e}function h(n){var e=n.parentNode;e&&e.removeChild(n)}function I(n,e,A,t,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)c(A,null),c(t,n);else if("class"!==e||o)if("style"===e){if(t&&"string"!=typeof t&&"string"!=typeof A||(n.style.cssText=t||""),t&&"object"==typeof t){if("string"!=typeof A)for(var i in A)i in t||(n.style[i]="");for(var i in t)n.style[i]="number"==typeof t[i]&&!1===u.test(i)?t[i]+"px":t[i]}}else if("dangerouslySetInnerHTML"===e)t&&(n.innerHTML=t.__html||"");else if("o"==e[0]&&"n"==e[1]){var l=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),t?A||n.addEventListener(e,y,l):n.removeEventListener(e,y,l),(n._listeners||(n._listeners={}))[e]=t}else if("list"!==e&&"type"!==e&&!o&&e in n){try{n[e]=null==t?"":t}catch(n){}null!=t&&!1!==t||"spellcheck"==e||n.removeAttribute(e)}else{var r=o&&e!==(e=e.replace(/^xlink:?/,""));null==t||!1===t?r?n.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):n.removeAttribute(e):"function"!=typeof t&&(r?n.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),t):n.setAttribute(e,t))}else n.className=t||""}function y(n){return this._listeners[n.type](o.event&&o.event(n)||n)}var B=[],M=0,v=!1,b=!1;function O(){for(var n;n=B.shift();)o.afterMount&&o.afterMount(n),n.componentDidMount&&n.componentDidMount()}function G(n,e,A,t,o,i){M++||(v=null!=o&&void 0!==o.ownerSVGElement,b=null!=n&&!("__preactattr_"in n));var l=D(n,e,A,t,i);return o&&l.parentNode!==o&&o.appendChild(l),--M||(b=!1,i||O()),l}function D(n,e,A,t,o){var i=n,l=v;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return n&&void 0!==n.splitText&&n.parentNode&&(!n._component||o)?n.nodeValue!=e&&(n.nodeValue=e):(i=document.createTextNode(e),n&&(n.parentNode&&n.parentNode.replaceChild(i,n),k(n,!0))),i.__preactattr_=!0,i;var r,a,c=e.nodeName;if("function"==typeof c)return function(n,e,A,t){var o=n&&n._component,i=o,l=n,r=o&&n._componentConstructor===e.nodeName,a=r,c=g(e);for(;o&&!a&&(o=o._parentComponent);)a=o.constructor===e.nodeName;o&&a&&(!t||o._component)?(T(o,c,3,A,t),n=o.base):(i&&!r&&(U(i),n=l=null),o=_(e.nodeName,c,A),n&&!o.nextBase&&(o.nextBase=n,l=null),T(o,c,1,A,t),n=o.base,l&&n!==l&&(l._component=null,k(l,!1)));return n}(n,e,A,t);if(v="svg"===c||"foreignObject"!==c&&v,c=String(c),(!n||!f(n,c))&&(r=c,(a=v?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r)).normalizedNodeName=r,i=a,n)){for(;n.firstChild;)i.appendChild(n.firstChild);n.parentNode&&n.parentNode.replaceChild(i,n),k(n,!0)}var s=i.firstChild,C=i.__preactattr_,u=e.children;if(null==C){C=i.__preactattr_={};for(var d=i.attributes,m=d.length;m--;)C[d[m].name]=d[m].value}return!b&&u&&1===u.length&&"string"==typeof u[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=u[0]&&(s.nodeValue=u[0]):(u&&u.length||null!=s)&&function(n,e,A,t,o){var i,l,r,a,c,s=n.childNodes,C=[],u={},d=0,m=0,E=s.length,f=0,g=e?e.length:0;if(0!==E)for(var I=0;I<E;I++){var y=s[I],B=y.__preactattr_;null!=(M=g&&B?y._component?y._component.__key:B.key:null)?(d++,u[M]=y):(B||(void 0!==y.splitText?!o||y.nodeValue.trim():o))&&(C[f++]=y)}if(0!==g)for(I=0;I<g;I++){var M;if(a=e[I],c=null,null!=(M=a.key))d&&void 0!==u[M]&&(c=u[M],u[M]=void 0,d--);else if(m<f)for(i=m;i<f;i++)if(void 0!==C[i]&&p(l=C[i],a,o)){c=l,C[i]=void 0,i===f-1&&f--,i===m&&m++;break}c=D(c,a,A,t),r=s[I],c&&c!==n&&c!==r&&(null==r?n.appendChild(c):c===r.nextSibling?h(r):n.insertBefore(c,r))}if(d)for(var I in u)void 0!==u[I]&&k(u[I],!1);for(;m<=f;)void 0!==(c=C[f--])&&k(c,!1)}(i,u,A,t,b||null!=C.dangerouslySetInnerHTML),function(n,e,A){var t;for(t in A)e&&null!=e[t]||null==A[t]||I(n,t,A[t],A[t]=void 0,v);for(t in e)"children"===t||"innerHTML"===t||t in A&&e[t]===("value"===t||"checked"===t?n[t]:A[t])||I(n,t,A[t],A[t]=e[t],v)}(i,e.attributes,C),v=l,i}function k(n,e){var A=n._component;A?U(A):(null!=n.__preactattr_&&c(n.__preactattr_.ref,null),!1!==e&&null!=n.__preactattr_||h(n),K(n))}function K(n){for(n=n.lastChild;n;){var e=n.previousSibling;k(n,!0),n=e}}var S=[];function _(n,e,A){var t,o=S.length;for(n.prototype&&n.prototype.render?(t=new n(e,A),w.call(t,e,A)):((t=new w(e,A)).constructor=n,t.render=x);o--;)if(S[o].constructor===n)return t.nextBase=S[o].nextBase,S.splice(o,1),t;return t}function x(n,e,A){return this.constructor(n,A)}function T(n,e,A,t,i){n._disable||(n._disable=!0,n.__ref=e.ref,n.__key=e.key,delete e.ref,delete e.key,void 0===n.constructor.getDerivedStateFromProps&&(!n.base||i?n.componentWillMount&&n.componentWillMount():n.componentWillReceiveProps&&n.componentWillReceiveProps(e,t)),t&&t!==n.context&&(n.prevContext||(n.prevContext=n.context),n.context=t),n.prevProps||(n.prevProps=n.props),n.props=e,n._disable=!1,0!==A&&(1!==A&&!1===o.syncComponentUpdates&&n.base?m(n):Q(n,1,i)),c(n.__ref,n))}function Q(n,e,A,t){if(!n._disable){var i,l,r,c=n.props,s=n.state,C=n.context,u=n.prevProps||c,d=n.prevState||s,m=n.prevContext||C,E=n.base,p=n.nextBase,f=E||p,h=n._component,I=!1,y=m;if(n.constructor.getDerivedStateFromProps&&(s=a(a({},s),n.constructor.getDerivedStateFromProps(c,s)),n.state=s),E&&(n.props=u,n.state=d,n.context=m,2!==e&&n.shouldComponentUpdate&&!1===n.shouldComponentUpdate(c,s,C)?I=!0:n.componentWillUpdate&&n.componentWillUpdate(c,s,C),n.props=c,n.state=s,n.context=C),n.prevProps=n.prevState=n.prevContext=n.nextBase=null,n._dirty=!1,!I){i=n.render(c,s,C),n.getChildContext&&(C=a(a({},C),n.getChildContext())),E&&n.getSnapshotBeforeUpdate&&(y=n.getSnapshotBeforeUpdate(u,d));var v,b,D=i&&i.nodeName;if("function"==typeof D){var K=g(i);(l=h)&&l.constructor===D&&K.key==l.__key?T(l,K,1,C,!1):(v=l,n._component=l=_(D,K,C),l.nextBase=l.nextBase||p,l._parentComponent=n,T(l,K,0,C,!1),Q(l,1,A,!0)),b=l.base}else r=f,(v=h)&&(r=n._component=null),(f||1===e)&&(r&&(r._component=null),b=G(r,i,C,A||!E,f&&f.parentNode,!0));if(f&&b!==f&&l!==h){var S=f.parentNode;S&&b!==S&&(S.replaceChild(b,f),v||(f._component=null,k(f,!1)))}if(v&&U(v),n.base=b,b&&!t){for(var x=n,w=n;w=w._parentComponent;)(x=w).base=b;b._component=x,b._componentConstructor=x.constructor}}for(!E||A?B.push(n):I||(n.componentDidUpdate&&n.componentDidUpdate(u,d,y),o.afterUpdate&&o.afterUpdate(n));n._renderCallbacks.length;)n._renderCallbacks.pop().call(n);M||t||O()}}function U(n){o.beforeUnmount&&o.beforeUnmount(n);var e=n.base;n._disable=!0,n.componentWillUnmount&&n.componentWillUnmount(),n.base=null;var A=n._component;A?U(A):e&&(null!=e.__preactattr_&&c(e.__preactattr_.ref,null),n.nextBase=e,h(e),S.push(n),K(e)),c(n.__ref,null)}function w(n,e){this._dirty=!0,this.context=e,this.props=n,this.state=this.state||{},this._renderCallbacks=[]}function N(n,e,A){return G(A,n,{},!1,e,!1)}function P(){return{}}a(w.prototype,{setState:function(n,e){this.prevState||(this.prevState=this.state),this.state=a(a({},this.state),"function"==typeof n?n(this.state,this.props):n),e&&this._renderCallbacks.push(e),m(this)},forceUpdate:function(n){n&&this._renderCallbacks.push(n),Q(this,2)},render:function(){}});var R={h:r,createElement:r,cloneElement:C,createRef:P,Component:w,render:N,rerender:E,options:o};e.default=R},function(n,e,A){var t;try{t={cloneDeep:A(263),constant:A(70),defaults:A(264),each:A(113),filter:A(116),find:A(265),flatten:A(130),forEach:A(114),forIn:A(268),has:A(117),isUndefined:A(118),last:A(269),map:A(119),mapValues:A(270),max:A(271),merge:A(273),min:A(279),minBy:A(280),now:A(281),pick:A(282),range:A(285),reduce:A(121),sortBy:A(288),uniqueId:A(293),values:A(66),zipObject:A(294)}}catch(n){}t||(t=window._),n.exports=t},function(n,e,A){"use strict";A.d(e,"b",(function(){return Pc})),A.d(e,"a",(function(){return bn})),A.d(e,"h",(function(){return kn})),A.d(e,"i",(function(){return Gn})),A.d(e,"e",(function(){return Xl})),A.d(e,"f",(function(){return nl})),A.d(e,"j",(function(){return Al})),A.d(e,"k",(function(){return QA})),A.d(e,"c",(function(){return Wc})),A.d(e,"d",(function(){return Rn})),A.d(e,"g",(function(){return Yn}));A(139);var t,o,i,l,r,a,c,s=A(0),C=A(54),u=(t="/Users/akasivis/Desktop/git/diagram-maker/src/components/common/ComposeView.tsx",o="1d9adab99a58ad2782c83737e56a41a21565cb49",i=new(0,function(){}.constructor)("return this")(),r={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/common/ComposeView.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:15,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:14,column:6}},9:{start:{line:9,column:8},end:{line:10,column:102}},10:{start:{line:10,column:12},end:{line:10,column:102}},11:{start:{line:11,column:8},end:{line:11,column:28}},12:{start:{line:12,column:24},end:{line:12,column:45}},13:{start:{line:13,column:8},end:{line:13,column:93}},14:{start:{line:17,column:33},end:{line:43,column:19}},15:{start:{line:18,column:4},end:{line:18,column:35}},16:{start:{line:20,column:20},end:{line:20,column:76}},17:{start:{line:21,column:8},end:{line:23,column:10}},18:{start:{line:22,column:12},end:{line:22,column:41}},19:{start:{line:24,column:8},end:{line:26,column:10}},20:{start:{line:25,column:12},end:{line:25,column:41}},21:{start:{line:27,column:8},end:{line:30,column:10}},22:{start:{line:29,column:12},end:{line:29,column:94}},23:{start:{line:31,column:8},end:{line:35,column:10}},24:{start:{line:33,column:12},end:{line:34,column:97}},25:{start:{line:36,column:8},end:{line:36,column:21}},26:{start:{line:38,column:4},end:{line:41,column:6}},27:{start:{line:39,column:20},end:{line:39,column:24}},28:{start:{line:40,column:8},end:{line:40,column:127}},29:{start:{line:40,column:80},end:{line:40,column:120}},30:{start:{line:42,column:4},end:{line:42,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:15,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:14,column:5}},line:8},5:{name:"__",decl:{start:{line:12,column:17},end:{line:12,column:19}},loc:{start:{line:12,column:22},end:{line:12,column:47}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:17,column:33},end:{line:17,column:34}},loc:{start:{line:17,column:51},end:{line:43,column:1}},line:17},7:{name:"ComposeView",decl:{start:{line:19,column:13},end:{line:19,column:24}},loc:{start:{line:19,column:27},end:{line:37,column:5}},line:19},8:{name:"(anonymous_8)",decl:{start:{line:21,column:34},end:{line:21,column:35}},loc:{start:{line:21,column:46},end:{line:23,column:9}},line:21},9:{name:"(anonymous_9)",decl:{start:{line:24,column:35},end:{line:24,column:36}},loc:{start:{line:24,column:47},end:{line:26,column:9}},line:24},10:{name:"(anonymous_10)",decl:{start:{line:27,column:37},end:{line:27,column:38}},loc:{start:{line:27,column:49},end:{line:30,column:9}},line:27},11:{name:"(anonymous_11)",decl:{start:{line:31,column:37},end:{line:31,column:38}},loc:{start:{line:31,column:49},end:{line:35,column:9}},line:31},12:{name:"(anonymous_12)",decl:{start:{line:38,column:35},end:{line:38,column:36}},loc:{start:{line:38,column:47},end:{line:41,column:5}},line:38},13:{name:"(anonymous_13)",decl:{start:{line:40,column:64},end:{line:40,column:65}},loc:{start:{line:40,column:78},end:{line:40,column:122}},line:40}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:15,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:15,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:9,column:8},end:{line:10,column:102}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:102}},{start:{line:9,column:8},end:{line:10,column:102}}],line:9},4:{loc:{start:{line:9,column:12},end:{line:9,column:49}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:35}},{start:{line:9,column:39},end:{line:9,column:49}}],line:9},5:{loc:{start:{line:13,column:22},end:{line:13,column:92}},type:"cond-expr",locations:[{start:{line:13,column:35},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:91}}],line:13},6:{loc:{start:{line:20,column:20},end:{line:20,column:76}},type:"binary-expr",locations:[{start:{line:20,column:20},end:{line:20,column:35}},{start:{line:20,column:39},end:{line:20,column:68}},{start:{line:20,column:72},end:{line:20,column:76}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/common/ComposeView.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/common/ComposeView.tsx"],names:[],mappings:";;;;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AASjC;IAAyC,+BAAkC;IAA3E;QAAA,qEA+BC;QAjBQ,uBAAiB,GAAG;YACzB,KAAI,CAAC,oBAAoB,EAAE,CAAC;QAC9B,CAAC,CAAA;QAEM,wBAAkB,GAAG;YAC1B,KAAI,CAAC,oBAAoB,EAAE,CAAC;QAC9B,CAAC,CAAA;QACM,0BAAoB,GAAG;YAC5B,gFAAgF;YAChF,KAAI,CAAC,KAAK,CAAC,eAAe,CAAC,KAAI,CAAC,qBAAoC,EAAE,KAAI,CAAC,iBAAiB,CAAC,CAAC;QAChG,CAAC,CAAA;QAEO,0BAAoB,GAAG;YAC7B,gFAAgF;YAChF,KAAI,CAAC,iBAAiB;gBACpB,KAAI,CAAC,KAAK,CAAC,cAAc,CAAC,KAAI,CAAC,qBAAoC,EAAE,KAAI,CAAC,iBAAiB,CAAC,CAAC;QACjG,CAAC,CAAA;;IACH,CAAC;IA1BQ,4BAAM,GAAb;QAAA,iBAOC;QANC,OAAO,CACL,kBACE,SAAS,EAAC,YAAY,EACtB,GAAG,EAAE,UAAA,EAAE,IAAI,OAAA,KAAI,CAAC,qBAAqB,GAAG,EAAE,EAA/B,CAA+B,GAC1C,CACH,CAAC;IACJ,CAAC;IAmBH,kBAAC;AAAD,CAAC,AA/BD,CAAyC,MAAM,CAAC,SAAS,GA+BxD",sourcesContent:["import * as Preact from 'preact';\n\nimport { BoundRenderCallback, DestroyCallback } from 'diagramMaker/service/ConfigService';\n\ninterface ComposeViewProps {\n  renderCallback: BoundRenderCallback;\n  destroyCallback: DestroyCallback;\n}\n\nexport default class ComposeView extends Preact.Component<ComposeViewProps> {\n\n  private diagramMakerContainer: HTMLElement | undefined;\n  private consumerContainer: HTMLElement | undefined | void;\n\n  public render() {\n    return (\n      <div\n        className=\"dm-content\"\n        ref={el => this.diagramMakerContainer = el}\n      />\n    );\n  }\n\n  public componentDidMount = () => {\n    this.rerenderConsumerNode();\n  }\n\n  public componentDidUpdate = () => {\n    this.rerenderConsumerNode();\n  }\n  public componentWillUnmount = () => {\n    // diagramMakerContainer is always available because this is called after render\n    this.props.destroyCallback(this.diagramMakerContainer as HTMLElement, this.consumerContainer);\n  }\n\n  private rerenderConsumerNode = () => {\n    // diagramMakerContainer is always available because this is called after render\n    this.consumerContainer =\n      this.props.renderCallback(this.diagramMakerContainer as HTMLElement, this.consumerContainer);\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},(a=i[l="__coverage__"]||(i[l]={}))[t]&&a[t].hash===o?a[t]:(r.hash=o,a[t]=r)),d=(u.s[0]++,void u.b[0][0]++&&(u.b[0][1]++,(void 0).__extends)||(u.b[0][2]++,function(){u.f[0]++,u.s[1]++;var n=function(e,A){return u.f[1]++,u.s[2]++,u.b[1][0]++,n=Object.setPrototypeOf||(u.b[1][1]++,{__proto__:[]}instanceof Array&&(u.b[1][2]++,function(n,e){u.f[2]++,u.s[3]++,n.__proto__=e}))||(u.b[1][3]++,function(n,e){for(var A in u.f[3]++,u.s[4]++,e)u.s[5]++,Object.prototype.hasOwnProperty.call(e,A)?(u.b[2][0]++,u.s[6]++,n[A]=e[A]):u.b[2][1]++}),u.s[7]++,n(e,A)};return u.s[8]++,function(e,A){if(u.f[4]++,u.s[9]++,u.b[4][0]++,"function"!=typeof A&&(u.b[4][1]++,null!==A))throw u.b[3][0]++,u.s[10]++,new TypeError("Class extends value "+String(A)+" is not a constructor or null");function t(){u.f[5]++,u.s[12]++,this.constructor=e}u.b[3][1]++,u.s[11]++,n(e,A),u.s[13]++,e.prototype=null===A?(u.b[5][0]++,Object.create(A)):(u.b[5][1]++,t.prototype=A.prototype,new t)}}())),m=(u.s[14]++,function(n){function e(){u.f[7]++;var e=(u.s[16]++,u.b[6][0]++,null!==n&&(u.b[6][1]++,n.apply(this,arguments))||(u.b[6][2]++,this));return u.s[17]++,e.componentDidMount=function(){u.f[8]++,u.s[18]++,e.rerenderConsumerNode()},u.s[19]++,e.componentDidUpdate=function(){u.f[9]++,u.s[20]++,e.rerenderConsumerNode()},u.s[21]++,e.componentWillUnmount=function(){u.f[10]++,u.s[22]++,e.props.destroyCallback(e.diagramMakerContainer,e.consumerContainer)},u.s[23]++,e.rerenderConsumerNode=function(){u.f[11]++,u.s[24]++,e.consumerContainer=e.props.renderCallback(e.diagramMakerContainer,e.consumerContainer)},u.s[25]++,e}return u.f[6]++,u.s[15]++,d(e,n),u.s[26]++,e.prototype.render=function(){u.f[12]++;var n=(u.s[27]++,this);return u.s[28]++,s.h("div",{className:"dm-content",ref:function(e){return u.f[13]++,u.s[29]++,n.diagramMakerContainer=e}})},u.s[30]++,e}(s.Component)),E=(function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/common/index.ts",e="b729128c3bb11ae5c7c71c28056fd6dde051d931",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/common/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/common/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/common/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,WAAW,EAAE,MAAM,eAAe,CAAC",sourcesContent:["export { default as ComposeView } from './ComposeView';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/types.ts",e="edd5b65ac521808c1d2ff2d6461ca60f050d1139",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/types.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:77,column:68}},10:{start:{line:18,column:4},end:{line:18,column:76}},11:{start:{line:23,column:4},end:{line:23,column:61}},12:{start:{line:28,column:4},end:{line:28,column:72}},13:{start:{line:33,column:4},end:{line:33,column:80}},14:{start:{line:38,column:4},end:{line:38,column:80}},15:{start:{line:43,column:4},end:{line:43,column:61}},16:{start:{line:50,column:4},end:{line:50,column:76}},17:{start:{line:55,column:4},end:{line:55,column:63}},18:{start:{line:61,column:4},end:{line:61,column:85}},19:{start:{line:66,column:4},end:{line:66,column:86}},20:{start:{line:71,column:4},end:{line:71,column:61}},21:{start:{line:76,column:4},end:{line:76,column:71}},22:{start:{line:78,column:36},end:{line:78,column:76}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:39},end:{line:77,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:77,column:3},end:{line:77,column:66}},type:"binary-expr",locations:[{start:{line:77,column:3},end:{line:77,column:29}},{start:{line:77,column:34},end:{line:77,column:65}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/types.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/types.ts"],names:[],mappings:";;;;;;;;;;;AAAA,MAAM,CAAN,IAAY,0BAoEX;AApED,WAAY,0BAA0B;IACpC;;;OAGG;IACH,uEAAyC,CAAA;IACzC;;;OAGG;IACH,wDAA0B,CAAA;IAC1B;;;OAGG;IACH,mEAAqC,CAAA;IACrC;;;OAGG;IACH,2EAA6C,CAAA;IAC7C;;;OAGG;IACH,2EAA6C,CAAA;IAC7C;;;OAGG;IACH,wDAA0B,CAAA;IAC1B;;;;;OAKG;IACH,uEAAyC,CAAA;IACzC;;;OAGG;IACH,0DAA4B,CAAA;IAE5B;;;;OAIG;IACH,gFAAkD,CAAA;IAElD;;;OAGG;IACH,iFAAmD,CAAA;IAEnD;;;OAGG;IACH,wDAA0B,CAAA;IAE1B;;;OAGG;IACH,kEAAoC,CAAA;AACtC,CAAC,EApEW,0BAA0B,KAA1B,0BAA0B,QAoErC;AAED,MAAM,CAAC,IAAM,sBAAsB,gBAC9B,0BAA0B,CAC9B,CAAC",sourcesContent:["export enum DiagramMakerComponentsType {\n  /**\n   * Used on context menus rendered by diagram maker.\n   * For internal use only.\n   */\n  CONTEXT_MENU = 'DiagramMaker.ContextMenu',\n  /**\n   * Used on edges rendered by diagram maker.\n   * For internal use only.\n   */\n  EDGE = 'DiagramMaker.Edge',\n  /**\n   * Used on edge badges rendered by diagram maker.\n   * For internal use only.\n   */\n  EDGE_BADGE = 'DiagramMaker.EdgeBadge',\n  /**\n   * Used on potential edges rendered by diagram maker.\n   * For internal use only.\n   */\n  POTENTIAL_EDGE = 'DiagramMaker.PotentialEdge',\n  /**\n   * Used on potential nodes being dragged currently by diagram maker.\n   * Also used by consumers on the drag targets for potential nodes.\n   */\n  POTENTIAL_NODE = 'DiagramMaker.PotentialNode',\n  /**\n   * Used on nodes rendered by diagram maker.\n   * For internal use only.\n   */\n  NODE = 'DiagramMaker.Node',\n  /**\n   * Used on node connectors displayed by diagram maker.\n   * Can also be used within the node to make the entire node,\n   * or parts of the node DOM be droppable for completion of edge creation\n   * or draggable for starting edge creation.\n   */\n  NODE_CONNECTOR = 'DiagramMaker.Connector',\n  /**\n   * Used on panels rendered by diagram maker.\n   * For internal use only.\n   */\n  PANEL = 'DiagramMaker.Panel',\n\n  /**\n   * Used as a drag handle on panels rendered by diagram maker.\n   * If you give an element this data-type in the panel render callback\n   * dragging this element will drag the panel\n   */\n  PANEL_DRAG_HANDLE = 'DiagramMaker.PanelDragHandle',\n\n  /**\n   * Used on selection marquee rendered by diagram maker in select mode.\n   * For internal use only.\n   */\n  SELECTION_MARQUEE = 'DiagramMaker.SelectionMarquee',\n\n  /**\n   * Used on top level container rendered by diagram maker.\n   * For internal use only.\n   */\n  VIEW = 'DiagramMaker.View',\n\n  /**\n   * Used on workspace rendered by diagram maker.\n   * For internal use only.\n   */\n  WORKSPACE = 'DiagramMaker.Workspace'\n}\n\nexport const DiagramMakerComponents = {\n  ...DiagramMakerComponentsType\n};\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}()),p=(E.s[0]++,void E.b[0][0]++&&(E.b[0][1]++,(void 0).__assign)||(E.b[0][2]++,function(){return E.f[0]++,E.s[1]++,E.b[1][0]++,p=Object.assign||(E.b[1][1]++,function(n){E.f[1]++,E.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in E.s[3]++,e=arguments[A],E.s[4]++,e)E.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(E.b[2][0]++,E.s[6]++,n[o]=e[o]):E.b[2][1]++;return E.s[7]++,n}),E.s[8]++,p.apply(this,arguments)}));E.s[9]++,function(n){E.f[2]++,E.s[10]++,n.CONTEXT_MENU="DiagramMaker.ContextMenu",E.s[11]++,n.EDGE="DiagramMaker.Edge",E.s[12]++,n.EDGE_BADGE="DiagramMaker.EdgeBadge",E.s[13]++,n.POTENTIAL_EDGE="DiagramMaker.PotentialEdge",E.s[14]++,n.POTENTIAL_NODE="DiagramMaker.PotentialNode",E.s[15]++,n.NODE="DiagramMaker.Node",E.s[16]++,n.NODE_CONNECTOR="DiagramMaker.Connector",E.s[17]++,n.PANEL="DiagramMaker.Panel",E.s[18]++,n.PANEL_DRAG_HANDLE="DiagramMaker.PanelDragHandle",E.s[19]++,n.SELECTION_MARQUEE="DiagramMaker.SelectionMarquee",E.s[20]++,n.VIEW="DiagramMaker.View",E.s[21]++,n.WORKSPACE="DiagramMaker.Workspace"}((E.b[3][0]++,c||(E.b[3][1]++,c={})));var f=(E.s[22]++,p({},c)),g=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/contextMenu/ContextMenu.tsx",e="73294cfd1152675b8f3bc79610afb44fb44cd131",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/contextMenu/ContextMenu.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:15,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:14,column:6}},9:{start:{line:9,column:8},end:{line:10,column:102}},10:{start:{line:10,column:12},end:{line:10,column:102}},11:{start:{line:11,column:8},end:{line:11,column:28}},12:{start:{line:12,column:24},end:{line:12,column:45}},13:{start:{line:13,column:8},end:{line:13,column:93}},14:{start:{line:20,column:33},end:{line:33,column:19}},15:{start:{line:21,column:4},end:{line:21,column:35}},16:{start:{line:23,column:8},end:{line:23,column:72}},17:{start:{line:25,column:4},end:{line:31,column:6}},18:{start:{line:26,column:17},end:{line:26,column:36}},19:{start:{line:26,column:42},end:{line:26,column:46}},20:{start:{line:26,column:52},end:{line:26,column:56}},21:{start:{line:27,column:24},end:{line:27,column:66}},22:{start:{line:28,column:17},end:{line:28,column:27}},23:{start:{line:28,column:46},end:{line:28,column:63}},24:{start:{line:28,column:83},end:{line:28,column:101}},25:{start:{line:29,column:8},end:{line:30,column:106}},26:{start:{line:32,column:4},end:{line:32,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:15,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:14,column:5}},line:8},5:{name:"__",decl:{start:{line:12,column:17},end:{line:12,column:19}},loc:{start:{line:12,column:22},end:{line:12,column:47}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:20,column:33},end:{line:20,column:34}},loc:{start:{line:20,column:51},end:{line:33,column:1}},line:20},7:{name:"ContextMenu",decl:{start:{line:22,column:13},end:{line:22,column:24}},loc:{start:{line:22,column:27},end:{line:24,column:5}},line:22},8:{name:"(anonymous_8)",decl:{start:{line:25,column:35},end:{line:25,column:36}},loc:{start:{line:25,column:47},end:{line:31,column:5}},line:25}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:15,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:15,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:9,column:8},end:{line:10,column:102}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:102}},{start:{line:9,column:8},end:{line:10,column:102}}],line:9},4:{loc:{start:{line:9,column:12},end:{line:9,column:49}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:35}},{start:{line:9,column:39},end:{line:9,column:49}}],line:9},5:{loc:{start:{line:13,column:22},end:{line:13,column:92}},type:"cond-expr",locations:[{start:{line:13,column:35},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:91}}],line:13},6:{loc:{start:{line:23,column:15},end:{line:23,column:71}},type:"binary-expr",locations:[{start:{line:23,column:15},end:{line:23,column:30}},{start:{line:23,column:34},end:{line:23,column:63}},{start:{line:23,column:67},end:{line:23,column:71}}],line:23}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/contextMenu/ContextMenu.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/contextMenu/ContextMenu.tsx"],names:[],mappings:";;;;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,WAAW,EAAE,MAAM,gCAAgC,CAAC;AAE7D,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,oBAAoB,CAAC;AAQ5B;IAAyC,+BAAkC;IAA3E;;IAoBA,CAAC;IAlBQ,4BAAM,GAAb;QACQ,IAAA,KAAW,IAAI,CAAC,KAAK,CAAC,QAAQ,EAA5B,CAAC,OAAA,EAAE,CAAC,OAAwB,CAAC;QACrC,IAAM,SAAS,GAAG,iBAAe,CAAC,YAAO,CAAC,WAAQ,CAAC;QAC7C,IAAA,KAAsC,IAAI,CAAC,KAAK,EAA9C,cAAc,oBAAA,EAAE,eAAe,qBAAe,CAAC;QAEvD,OAAO,CACL,kBACE,SAAS,EAAC,iBAAiB,EAC3B,KAAK,EAAE,EAAE,SAAS,WAAA,EAAE,eACT,0BAA0B,CAAC,YAAY;YAElD,SAAC,WAAW,IACV,cAAc,EAAE,cAAc,EAC9B,eAAe,EAAE,eAAe,GAChC,CACE,CACP,CAAC;IACJ,CAAC;IACH,kBAAC;AAAD,CAAC,AApBD,CAAyC,MAAM,CAAC,SAAS,GAoBxD",sourcesContent:["import * as Preact from 'preact';\n\nimport { ComposeView } from 'diagramMaker/components/common';\nimport { BoundRenderCallback, DestroyCallback } from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position } from 'diagramMaker/state/types';\n\nimport './ContextMenu.scss';\n\nexport interface ContextMenuProps {\n  position: Position;\n  renderCallback: BoundRenderCallback;\n  destroyCallback: DestroyCallback;\n}\n\nexport default class ContextMenu extends Preact.Component<ContextMenuProps> {\n\n  public render(): JSX.Element {\n    const { x, y } = this.props.position;\n    const transform = `translate3d(${x}px, ${y}px, 0)`;\n    const { renderCallback, destroyCallback } = this.props;\n\n    return (\n      <div\n        className=\"dm-context-menu\"\n        style={{ transform }}\n        data-type={DiagramMakerComponentsType.CONTEXT_MENU}\n      >\n        <ComposeView\n          renderCallback={renderCallback}\n          destroyCallback={destroyCallback}\n        />\n      </div>\n    );\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),h=(g.s[0]++,void g.b[0][0]++&&(g.b[0][1]++,(void 0).__extends)||(g.b[0][2]++,function(){g.f[0]++,g.s[1]++;var n=function(e,A){return g.f[1]++,g.s[2]++,g.b[1][0]++,n=Object.setPrototypeOf||(g.b[1][1]++,{__proto__:[]}instanceof Array&&(g.b[1][2]++,function(n,e){g.f[2]++,g.s[3]++,n.__proto__=e}))||(g.b[1][3]++,function(n,e){for(var A in g.f[3]++,g.s[4]++,e)g.s[5]++,Object.prototype.hasOwnProperty.call(e,A)?(g.b[2][0]++,g.s[6]++,n[A]=e[A]):g.b[2][1]++}),g.s[7]++,n(e,A)};return g.s[8]++,function(e,A){if(g.f[4]++,g.s[9]++,g.b[4][0]++,"function"!=typeof A&&(g.b[4][1]++,null!==A))throw g.b[3][0]++,g.s[10]++,new TypeError("Class extends value "+String(A)+" is not a constructor or null");function t(){g.f[5]++,g.s[12]++,this.constructor=e}g.b[3][1]++,g.s[11]++,n(e,A),g.s[13]++,e.prototype=null===A?(g.b[5][0]++,Object.create(A)):(g.b[5][1]++,t.prototype=A.prototype,new t)}}())),I=(g.s[14]++,function(n){function e(){return g.f[7]++,g.s[16]++,g.b[6][0]++,null!==n&&(g.b[6][1]++,n.apply(this,arguments))||(g.b[6][2]++,this)}return g.f[6]++,g.s[15]++,h(e,n),g.s[17]++,e.prototype.render=function(){g.f[8]++;var n=(g.s[18]++,this.props.position),e=(g.s[19]++,n.x),A=(g.s[20]++,n.y),t=(g.s[21]++,"translate3d("+e+"px, "+A+"px, 0)"),o=(g.s[22]++,this.props),i=(g.s[23]++,o.renderCallback),l=(g.s[24]++,o.destroyCallback);return g.s[25]++,s.h("div",{className:"dm-context-menu",style:{transform:t},"data-type":c.CONTEXT_MENU},s.h(m,{renderCallback:i,destroyCallback:l}))},g.s[26]++,e}(s.Component)),y=(function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/contextMenu/index.ts",e="88fbfc849d22018339def941d3512986d9334fa6",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/contextMenu/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/contextMenu/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/contextMenu/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,WAAW,EAAE,MAAM,eAAe,CAAC",sourcesContent:["export { default as ContextMenu } from './ContextMenu';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),A(5));var B=function(n,e,A){return n==n&&(void 0!==A&&(n=n<=A?n:A),void 0!==e&&(n=n>=e?n:e)),n},M=/\s/;var v=function(n){for(var e=n.length;e--&&M.test(n.charAt(e)););return e},b=/^\s+/;var O=function(n){return n?n.slice(0,v(n)+1).replace(b,""):n};var G=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)},D=A(3),k=D.a.Symbol,K=Object.prototype,S=K.hasOwnProperty,_=K.toString,x=k?k.toStringTag:void 0;var T=function(n){var e=S.call(n,x),A=n[x];try{n[x]=void 0;var t=!0}catch(n){}var o=_.call(n);return t&&(e?n[x]=A:delete n[x]),o},Q=Object.prototype.toString;var U=function(n){return Q.call(n)},w=k?k.toStringTag:void 0;var N=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":w&&w in Object(n)?T(n):U(n)};var P=function(n){return null!=n&&"object"==typeof n};var R=function(n){return"symbol"==typeof n||P(n)&&"[object Symbol]"==N(n)},Y=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,z=/^0o[0-7]+$/i,L=parseInt;var j=function(n){if("number"==typeof n)return n;if(R(n))return NaN;if(G(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=G(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=O(n);var A=W.test(n);return A||z.test(n)?L(n.slice(2),A?2:8):Y.test(n)?NaN:+n};var F=function(n,e,A){return void 0===A&&(A=e,e=void 0),void 0!==A&&(A=(A=j(A))==A?A:0),void 0!==e&&(e=(e=j(e))==e?e:0),B(j(n),e,A)},H=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/service/positionUtils.ts",e="ec605adf15ad7621662411a68f32b9296f6f6086",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/service/positionUtils.ts",statementMap:{0:{start:{line:11,column:12},end:{line:11,column:15}},1:{start:{line:12,column:12},end:{line:12,column:92}},2:{start:{line:13,column:12},end:{line:13,column:92}},3:{start:{line:14,column:4},end:{line:14,column:26}},4:{start:{line:23,column:4},end:{line:26,column:6}},5:{start:{line:35,column:13},end:{line:35,column:55}},6:{start:{line:35,column:64},end:{line:35,column:68}},7:{start:{line:35,column:77},end:{line:35,column:81}},8:{start:{line:36,column:20},end:{line:36,column:43}},9:{start:{line:37,column:20},end:{line:37,column:43}},10:{start:{line:42,column:20},end:{line:42,column:36}},11:{start:{line:46,column:20},end:{line:46,column:36}},12:{start:{line:47,column:4},end:{line:50,column:6}},13:{start:{line:57,column:4},end:{line:60,column:6}},14:{start:{line:72,column:4},end:{line:75,column:6}},15:{start:{line:87,column:4},end:{line:90,column:6}},16:{start:{line:99,column:25},end:{line:99,column:66}},17:{start:{line:100,column:4},end:{line:100,column:52}},18:{start:{line:109,column:4},end:{line:109,column:55}},19:{start:{line:119,column:4},end:{line:119,column:49}},20:{start:{line:129,column:4},end:{line:129,column:47}},21:{start:{line:138,column:4},end:{line:138,column:97}},22:{start:{line:141,column:4},end:{line:141,column:40}},23:{start:{line:150,column:12},end:{line:150,column:22}},24:{start:{line:150,column:28},end:{line:150,column:38}},25:{start:{line:151,column:15},end:{line:151,column:34}},26:{start:{line:152,column:16},end:{line:152,column:42}},27:{start:{line:153,column:14},end:{line:153,column:33}},28:{start:{line:154,column:17},end:{line:154,column:43}},29:{start:{line:155,column:4},end:{line:156,column:37}},30:{start:{line:174,column:4},end:{line:174,column:42}},31:{start:{line:174,column:29},end:{line:174,column:40}},32:{start:{line:175,column:15},end:{line:175,column:111}},33:{start:{line:176,column:15},end:{line:176,column:113}},34:{start:{line:177,column:15},end:{line:177,column:52}},35:{start:{line:178,column:15},end:{line:178,column:52}},36:{start:{line:179,column:4},end:{line:182,column:6}}},fnMap:{0:{name:"getCenterCoordinateForCurve",decl:{start:{line:10,column:16},end:{line:10,column:43}},loc:{start:{line:10,column:64},end:{line:15,column:1}},line:10},1:{name:"getMidpoint",decl:{start:{line:22,column:16},end:{line:22,column:27}},loc:{start:{line:22,column:59},end:{line:27,column:1}},line:22},2:{name:"getInflectionPoint",decl:{start:{line:34,column:16},end:{line:34,column:34}},loc:{start:{line:34,column:66},end:{line:51,column:1}},line:34},3:{name:"getScrollPosition",decl:{start:{line:56,column:16},end:{line:56,column:33}},loc:{start:{line:56,column:36},end:{line:61,column:1}},line:56},4:{name:"add",decl:{start:{line:71,column:16},end:{line:71,column:19}},loc:{start:{line:71,column:51},end:{line:76,column:1}},line:71},5:{name:"subtract",decl:{start:{line:86,column:16},end:{line:86,column:24}},loc:{start:{line:86,column:56},end:{line:91,column:1}},line:86},6:{name:"fromScreenToPage",decl:{start:{line:98,column:16},end:{line:98,column:32}},loc:{start:{line:98,column:45},end:{line:101,column:1}},line:98},7:{name:"fromPageToScreen",decl:{start:{line:108,column:16},end:{line:108,column:32}},loc:{start:{line:108,column:47},end:{line:110,column:1}},line:108},8:{name:"fromPageToContainer",decl:{start:{line:118,column:16},end:{line:118,column:35}},loc:{start:{line:118,column:65},end:{line:120,column:1}},line:118},9:{name:"fromContainerToPage",decl:{start:{line:128,column:16},end:{line:128,column:35}},loc:{start:{line:128,column:68},end:{line:130,column:1}},line:128},10:{name:"getCenteredPosition",decl:{start:{line:137,column:16},end:{line:137,column:35}},loc:{start:{line:137,column:59},end:{line:139,column:1}},line:137},11:{name:"isBetween",decl:{start:{line:140,column:9},end:{line:140,column:18}},loc:{start:{line:140,column:36},end:{line:142,column:1}},line:140},12:{name:"isPositionInRectangle",decl:{start:{line:149,column:16},end:{line:149,column:37}},loc:{start:{line:149,column:58},end:{line:157,column:1}},line:149},13:{name:"constrainRectangleWithinRectangle",decl:{start:{line:173,column:16},end:{line:173,column:49}},loc:{start:{line:173,column:93},end:{line:183,column:1}},line:173}},branchMap:{0:{loc:{start:{line:141,column:11},end:{line:141,column:39}},type:"binary-expr",locations:[{start:{line:141,column:11},end:{line:141,column:23}},{start:{line:141,column:27},end:{line:141,column:39}}],line:141},1:{loc:{start:{line:155,column:11},end:{line:156,column:36}},type:"binary-expr",locations:[{start:{line:155,column:11},end:{line:155,column:36}},{start:{line:156,column:11},end:{line:156,column:36}}],line:155},2:{loc:{start:{line:174,column:4},end:{line:174,column:42}},type:"if",locations:[{start:{line:174,column:4},end:{line:174,column:42}},{start:{line:174,column:4},end:{line:174,column:42}}],line:174}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/service/positionUtils.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/service/positionUtils.ts"],names:[],mappings:"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",sourcesContent:["import clamp from 'lodash-es/clamp';\n\nimport { Position, Rectangle, Size } from 'diagramMaker/state/types';\n\n/**\n * Finds a center point within a Bezier curve\n * https://stackoverflow.com/questions/5634460/quadratic-b%C3%A9zier-curve-calculate-points#5634528\n * @param {Position} src\n * @param {Position} dest\n * @param {Position} control\n * @return {Position} The center Position\n */\nexport function getCenterCoordinateForCurve(src: Position, dest: Position, control: Position) {\n  const t = 0.5;\n  const x = ((1 - t) * (1 - t) * (src.x)) + (2 * (1 - t) * t * control.x) + (t * t * dest.x);\n  const y = ((1 - t) * (1 - t) * (src.y)) + (2 * (1 - t) * t * control.y) + (t * t * dest.y);\n  return { x, y };\n}\n\n/**\n * Finds the center between two position objects.\n * @param {Position} firstPosition\n * @param {Position} secondPosition\n * @return {Position} The center position object\n */\nexport function getMidpoint(firstPosition: Position, secondPosition: Position): Position {\n  return {\n    x: (firstPosition.x + secondPosition.x) / 2,\n    y: (firstPosition.y + secondPosition.y) / 2\n  };\n}\n\n/**\n * Finds point to draw curve between two position objects\n * @param {Position} firstPosition\n * @param {Position} secondPosition\n * @return {Position} The inflection point position object\n */\nexport function getInflectionPoint(firstPosition: Position, secondPosition: Position): Position {\n  const { x: midX, y: midY } = getMidpoint(firstPosition, secondPosition);\n  const distanceX = midX - secondPosition.x;\n  const distanceY = midY - secondPosition.y;\n\n  // Q = Inflection point = (-distanceY, distanceX)\n  // startingX (Qx)\n  // -distanceY = Qx - midX\n  // Qx = midX - distanceY\n  const startingX = midX - distanceY;\n\n  // startingY (Qy)\n  // distanceX = Qy - Py (midY)\n  // distanceX + midY = Qy\n  const startingY = midY + distanceX;\n\n  return {\n    x: startingX,\n    y: startingY\n  };\n}\n\n/**\n * Returns the current scroll position.\n * @return {Position} The current scroll position.\n */\nexport function getScrollPosition(): Position {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n}\n\n/**\n * Adds two position objects.\n * Keep in mind that one of the positions should be of the entity that the other position is relative to.\n * For example: firstPosition is position of A relative to B & secondPosition is position of\n * B relative to C, then this function returns position of A relative to C.\n * @param {Position} firstPosition\n * @param {Position} secondPosition\n * @return {Position} The added position object.\n */\nexport function add(firstPosition: Position, secondPosition: Position): Position {\n  return {\n    x: firstPosition.x + secondPosition.x,\n    y: firstPosition.y + secondPosition.y\n  };\n}\n\n/**\n * Subtracts the second position object from the first.\n * Keep in mind that both positions should be relative to the same entity.\n * For example: firstPosition is position of A relative to C & secondPosition is position of\n * B relative to C, then this function returns position of A relative to B.\n * @param {Position} firstPosition\n * @param {Position} secondPosition\n * @return {Position} The subtracted position object.\n */\nexport function subtract(firstPosition: Position, secondPosition: Position): Position {\n  return {\n    x: firstPosition.x - secondPosition.x,\n    y: firstPosition.y - secondPosition.y\n  };\n}\n\n/**\n * Converts an object returned by getBoundingClientRect from screen relative coordiantes to\n * page/document relative coordinates.\n * @param {ClientRect | DOMRect} screenRect - An object returned by getBoundingClientRect\n * @return {Position} The position relative to the page/document.\n */\nexport function fromScreenToPage(screenRect: ClientRect | DOMRect): Position {\n  const screenPosition = { x: screenRect.left, y: screenRect.top };\n  return add(screenPosition, getScrollPosition());\n}\n\n/**\n * Converts a position relative to the page/document to a position relative to the screen.\n * Relies on the current scroll position.\n * @param {Position} pagePosition - position relative to the page/document\n * @return {Position} The position relative to the screen.\n */\nexport function fromPageToScreen(pagePosition: Position): Position {\n  return subtract(pagePosition, getScrollPosition());\n}\n\n/**\n * Converts a position relative to the page/document to a position relative to the container.\n * Relies on container's position relative to the page/document.\n * @param {Position} pagePosition - position relative to page/document\n * @param {Position} contextOffset - position of container relative to page/document\n * @return {Position} The position relative to the container.\n */\nexport function fromPageToContainer(pagePosition: Position, contextOffset: Position): Position {\n  return subtract(pagePosition, contextOffset);\n}\n\n/**\n * Converts a position relative to the container to a position relative to page/document.\n * Relies on container's position relative to the page/document.\n * @param {Position} contextPosition - position relative to container\n * @param {Position} contextOffset - position of container relative to page/document\n * @return {Position} The position relative to the page/document.\n */\nexport function fromContainerToPage(contextPosition: Position, contextOffset: Position): Position {\n  return add(contextPosition, contextOffset);\n}\n\n/**\n * Returns the centered position inside the container.\n * @param {Position} topLeftPosition - Position of the top left edge of the container\n * @param {Size} size - Size of the container\n * @return {Position} Position for the center of the container\n */\nexport function getCenteredPosition(topLeftPosition: Position, size: Size) {\n  return { x: topLeftPosition.x - (size.width / 2), y: topLeftPosition.y - (size.height / 2) };\n}\n\nfunction isBetween(value: number, min: number, max: number): boolean {\n  return value >= min && value <= max;\n}\n\n/**\n * Returns true if the given position is within the given rectangle\n * @param {Position} position - the position which much be in the rectangle\n * @param {Rectangle} rectange - the rectangle which must contain the position\n * @return {boolean} indicates whether the position is inside of the rectangle\n */\nexport function isPositionInRectangle(position: Position, rectange: Rectangle): boolean {\n  const { x, y } = position;\n  const left = rectange.position.x;\n  const right = left + rectange.size.width;\n  const top = rectange.position.y;\n  const bottom = top + rectange.size.height;\n\n  return isBetween(x, left, right)\n      && isBetween(y, top, bottom);\n}\n/**\n * Returns a position which is based off of innerRectangle's position but is modified so that\n * the etirety of the innerRectangle fits inside of the boundingRectangle if possible.\n *\n * The difference between the returned position and innerRectangle.position should be as\n * small as possible while still constraining the innerRectangle within the boundingRectangle.\n *\n * If the innerRectangle is already fully within the boundingRectangle, the returned position\n * is the same as innerRectangle.position.\n *\n * @param {Rectangle} innerRectangle - the rectangle which we need to fit inside of the boundingRectangle\n * @param {Rectangle} boundingRectangle - the rectangle which the innerRectangle must fit inside\n * @param {number} margin - extra margin to be applied [optional, defaults to 0]\n * @return {Position} the new position for innerRectangle in order to constrain it within the boundingRectangle\n */\nexport function constrainRectangleWithinRectangle(\n  innerRectangle: Rectangle,\n  boundingRectangle: Rectangle,\n  margin = 0\n): Position {\n\n  const maxX = boundingRectangle.size.width + boundingRectangle.position.x - innerRectangle.size.width - margin;\n  const maxY = boundingRectangle.size.height + boundingRectangle.position.y - innerRectangle.size.height - margin;\n\n  const minX = boundingRectangle.position.x + margin;\n  const minY = boundingRectangle.position.y + margin;\n\n  return {\n    x: clamp(\n      innerRectangle.position.x,\n      minX,\n      maxX\n    ),\n    y: clamp(\n      innerRectangle.position.y,\n      minY,\n      maxY\n    )\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function q(n,e){H.f[2]++;var A=(H.s[5]++,function(n,e){return H.f[1]++,H.s[4]++,{x:(n.x+e.x)/2,y:(n.y+e.y)/2}}(n,e)),t=(H.s[6]++,A.x),o=(H.s[7]++,A.y),i=(H.s[8]++,t-e.x),l=(H.s[9]++,o-e.y),r=(H.s[10]++,t-l),a=(H.s[11]++,o+i);return H.s[12]++,{x:r,y:a}}function V(){return H.f[3]++,H.s[13]++,{x:window.pageXOffset,y:window.pageYOffset}}function X(n,e){return H.f[4]++,H.s[14]++,{x:n.x+e.x,y:n.y+e.y}}function Z(n,e){return H.f[5]++,H.s[15]++,{x:n.x-e.x,y:n.y-e.y}}function J(n){H.f[6]++;var e=(H.s[16]++,{x:n.left,y:n.top});return H.s[17]++,X(e,V())}function $(n,e){return H.f[8]++,H.s[19]++,Z(n,e)}function nn(n,e){return H.f[9]++,H.s[20]++,X(n,e)}function en(n,e){return H.f[10]++,H.s[21]++,{x:n.x-e.width/2,y:n.y-e.height/2}}function An(n,e,A){return H.f[11]++,H.s[22]++,H.b[0][0]++,n>=e&&(H.b[0][1]++,n<=A)}function tn(n,e,A){H.f[13]++,H.s[30]++,void 0===A?(H.b[2][0]++,H.s[31]++,A=0):H.b[2][1]++;var t=(H.s[32]++,e.size.width+e.position.x-n.size.width-A),o=(H.s[33]++,e.size.height+e.position.y-n.size.height-A),i=(H.s[34]++,e.position.x+A),l=(H.s[35]++,e.position.y+A);return H.s[36]++,{x:F(n.position.x,i,t),y:F(n.position.y,l,o)}}var on,ln=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/EdgeCurve.tsx",e="27fd5553cd5c5b148a4c82b85ddc04b88ddfdbee",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/EdgeCurve.tsx",statementMap:{0:{start:{line:7,column:0},end:{line:12,column:34}},1:{start:{line:8,column:4},end:{line:8,column:72}},2:{start:{line:9,column:4},end:{line:9,column:72}},3:{start:{line:10,column:4},end:{line:10,column:54}},4:{start:{line:11,column:4},end:{line:11,column:70}},5:{start:{line:13,column:29},end:{line:20,column:1}},6:{start:{line:14,column:13},end:{line:14,column:18}},7:{start:{line:14,column:25},end:{line:14,column:30}},8:{start:{line:15,column:13},end:{line:15,column:19}},9:{start:{line:15,column:26},end:{line:15,column:32}},10:{start:{line:16,column:13},end:{line:16,column:42}},11:{start:{line:16,column:56},end:{line:16,column:60}},12:{start:{line:16,column:74},end:{line:16,column:78}},13:{start:{line:17,column:21},end:{line:17,column:53}},14:{start:{line:18,column:19},end:{line:18,column:97}},15:{start:{line:19,column:4},end:{line:19,column:93}},16:{start:{line:21,column:29},end:{line:29,column:1}},17:{start:{line:22,column:13},end:{line:22,column:18}},18:{start:{line:22,column:25},end:{line:22,column:30}},19:{start:{line:23,column:13},end:{line:23,column:19}},20:{start:{line:23,column:26},end:{line:23,column:32}},21:{start:{line:24,column:16},end:{line:24,column:23}},22:{start:{line:25,column:20},end:{line:25,column:29}},23:{start:{line:26,column:21},end:{line:26,column:53}},24:{start:{line:27,column:19},end:{line:27,column:153}},25:{start:{line:28,column:4},end:{line:28,column:93}},26:{start:{line:30,column:29},end:{line:38,column:1}},27:{start:{line:31,column:13},end:{line:31,column:18}},28:{start:{line:31,column:25},end:{line:31,column:30}},29:{start:{line:32,column:13},end:{line:32,column:19}},30:{start:{line:32,column:26},end:{line:32,column:32}},31:{start:{line:33,column:17},end:{line:33,column:24}},32:{start:{line:34,column:21},end:{line:34,column:31}},33:{start:{line:35,column:21},end:{line:35,column:53}},34:{start:{line:36,column:19},end:{line:36,column:155}},35:{start:{line:37,column:4},end:{line:37,column:93}},36:{start:{line:39,column:22},end:{line:42,column:1}},37:{start:{line:40,column:21},end:{line:40,column:53}},38:{start:{line:41,column:4},end:{line:41,column:126}},39:{start:{line:43,column:16},end:{line:59,column:1}},40:{start:{line:44,column:14},end:{line:44,column:23}},41:{start:{line:44,column:32},end:{line:44,column:42}},42:{start:{line:44,column:56},end:{line:44,column:71}},43:{start:{line:44,column:85},end:{line:44,column:100}},44:{start:{line:44,column:118},end:{line:44,column:137}},45:{start:{line:46,column:4},end:{line:48,column:5}},46:{start:{line:47,column:8},end:{line:47,column:34}},47:{start:{line:49,column:4},end:{line:58,column:5}},48:{start:{line:51,column:12},end:{line:51,column:75}},49:{start:{line:53,column:12},end:{line:53,column:75}},50:{start:{line:55,column:12},end:{line:55,column:68}},51:{start:{line:57,column:12},end:{line:57,column:75}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:1},end:{line:7,column:2}},loc:{start:{line:7,column:22},end:{line:12,column:1}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:13,column:29},end:{line:13,column:30}},loc:{start:{line:13,column:72},end:{line:20,column:1}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:21,column:29},end:{line:21,column:30}},loc:{start:{line:21,column:72},end:{line:29,column:1}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:30,column:29},end:{line:30,column:30}},loc:{start:{line:30,column:72},end:{line:38,column:1}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:39,column:22},end:{line:39,column:23}},loc:{start:{line:39,column:65},end:{line:42,column:1}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:43,column:16},end:{line:43,column:17}},loc:{start:{line:43,column:33},end:{line:59,column:1}},line:43}},branchMap:{0:{loc:{start:{line:12,column:3},end:{line:12,column:32}},type:"binary-expr",locations:[{start:{line:12,column:3},end:{line:12,column:12}},{start:{line:12,column:17},end:{line:12,column:31}}],line:12},1:{loc:{start:{line:46,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:48,column:5}},{start:{line:46,column:4},end:{line:48,column:5}}],line:46},2:{loc:{start:{line:49,column:4},end:{line:58,column:5}},type:"switch",locations:[{start:{line:50,column:8},end:{line:51,column:75}},{start:{line:52,column:8},end:{line:53,column:75}},{start:{line:54,column:8},end:{line:55,column:68}},{start:{line:56,column:8},end:{line:57,column:75}}],line:49}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0,0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/EdgeCurve.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/EdgeCurve.tsx"],names:[],mappings:"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",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport { getInflectionPoint } from 'diagramMaker/service/positionUtils';\nimport { Position } from 'diagramMaker/state/types';\n\n// @NOTE: Depending on node connector placement\n// the bezier curve is drawn differently, so we have two types\nexport enum EdgeStyle {\n  LEFT_RIGHT_BEZIER,\n  TOP_BOTTOM_BEZIER,\n  STRAIGHT,\n  QUADRATIC_BEZIER\n}\n\nexport interface EdgeCurveProps {\n  src: Position;\n  dest: Position;\n  edgeStyle: EdgeStyle;\n  className?: string;\n  showArrowhead?: boolean;\n}\n\nconst getQuadraticBezierPath = (src: Position, dest: Position, className?: string, markerEnd?: string): JSX.Element => {\n  const { x: x1, y: y1 } = src;\n  const { x: x2, y: y2 } = dest;\n  const { x: startingX, y: startingY } = getInflectionPoint(src, dest);\n  const classNames = classnames('dm-path', className);\n\n  const pathData = `M${x1},${y1} Q${startingX},${startingY} ${x2},${y2}`;\n  return <path className={classNames} d={pathData} marker-end={markerEnd} />;\n};\n\nconst getLeftRightBezierPath = (src: Position, dest: Position, className?: string, markerEnd?: string): JSX.Element => {\n  const { x: x1, y: y1 } = src;\n  const { x: x2, y: y2 } = dest;\n  const width = x2 - x1;\n  const halfWidth = width / 2;\n  const classNames = classnames('dm-path', className);\n\n  const pathData = `M${x1},${y1} C${x1 + Math.abs(halfWidth)},${y1} ${x2 - Math.abs(halfWidth)},${y2} ${x2},${y2}`;\n  return <path className={classNames} d={pathData} marker-end={markerEnd} />;\n};\n\nconst getTopBottomBezierPath = (src: Position, dest: Position, className?: string, markerEnd?: string): JSX.Element => {\n  const { x: x1, y: y1 } = src;\n  const { x: x2, y: y2 } = dest;\n  const height = y2 - y1;\n  const halfHeight = height / 2;\n  const classNames = classnames('dm-path', className);\n\n  const pathData = `M${x1},${y1} C${x1},${y1 + Math.abs(halfHeight)} ${x2},${y2 - Math.abs(halfHeight)} ${x2},${y2}`;\n  return <path className={classNames} d={pathData} marker-end={markerEnd} />;\n};\n\nconst getStraightPath = (src: Position, dest: Position, className?: string, markerEnd?: string): JSX.Element => {\n  const classNames = classnames('dm-path', className);\n  return <line className={classNames} x1={src.x} y1={src.y} x2={dest.x} y2={dest.y} marker-end={markerEnd} />;\n};\n\nconst EdgeCurve = (props: Preact.RenderableProps<EdgeCurveProps>): JSX.Element => {\n  const { src, dest, edgeStyle, className, showArrowhead } = props;\n  let markerEnd;\n  if (showArrowhead) {\n    markerEnd = 'url(#arrow)';\n  }\n  switch (edgeStyle) {\n    case EdgeStyle.LEFT_RIGHT_BEZIER:\n      return getLeftRightBezierPath(src, dest, className, markerEnd);\n    case EdgeStyle.TOP_BOTTOM_BEZIER:\n      return getTopBottomBezierPath(src, dest, className, markerEnd);\n    case EdgeStyle.STRAIGHT:\n      return getStraightPath(src, dest, className, markerEnd);\n    case EdgeStyle.QUADRATIC_BEZIER:\n      return getQuadraticBezierPath(src, dest, className, markerEnd);\n  }\n};\n\nexport default EdgeCurve;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();ln.s[0]++,function(n){ln.f[0]++,ln.s[1]++,n[n.LEFT_RIGHT_BEZIER=0]="LEFT_RIGHT_BEZIER",ln.s[2]++,n[n.TOP_BOTTOM_BEZIER=1]="TOP_BOTTOM_BEZIER",ln.s[3]++,n[n.STRAIGHT=2]="STRAIGHT",ln.s[4]++,n[n.QUADRATIC_BEZIER=3]="QUADRATIC_BEZIER"}((ln.b[0][0]++,on||(ln.b[0][1]++,on={}))),ln.s[5]++;ln.s[16]++;ln.s[26]++;ln.s[36]++;ln.s[39]++;var rn=function(n){ln.f[5]++;var e,A=(ln.s[40]++,n.src),t=(ln.s[41]++,n.dest),o=(ln.s[42]++,n.edgeStyle),i=(ln.s[43]++,n.className),l=(ln.s[44]++,n.showArrowhead);switch(ln.s[45]++,l?(ln.b[1][0]++,ln.s[46]++,e="url(#arrow)"):ln.b[1][1]++,ln.s[47]++,o){case on.LEFT_RIGHT_BEZIER:return ln.b[2][0]++,ln.s[48]++,function(n,e,A,t){ln.f[2]++;var o=(ln.s[17]++,n.x),i=(ln.s[18]++,n.y),l=(ln.s[19]++,e.x),r=(ln.s[20]++,e.y),a=(ln.s[21]++,l-o),c=(ln.s[22]++,a/2),C=(ln.s[23]++,y("dm-path",A)),u=(ln.s[24]++,"M"+o+","+i+" C"+(o+Math.abs(c))+","+i+" "+(l-Math.abs(c))+","+r+" "+l+","+r);return ln.s[25]++,s.h("path",{className:C,d:u,"marker-end":t})}(A,t,i,e);case on.TOP_BOTTOM_BEZIER:return ln.b[2][1]++,ln.s[49]++,function(n,e,A,t){ln.f[3]++;var o=(ln.s[27]++,n.x),i=(ln.s[28]++,n.y),l=(ln.s[29]++,e.x),r=(ln.s[30]++,e.y),a=(ln.s[31]++,r-i),c=(ln.s[32]++,a/2),C=(ln.s[33]++,y("dm-path",A)),u=(ln.s[34]++,"M"+o+","+i+" C"+o+","+(i+Math.abs(c))+" "+l+","+(r-Math.abs(c))+" "+l+","+r);return ln.s[35]++,s.h("path",{className:C,d:u,"marker-end":t})}(A,t,i,e);case on.STRAIGHT:return ln.b[2][2]++,ln.s[50]++,function(n,e,A,t){ln.f[4]++;var o=(ln.s[37]++,y("dm-path",A));return ln.s[38]++,s.h("line",{className:o,x1:n.x,y1:n.y,x2:e.x,y2:e.y,"marker-end":t})}(A,t,i,e);case on.QUADRATIC_BEZIER:return ln.b[2][3]++,ln.s[51]++,function(n,e,A,t){ln.f[1]++;var o=(ln.s[6]++,n.x),i=(ln.s[7]++,n.y),l=(ln.s[8]++,e.x),r=(ln.s[9]++,e.y),a=(ln.s[10]++,q(n,e)),c=(ln.s[11]++,a.x),C=(ln.s[12]++,a.y),u=(ln.s[13]++,y("dm-path",A)),d=(ln.s[14]++,"M"+o+","+i+" Q"+c+","+C+" "+l+","+r);return ln.s[15]++,s.h("path",{className:u,d:d,"marker-end":t})}(A,t,i,e)}},an=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/Edge.tsx",e="ebc1c9ed095592ef72ba1382c0756c51beb8e1f3",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/Edge.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:15,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:14,column:6}},9:{start:{line:9,column:8},end:{line:10,column:102}},10:{start:{line:10,column:12},end:{line:10,column:102}},11:{start:{line:11,column:8},end:{line:11,column:28}},12:{start:{line:12,column:24},end:{line:12,column:45}},13:{start:{line:13,column:8},end:{line:13,column:93}},14:{start:{line:22,column:26},end:{line:41,column:19}},15:{start:{line:23,column:4},end:{line:23,column:28}},16:{start:{line:25,column:20},end:{line:25,column:76}},17:{start:{line:26,column:8},end:{line:28,column:10}},18:{start:{line:27,column:12},end:{line:27,column:139}},19:{start:{line:29,column:8},end:{line:29,column:21}},20:{start:{line:31,column:4},end:{line:39,column:6}},21:{start:{line:32,column:17},end:{line:32,column:27}},22:{start:{line:32,column:35},end:{line:32,column:41}},23:{start:{line:32,column:50},end:{line:32,column:57}},24:{start:{line:32,column:71},end:{line:32,column:83}},25:{start:{line:32,column:97},end:{line:32,column:109}},26:{start:{line:32,column:116},end:{line:32,column:121}},27:{start:{line:32,column:134},end:{line:32,column:145}},28:{start:{line:32,column:163},end:{line:32,column:179}},29:{start:{line:33,column:25},end:{line:33,column:86}},30:{start:{line:34,column:29},end:{line:34,column:96}},31:{start:{line:35,column:29},end:{line:35,column:96}},32:{start:{line:36,column:8},end:{line:38,column:29}},33:{start:{line:40,column:4},end:{line:40,column:16}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:15,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:14,column:5}},line:8},5:{name:"__",decl:{start:{line:12,column:17},end:{line:12,column:19}},loc:{start:{line:12,column:22},end:{line:12,column:47}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:22,column:26},end:{line:22,column:27}},loc:{start:{line:22,column:44},end:{line:41,column:1}},line:22},7:{name:"Edge",decl:{start:{line:24,column:13},end:{line:24,column:17}},loc:{start:{line:24,column:20},end:{line:30,column:5}},line:24},8:{name:"(anonymous_8)",decl:{start:{line:26,column:25},end:{line:26,column:26}},loc:{start:{line:26,column:83},end:{line:28,column:9}},line:26},9:{name:"(anonymous_9)",decl:{start:{line:31,column:28},end:{line:31,column:29}},loc:{start:{line:31,column:40},end:{line:39,column:5}},line:31}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:15,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:15,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:9,column:8},end:{line:10,column:102}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:102}},{start:{line:9,column:8},end:{line:10,column:102}}],line:9},4:{loc:{start:{line:9,column:12},end:{line:9,column:49}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:35}},{start:{line:9,column:39},end:{line:9,column:49}}],line:9},5:{loc:{start:{line:13,column:22},end:{line:13,column:92}},type:"cond-expr",locations:[{start:{line:13,column:35},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:91}}],line:13},6:{loc:{start:{line:25,column:20},end:{line:25,column:76}},type:"binary-expr",locations:[{start:{line:25,column:20},end:{line:25,column:35}},{start:{line:25,column:39},end:{line:25,column:68}},{start:{line:25,column:72},end:{line:25,column:76}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/Edge.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/Edge.tsx"],names:[],mappings:";;;;;;;;;;;;;;;AAAA,OAAO,KAAK,UAAU,MAAM,YAAY,CAAC;AACzC,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,EAAE,OAAO,IAAI,SAAS,EAAa,MAAM,aAAa,CAAC;AAE9D,OAAO,aAAa,CAAC;AAcrB,0DAA0D;AAC1D;IAAkC,wBAA2B;IAA7D;QAAA,qEA+BC;QAJS,cAAQ,GAAG,UACjB,GAAa,EAAE,IAAc,EAAE,SAAoB,EAAE,SAAiB,EAAE,aAAuB;YAE/F,OAAA,SAAC,SAAS,IAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,aAAa,EAAE,aAAa,GAAI;QAA7G,CAA6G,CAAA;;IACjH,CAAC;IA7BQ,qBAAM,GAAb;QACQ,IAAA,KAEF,IAAI,CAAC,KAAK,EADZ,GAAG,SAAA,EAAE,IAAI,UAAA,EAAE,SAAS,eAAA,EAAE,SAAS,eAAA,EAAE,EAAE,QAAA,EAAE,QAAQ,cAAA,EAAE,aAAa,mBAChD,CAAC;QAEf,IAAM,UAAU,GAAG,UAAU,CAAC,SAAS,EAAE,SAAS,EAAE,EAAE,aAAa,EAAE,QAAQ,EAAE,CAAC,CAAC;QAEjF,IAAM,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;QAC3F,IAAM,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;QAE3F,OAAM,CACJ,gBACE,SAAS,EAAE,UAAU,aACZ,EAAE,eACA,0BAA0B,CAAC,IAAI,uBACvB,IAAI,2BACA,IAAI,CAAC,KAAK,CAAC,SAAS,yBACtB,IAAI,CAAC,KAAK,CAAC,UAAU;YAEzC,cAAc;YACd,cAAc,CACb,CACL,CAAC;IACJ,CAAC;IAMH,WAAC;AAAD,CAAC,AA/BD,CAAkC,MAAM,CAAC,SAAS,GA+BjD",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position } from 'diagramMaker/state/types';\n\nimport { default as EdgeCurve, EdgeStyle } from './EdgeCurve';\n\nimport './Edge.scss';\n\nexport interface EdgeProps {\n  id: string;\n  src: Position;\n  dest: Position;\n  edgeStyle: EdgeStyle;\n  srcTypeId?: string;\n  destTypeId?: string;\n  selected?: boolean;\n  className?: string | string[];\n  showArrowhead?: boolean;\n}\n\n// @TODO: Make edge and label fully interactive like nodes\nexport default class Edge extends Preact.Component<EdgeProps> {\n\n  public render() {\n    const {\n      src, dest, className, edgeStyle, id, selected, showArrowhead\n    } = this.props;\n\n    const classNames = classnames('dm-edge', className, { 'dm-selected': selected });\n\n    const curvePathInner = this.getCurve(src, dest, edgeStyle, 'dm-path-inner', showArrowhead);\n    const curvePathOuter = this.getCurve(src, dest, edgeStyle, 'dm-path-outer', showArrowhead);\n\n    return(\n      <g\n        className={classNames}\n        data-id={id}\n        data-type={DiagramMakerComponentsType.EDGE}\n        data-event-target={true}\n        data-edge-source-type={this.props.srcTypeId}\n        data-edge-dest-type={this.props.destTypeId}\n      >\n        {curvePathInner}\n        {curvePathOuter}\n      </g>\n    );\n  }\n\n  private getCurve = (\n    src: Position, dest: Position, edgeStyle: EdgeStyle, className: string, showArrowhead?: boolean\n  ) =>\n    <EdgeCurve src={src} dest={dest} edgeStyle={edgeStyle} className={className} showArrowhead={showArrowhead} />\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),cn=(an.s[0]++,void an.b[0][0]++&&(an.b[0][1]++,(void 0).__extends)||(an.b[0][2]++,function(){an.f[0]++,an.s[1]++;var n=function(e,A){return an.f[1]++,an.s[2]++,an.b[1][0]++,n=Object.setPrototypeOf||(an.b[1][1]++,{__proto__:[]}instanceof Array&&(an.b[1][2]++,function(n,e){an.f[2]++,an.s[3]++,n.__proto__=e}))||(an.b[1][3]++,function(n,e){for(var A in an.f[3]++,an.s[4]++,e)an.s[5]++,Object.prototype.hasOwnProperty.call(e,A)?(an.b[2][0]++,an.s[6]++,n[A]=e[A]):an.b[2][1]++}),an.s[7]++,n(e,A)};return an.s[8]++,function(e,A){if(an.f[4]++,an.s[9]++,an.b[4][0]++,"function"!=typeof A&&(an.b[4][1]++,null!==A))throw an.b[3][0]++,an.s[10]++,new TypeError("Class extends value "+String(A)+" is not a constructor or null");function t(){an.f[5]++,an.s[12]++,this.constructor=e}an.b[3][1]++,an.s[11]++,n(e,A),an.s[13]++,e.prototype=null===A?(an.b[5][0]++,Object.create(A)):(an.b[5][1]++,t.prototype=A.prototype,new t)}}())),sn=(an.s[14]++,function(n){function e(){an.f[7]++;var e=(an.s[16]++,an.b[6][0]++,null!==n&&(an.b[6][1]++,n.apply(this,arguments))||(an.b[6][2]++,this));return an.s[17]++,e.getCurve=function(n,e,A,t,o){return an.f[8]++,an.s[18]++,s.h(rn,{src:n,dest:e,edgeStyle:A,className:t,showArrowhead:o})},an.s[19]++,e}return an.f[6]++,an.s[15]++,cn(e,n),an.s[20]++,e.prototype.render=function(){an.f[9]++;var n=(an.s[21]++,this.props),e=(an.s[22]++,n.src),A=(an.s[23]++,n.dest),t=(an.s[24]++,n.className),o=(an.s[25]++,n.edgeStyle),i=(an.s[26]++,n.id),l=(an.s[27]++,n.selected),r=(an.s[28]++,n.showArrowhead),a=(an.s[29]++,y("dm-edge",t,{"dm-selected":l})),C=(an.s[30]++,this.getCurve(e,A,o,"dm-path-inner",r)),u=(an.s[31]++,this.getCurve(e,A,o,"dm-path-outer",r));return an.s[32]++,s.h("g",{className:a,"data-id":i,"data-type":c.EDGE,"data-event-target":!0,"data-edge-source-type":this.props.srcTypeId,"data-edge-dest-type":this.props.destTypeId},C,u)},an.s[33]++,e}(s.Component)),Cn=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/EdgeBadge.tsx",e="c6384525e573551698d3346928ecfd60336990d2",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/EdgeBadge.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:15,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:14,column:6}},9:{start:{line:9,column:8},end:{line:10,column:102}},10:{start:{line:10,column:12},end:{line:10,column:102}},11:{start:{line:11,column:8},end:{line:11,column:28}},12:{start:{line:12,column:24},end:{line:12,column:45}},13:{start:{line:13,column:8},end:{line:13,column:93}},14:{start:{line:21,column:31},end:{line:44,column:19}},15:{start:{line:22,column:4},end:{line:22,column:33}},16:{start:{line:24,column:8},end:{line:24,column:72}},17:{start:{line:26,column:4},end:{line:42,column:6}},18:{start:{line:27,column:17},end:{line:27,column:27}},19:{start:{line:27,column:34},end:{line:27,column:39}},20:{start:{line:27,column:47},end:{line:27,column:53}},21:{start:{line:27,column:62},end:{line:27,column:69}},22:{start:{line:27,column:88},end:{line:27,column:105}},23:{start:{line:27,column:125},end:{line:27,column:143}},24:{start:{line:27,column:164},end:{line:27,column:183}},25:{start:{line:28,column:19},end:{line:28,column:42}},26:{start:{line:29,column:18},end:{line:29,column:41}},27:{start:{line:30,column:20},end:{line:30,column:44}},28:{start:{line:31,column:21},end:{line:31,column:45}},29:{start:{line:32,column:8},end:{line:37,column:9}},30:{start:{line:33,column:20},end:{line:33,column:49}},31:{start:{line:34,column:35},end:{line:34,column:76}},32:{start:{line:35,column:12},end:{line:35,column:54}},33:{start:{line:36,column:12},end:{line:36,column:54}},34:{start:{line:38,column:20},end:{line:38,column:74}},35:{start:{line:39,column:8},end:{line:41,column:111}},36:{start:{line:43,column:4},end:{line:43,column:21}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:15,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:14,column:5}},line:8},5:{name:"__",decl:{start:{line:12,column:17},end:{line:12,column:19}},loc:{start:{line:12,column:22},end:{line:12,column:47}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:21,column:31},end:{line:21,column:32}},loc:{start:{line:21,column:49},end:{line:44,column:1}},line:21},7:{name:"EdgeBadge",decl:{start:{line:23,column:13},end:{line:23,column:22}},loc:{start:{line:23,column:25},end:{line:25,column:5}},line:23},8:{name:"(anonymous_8)",decl:{start:{line:26,column:33},end:{line:26,column:34}},loc:{start:{line:26,column:45},end:{line:42,column:5}},line:26}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:15,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:15,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:9,column:8},end:{line:10,column:102}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:102}},{start:{line:9,column:8},end:{line:10,column:102}}],line:9},4:{loc:{start:{line:9,column:12},end:{line:9,column:49}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:35}},{start:{line:9,column:39},end:{line:9,column:49}}],line:9},5:{loc:{start:{line:13,column:22},end:{line:13,column:92}},type:"cond-expr",locations:[{start:{line:13,column:35},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:91}}],line:13},6:{loc:{start:{line:24,column:15},end:{line:24,column:71}},type:"binary-expr",locations:[{start:{line:24,column:15},end:{line:24,column:30}},{start:{line:24,column:34},end:{line:24,column:63}},{start:{line:24,column:67},end:{line:24,column:71}}],line:24},7:{loc:{start:{line:32,column:8},end:{line:37,column:9}},type:"if",locations:[{start:{line:32,column:8},end:{line:37,column:9}},{start:{line:32,column:8},end:{line:37,column:9}}],line:32}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/EdgeBadge.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/EdgeBadge.tsx"],names:[],mappings:";;;;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,WAAW,EAAE,MAAM,gCAAgC,CAAC;AAE7D,OAAO,EAAE,2BAA2B,EAAE,kBAAkB,EAAE,MAAM,oCAAoC,CAAC;AACrG,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,kBAAkB,CAAC;AAW1B;IAAuC,6BAAgC;IAAvE;;IAoCA,CAAC;IAnCQ,0BAAM,GAAb;QACQ,IAAA,KAAuE,IAAI,CAAC,KAAK,EAA/E,EAAE,QAAA,EAAE,GAAG,SAAA,EAAE,IAAI,UAAA,EAAE,cAAc,oBAAA,EAAE,eAAe,qBAAA,EAAE,gBAAgB,sBAAe,CAAC;QAExF,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QACnC,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QAClC,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvC,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAExC,IAAI,gBAAgB,EAAE;YACpB,IAAM,CAAC,GAAG,kBAAkB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;YACxC,IAAM,gBAAgB,GAAG,2BAA2B,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YACnE,IAAI,GAAG,gBAAgB,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;YAC1C,GAAG,GAAG,gBAAgB,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC;SAC3C;QACD,IAAM,KAAK,GAAG,EAAE,IAAI,MAAA,EAAE,GAAG,KAAA,EAAE,KAAK,OAAA,EAAE,MAAM,QAAA,EAAE,CAAC;QAE3C,OAAM,CACJ,kBACE,SAAS,EAAC,UAAU,EACpB,KAAK,EAAE,KAAK;YAEZ,6BACW,EAAE,eACA,0BAA0B,CAAC,UAAU,uBAC7B,IAAI,EACvB,SAAS,EAAC,gBAAgB;gBAE1B,SAAC,WAAW,IACV,cAAc,EAAE,cAAc,EAC9B,eAAe,EAAE,eAAe,GAChC,CACE,CACF,CACP,CAAC;IACJ,CAAC;IACH,gBAAC;AAAD,CAAC,AApCD,CAAuC,MAAM,CAAC,SAAS,GAoCtD",sourcesContent:["import * as Preact from 'preact';\n\nimport { ComposeView } from 'diagramMaker/components/common';\nimport { BoundRenderCallback, DestroyCallback } from 'diagramMaker/service/ConfigService';\nimport { getCenterCoordinateForCurve, getInflectionPoint } from 'diagramMaker/service/positionUtils';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position } from 'diagramMaker/state/types';\n\nimport './EdgeBadge.scss';\n\nexport interface EdgeBadgeProps {\n  id: string;\n  src: Position;\n  dest: Position;\n  renderCallback: BoundRenderCallback;\n  destroyCallback: DestroyCallback;\n  isPartOfEdgePair?: boolean;\n}\n\nexport default class EdgeBadge extends Preact.Component<EdgeBadgeProps> {\n  public render() {\n    const { id, src, dest, renderCallback, destroyCallback, isPartOfEdgePair } = this.props;\n\n    let left = Math.min(src.x, dest.x);\n    let top = Math.min(src.y, dest.y);\n    const width = Math.abs(src.x - dest.x);\n    const height = Math.abs(src.y - dest.y);\n\n    if (isPartOfEdgePair) {\n      const q = getInflectionPoint(src, dest);\n      const centerCoordinate = getCenterCoordinateForCurve(src, dest, q);\n      left = centerCoordinate.x - (width * 0.5);\n      top = centerCoordinate.y - (height * 0.5);\n    }\n    const style = { left, top, width, height };\n\n    return(\n      <div\n        className=\"dm-badge\"\n        style={style}\n      >\n        <div\n          data-id={id}\n          data-type={DiagramMakerComponentsType.EDGE_BADGE}\n          data-event-target={true}\n          className=\"dm-badge-inner\"\n        >\n          <ComposeView\n            renderCallback={renderCallback}\n            destroyCallback={destroyCallback}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),un=(Cn.s[0]++,void Cn.b[0][0]++&&(Cn.b[0][1]++,(void 0).__extends)||(Cn.b[0][2]++,function(){Cn.f[0]++,Cn.s[1]++;var n=function(e,A){return Cn.f[1]++,Cn.s[2]++,Cn.b[1][0]++,n=Object.setPrototypeOf||(Cn.b[1][1]++,{__proto__:[]}instanceof Array&&(Cn.b[1][2]++,function(n,e){Cn.f[2]++,Cn.s[3]++,n.__proto__=e}))||(Cn.b[1][3]++,function(n,e){for(var A in Cn.f[3]++,Cn.s[4]++,e)Cn.s[5]++,Object.prototype.hasOwnProperty.call(e,A)?(Cn.b[2][0]++,Cn.s[6]++,n[A]=e[A]):Cn.b[2][1]++}),Cn.s[7]++,n(e,A)};return Cn.s[8]++,function(e,A){if(Cn.f[4]++,Cn.s[9]++,Cn.b[4][0]++,"function"!=typeof A&&(Cn.b[4][1]++,null!==A))throw Cn.b[3][0]++,Cn.s[10]++,new TypeError("Class extends value "+String(A)+" is not a constructor or null");function t(){Cn.f[5]++,Cn.s[12]++,this.constructor=e}Cn.b[3][1]++,Cn.s[11]++,n(e,A),Cn.s[13]++,e.prototype=null===A?(Cn.b[5][0]++,Object.create(A)):(Cn.b[5][1]++,t.prototype=A.prototype,new t)}}())),dn=(Cn.s[14]++,function(n){function e(){return Cn.f[7]++,Cn.s[16]++,Cn.b[6][0]++,null!==n&&(Cn.b[6][1]++,n.apply(this,arguments))||(Cn.b[6][2]++,this)}return Cn.f[6]++,Cn.s[15]++,un(e,n),Cn.s[17]++,e.prototype.render=function(){Cn.f[8]++;var n=(Cn.s[18]++,this.props),e=(Cn.s[19]++,n.id),A=(Cn.s[20]++,n.src),t=(Cn.s[21]++,n.dest),o=(Cn.s[22]++,n.renderCallback),i=(Cn.s[23]++,n.destroyCallback),l=(Cn.s[24]++,n.isPartOfEdgePair),r=(Cn.s[25]++,Math.min(A.x,t.x)),a=(Cn.s[26]++,Math.min(A.y,t.y)),C=(Cn.s[27]++,Math.abs(A.x-t.x)),u=(Cn.s[28]++,Math.abs(A.y-t.y));if(Cn.s[29]++,l){Cn.b[7][0]++;var d=(Cn.s[30]++,q(A,t)),E=(Cn.s[31]++,function(n,e,A){H.f[0]++;var t=(H.s[0]++,.5),o=(H.s[1]++,(1-t)*(1-t)*n.x+2*(1-t)*t*A.x+t*t*e.x),i=(H.s[2]++,(1-t)*(1-t)*n.y+2*(1-t)*t*A.y+t*t*e.y);return H.s[3]++,{x:o,y:i}}(A,t,d));Cn.s[32]++,r=E.x-.5*C,Cn.s[33]++,a=E.y-.5*u}else Cn.b[7][1]++;var p=(Cn.s[34]++,{left:r,top:a,width:C,height:u});return Cn.s[35]++,s.h("div",{className:"dm-badge",style:p},s.h("div",{"data-id":e,"data-type":c.EDGE_BADGE,"data-event-target":!0,className:"dm-badge-inner"},s.h(m,{renderCallback:o,destroyCallback:i})))},Cn.s[36]++,e}(s.Component)),mn=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/PotentialEdge.tsx",e="13ac95dc5aec78107185adf5494b5a1804690bd8",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/PotentialEdge.tsx",statementMap:{0:{start:{line:6,column:15},end:{line:8,column:1}},1:{start:{line:7,column:4},end:{line:7,column:131}},2:{start:{line:9,column:20},end:{line:14,column:1}},3:{start:{line:10,column:14},end:{line:10,column:23}},4:{start:{line:10,column:32},end:{line:10,column:42}},5:{start:{line:10,column:56},end:{line:10,column:71}},6:{start:{line:10,column:85},end:{line:10,column:100}},7:{start:{line:10,column:118},end:{line:10,column:137}},8:{start:{line:11,column:21},end:{line:11,column:53}},9:{start:{line:12,column:20},end:{line:12,column:82}},10:{start:{line:13,column:4},end:{line:13,column:121}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:15},end:{line:6,column:16}},loc:{start:{line:6,column:73},end:{line:8,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:20},end:{line:9,column:21}},loc:{start:{line:9,column:37},end:{line:14,column:1}},line:9}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/PotentialEdge.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/PotentialEdge.tsx"],names:[],mappings:"AAAA,OAAO,KAAK,UAAU,MAAM,YAAY,CAAC;AACzC,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,EAAE,OAAO,IAAI,SAAS,EAAa,MAAM,aAAa,CAAC;AAE9D,OAAO,aAAa,CAAC;AAUrB,IAAM,QAAQ,GAAG,UACb,GAAa,EAAE,IAAc,EAAE,SAAoB,EAAE,SAAiB,EAAE,aAAuB;IAE/F,OAAA,SAAC,SAAS,IAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,aAAa,EAAE,aAAa,GAAI;AAA7G,CAA6G,CAAC;AAElH,IAAM,aAAa,GAAG,UAAC,KAAiD;IAC9D,IAAA,GAAG,GAAgD,KAAK,IAArD,EAAE,IAAI,GAA0C,KAAK,KAA/C,EAAE,SAAS,GAA+B,KAAK,UAApC,EAAE,SAAS,GAAoB,KAAK,UAAzB,EAAE,aAAa,GAAK,KAAK,cAAV,CAAW;IAEjE,IAAM,UAAU,GAAG,UAAU,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;IAEpD,IAAM,SAAS,GAAG,QAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IAEjF,OAAM,CACJ,gBACE,SAAS,EAAE,UAAU,eACV,0BAA0B,CAAC,cAAc,IAEnD,SAAS,CACR,CACL,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,aAAa,CAAC",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position } from 'diagramMaker/state/types';\n\nimport { default as EdgeCurve, EdgeStyle } from './EdgeCurve';\n\nimport './Edge.scss';\n\nexport interface PotentialEdgeProps {\n  src: Position;\n  dest: Position;\n  edgeStyle: EdgeStyle;\n  className?: string | string[];\n  showArrowhead?: boolean;\n}\n\nconst getCurve = (\n    src: Position, dest: Position, edgeStyle: EdgeStyle, className: string, showArrowhead?: boolean\n  ) =>\n    <EdgeCurve src={src} dest={dest} edgeStyle={edgeStyle} className={className} showArrowhead={showArrowhead} />;\n\nconst PotentialEdge = (props: Preact.RenderableProps<PotentialEdgeProps>): JSX.Element => {\n  const { src, dest, className, edgeStyle, showArrowhead } = props;\n\n  const classNames = classnames('dm-edge', className);\n\n  const curvePath = getCurve(src, dest, edgeStyle, 'dm-path-inner', showArrowhead);\n\n  return(\n    <g\n      className={classNames}\n      data-type={DiagramMakerComponentsType.POTENTIAL_EDGE}\n    >\n      {curvePath}\n    </g>\n  );\n};\n\nexport default PotentialEdge;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();mn.s[0]++;mn.s[2]++;var En,pn=function(n){mn.f[1]++;var e=(mn.s[3]++,n.src),A=(mn.s[4]++,n.dest),t=(mn.s[5]++,n.className),o=(mn.s[6]++,n.edgeStyle),i=(mn.s[7]++,n.showArrowhead),l=(mn.s[8]++,y("dm-edge",t)),r=(mn.s[9]++,function(n,e,A,t,o){return mn.f[0]++,mn.s[1]++,s.h(rn,{src:n,dest:e,edgeStyle:A,className:t,showArrowhead:o})}(e,A,o,"dm-path-inner",i));return mn.s[10]++,s.h("g",{className:l,"data-type":c.POTENTIAL_EDGE},r)},fn=(function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/index.ts",e="78307ae390c523b6a0b197ab2282625a13e2b789",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/edge/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAC;AACxC,OAAO,EAAE,OAAO,IAAI,IAAI,EAAE,SAAS,EAAE,MAAM,QAAQ,CAAC;AACpD,OAAO,EAAE,OAAO,IAAI,SAAS,EAAE,cAAc,EAAE,MAAM,aAAa,CAAC;AACnE,OAAO,EAAE,OAAO,IAAI,aAAa,EAAE,kBAAkB,EAAE,MAAM,iBAAiB,CAAC",sourcesContent:["export { EdgeStyle } from './EdgeCurve';\nexport { default as Edge, EdgeProps } from './Edge';\nexport { default as EdgeBadge, EdgeBadgeProps } from './EdgeBadge';\nexport { default as PotentialEdge, PotentialEdgeProps } from './PotentialEdge';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/connector/Connector.tsx",e="15dec83fb82bbc62f54454125afc56f4d998ed7d",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/connector/Connector.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:15,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:14,column:6}},9:{start:{line:9,column:8},end:{line:10,column:102}},10:{start:{line:10,column:12},end:{line:10,column:102}},11:{start:{line:11,column:8},end:{line:11,column:28}},12:{start:{line:12,column:24},end:{line:12,column:45}},13:{start:{line:13,column:8},end:{line:13,column:93}},14:{start:{line:16,column:15},end:{line:26,column:1}},15:{start:{line:17,column:4},end:{line:24,column:6}},16:{start:{line:18,column:8},end:{line:22,column:9}},17:{start:{line:19,column:12},end:{line:19,column:29}},18:{start:{line:20,column:12},end:{line:21,column:28}},19:{start:{line:20,column:29},end:{line:21,column:28}},20:{start:{line:21,column:16},end:{line:21,column:28}},21:{start:{line:23,column:8},end:{line:23,column:17}},22:{start:{line:25,column:4},end:{line:25,column:43}},23:{start:{line:32,column:0},end:{line:35,column:42}},24:{start:{line:33,column:4},end:{line:33,column:56}},25:{start:{line:34,column:4},end:{line:34,column:58}},26:{start:{line:36,column:31},end:{line:62,column:19}},27:{start:{line:37,column:4},end:{line:37,column:33}},28:{start:{line:39,column:8},end:{line:39,column:72}},29:{start:{line:41,column:4},end:{line:60,column:6}},30:{start:{line:42,column:17},end:{line:42,column:27}},31:{start:{line:42,column:34},end:{line:42,column:39}},32:{start:{line:42,column:52},end:{line:42,column:63}},33:{start:{line:42,column:72},end:{line:42,column:79}},34:{start:{line:43,column:16},end:{line:43,column:26}},35:{start:{line:43,column:32},end:{line:43,column:42}},36:{start:{line:44,column:22},end:{line:47,column:10}},37:{start:{line:48,column:24},end:{line:48,column:66}},38:{start:{line:49,column:31},end:{line:51,column:9}},39:{start:{line:52,column:8},end:{line:57,column:9}},40:{start:{line:53,column:12},end:{line:53,column:53}},41:{start:{line:56,column:12},end:{line:56,column:54}},42:{start:{line:58,column:8},end:{line:59,column:58}},43:{start:{line:61,column:4},end:{line:61,column:21}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:15,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:14,column:5}},line:8},5:{name:"__",decl:{start:{line:12,column:17},end:{line:12,column:19}},loc:{start:{line:12,column:22},end:{line:12,column:47}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:16,column:42},end:{line:16,column:43}},loc:{start:{line:16,column:54},end:{line:26,column:1}},line:16},7:{name:"(anonymous_7)",decl:{start:{line:17,column:32},end:{line:17,column:33}},loc:{start:{line:17,column:44},end:{line:24,column:5}},line:17},8:{name:"(anonymous_8)",decl:{start:{line:32,column:1},end:{line:32,column:2}},loc:{start:{line:32,column:26},end:{line:35,column:1}},line:32},9:{name:"(anonymous_9)",decl:{start:{line:36,column:31},end:{line:36,column:32}},loc:{start:{line:36,column:49},end:{line:62,column:1}},line:36},10:{name:"Connector",decl:{start:{line:38,column:13},end:{line:38,column:22}},loc:{start:{line:38,column:25},end:{line:40,column:5}},line:38},11:{name:"(anonymous_11)",decl:{start:{line:41,column:33},end:{line:41,column:34}},loc:{start:{line:41,column:45},end:{line:60,column:5}},line:41}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:15,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:15,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:9,column:8},end:{line:10,column:102}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:102}},{start:{line:9,column:8},end:{line:10,column:102}}],line:9},4:{loc:{start:{line:9,column:12},end:{line:9,column:49}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:35}},{start:{line:9,column:39},end:{line:9,column:49}}],line:9},5:{loc:{start:{line:13,column:22},end:{line:13,column:92}},type:"cond-expr",locations:[{start:{line:13,column:35},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:91}}],line:13},6:{loc:{start:{line:16,column:15},end:{line:26,column:1}},type:"binary-expr",locations:[{start:{line:16,column:16},end:{line:16,column:20}},{start:{line:16,column:24},end:{line:16,column:37}},{start:{line:16,column:42},end:{line:26,column:1}}],line:16},7:{loc:{start:{line:17,column:15},end:{line:24,column:5}},type:"binary-expr",locations:[{start:{line:17,column:15},end:{line:17,column:28}},{start:{line:17,column:32},end:{line:24,column:5}}],line:17},8:{loc:{start:{line:20,column:29},end:{line:21,column:28}},type:"if",locations:[{start:{line:20,column:29},end:{line:21,column:28}},{start:{line:20,column:29},end:{line:21,column:28}}],line:20},9:{loc:{start:{line:35,column:3},end:{line:35,column:40}},type:"binary-expr",locations:[{start:{line:35,column:3},end:{line:35,column:16}},{start:{line:35,column:21},end:{line:35,column:39}}],line:35},10:{loc:{start:{line:39,column:15},end:{line:39,column:71}},type:"binary-expr",locations:[{start:{line:39,column:15},end:{line:39,column:30}},{start:{line:39,column:34},end:{line:39,column:63}},{start:{line:39,column:67},end:{line:39,column:71}}],line:39},11:{loc:{start:{line:52,column:8},end:{line:57,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:57,column:9}},{start:{line:52,column:8},end:{line:57,column:9}}],line:52}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0,0],11:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/connector/Connector.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/connector/Connector.tsx"],names:[],mappings:";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,UAAU,MAAM,YAAY,CAAC;AACzC,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,kBAAkB,CAAC;AAE1B,MAAM,CAAN,IAAY,aAGX;AAHD,WAAY,aAAa;IACvB,mDAAK,CAAA;IACL,qDAAM,CAAA;AACR,CAAC,EAHW,aAAa,KAAb,aAAa,QAGxB;AAQD;IAAuC,6BAAoC;IAA3E;;IA4BA,CAAC;IA3BQ,0BAAM,GAAb;QACQ,IAAA,KAAyB,IAAI,CAAC,KAAK,EAAjC,EAAE,QAAA,EAAE,QAAQ,cAAA,EAAE,IAAI,UAAe,CAAC;QAClC,IAAA,CAAC,GAAQ,QAAQ,EAAhB,EAAE,CAAC,GAAK,QAAQ,EAAb,CAAc;QAC1B,IAAM,OAAO,GAAG,UAAU,CAAC,cAAc,EAAE;YACzC,oBAAoB,EAAE,IAAI,KAAK,aAAa,CAAC,KAAK;YAClD,qBAAqB,EAAE,IAAI,KAAK,aAAa,CAAC,MAAM;SACrD,CAAC,CAAC;QACH,IAAM,SAAS,GAAG,iBAAe,CAAC,YAAO,CAAC,WAAQ,CAAC;QACnD,IAAM,gBAAgB,GAA0C;YAC9D,SAAS,EAAE,EAAE,EAAE,WAAW,EAAE,0BAA0B,CAAC,cAAc;SACtE,CAAC;QACF,IAAI,IAAI,KAAK,aAAa,CAAC,KAAK,EAAE;YAChC,gBAAgB,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;SAC1C;aAAM;YACL,gBAAgB,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC;SAC3C;QAED,OAAO,CACL,2BACE,SAAS,EAAE,OAAO,EAClB,KAAK,EAAE,EAAE,SAAS,WAAA,EAAE,IAChB,gBAAgB;YAEpB,kBAAK,SAAS,EAAC,WAAW,GAAG,CACzB,CACP,CAAC;IACJ,CAAC;IACH,gBAAC;AAAD,CAAC,AA5BD,CAAuC,MAAM,CAAC,SAAS,GA4BtD",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position } from 'diagramMaker/state/types';\n\nimport './Connector.scss';\n\nexport enum ConnectorType {\n  INPUT,\n  OUTPUT\n}\n\nexport interface ConnectorProps {\n  id: string;\n  position: Position;\n  type: ConnectorType;\n}\n\nexport default class Connector extends Preact.Component<ConnectorProps, {}> {\n  public render(): JSX.Element {\n    const { id, position, type } = this.props;\n    const { x, y } = position;\n    const classes = classnames('dm-connector', {\n      'dm-connector-input': type === ConnectorType.INPUT,\n      'dm-connector-output': type === ConnectorType.OUTPUT\n    });\n    const transform = `translate3d(${x}px, ${y}px, 0)`;\n    const interactionProps: { [index: string]: string | boolean } = {\n      'data-id': id, 'data-type': DiagramMakerComponentsType.NODE_CONNECTOR\n    };\n    if (type === ConnectorType.INPUT) {\n      interactionProps['data-dropzone'] = true;\n    } else {\n      interactionProps['data-draggable'] = true;\n    }\n\n    return (\n      <div\n        className={classes}\n        style={{ transform }}\n        {...interactionProps}\n      >\n        <div className=\"dm-handle\" />\n      </div>\n    );\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}()),gn=(fn.s[0]++,void fn.b[0][0]++&&(fn.b[0][1]++,(void 0).__extends)||(fn.b[0][2]++,function(){fn.f[0]++,fn.s[1]++;var n=function(e,A){return fn.f[1]++,fn.s[2]++,fn.b[1][0]++,n=Object.setPrototypeOf||(fn.b[1][1]++,{__proto__:[]}instanceof Array&&(fn.b[1][2]++,function(n,e){fn.f[2]++,fn.s[3]++,n.__proto__=e}))||(fn.b[1][3]++,function(n,e){for(var A in fn.f[3]++,fn.s[4]++,e)fn.s[5]++,Object.prototype.hasOwnProperty.call(e,A)?(fn.b[2][0]++,fn.s[6]++,n[A]=e[A]):fn.b[2][1]++}),fn.s[7]++,n(e,A)};return fn.s[8]++,function(e,A){if(fn.f[4]++,fn.s[9]++,fn.b[4][0]++,"function"!=typeof A&&(fn.b[4][1]++,null!==A))throw fn.b[3][0]++,fn.s[10]++,new TypeError("Class extends value "+String(A)+" is not a constructor or null");function t(){fn.f[5]++,fn.s[12]++,this.constructor=e}fn.b[3][1]++,fn.s[11]++,n(e,A),fn.s[13]++,e.prototype=null===A?(fn.b[5][0]++,Object.create(A)):(fn.b[5][1]++,t.prototype=A.prototype,new t)}}())),hn=(fn.s[14]++,void fn.b[6][0]++&&(fn.b[6][1]++,(void 0).__assign)||(fn.b[6][2]++,function(){return fn.f[6]++,fn.s[15]++,fn.b[7][0]++,hn=Object.assign||(fn.b[7][1]++,function(n){fn.f[7]++,fn.s[16]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in fn.s[17]++,e=arguments[A],fn.s[18]++,e)fn.s[19]++,Object.prototype.hasOwnProperty.call(e,o)?(fn.b[8][0]++,fn.s[20]++,n[o]=e[o]):fn.b[8][1]++;return fn.s[21]++,n}),fn.s[22]++,hn.apply(this,arguments)}));fn.s[23]++,function(n){fn.f[8]++,fn.s[24]++,n[n.INPUT=0]="INPUT",fn.s[25]++,n[n.OUTPUT=1]="OUTPUT"}((fn.b[9][0]++,En||(fn.b[9][1]++,En={})));var In,yn=(fn.s[26]++,function(n){function e(){return fn.f[10]++,fn.s[28]++,fn.b[10][0]++,null!==n&&(fn.b[10][1]++,n.apply(this,arguments))||(fn.b[10][2]++,this)}return fn.f[9]++,fn.s[27]++,gn(e,n),fn.s[29]++,e.prototype.render=function(){fn.f[11]++;var n=(fn.s[30]++,this.props),e=(fn.s[31]++,n.id),A=(fn.s[32]++,n.position),t=(fn.s[33]++,n.type),o=(fn.s[34]++,A.x),i=(fn.s[35]++,A.y),l=(fn.s[36]++,y("dm-connector",{"dm-connector-input":t===En.INPUT,"dm-connector-output":t===En.OUTPUT})),r=(fn.s[37]++,"translate3d("+o+"px, "+i+"px, 0)"),a=(fn.s[38]++,{"data-id":e,"data-type":c.NODE_CONNECTOR});return fn.s[39]++,t===En.INPUT?(fn.b[11][0]++,fn.s[40]++,a["data-dropzone"]=!0):(fn.b[11][1]++,fn.s[41]++,a["data-draggable"]=!0),fn.s[42]++,s.h("div",hn({className:l,style:{transform:r}},a),s.h("div",{className:"dm-handle"}))},fn.s[43]++,e}(s.Component)),Bn=(function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/connector/index.ts",e="ed53e044096a28128a83a30816cc3ab84994fa90",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/connector/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/connector/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/connector/index.ts"],names:[],mappings:"AAAA,OAAO,EACL,OAAO,IAAI,SAAS,EAAE,cAAc,EAAE,aAAa,EACpD,MAAM,aAAa,CAAC",sourcesContent:["export {\n  default as Connector, ConnectorProps, ConnectorType\n} from './Connector';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/service/ConfigService.ts",e="4442f12f17b035eca94de61f2965849d6244d0a1",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/service/ConfigService.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:14,column:0},end:{line:36,column:60}},10:{start:{line:20,column:4},end:{line:20,column:52}},11:{start:{line:25,column:4},end:{line:25,column:52}},12:{start:{line:30,column:4},end:{line:30,column:55}},13:{start:{line:35,column:4},end:{line:35,column:55}},14:{start:{line:37,column:32},end:{line:37,column:68}},15:{start:{line:39,column:0},end:{line:48,column:72}},16:{start:{line:41,column:4},end:{line:41,column:50}},17:{start:{line:43,column:4},end:{line:43,column:57}},18:{start:{line:45,column:4},end:{line:45,column:59}},19:{start:{line:47,column:4},end:{line:47,column:50}},20:{start:{line:49,column:35},end:{line:49,column:77}},21:{start:{line:51,column:0},end:{line:63,column:34}},22:{start:{line:57,column:4},end:{line:57,column:35}},23:{start:{line:62,column:4},end:{line:62,column:41}},24:{start:{line:64,column:19},end:{line:64,column:42}},25:{start:{line:65,column:35},end:{line:136,column:3}},26:{start:{line:67,column:20},end:{line:67,column:24}},27:{start:{line:68,column:8},end:{line:68,column:29}},28:{start:{line:69,column:8},end:{line:71,column:10}},29:{start:{line:70,column:12},end:{line:70,column:51}},30:{start:{line:72,column:8},end:{line:74,column:10}},31:{start:{line:73,column:12},end:{line:73,column:51}},32:{start:{line:75,column:8},end:{line:77,column:10}},33:{start:{line:76,column:12},end:{line:76,column:59}},34:{start:{line:78,column:8},end:{line:80,column:10}},35:{start:{line:79,column:12},end:{line:79,column:60}},36:{start:{line:81,column:8},end:{line:83,column:10}},37:{start:{line:82,column:12},end:{line:82,column:54}},38:{start:{line:84,column:8},end:{line:99,column:10}},39:{start:{line:85,column:39},end:{line:85,column:67}},40:{start:{line:86,column:12},end:{line:88,column:13}},41:{start:{line:87,column:16},end:{line:87,column:23}},42:{start:{line:89,column:12},end:{line:98,column:13}},43:{start:{line:91,column:20},end:{line:91,column:97}},44:{start:{line:93,column:20},end:{line:93,column:97}},45:{start:{line:95,column:20},end:{line:95,column:99}},46:{start:{line:97,column:20},end:{line:97,column:58}},47:{start:{line:100,column:8},end:{line:102,column:10}},48:{start:{line:101,column:12},end:{line:101,column:116}},49:{start:{line:103,column:8},end:{line:105,column:10}},50:{start:{line:104,column:12},end:{line:104,column:89}},51:{start:{line:106,column:8},end:{line:108,column:10}},52:{start:{line:107,column:12},end:{line:107,column:50}},53:{start:{line:109,column:8},end:{line:112,column:10}},54:{start:{line:110,column:29},end:{line:110,column:67}},55:{start:{line:111,column:12},end:{line:111,column:49}},56:{start:{line:113,column:8},end:{line:116,column:10}},57:{start:{line:114,column:29},end:{line:114,column:67}},58:{start:{line:115,column:12},end:{line:115,column:106}},59:{start:{line:117,column:8},end:{line:120,column:10}},60:{start:{line:118,column:29},end:{line:118,column:67}},61:{start:{line:119,column:12},end:{line:119,column:50}},62:{start:{line:121,column:8},end:{line:124,column:10}},63:{start:{line:122,column:29},end:{line:122,column:67}},64:{start:{line:123,column:12},end:{line:123,column:66}},65:{start:{line:125,column:8},end:{line:127,column:10}},66:{start:{line:126,column:12},end:{line:126,column:86}},67:{start:{line:128,column:8},end:{line:130,column:10}},68:{start:{line:129,column:12},end:{line:129,column:58}},69:{start:{line:131,column:8},end:{line:133,column:10}},70:{start:{line:132,column:12},end:{line:132,column:48}},71:{start:{line:135,column:4},end:{line:135,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:14,column:1},end:{line:14,column:2}},loc:{start:{line:14,column:35},end:{line:36,column:1}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:39,column:1},end:{line:39,column:2}},loc:{start:{line:39,column:41},end:{line:48,column:1}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:51,column:1},end:{line:51,column:2}},loc:{start:{line:51,column:22},end:{line:63,column:1}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:65,column:35},end:{line:65,column:36}},loc:{start:{line:65,column:47},end:{line:136,column:1}},line:65},6:{name:"ConfigService",decl:{start:{line:66,column:13},end:{line:66,column:26}},loc:{start:{line:66,column:35},end:{line:134,column:5}},line:66},7:{name:"(anonymous_7)",decl:{start:{line:69,column:29},end:{line:69,column:30}},loc:{start:{line:69,column:41},end:{line:71,column:9}},line:69},8:{name:"(anonymous_8)",decl:{start:{line:72,column:29},end:{line:72,column:30}},loc:{start:{line:72,column:41},end:{line:74,column:9}},line:72},9:{name:"(anonymous_9)",decl:{start:{line:75,column:30},end:{line:75,column:31}},loc:{start:{line:75,column:46},end:{line:77,column:9}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:78,column:38},end:{line:78,column:39}},loc:{start:{line:78,column:50},end:{line:80,column:9}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:81,column:32},end:{line:81,column:33}},loc:{start:{line:81,column:44},end:{line:83,column:9}},line:81},12:{name:"(anonymous_12)",decl:{start:{line:84,column:41},end:{line:84,column:42}},loc:{start:{line:84,column:61},end:{line:99,column:9}},line:84},13:{name:"(anonymous_13)",decl:{start:{line:100,column:37},end:{line:100,column:38}},loc:{start:{line:100,column:49},end:{line:102,column:9}},line:100},14:{name:"(anonymous_14)",decl:{start:{line:103,column:32},end:{line:103,column:33}},loc:{start:{line:103,column:44},end:{line:105,column:9}},line:103},15:{name:"(anonymous_15)",decl:{start:{line:106,column:36},end:{line:106,column:37}},loc:{start:{line:106,column:48},end:{line:108,column:9}},line:106},16:{name:"(anonymous_16)",decl:{start:{line:109,column:34},end:{line:109,column:35}},loc:{start:{line:109,column:52},end:{line:112,column:9}},line:109},17:{name:"(anonymous_17)",decl:{start:{line:113,column:48},end:{line:113,column:49}},loc:{start:{line:113,column:66},end:{line:116,column:9}},line:113},18:{name:"(anonymous_18)",decl:{start:{line:117,column:35},end:{line:117,column:36}},loc:{start:{line:117,column:53},end:{line:120,column:9}},line:117},19:{name:"(anonymous_19)",decl:{start:{line:121,column:51},end:{line:121,column:52}},loc:{start:{line:121,column:69},end:{line:124,column:9}},line:121},20:{name:"(anonymous_20)",decl:{start:{line:125,column:40},end:{line:125,column:41}},loc:{start:{line:125,column:58},end:{line:127,column:9}},line:125},21:{name:"(anonymous_21)",decl:{start:{line:128,column:36},end:{line:128,column:37}},loc:{start:{line:128,column:48},end:{line:130,column:9}},line:128},22:{name:"(anonymous_22)",decl:{start:{line:131,column:34},end:{line:131,column:35}},loc:{start:{line:131,column:46},end:{line:133,column:9}},line:131}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:36,column:3},end:{line:36,column:58}},type:"binary-expr",locations:[{start:{line:36,column:3},end:{line:36,column:25}},{start:{line:36,column:30},end:{line:36,column:57}}],line:36},4:{loc:{start:{line:48,column:3},end:{line:48,column:70}},type:"binary-expr",locations:[{start:{line:48,column:3},end:{line:48,column:31}},{start:{line:48,column:36},end:{line:48,column:69}}],line:48},5:{loc:{start:{line:63,column:3},end:{line:63,column:32}},type:"binary-expr",locations:[{start:{line:63,column:3},end:{line:63,column:12}},{start:{line:63,column:17},end:{line:63,column:31}}],line:63},6:{loc:{start:{line:86,column:12},end:{line:88,column:13}},type:"if",locations:[{start:{line:86,column:12},end:{line:88,column:13}},{start:{line:86,column:12},end:{line:88,column:13}}],line:86},7:{loc:{start:{line:89,column:12},end:{line:98,column:13}},type:"switch",locations:[{start:{line:90,column:16},end:{line:91,column:97}},{start:{line:92,column:16},end:{line:93,column:97}},{start:{line:94,column:16},end:{line:95,column:99}},{start:{line:96,column:16},end:{line:97,column:58}}],line:89},8:{loc:{start:{line:91,column:27},end:{line:91,column:96}},type:"binary-expr",locations:[{start:{line:91,column:27},end:{line:91,column:52}},{start:{line:91,column:56},end:{line:91,column:96}}],line:91},9:{loc:{start:{line:93,column:27},end:{line:93,column:96}},type:"binary-expr",locations:[{start:{line:93,column:27},end:{line:93,column:52}},{start:{line:93,column:56},end:{line:93,column:96}}],line:93},10:{loc:{start:{line:95,column:27},end:{line:95,column:98}},type:"binary-expr",locations:[{start:{line:95,column:27},end:{line:95,column:53}},{start:{line:95,column:57},end:{line:95,column:98}}],line:95},11:{loc:{start:{line:101,column:19},end:{line:101,column:115}},type:"binary-expr",locations:[{start:{line:101,column:20},end:{line:101,column:40}},{start:{line:101,column:44},end:{line:101,column:83}},{start:{line:101,column:88},end:{line:101,column:115}}],line:101},12:{loc:{start:{line:104,column:19},end:{line:104,column:88}},type:"binary-expr",locations:[{start:{line:104,column:20},end:{line:104,column:40}},{start:{line:104,column:44},end:{line:104,column:78}},{start:{line:104,column:83},end:{line:104,column:88}}],line:104},13:{loc:{start:{line:111,column:19},end:{line:111,column:48}},type:"binary-expr",locations:[{start:{line:111,column:19},end:{line:111,column:29}},{start:{line:111,column:33},end:{line:111,column:48}}],line:111},14:{loc:{start:{line:115,column:19},end:{line:115,column:105}},type:"binary-expr",locations:[{start:{line:115,column:20},end:{line:115,column:30}},{start:{line:115,column:34},end:{line:115,column:71}},{start:{line:115,column:76},end:{line:115,column:105}}],line:115},15:{loc:{start:{line:119,column:19},end:{line:119,column:49}},type:"binary-expr",locations:[{start:{line:119,column:19},end:{line:119,column:29}},{start:{line:119,column:33},end:{line:119,column:49}}],line:119},16:{loc:{start:{line:123,column:19},end:{line:123,column:65}},type:"binary-expr",locations:[{start:{line:123,column:19},end:{line:123,column:29}},{start:{line:123,column:33},end:{line:123,column:65}}],line:123},17:{loc:{start:{line:126,column:19},end:{line:126,column:85}},type:"binary-expr",locations:[{start:{line:126,column:19},end:{line:126,column:46}},{start:{line:126,column:50},end:{line:126,column:85}}],line:126}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0,0],12:[0,0,0],13:[0,0],14:[0,0,0],15:[0,0],16:[0,0],17:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/service/ConfigService.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/service/ConfigService.ts"],names:[],mappings:"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",sourcesContent:["import { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { ActionInterceptor } from 'diagramMaker/state/middleware';\nimport {\n  DiagramMakerData, DiagramMakerEdge, DiagramMakerNode, DiagramMakerPanel, DiagramMakerPotentialNode, Size\n} from 'diagramMaker/state/types';\n\nexport enum ConnectorPlacementType {\n  /**\n   * Allows edges to be start & end at the boundary of the node.\n   * This falls back to CENTERED if the shape is not known for any given node.\n   * Doesn't render connectors by default.\n   */\n  BOUNDARY = 'Boundary',\n  /**\n   * Edges start & end at the geometric center of the node.\n   * Doesn't render connectors by default.\n   */\n  CENTERED = 'Centered',\n  /**\n   * Edges start at the right edge & end at the left edge of node bounding box.\n   * Does render connectors by default.\n   */\n  LEFT_RIGHT = 'LeftRight',\n  /**\n   * Edges start at the bottom edge & end at the top edge of node bounding box.\n   * Does render connectors by default.\n   */\n  TOP_BOTTOM = 'TopBottom'\n}\n\nexport const ConnectorPlacement = {\n  ...ConnectorPlacementType\n};\n\nexport type BoundRenderCallback = (\n  diagramMakerContainer: HTMLElement,\n  consumerContainer?: HTMLElement | void\n) => (HTMLElement | undefined | void);\n\n/**\n * This callback is called to cleanup event handlers for DOM rendered by the consumer\n * before diagram maker removes the DOM.\n * @callback DestroyCallback\n * @param diagramMakerContainer - The container in which consumer rendered some DOM.\n * @param consumerContainer - This is passed only if the consumer returned this in renderCallback.\n * Useful for Preact, where you need to provide the element within the container to diff against.\n * @returns {void}\n * @example <caption> Destroy callback when using React </caption>\n * (diagramMakerContainer: HTMLElement) => ReactDOM.unmountComponentAtNode(diagramMakerContainer)\n */\nexport type DestroyCallback = (\n  diagramMakerContainer: HTMLElement,\n  consumerContainer?: HTMLElement | void\n) => void;\n\n/**\n * This callback is called to render context menu for elements with IDs like node, edge, panel.\n * @callback ContextMenuRenderCallbackWithId\n * @param id - The ID of the element which was clicked. Since, we have different callbacks for node, edge, panel,\n * it is assumed that the type of the element is known before hand.\n * @param diagramMakerContainer - The container in which the consumer renders the context menu.\n * This is an empty container with only the position set correctly.\n * Could diff against content already present in the container using React, Preact or any other VDOM.\n * @param consumerContainer - This is passed only if the consumer returned this in prior calls to this callback.\n * Useful for Preact, where you need to provide the element within the container to diff against.\n * @returns {HTMLElement | undefined | void} - HTMLElement in case of Preact, or void or undefined everywhere else.\n */\ntype ContextMenuRenderCallbackWithId = (\n  id: string | undefined,\n  diagramMakerContainer: HTMLElement,\n  consumerContainer?: HTMLElement | void\n) => (HTMLElement | undefined | void);\n\n/**\n * This callback is called to render context menu for elements without IDs like workspace.\n * Since, we have different callbacks for node, edge, panel,\n * it is assumed that the type of the element is known before hand.\n * @callback ContextMenuRenderCallback\n * @param diagramMakerContainer - The container in which the consumer renders the context menu.\n * This is an empty container with only the position set correctly.\n * Could diff against content already present in the container using React, Preact or any other VDOM.\n * @param consumerContainer - This is passed only if the consumer returned this in prior calls to this callback.\n * Useful for Preact, where you need to provide the element within the container to diff against.\n * @returns {HTMLElement | undefined | void} - HTMLElement in case of Preact, or void or undefined everywhere else.\n */\ntype ContextMenuRenderCallback = (\n  diagramMakerContainer: HTMLElement,\n  consumerContainer?: HTMLElement | void\n) => (HTMLElement | undefined | void);\n\n/**\n * Object containing render callbacks for context menu.\n */\nexport interface ContextMenuRenderCallbacks {\n  /**\n   * Render callback for context menu for node. Optional.\n   * @type {ContextMenuRenderCallbackWithId}\n   */\n  node?: ContextMenuRenderCallbackWithId;\n  /**\n   * Render callback for context menu for edge. Optional.\n   * @type {ContextMenuRenderCallbackWithId}\n   */\n  edge?: ContextMenuRenderCallbackWithId;\n  /**\n   * Render callback for context menu for panel. Optional.\n   * @type {ContextMenuRenderCallbackWithId}\n   */\n  panel?: ContextMenuRenderCallbackWithId;\n  /**\n   * Render callback for context menu for workspace. Optional.\n   * @type {ContextMenuRenderCallback}\n   */\n  workspace?: ContextMenuRenderCallback;\n}\n\n/** Object containing callbacks for rendering & destroying various entities (like nodes, edges, panels, etc) */\ninterface RenderCallbacks<NodeType, EdgeType> {\n  /**\n   * Callback to cleanup DOM rendered by the consumer properly\n   * before diagram maker removes it.\n   * In case, consumers are using React or any other rendering framework,\n   * the framework attaches event handlers that if not removed correctly,\n   * could cause a memory leak.\n   * @type {DestroyCallback}\n   */\n  destroy: DestroyCallback;\n  /**\n   * Callback to render a badge centered within the edge.\n   * @param {DiagramMakerEdge<EdgeType>} - The object representing the current state of the edge\n   * for which the badge is being rendered.\n   * @param {HTMLElement} diagramMakerContainer - Container managed by diagram maker to render content in\n   * Could diff against content already present in the container using React, Preact or any other VDOM.\n   * @param {HTMLElement} consumerContainer - Container used by consumer to render. Optional.\n   * Useful only when using Preact, since Preact appends by default\n   * and needs an Element to diff against in the container.\n   * @returns {HTMLElement | undefined | void} - Element rendered by consumer when using Preact,\n   * or undefined or void everywhere else.\n   */\n  edge?: (\n    edge: DiagramMakerEdge<EdgeType>,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void);\n  /**\n   * Callback to render a node.\n   * @param {DiagramMakerNode<NodeType>} - The object representing the current state of the node being rendered.\n   * @param {HTMLElement} diagramMakerContainer - Container managed by diagram maker to render content in\n   * Could diff against content already present in the container using React, Preact or any other VDOM.\n   * @param {HTMLElement} consumerContainer - Container used by consumer to render. Optional.\n   * Useful only when using Preact, since Preact appends by default\n   * and needs an Element to diff against in the container.\n   * @returns {HTMLElement | undefined | void} - Element rendered by consumer when using Preact,\n   * or undefined or void everywhere else.\n   */\n  node: (\n    node: DiagramMakerNode<NodeType>,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void);\n  /**\n   * Callback to render a potential node. Optional. Only useful when user might be dragging new nodes out of a panel.\n   * @param {DiagramMakerPotentialNode} - The object representing the current state of the potential node\n   * being rendered.\n   * @param {HTMLElement} diagramMakerContainer - Container managed by diagram maker to render content in\n   * Could diff against content already present in the container using React, Preact or any other VDOM.\n   * @param {HTMLElement} consumerContainer - Container used by consumer to render. Optional.\n   * Useful only when using Preact, since Preact appends by default\n   * and needs an Element to diff against in the container.\n   * @returns {HTMLElement | undefined | void} - Element rendered by consumer when using Preact,\n   * or undefined or void everywhere else.\n   */\n  potentialNode?: (\n    node: DiagramMakerPotentialNode,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void);\n  /** Object containing render callbacks for several panels keyed on panel name */\n  panels: {\n    /**\n     * Callback to render a panel.\n     * @param {DiagramMakerPanel} - The object representing the current state of the panel being rendered.\n     * @param {HTMLElement} diagramMakerContainer - Container managed by diagram maker to render content in\n     * Could diff against content already present in the container using React, Preact or any other VDOM.\n     * @param {HTMLElement} consumerContainer - Container used by consumer to render. Optional.\n     * Useful only when using Preact, since Preact appends by default\n     * and needs an Element to diff against in the container.\n     * @returns {HTMLElement | undefined | void} - Element rendered by consumer when using Preact,\n     * or undefined or void everywhere else.\n     */\n    [name: string]: (\n      panel: DiagramMakerPanel,\n      state: DiagramMakerData<NodeType, EdgeType>,\n      diagramMakerContainer: HTMLElement,\n      consumerContainer?: HTMLElement | void\n    ) => (HTMLElement | undefined | void);\n  };\n  /**\n   * Object containing render callbacks for context menus for various targets. Optional.\n   * If provided, diagram maker will use these context menu render callbacks to show a context menu,\n   * and suppress the browser rendered context menu.\n   */\n  contextMenu?: ContextMenuRenderCallbacks;\n}\n\nexport enum TypeForVisibleConnectorTypes {\n  /** Render both input & output connectors. Default Behavior. */\n  BOTH = 'Both',\n  /** Render only input connector. */\n  INPUT_ONLY = 'Input',\n  /** Render only output connector. */\n  OUTPUT_ONLY = 'Output',\n  /** Render none of the connectors. */\n  NONE = 'None'\n}\n\nexport const VisibleConnectorTypes = {\n  ...TypeForVisibleConnectorTypes\n};\n\nexport enum ShapeType {\n  /**\n   * Denotes a circle shaped node.\n   * Assumes that node width & height are equal\n   * and the radius is equal to half of each of them\n   */\n  CIRCLE = 'Circle',\n  /**\n   * Denotes a rectangle shaped node.\n   * Node width & height can be different, but all angles are right.\n   */\n  RECTANGLE = 'Rectangle'\n}\n\nexport const Shape = {\n  ...ShapeType\n};\n\n/** Interface for storing configuration for a given node type */\nexport interface DiagramMakerNodeTypeConfiguration {\n  /**\n   * Size used if override not provided by data attrs for potential nodes using this type.\n   */\n  size: Size;\n  /**\n   * Used for overriding visible connectors for nodes using this type.\n   * This is useful only in case diagram maker renders connectors by default i.e. LEFT_RIGHT or TOP_BOTTOM.\n   */\n  visibleConnectorTypes?: TypeForVisibleConnectorTypes;\n  /**\n   * Used for overriding the connector placement for nodes using this type.\n   */\n  connectorPlacementOverride?: ConnectorPlacementType;\n  /**\n   * Used for providing shape for nodes using this type.\n   * Used in conjunction with BOUNDARY connector placement.\n   */\n  shape?: ShapeType;\n}\n\nexport interface DiagramMakerConfig<NodeType, EdgeType> {\n  /**\n   * Optional configuration for diagram maker\n   */\n  options?: {\n    /**\n     * Connector placement. Determines how the edges are rendered.\n     * Also renders default connectors for some placement types.\n     * Defaults to CENTERED placement.\n     */\n    connectorPlacement?: ConnectorPlacementType;\n    /**\n     * Show an arrowhead at the destination end of the edge.\n     * Defaults to false.\n     */\n    showArrowhead?: boolean;\n  };\n  /**\n   * Render Callbacks for rendering nodes, potential nodes, edges, panels,\n   * context menus, etc.\n   */\n  renderCallbacks: RenderCallbacks<NodeType, EdgeType>;\n  /**\n   * Action interceptor. Before any action is dispatched to the store,\n   * you may intercept and modify it or cancel it entirely.\n   * Please keep in mind that in case you implement an interceptor,\n   * you're responsible for dispatching the action.\n   *\n   * @example <caption>Logging an action</caption>\n   * const log = (action, dispatch, getState) => {\n   *   console.log(action);\n   *   dispatch(action);\n   * };\n   */\n  actionInterceptor?: ActionInterceptor<NodeType, EdgeType>;\n  /**\n   * Node Type Configuration. Optional.\n   * Useful for specifying overrides for connector placement or visible connectors.\n   * Also, useful for providing for size for potential nodes being dragged using the same type.\n   * Is required when using boundary connector placement to provide shapes for different\n   * node types.\n   */\n  nodeTypeConfig?: {\n    [typeId: string]: DiagramMakerNodeTypeConfiguration;\n  };\n}\nexport default class ConfigService<NodeType, EdgeType> {\n  constructor(private config: DiagramMakerConfig<NodeType, EdgeType>) {\n  }\n\n  public getRenderNode = (): (\n    node: DiagramMakerNode<NodeType>,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void) => {\n    return this.getRenderCallbacks().node;\n  }\n\n  public getRenderEdge = (): ((\n    edge: DiagramMakerEdge<EdgeType>,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void)) | undefined => {\n    return this.getRenderCallbacks().edge;\n  }\n\n  public getRenderPanel = (name: string): (\n    panel: DiagramMakerPanel,\n    state: DiagramMakerData<NodeType, EdgeType>,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void) => {\n    return this.getRenderCallbacks().panels[name];\n  }\n\n  public getRenderPotentialNode = (): ((\n    node: DiagramMakerPotentialNode,\n    diagramMakerContainer: HTMLElement,\n    consumerContainer?: HTMLElement | void\n  ) => (HTMLElement | undefined | void)) | undefined => {\n    return this.getRenderCallbacks().potentialNode;\n  }\n\n  public getRenderDestroy = (): DestroyCallback => {\n    return this.getRenderCallbacks().destroy;\n  }\n\n  public getBoundRenderContextMenu = (type: string, id?: string): BoundRenderCallback | undefined => {\n    const contextMenuCallbacks = this.getRenderContextMenu();\n    if (!contextMenuCallbacks) {\n      return;\n    }\n\n    switch (type) {\n      case DiagramMakerComponentsType.NODE:\n        return contextMenuCallbacks.node && contextMenuCallbacks.node.bind(null, id);\n      case DiagramMakerComponentsType.EDGE:\n        return contextMenuCallbacks.edge && contextMenuCallbacks.edge.bind(null, id);\n      case DiagramMakerComponentsType.PANEL:\n        return contextMenuCallbacks.panel && contextMenuCallbacks.panel.bind(null, id);\n      case DiagramMakerComponentsType.WORKSPACE:\n        return contextMenuCallbacks.workspace;\n    }\n  }\n\n  public getConnectorPlacement = (): ConnectorPlacementType => {\n    return (this.config.options && this.config.options.connectorPlacement) || ConnectorPlacement.CENTERED;\n  }\n\n  public getShowArrowhead = (): boolean => {\n    return (this.config.options && this.config.options.showArrowhead) || false;\n  }\n\n  public getActionInterceptor = (): ActionInterceptor<NodeType, EdgeType> | undefined => {\n    return this.config.actionInterceptor;\n  }\n\n  public getSizeForNodeType = (typeId: string): Size | undefined => {\n    const typeConfig = this.getNodeTypeConfiguration(typeId);\n    return typeConfig && typeConfig.size;\n  }\n\n  public getConnectorPlacementForNodeType = (typeId: string): ConnectorPlacementType => {\n    const typeConfig = this.getNodeTypeConfiguration(typeId);\n    return (typeConfig && typeConfig.connectorPlacementOverride) || this.getConnectorPlacement();\n  }\n\n  public getShapeForNodeType = (typeId: string): ShapeType | undefined => {\n    const typeConfig = this.getNodeTypeConfiguration(typeId);\n    return typeConfig && typeConfig.shape;\n  }\n\n  public getVisibleConnectorTypesForNodeType = (typeId: string): TypeForVisibleConnectorTypes | undefined => {\n    const typeConfig = this.getNodeTypeConfiguration(typeId);\n    return typeConfig && typeConfig.visibleConnectorTypes;\n  }\n\n  private getNodeTypeConfiguration = (typeId: string): DiagramMakerNodeTypeConfiguration | undefined => {\n    return this.config.nodeTypeConfig && this.config.nodeTypeConfig[typeId];\n  }\n\n  private getRenderContextMenu = (): ContextMenuRenderCallbacks | undefined => {\n    return this.getRenderCallbacks().contextMenu;\n  }\n\n  private getRenderCallbacks = (): RenderCallbacks<NodeType, EdgeType> => {\n    return this.config.renderCallbacks;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}()),Mn=(Bn.s[0]++,void Bn.b[0][0]++&&(Bn.b[0][1]++,(void 0).__assign)||(Bn.b[0][2]++,function(){return Bn.f[0]++,Bn.s[1]++,Bn.b[1][0]++,Mn=Object.assign||(Bn.b[1][1]++,function(n){Bn.f[1]++,Bn.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in Bn.s[3]++,e=arguments[A],Bn.s[4]++,e)Bn.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(Bn.b[2][0]++,Bn.s[6]++,n[o]=e[o]):Bn.b[2][1]++;return Bn.s[7]++,n}),Bn.s[8]++,Mn.apply(this,arguments)}));Bn.s[9]++,function(n){Bn.f[2]++,Bn.s[10]++,n.BOUNDARY="Boundary",Bn.s[11]++,n.CENTERED="Centered",Bn.s[12]++,n.LEFT_RIGHT="LeftRight",Bn.s[13]++,n.TOP_BOTTOM="TopBottom"}((Bn.b[3][0]++,In||(Bn.b[3][1]++,In={})));var vn,bn=(Bn.s[14]++,Mn({},In));Bn.s[15]++,function(n){Bn.f[3]++,Bn.s[16]++,n.BOTH="Both",Bn.s[17]++,n.INPUT_ONLY="Input",Bn.s[18]++,n.OUTPUT_ONLY="Output",Bn.s[19]++,n.NONE="None"}((Bn.b[4][0]++,vn||(Bn.b[4][1]++,vn={})));var On,Gn=(Bn.s[20]++,Mn({},vn));Bn.s[21]++,function(n){Bn.f[4]++,Bn.s[22]++,n.CIRCLE="Circle",Bn.s[23]++,n.RECTANGLE="Rectangle"}((Bn.b[5][0]++,On||(Bn.b[5][1]++,On={})));var Dn,kn=(Bn.s[24]++,Mn({},On)),Kn=(Bn.s[25]++,Bn.f[5]++,Bn.s[71]++,function(n){Bn.f[6]++;var e=(Bn.s[26]++,this);Bn.s[27]++,this.config=n,Bn.s[28]++,this.getRenderNode=function(){return Bn.f[7]++,Bn.s[29]++,e.getRenderCallbacks().node},Bn.s[30]++,this.getRenderEdge=function(){return Bn.f[8]++,Bn.s[31]++,e.getRenderCallbacks().edge},Bn.s[32]++,this.getRenderPanel=function(n){return Bn.f[9]++,Bn.s[33]++,e.getRenderCallbacks().panels[n]},Bn.s[34]++,this.getRenderPotentialNode=function(){return Bn.f[10]++,Bn.s[35]++,e.getRenderCallbacks().potentialNode},Bn.s[36]++,this.getRenderDestroy=function(){return Bn.f[11]++,Bn.s[37]++,e.getRenderCallbacks().destroy},Bn.s[38]++,this.getBoundRenderContextMenu=function(n,A){Bn.f[12]++;var t=(Bn.s[39]++,e.getRenderContextMenu());if(Bn.s[40]++,!t)return Bn.b[6][0]++,void Bn.s[41]++;switch(Bn.b[6][1]++,Bn.s[42]++,n){case c.NODE:return Bn.b[7][0]++,Bn.s[43]++,Bn.b[8][0]++,t.node&&(Bn.b[8][1]++,t.node.bind(null,A));case c.EDGE:return Bn.b[7][1]++,Bn.s[44]++,Bn.b[9][0]++,t.edge&&(Bn.b[9][1]++,t.edge.bind(null,A));case c.PANEL:return Bn.b[7][2]++,Bn.s[45]++,Bn.b[10][0]++,t.panel&&(Bn.b[10][1]++,t.panel.bind(null,A));case c.WORKSPACE:return Bn.b[7][3]++,Bn.s[46]++,t.workspace}},Bn.s[47]++,this.getConnectorPlacement=function(){return Bn.f[13]++,Bn.s[48]++,Bn.b[11][0]++,e.config.options&&(Bn.b[11][1]++,e.config.options.connectorPlacement)||(Bn.b[11][2]++,bn.CENTERED)},Bn.s[49]++,this.getShowArrowhead=function(){return Bn.f[14]++,Bn.s[50]++,Bn.b[12][0]++,e.config.options&&(Bn.b[12][1]++,e.config.options.showArrowhead)||(Bn.b[12][2]++,!1)},Bn.s[51]++,this.getActionInterceptor=function(){return Bn.f[15]++,Bn.s[52]++,e.config.actionInterceptor},Bn.s[53]++,this.getSizeForNodeType=function(n){Bn.f[16]++;var A=(Bn.s[54]++,e.getNodeTypeConfiguration(n));return Bn.s[55]++,Bn.b[13][0]++,A&&(Bn.b[13][1]++,A.size)},Bn.s[56]++,this.getConnectorPlacementForNodeType=function(n){Bn.f[17]++;var A=(Bn.s[57]++,e.getNodeTypeConfiguration(n));return Bn.s[58]++,Bn.b[14][0]++,A&&(Bn.b[14][1]++,A.connectorPlacementOverride)||(Bn.b[14][2]++,e.getConnectorPlacement())},Bn.s[59]++,this.getShapeForNodeType=function(n){Bn.f[18]++;var A=(Bn.s[60]++,e.getNodeTypeConfiguration(n));return Bn.s[61]++,Bn.b[15][0]++,A&&(Bn.b[15][1]++,A.shape)},Bn.s[62]++,this.getVisibleConnectorTypesForNodeType=function(n){Bn.f[19]++;var A=(Bn.s[63]++,e.getNodeTypeConfiguration(n));return Bn.s[64]++,Bn.b[16][0]++,A&&(Bn.b[16][1]++,A.visibleConnectorTypes)},Bn.s[65]++,this.getNodeTypeConfiguration=function(n){return Bn.f[20]++,Bn.s[66]++,Bn.b[17][0]++,e.config.nodeTypeConfig&&(Bn.b[17][1]++,e.config.nodeTypeConfig[n])},Bn.s[67]++,this.getRenderContextMenu=function(){return Bn.f[21]++,Bn.s[68]++,e.getRenderCallbacks().contextMenu},Bn.s[69]++,this.getRenderCallbacks=function(){return Bn.f[22]++,Bn.s[70]++,e.config.renderCallbacks}}),Sn=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/node/Node.tsx",e="f6ae963fbc1c880e51c16213e73c50261bbe4474",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/node/Node.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:15,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:14,column:6}},9:{start:{line:9,column:8},end:{line:10,column:102}},10:{start:{line:10,column:12},end:{line:10,column:102}},11:{start:{line:11,column:8},end:{line:11,column:28}},12:{start:{line:12,column:24},end:{line:12,column:45}},13:{start:{line:13,column:8},end:{line:13,column:93}},14:{start:{line:22,column:26},end:{line:86,column:19}},15:{start:{line:23,column:4},end:{line:23,column:28}},16:{start:{line:25,column:20},end:{line:25,column:76}},17:{start:{line:26,column:8},end:{line:28,column:10}},18:{start:{line:27,column:12},end:{line:27,column:79}},19:{start:{line:29,column:8},end:{line:29,column:21}},20:{start:{line:31,column:4},end:{line:40,column:6}},21:{start:{line:32,column:17},end:{line:32,column:44}},22:{start:{line:32,column:65},end:{line:32,column:84}},23:{start:{line:32,column:91},end:{line:32,column:96}},24:{start:{line:33,column:17},end:{line:33,column:42}},25:{start:{line:33,column:48},end:{line:33,column:52}},26:{start:{line:33,column:58},end:{line:33,column:62}},27:{start:{line:34,column:17},end:{line:34,column:38}},28:{start:{line:34,column:48},end:{line:34,column:56}},29:{start:{line:34,column:67},end:{line:34,column:76}},30:{start:{line:35,column:24},end:{line:35,column:66}},31:{start:{line:36,column:17},end:{line:36,column:27}},32:{start:{line:36,column:46},end:{line:36,column:63}},33:{start:{line:36,column:83},end:{line:36,column:101}},34:{start:{line:37,column:8},end:{line:39,column:38}},35:{start:{line:41,column:4},end:{line:62,column:6}},36:{start:{line:42,column:17},end:{line:42,column:44}},37:{start:{line:42,column:51},end:{line:42,column:56}},38:{start:{line:42,column:77},end:{line:42,column:96}},39:{start:{line:43,column:33},end:{line:43,column:62}},40:{start:{line:44,column:17},end:{line:44,column:38}},41:{start:{line:44,column:48},end:{line:44,column:56}},42:{start:{line:44,column:67},end:{line:44,column:76}},43:{start:{line:45,column:31},end:{line:45,column:40}},44:{start:{line:46,column:29},end:{line:46,column:39}},45:{start:{line:47,column:20},end:{line:47,column:39}},46:{start:{line:47,column:50},end:{line:47,column:70}},47:{start:{line:48,column:8},end:{line:61,column:9}},48:{start:{line:50,column:16},end:{line:53,column:18}},49:{start:{line:55,column:16},end:{line:58,column:18}},50:{start:{line:60,column:16},end:{line:60,column:26}},51:{start:{line:63,column:4},end:{line:78,column:6}},52:{start:{line:64,column:29},end:{line:64,column:49}},53:{start:{line:65,column:8},end:{line:67,column:9}},54:{start:{line:66,column:12},end:{line:66,column:34}},55:{start:{line:68,column:20},end:{line:68,column:39}},56:{start:{line:68,column:50},end:{line:68,column:70}},57:{start:{line:69,column:8},end:{line:76,column:9}},58:{start:{line:71,column:16},end:{line:71,column:112}},59:{start:{line:71,column:72},end:{line:71,column:108}},60:{start:{line:73,column:16},end:{line:73,column:113}},61:{start:{line:73,column:72},end:{line:73,column:109}},62:{start:{line:75,column:16},end:{line:75,column:26}},63:{start:{line:77,column:8},end:{line:77,column:30}},64:{start:{line:79,column:4},end:{line:84,column:6}},65:{start:{line:80,column:8},end:{line:83,column:11}},66:{start:{line:81,column:21},end:{line:81,column:33}},67:{start:{line:81,column:42},end:{line:81,column:56}},68:{start:{line:81,column:69},end:{line:81,column:87}},69:{start:{line:82,column:12},end:{line:82,column:91}},70:{start:{line:85,column:4},end:{line:85,column:16}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:15,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:14,column:5}},line:8},5:{name:"__",decl:{start:{line:12,column:17},end:{line:12,column:19}},loc:{start:{line:12,column:22},end:{line:12,column:47}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:22,column:26},end:{line:22,column:27}},loc:{start:{line:22,column:44},end:{line:86,column:1}},line:22},7:{name:"Node",decl:{start:{line:24,column:13},end:{line:24,column:17}},loc:{start:{line:24,column:20},end:{line:30,column:5}},line:24},8:{name:"(anonymous_8)",decl:{start:{line:26,column:38},end:{line:26,column:39}},loc:{start:{line:26,column:59},end:{line:28,column:9}},line:26},9:{name:"(anonymous_9)",decl:{start:{line:31,column:28},end:{line:31,column:29}},loc:{start:{line:31,column:40},end:{line:40,column:5}},line:31},10:{name:"(anonymous_10)",decl:{start:{line:41,column:35},end:{line:41,column:36}},loc:{start:{line:41,column:47},end:{line:62,column:5}},line:41},11:{name:"(anonymous_11)",decl:{start:{line:63,column:43},end:{line:63,column:44}},loc:{start:{line:63,column:55},end:{line:78,column:5}},line:63},12:{name:"(anonymous_12)",decl:{start:{line:71,column:45},end:{line:71,column:46}},loc:{start:{line:71,column:70},end:{line:71,column:110}},line:71},13:{name:"(anonymous_13)",decl:{start:{line:73,column:45},end:{line:73,column:46}},loc:{start:{line:73,column:70},end:{line:73,column:111}},line:73},14:{name:"(anonymous_14)",decl:{start:{line:79,column:38},end:{line:79,column:39}},loc:{start:{line:79,column:50},end:{line:84,column:5}},line:79},15:{name:"(anonymous_15)",decl:{start:{line:80,column:48},end:{line:80,column:49}},loc:{start:{line:80,column:72},end:{line:83,column:9}},line:80}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:15,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:15,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:9,column:8},end:{line:10,column:102}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:102}},{start:{line:9,column:8},end:{line:10,column:102}}],line:9},4:{loc:{start:{line:9,column:12},end:{line:9,column:49}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:35}},{start:{line:9,column:39},end:{line:9,column:49}}],line:9},5:{loc:{start:{line:13,column:22},end:{line:13,column:92}},type:"cond-expr",locations:[{start:{line:13,column:35},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:91}}],line:13},6:{loc:{start:{line:25,column:20},end:{line:25,column:76}},type:"binary-expr",locations:[{start:{line:25,column:20},end:{line:25,column:35}},{start:{line:25,column:39},end:{line:25,column:68}},{start:{line:25,column:72},end:{line:25,column:76}}],line:25},7:{loc:{start:{line:48,column:8},end:{line:61,column:9}},type:"switch",locations:[{start:{line:49,column:12},end:{line:53,column:18}},{start:{line:54,column:12},end:{line:58,column:18}},{start:{line:59,column:12},end:{line:60,column:26}}],line:48},8:{loc:{start:{line:65,column:8},end:{line:67,column:9}},type:"if",locations:[{start:{line:65,column:8},end:{line:67,column:9}},{start:{line:65,column:8},end:{line:67,column:9}}],line:65},9:{loc:{start:{line:69,column:8},end:{line:76,column:9}},type:"switch",locations:[{start:{line:70,column:12},end:{line:71,column:112}},{start:{line:72,column:12},end:{line:73,column:113}},{start:{line:74,column:12},end:{line:75,column:26}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0,0],8:[0,0],9:[0,0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/node/Node.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/node/Node.tsx"],names:[],mappings:";;;;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,WAAW,EAAE,MAAM,gCAAgC,CAAC;AAC7D,OAAO,EACL,SAAS,EAAkB,aAAa,EACzC,MAAM,mCAAmC,CAAC;AAC3C,OAAO,EACgB,kBAAkB,EACT,qBAAqB,EACpD,MAAM,oCAAoC,CAAC;AAC5C,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,aAAa,CAAC;AAUrB;IAA4C,wBAAyC;IAArF;QAAA,qEAgFC;QArDQ,2BAAqB,GAAG,UAAC,SAA8B;YAC5D,OAAO,SAAS,CAAC,gBAAgB,KAAK,KAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC;QACpE,CAAC,CAAA;;IAmDH,CAAC;IA9EQ,qBAAM,GAAb;QACQ,IAAA,KAA2B,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAApD,gBAAgB,sBAAA,EAAE,EAAE,QAAgC,CAAC;QACvD,IAAA,KAAW,gBAAgB,CAAC,QAAQ,EAAlC,CAAC,OAAA,EAAE,CAAC,OAA8B,CAAC;QACrC,IAAA,KAAoB,gBAAgB,CAAC,IAAI,EAAvC,KAAK,WAAA,EAAE,MAAM,YAA0B,CAAC;QAChD,IAAM,SAAS,GAAG,iBAAe,CAAC,YAAO,CAAC,WAAQ,CAAC;QAC7C,IAAA,KAAsC,IAAI,CAAC,KAAK,EAA9C,cAAc,oBAAA,EAAE,eAAe,qBAAe,CAAC;QAEvD,OAAO,CACL,kBACE,SAAS,EAAC,SAAS,EACnB,KAAK,EAAE,EAAE,KAAK,OAAA,EAAE,MAAM,QAAA,EAAE,SAAS,WAAA,EAAE,aAC1B,EAAE,eACA,0BAA0B,CAAC,IAAI,uBACvB,IAAI,oBACP,IAAI;YAEpB,SAAC,WAAW,IACV,cAAc,EAAE,cAAc,EAC9B,eAAe,EAAE,eAAe,GAChC;YACD,IAAI,CAAC,gBAAgB,EAAE,CACpB,CACP,CAAC;IACJ,CAAC;IAMO,4BAAa,GAArB;QACQ,IAAA,KAA2B,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAApD,EAAE,QAAA,EAAE,gBAAgB,sBAAgC,CAAC;QACrD,IAAA,kBAAkB,GAAK,IAAI,CAAC,KAAK,mBAAf,CAAgB;QACpC,IAAA,KAAoB,gBAAgB,CAAC,IAAI,EAAvC,KAAK,WAAA,EAAE,MAAM,YAA0B,CAAC;QAChD,IAAM,gBAAgB,GAAG,KAAK,GAAG,CAAC,CAAC;QACnC,IAAM,cAAc,GAAG,MAAM,GAAG,CAAC,CAAC;QAC1B,IAAA,KAAK,GAAa,aAAa,MAA1B,EAAE,MAAM,GAAK,aAAa,OAAlB,CAAmB;QAExC,QAAQ,kBAAkB,EAAE;YAC1B,KAAK,kBAAkB,CAAC,UAAU;gBAChC,OAAO;oBACL,EAAE,EAAE,IAAA,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,cAAc,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;oBAC1D,EAAE,EAAE,IAAA,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,cAAc,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;iBAChE,CAAC;YACJ,KAAK,kBAAkB,CAAC,UAAU;gBAChC,OAAO;oBACL,EAAE,EAAE,IAAA,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,gBAAgB,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;oBAC5D,EAAE,EAAE,IAAA,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,gBAAgB,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;iBACnE,CAAC;YACJ;gBACE,OAAO,EAAE,CAAC;SACb;IACH,CAAC;IAEO,oCAAqB,GAA7B;QACE,IAAM,cAAc,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAE5C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,qBAAqB,EAAE;YACrC,OAAO,cAAc,CAAC;SACvB;QAEO,IAAA,KAAK,GAAa,aAAa,MAA1B,EAAE,MAAM,GAAK,aAAa,OAAlB,CAAmB;QACxC,QAAQ,IAAI,CAAC,KAAK,CAAC,qBAAqB,EAAE;YACxC,KAAK,qBAAqB,CAAC,UAAU;gBACnC,OAAO,cAAc,CAAC,MAAM,CAAC,UAAA,aAAa,IAAI,OAAA,aAAa,CAAC,IAAI,KAAK,KAAK,EAA5B,CAA4B,CAAC,CAAC;YAC9E,KAAK,qBAAqB,CAAC,WAAW;gBACpC,OAAO,cAAc,CAAC,MAAM,CAAC,UAAA,aAAa,IAAI,OAAA,aAAa,CAAC,IAAI,KAAK,MAAM,EAA7B,CAA6B,CAAC,CAAC;YAC/E,KAAK,qBAAqB,CAAC,IAAI;gBAC7B,OAAO,EAAE,CAAC;SACb;QACD,OAAO,cAAc,CAAC;IACxB,CAAC;IAEO,+BAAgB,GAAxB;QACE,OAAO,IAAI,CAAC,qBAAqB,EAAE,CAAC,GAAG,CAAC,UAAC,SAAS,EAAE,CAAC;YAC3C,IAAA,EAAE,GAAqB,SAAS,GAA9B,EAAE,IAAI,GAAe,SAAS,KAAxB,EAAE,QAAQ,GAAK,SAAS,SAAd,CAAe;YACzC,OAAO,SAAC,SAAS,IAAC,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,GAAI,CAAC;QACvE,CAAC,CAAC,CAAC;IACL,CAAC;IACH,WAAC;AAAD,CAAC,AAhFD,CAA4C,MAAM,CAAC,SAAS,GAgF3D",sourcesContent:["import * as Preact from 'preact';\n\nimport { ComposeView } from 'diagramMaker/components/common';\nimport {\n  Connector, ConnectorProps, ConnectorType\n} from 'diagramMaker/components/connector';\nimport {\n  BoundRenderCallback, ConnectorPlacement, ConnectorPlacementType, DestroyCallback,\n  TypeForVisibleConnectorTypes, VisibleConnectorTypes\n} from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { DiagramMakerNode } from 'diagramMaker/state/types';\n\nimport './Node.scss';\n\nexport interface NodeProps<NodeType> {\n  connectorPlacement?: ConnectorPlacementType;\n  renderCallback: BoundRenderCallback;\n  destroyCallback: DestroyCallback;\n  diagramMakerNode: DiagramMakerNode<NodeType>;\n  visibleConnectorTypes?: TypeForVisibleConnectorTypes;\n}\n\nexport default class Node<NodeType> extends Preact.Component<NodeProps<NodeType>, {}> {\n\n  public render(): JSX.Element {\n    const { diagramMakerData, id } = this.props.diagramMakerNode;\n    const { x, y } = diagramMakerData.position;\n    const { width, height } = diagramMakerData.size;\n    const transform = `translate3d(${x}px, ${y}px, 0)`;\n    const { renderCallback, destroyCallback } = this.props;\n\n    return (\n      <div\n        className=\"dm-node\"\n        style={{ width, height, transform }}\n        data-id={id}\n        data-type={DiagramMakerComponentsType.NODE}\n        data-event-target={true}\n        data-draggable={true}\n      >\n        <ComposeView\n          renderCallback={renderCallback}\n          destroyCallback={destroyCallback}\n        />\n        {this.renderConnectors()}\n      </div>\n    );\n  }\n\n  public shouldComponentUpdate = (nextProps: NodeProps<NodeType>): boolean => {\n    return nextProps.diagramMakerNode !== this.props.diagramMakerNode;\n  }\n\n  private getConnectors(): ConnectorProps[] {\n    const { id, diagramMakerData } = this.props.diagramMakerNode;\n    const { connectorPlacement } = this.props;\n    const { width, height } = diagramMakerData.size;\n    const horizontalCenter = width / 2;\n    const verticalCenter = height / 2;\n    const { INPUT, OUTPUT } = ConnectorType;\n\n    switch (connectorPlacement) {\n      case ConnectorPlacement.LEFT_RIGHT:\n        return [\n          { id, position: { x: 0, y: verticalCenter }, type: INPUT },\n          { id, position: { x: width, y: verticalCenter }, type: OUTPUT }\n        ];\n      case ConnectorPlacement.TOP_BOTTOM:\n        return [\n          { id, position: { x: horizontalCenter, y: 0 }, type: INPUT },\n          { id, position: { x: horizontalCenter, y: height }, type: OUTPUT }\n        ];\n      default:\n        return [];\n    }\n  }\n\n  private getFilteredConnectors(): ConnectorProps[] {\n    const connectorProps = this.getConnectors();\n\n    if (!this.props.visibleConnectorTypes) {\n      return connectorProps;\n    }\n\n    const { INPUT, OUTPUT } = ConnectorType;\n    switch (this.props.visibleConnectorTypes) {\n      case VisibleConnectorTypes.INPUT_ONLY:\n        return connectorProps.filter(connectorProp => connectorProp.type === INPUT);\n      case VisibleConnectorTypes.OUTPUT_ONLY:\n        return connectorProps.filter(connectorProp => connectorProp.type === OUTPUT);\n      case VisibleConnectorTypes.NONE:\n        return [];\n    }\n    return connectorProps;\n  }\n\n  private renderConnectors(): JSX.Element[] {\n    return this.getFilteredConnectors().map((connector, i) => {\n      const { id, type, position } = connector;\n      return <Connector id={id} key={i} type={type} position={position} />;\n    });\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),_n=(Sn.s[0]++,void Sn.b[0][0]++&&(Sn.b[0][1]++,(void 0).__extends)||(Sn.b[0][2]++,function(){Sn.f[0]++,Sn.s[1]++;var n=function(e,A){return Sn.f[1]++,Sn.s[2]++,Sn.b[1][0]++,n=Object.setPrototypeOf||(Sn.b[1][1]++,{__proto__:[]}instanceof Array&&(Sn.b[1][2]++,function(n,e){Sn.f[2]++,Sn.s[3]++,n.__proto__=e}))||(Sn.b[1][3]++,function(n,e){for(var A in Sn.f[3]++,Sn.s[4]++,e)Sn.s[5]++,Object.prototype.hasOwnProperty.call(e,A)?(Sn.b[2][0]++,Sn.s[6]++,n[A]=e[A]):Sn.b[2][1]++}),Sn.s[7]++,n(e,A)};return Sn.s[8]++,function(e,A){if(Sn.f[4]++,Sn.s[9]++,Sn.b[4][0]++,"function"!=typeof A&&(Sn.b[4][1]++,null!==A))throw Sn.b[3][0]++,Sn.s[10]++,new TypeError("Class extends value "+String(A)+" is not a constructor or null");function t(){Sn.f[5]++,Sn.s[12]++,this.constructor=e}Sn.b[3][1]++,Sn.s[11]++,n(e,A),Sn.s[13]++,e.prototype=null===A?(Sn.b[5][0]++,Object.create(A)):(Sn.b[5][1]++,t.prototype=A.prototype,new t)}}())),xn=(Sn.s[14]++,function(n){function e(){Sn.f[7]++;var e=(Sn.s[16]++,Sn.b[6][0]++,null!==n&&(Sn.b[6][1]++,n.apply(this,arguments))||(Sn.b[6][2]++,this));return Sn.s[17]++,e.shouldComponentUpdate=function(n){return Sn.f[8]++,Sn.s[18]++,n.diagramMakerNode!==e.props.diagramMakerNode},Sn.s[19]++,e}return Sn.f[6]++,Sn.s[15]++,_n(e,n),Sn.s[20]++,e.prototype.render=function(){Sn.f[9]++;var n=(Sn.s[21]++,this.props.diagramMakerNode),e=(Sn.s[22]++,n.diagramMakerData),A=(Sn.s[23]++,n.id),t=(Sn.s[24]++,e.position),o=(Sn.s[25]++,t.x),i=(Sn.s[26]++,t.y),l=(Sn.s[27]++,e.size),r=(Sn.s[28]++,l.width),a=(Sn.s[29]++,l.height),C=(Sn.s[30]++,"translate3d("+o+"px, "+i+"px, 0)"),u=(Sn.s[31]++,this.props),d=(Sn.s[32]++,u.renderCallback),E=(Sn.s[33]++,u.destroyCallback);return Sn.s[34]++,s.h("div",{className:"dm-node",style:{width:r,height:a,transform:C},"data-id":A,"data-type":c.NODE,"data-event-target":!0,"data-draggable":!0},s.h(m,{renderCallback:d,destroyCallback:E}),this.renderConnectors())},Sn.s[35]++,e.prototype.getConnectors=function(){Sn.f[10]++;var n=(Sn.s[36]++,this.props.diagramMakerNode),e=(Sn.s[37]++,n.id),A=(Sn.s[38]++,n.diagramMakerData),t=(Sn.s[39]++,this.props.connectorPlacement),o=(Sn.s[40]++,A.size),i=(Sn.s[41]++,o.width),l=(Sn.s[42]++,o.height),r=(Sn.s[43]++,i/2),a=(Sn.s[44]++,l/2),c=(Sn.s[45]++,En.INPUT),s=(Sn.s[46]++,En.OUTPUT);switch(Sn.s[47]++,t){case bn.LEFT_RIGHT:return Sn.b[7][0]++,Sn.s[48]++,[{id:e,position:{x:0,y:a},type:c},{id:e,position:{x:i,y:a},type:s}];case bn.TOP_BOTTOM:return Sn.b[7][1]++,Sn.s[49]++,[{id:e,position:{x:r,y:0},type:c},{id:e,position:{x:r,y:l},type:s}];default:return Sn.b[7][2]++,Sn.s[50]++,[]}},Sn.s[51]++,e.prototype.getFilteredConnectors=function(){Sn.f[11]++;var n=(Sn.s[52]++,this.getConnectors());if(Sn.s[53]++,!this.props.visibleConnectorTypes)return Sn.b[8][0]++,Sn.s[54]++,n;Sn.b[8][1]++;var e=(Sn.s[55]++,En.INPUT),A=(Sn.s[56]++,En.OUTPUT);switch(Sn.s[57]++,this.props.visibleConnectorTypes){case Gn.INPUT_ONLY:return Sn.b[9][0]++,Sn.s[58]++,n.filter((function(n){return Sn.f[12]++,Sn.s[59]++,n.type===e}));case Gn.OUTPUT_ONLY:return Sn.b[9][1]++,Sn.s[60]++,n.filter((function(n){return Sn.f[13]++,Sn.s[61]++,n.type===A}));case Gn.NONE:return Sn.b[9][2]++,Sn.s[62]++,[]}return Sn.s[63]++,n},Sn.s[64]++,e.prototype.renderConnectors=function(){return Sn.f[14]++,Sn.s[65]++,this.getFilteredConnectors().map((function(n,e){Sn.f[15]++;var A=(Sn.s[66]++,n.id),t=(Sn.s[67]++,n.type),o=(Sn.s[68]++,n.position);return Sn.s[69]++,s.h(yn,{id:A,key:e,type:t,position:o})}))},Sn.s[70]++,e}(s.Component)),Tn=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/node/PotentialNode.tsx",e="9ca026bf85129364b5fdb2836463503b182c1b32",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/node/PotentialNode.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:15,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:14,column:6}},9:{start:{line:9,column:8},end:{line:10,column:102}},10:{start:{line:10,column:12},end:{line:10,column:102}},11:{start:{line:11,column:8},end:{line:11,column:28}},12:{start:{line:12,column:24},end:{line:12,column:45}},13:{start:{line:13,column:8},end:{line:13,column:93}},14:{start:{line:20,column:35},end:{line:34,column:19}},15:{start:{line:21,column:4},end:{line:21,column:37}},16:{start:{line:23,column:8},end:{line:23,column:72}},17:{start:{line:25,column:4},end:{line:32,column:6}},18:{start:{line:26,column:17},end:{line:26,column:27}},19:{start:{line:26,column:38},end:{line:26,column:47}},20:{start:{line:26,column:60},end:{line:26,column:71}},21:{start:{line:26,column:90},end:{line:26,column:107}},22:{start:{line:26,column:127},end:{line:26,column:145}},23:{start:{line:26,column:154},end:{line:26,column:161}},24:{start:{line:27,column:16},end:{line:27,column:26}},25:{start:{line:27,column:32},end:{line:27,column:42}},26:{start:{line:28,column:20},end:{line:28,column:30}},27:{start:{line:28,column:41},end:{line:28,column:52}},28:{start:{line:29,column:24},end:{line:29,column:66}},29:{start:{line:30,column:8},end:{line:31,column:106}},30:{start:{line:33,column:4},end:{line:33,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:15,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:14,column:5}},line:8},5:{name:"__",decl:{start:{line:12,column:17},end:{line:12,column:19}},loc:{start:{line:12,column:22},end:{line:12,column:47}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:20,column:35},end:{line:20,column:36}},loc:{start:{line:20,column:53},end:{line:34,column:1}},line:20},7:{name:"PotentialNode",decl:{start:{line:22,column:13},end:{line:22,column:26}},loc:{start:{line:22,column:29},end:{line:24,column:5}},line:22},8:{name:"(anonymous_8)",decl:{start:{line:25,column:37},end:{line:25,column:38}},loc:{start:{line:25,column:49},end:{line:32,column:5}},line:25}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:15,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:15,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:9,column:8},end:{line:10,column:102}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:102}},{start:{line:9,column:8},end:{line:10,column:102}}],line:9},4:{loc:{start:{line:9,column:12},end:{line:9,column:49}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:35}},{start:{line:9,column:39},end:{line:9,column:49}}],line:9},5:{loc:{start:{line:13,column:22},end:{line:13,column:92}},type:"cond-expr",locations:[{start:{line:13,column:35},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:91}}],line:13},6:{loc:{start:{line:23,column:15},end:{line:23,column:71}},type:"binary-expr",locations:[{start:{line:23,column:15},end:{line:23,column:30}},{start:{line:23,column:34},end:{line:23,column:63}},{start:{line:23,column:67},end:{line:23,column:71}}],line:23}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/node/PotentialNode.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/node/PotentialNode.tsx"],names:[],mappings:";;;;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,WAAW,EAAE,MAAM,gCAAgC,CAAC;AAE7D,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,aAAa,CAAC;AAUrB;IAA2C,iCAAwC;IAAnF;;IAuBA,CAAC;IArBQ,8BAAM,GAAb;QACQ,IAAA,KAA8D,IAAI,CAAC,KAAK,EAAtE,MAAM,YAAA,EAAE,QAAQ,cAAA,EAAE,cAAc,oBAAA,EAAE,eAAe,qBAAA,EAAE,IAAI,UAAe,CAAC;QACvE,IAAA,CAAC,GAAQ,QAAQ,EAAhB,EAAE,CAAC,GAAK,QAAQ,EAAb,CAAc;QAClB,IAAA,KAAK,GAAa,IAAI,MAAjB,EAAE,MAAM,GAAK,IAAI,OAAT,CAAU;QAC/B,IAAM,SAAS,GAAG,iBAAe,CAAC,YAAO,CAAC,WAAQ,CAAC;QAEnD,OAAO,CACL,kBACE,SAAS,EAAC,mBAAmB,EAC7B,KAAK,EAAE,EAAE,KAAK,OAAA,EAAE,MAAM,QAAA,EAAE,SAAS,WAAA,EAAE,aAC1B,MAAM,eACJ,0BAA0B,CAAC,cAAc,uBACjC,IAAI;YAEvB,SAAC,WAAW,IACV,cAAc,EAAE,cAAc,EAC9B,eAAe,EAAE,eAAe,GAChC,CACE,CACP,CAAC;IACJ,CAAC;IACH,oBAAC;AAAD,CAAC,AAvBD,CAA2C,MAAM,CAAC,SAAS,GAuB1D",sourcesContent:["import * as Preact from 'preact';\n\nimport { ComposeView } from 'diagramMaker/components/common';\nimport { BoundRenderCallback, DestroyCallback } from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position, Size } from 'diagramMaker/state/types';\n\nimport './Node.scss';\n\nexport interface PotentialNodeProps {\n  typeId: string;\n  position: Position;\n  size: Size;\n  renderCallback: BoundRenderCallback;\n  destroyCallback: DestroyCallback;\n}\n\nexport default class PotentialNode extends Preact.Component<PotentialNodeProps, {}> {\n\n  public render(): JSX.Element {\n    const { typeId, position, renderCallback, destroyCallback, size } = this.props;\n    const { x, y } = position;\n    const { width, height } = size;\n    const transform = `translate3d(${x}px, ${y}px, 0)`;\n\n    return (\n      <div\n        className=\"dm-potential-node\"\n        style={{ width, height, transform }}\n        data-id={typeId}\n        data-type={DiagramMakerComponentsType.POTENTIAL_NODE}\n        data-event-target={true}\n      >\n        <ComposeView\n          renderCallback={renderCallback}\n          destroyCallback={destroyCallback}\n        />\n      </div>\n    );\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),Qn=(Tn.s[0]++,void Tn.b[0][0]++&&(Tn.b[0][1]++,(void 0).__extends)||(Tn.b[0][2]++,function(){Tn.f[0]++,Tn.s[1]++;var n=function(e,A){return Tn.f[1]++,Tn.s[2]++,Tn.b[1][0]++,n=Object.setPrototypeOf||(Tn.b[1][1]++,{__proto__:[]}instanceof Array&&(Tn.b[1][2]++,function(n,e){Tn.f[2]++,Tn.s[3]++,n.__proto__=e}))||(Tn.b[1][3]++,function(n,e){for(var A in Tn.f[3]++,Tn.s[4]++,e)Tn.s[5]++,Object.prototype.hasOwnProperty.call(e,A)?(Tn.b[2][0]++,Tn.s[6]++,n[A]=e[A]):Tn.b[2][1]++}),Tn.s[7]++,n(e,A)};return Tn.s[8]++,function(e,A){if(Tn.f[4]++,Tn.s[9]++,Tn.b[4][0]++,"function"!=typeof A&&(Tn.b[4][1]++,null!==A))throw Tn.b[3][0]++,Tn.s[10]++,new TypeError("Class extends value "+String(A)+" is not a constructor or null");function t(){Tn.f[5]++,Tn.s[12]++,this.constructor=e}Tn.b[3][1]++,Tn.s[11]++,n(e,A),Tn.s[13]++,e.prototype=null===A?(Tn.b[5][0]++,Object.create(A)):(Tn.b[5][1]++,t.prototype=A.prototype,new t)}}())),Un=(Tn.s[14]++,function(n){function e(){return Tn.f[7]++,Tn.s[16]++,Tn.b[6][0]++,null!==n&&(Tn.b[6][1]++,n.apply(this,arguments))||(Tn.b[6][2]++,this)}return Tn.f[6]++,Tn.s[15]++,Qn(e,n),Tn.s[17]++,e.prototype.render=function(){Tn.f[8]++;var n=(Tn.s[18]++,this.props),e=(Tn.s[19]++,n.typeId),A=(Tn.s[20]++,n.position),t=(Tn.s[21]++,n.renderCallback),o=(Tn.s[22]++,n.destroyCallback),i=(Tn.s[23]++,n.size),l=(Tn.s[24]++,A.x),r=(Tn.s[25]++,A.y),a=(Tn.s[26]++,i.width),C=(Tn.s[27]++,i.height),u=(Tn.s[28]++,"translate3d("+l+"px, "+r+"px, 0)");return Tn.s[29]++,s.h("div",{className:"dm-potential-node",style:{width:a,height:C,transform:u},"data-id":e,"data-type":c.POTENTIAL_NODE,"data-event-target":!0},s.h(m,{renderCallback:t,destroyCallback:o}))},Tn.s[30]++,e}(s.Component)),wn=(function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/node/index.ts",e="8a017ff923ade8a41c623d8ee18707161a09c113",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/node/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/node/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/node/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,IAAI,EAAE,SAAS,EAAE,MAAM,QAAQ,CAAC;AACpD,OAAO,EAAE,OAAO,IAAI,aAAa,EAAE,kBAAkB,EAAE,MAAM,iBAAiB,CAAC",sourcesContent:["export { default as Node, NodeProps } from './Node';\nexport { default as PotentialNode, PotentialNodeProps } from './PotentialNode';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/types.ts",e="eba94ed68845645f3f65e7fe8593059d2a7fbc32",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/types.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:26,column:44}},10:{start:{line:17,column:4},end:{line:17,column:36}},11:{start:{line:21,column:4},end:{line:21,column:45}},12:{start:{line:25,column:4},end:{line:25,column:40}},13:{start:{line:27,column:24},end:{line:27,column:52}},14:{start:{line:28,column:28},end:{line:33,column:1}},15:{start:{line:35,column:0},end:{line:44,column:52}},16:{start:{line:37,column:4},end:{line:37,column:47}},17:{start:{line:39,column:4},end:{line:39,column:49}},18:{start:{line:41,column:4},end:{line:41,column:53}},19:{start:{line:43,column:4},end:{line:43,column:55}},20:{start:{line:45,column:28},end:{line:45,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:27},end:{line:26,column:1}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:35,column:1},end:{line:35,column:2}},loc:{start:{line:35,column:31},end:{line:44,column:1}},line:35}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:26,column:3},end:{line:26,column:42}},type:"binary-expr",locations:[{start:{line:26,column:3},end:{line:26,column:17}},{start:{line:26,column:22},end:{line:26,column:41}}],line:26},4:{loc:{start:{line:44,column:3},end:{line:44,column:50}},type:"binary-expr",locations:[{start:{line:44,column:3},end:{line:44,column:21}},{start:{line:44,column:26},end:{line:44,column:49}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/types.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/types.ts"],names:[],mappings:";;;;;;;;;;;AAeA,MAAM,CAAN,IAAY,cAaX;AAbD,WAAY,cAAc;IACxB;;OAEG;IACH,+BAAa,CAAA;IACb;;OAEG;IACH,wCAAsB,CAAA;IACtB;;OAEG;IACH,mCAAiB,CAAA;AACnB,CAAC,EAbW,cAAc,KAAd,cAAc,QAazB;AAED,MAAM,CAAC,IAAM,UAAU,gBAClB,cAAc,CAClB,CAAC;AASF,MAAM,CAAC,IAAM,cAAc,GAA2C;IACpE,IAAI,EAAE,MAAM;IACZ,UAAU,EAAE,OAAO;IACnB,IAAI,EAAE,MAAM;IACZ,WAAW,EAAE,QAAQ;CACtB,CAAC;AA2BF,MAAM,CAAN,IAAY,kBASX;AATD,WAAY,kBAAkB;IAC5B,mEAAmE;IACnE,0CAAoB,CAAA;IACpB,oEAAoE;IACpE,4CAAsB,CAAA;IACtB,sEAAsE;IACtE,gDAA0B,CAAA;IAC1B,uEAAuE;IACvE,kDAA4B,CAAA;AAC9B,CAAC,EATW,kBAAkB,KAAlB,kBAAkB,QAS7B;AAED,MAAM,CAAC,IAAM,cAAc,gBACtB,kBAAkB,CACtB,CAAC",sourcesContent:["import { UndoHistoryState } from 'redux-undo-redo';\n\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\n\nexport interface Position {\n  x: number;\n  y: number;\n}\n\nexport interface Size {\n  width: number;\n  height: number;\n}\n\nexport enum EditorModeType {\n  /**\n   * Allows the workspace to be dragged to pan the visible area across the window.\n   */\n  DRAG = 'Drag',\n  /**\n   * Prevents UI interactions other than panning and zooming the workspace.\n   */\n  READ_ONLY = 'ReadOnly',\n  /**\n   * Allows selection of multiple nodes with a rectangular marquee.\n   */\n  SELECT = 'Select'\n}\n\nexport const EditorMode = {\n  ...EditorModeType\n};\n\nexport interface Rectangle {\n  position: Position;\n  size: Size;\n}\n\nexport type ShowConnectorsType = 'Input' | 'Output' | 'Both' | 'None';\n\nexport const ShowConnectors: { [type: string]: ShowConnectorsType } = {\n  BOTH: 'Both',\n  INPUT_ONLY: 'Input',\n  NONE: 'None',\n  OUTPUT_ONLY: 'Output'\n};\n\n/** Interface for storing the state of the diagram maker workspace */\nexport interface DiagramMakerWorkspace {\n  /**\n   * Denotes the pixel values that the workspace has been translated by on x & y axis\n   */\n  readonly position: Position;\n  /**\n   * Denotes the scale of the workspace, where 1 denotes natural scale.\n   * Smaller than 1 denotes that the workspace has been zoomed out.\n   * Greater than 1 denotes that the workspace has been zoomed in.\n   */\n  readonly scale: number;\n  /**\n   * Denotes the size of the workspace that the customer can move nodes around in.\n   * Every object within the workspace, i.e. nodes, edges, potential nodes stays within these bounds.\n   */\n  readonly canvasSize: Size;\n  /**\n   * Denotes the size of the container diagram maker is rendered in.\n   * To update due to window resizing, or panels outside diagram maker shifting content,\n   * call the `updateContainer` API.\n   */\n  readonly viewContainerSize: Size;\n}\n\nexport enum PositionAnchorType {\n  /** Top Left edge of the container that diagram maker renders in */\n  TOP_LEFT = 'TopLeft',\n  /** Top Right edge of the container that diagram maker renders in */\n  TOP_RIGHT = 'TopRight',\n  /** Bottom Left edge of the container that diagram maker renders in */\n  BOTTOM_LEFT = 'BottomLeft',\n  /** Bottom Right edge of the container that diagram maker renders in */\n  BOTTOM_RIGHT = 'BottomRight'\n}\n\nexport const PositionAnchor = {\n  ...PositionAnchorType\n};\n\n/**\n * Interface for storing the state of a given diagram maker node.\n * @template NodeType - The type of data stored per node by the consumer.\n */\nexport interface DiagramMakerNode<NodeType> {\n  /**\n   * Unique identifier for the node.\n   * Autogenerated for nodes newly created.\n   * Supplied for nodes already present when diagram maker initializes.\n   * In the case it is supplied, please ensure that this is unique.\n   */\n  readonly id: string;\n  /**\n   * Type of the node. Optional.\n   * References to the id present on the potential node when it was dragged in.\n   * Also useful to specify override connector placements, hiding specific connectors\n   * or providing the shape for boundary connector placements.\n   */\n  readonly typeId?: string;\n  /**\n   * Contains node data managed by diagram maker.\n   */\n  readonly diagramMakerData: {\n    /**\n     * Current position of the node w.r.t the workspace\n     */\n    readonly position: Position;\n    /**\n     * Current size of the node\n     */\n    readonly size: Size;\n    /**\n     * Denotes whether the node is currently selected.\n     */\n    readonly selected?: boolean;\n    /**\n     * Denotes whether the node is currently being dragged.\n     */\n    readonly dragging?: boolean;\n  };\n  /** Contains data managed by the consumer */\n  readonly consumerData?: NodeType;\n}\n\n/**\n * Interface for storing state of several diagram maker nodes.\n * @template NodeType - The type of data stored per node by the consumer.\n */\nexport interface DiagramMakerNodes<NodeType> {\n  readonly [id: string]: DiagramMakerNode<NodeType>;\n}\n\n/** Interface for storing state of diagram maker potential node i.e. a new node being dragged onto the workspace */\nexport interface DiagramMakerPotentialNode {\n  /** Type of the node. Mandatory for providing context during node creation */\n  readonly typeId: string;\n  /** Current position of the potential node w.r.t the workspace */\n  readonly position: Position;\n  /** Size of the potential node as detected via tha data attrs on the drag target or via the type config */\n  readonly size: Size;\n}\n\n/**\n * Interface for storing state of a given diagram maker edge.\n * @template EdgeType - The type of data stored per edge by the consumer\n */\nexport interface DiagramMakerEdge<EdgeType> {\n  /**\n   * Unique identifier for the edge.\n   * Autogenerated for edges newly created.\n   * Supplied for edges already present when diagram maker initializes.\n   * In the case it is supplied, please ensure that this is unique.\n   */\n  readonly id: string;\n  /**\n   * References the id for the node where this edge originates.\n   * Leads to inconsistencies if this refers to a node that doesnt exist.\n   */\n  readonly src: string;\n  /**\n   * References the id for the node where this edge ends.\n   * Leads to inconsistencies if this refers to a node that doesnt exist.\n   */\n  readonly dest: string;\n  /** Contains edge data managed by diagram maker */\n  readonly diagramMakerData: {\n    /** Denotes whether the edge is selected */\n    readonly selected?: boolean;\n  };\n  /** Contains data managed by the consumer */\n  readonly consumerData?: EdgeType;\n}\n\n/**\n * Interface for storing state of several diagram maker edges.\n * @template EdgeType - The type of data stored per edge by the consumer\n */\nexport interface DiagramMakerEdges<EdgeType> {\n  readonly [id: string]: DiagramMakerEdge<EdgeType>;\n}\n\n/** Interface for storing state of diagram maker potential edge i.e. a new edge being drawn on the workspace */\nexport interface DiagramMakerPotentialEdge {\n  /**\n   * References the id for the node where this edge originates.\n   * Leads to inconsistencies if this refers to a node that doesnt exist.\n   */\n  readonly src: string;\n  /**\n   * Current position where the potential edge is pointing.\n   * Usually refers to the cursor position relative to the workspace scale & position.\n   */\n  readonly position: Position;\n}\n\n/** Interface for storing state of a diagram maker panel */\nexport interface DiagramMakerPanel {\n  /**\n   * Unique identifier for the panel.\n   * Provided by the consumer.\n   * Used for referencing the render callback.\n   */\n  readonly id: string;\n  /**\n   * Current position of the panel in the view container.\n   * Please note that panels remain outside the workspace\n   * so are not affected by its scale & panning.\n   */\n  readonly position: Position;\n  /**\n   * Current size for the panel.\n   * Used for providing a container to render the panel content in.\n   */\n  readonly size: Size;\n  /**\n   * Position Anchor. Optional. Used for docking panels.\n   * When not specified, panels are assumed to be relative to Top Left corner of view container.\n   * When specified, position is assumed to be relative to the anchor.\n   */\n  readonly positionAnchor?: PositionAnchorType;\n\n  /**\n   * Denoted whether the panel is in undocking mode.\n   * Panel is in undocking mode when it was previously docked,\n   * is currently being dragged and is within the docking bounds.\n   */\n  readonly undocking?: boolean;\n}\n\n/** Interface for storing state for several diagram maker panels */\nexport interface DiagramMakerPanels {\n  readonly [id: string]: DiagramMakerPanel;\n}\n\n/** Interface for storing state for a diagram maker plugin */\nexport interface DiagramMakerPlugin {\n  readonly data: any;\n}\n\n/** Interface for storing state for several diagram maker plugins */\nexport interface DiagramMakerPlugins {\n  readonly [id: string]: DiagramMakerPlugin;\n}\n\n/** Interface for storing state for diagram maker context menu */\nexport interface DiagramMakerContextMenu {\n  /**\n   * Current position of the context menu in the view container.\n   * Please note context menus are not part of the workspace\n   * so not affected by its scale & panning.\n   */\n  readonly position: Position;\n  /**\n   * Type of the object that the context menu is being displayed for.\n   * For example, node, edge, panel, workspace, etc.\n   */\n  readonly targetType: DiagramMakerComponentsType;\n  /**\n   * Unique identifier to identify the specific node or edge or panel.\n   * Absent for the workspace.\n   */\n  readonly targetId?: string;\n}\n\n/** Interface for storing state for diagram maker selection marquee */\nexport interface DiagramMakerSelectionMarquee {\n  /**\n   * Position where the user clicked to start the selection.\n   * This remains one of the 4 corners of the selections marquee\n   */\n  readonly anchor: Position;\n  /**\n   * Current position of the cursor.\n   */\n  readonly position: Position;\n}\n\n/** Interface for storing state for diagram maker editor */\nexport interface DiagramMakerEditor {\n  /**\n   * Current context menu state if one needs to be rendered currently.\n   */\n  readonly contextMenu?: DiagramMakerContextMenu;\n  /**\n   * Current mode of the editor.\n   */\n  readonly mode: EditorModeType;\n  /**\n   * Current selection marquee state if one needs to be rendered currently.\n   */\n  readonly selectionMarquee?: DiagramMakerSelectionMarquee;\n}\n\nexport interface DiagramMakerData<NodeType, EdgeType> {\n  /** Current state for all nodes */\n  readonly nodes: DiagramMakerNodes<NodeType>;\n  /** Current state for all edges */\n  readonly edges: DiagramMakerEdges<EdgeType>;\n  /** Current state for all panels */\n  readonly panels: DiagramMakerPanels;\n  /** Current state for all plugins */\n  readonly plugins?: DiagramMakerPlugins;\n  /** Current state for diagram maker workspace */\n  readonly workspace: DiagramMakerWorkspace;\n  /** Current state for diagram maker potential node if one needs to be rendered currently */\n  readonly potentialEdge?: DiagramMakerPotentialEdge | null;\n  /** Current state for diagram maker potential edge if one needs to be rendered currently */\n  readonly potentialNode?: DiagramMakerPotentialNode | null;\n  /** Current state for diagram maker editor */\n  readonly editor: DiagramMakerEditor;\n  /** History of undoable actions */\n  readonly undoHistory?: UndoHistoryState<DiagramMakerAction<NodeType, EdgeType>>;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}()),Nn=(wn.s[0]++,void wn.b[0][0]++&&(wn.b[0][1]++,(void 0).__assign)||(wn.b[0][2]++,function(){return wn.f[0]++,wn.s[1]++,wn.b[1][0]++,Nn=Object.assign||(wn.b[1][1]++,function(n){wn.f[1]++,wn.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in wn.s[3]++,e=arguments[A],wn.s[4]++,e)wn.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(wn.b[2][0]++,wn.s[6]++,n[o]=e[o]):wn.b[2][1]++;return wn.s[7]++,n}),wn.s[8]++,Nn.apply(this,arguments)}));wn.s[9]++,function(n){wn.f[2]++,wn.s[10]++,n.DRAG="Drag",wn.s[11]++,n.READ_ONLY="ReadOnly",wn.s[12]++,n.SELECT="Select"}((wn.b[3][0]++,Dn||(wn.b[3][1]++,Dn={})));var Pn,Rn=(wn.s[13]++,Nn({},Dn));wn.s[14]++;wn.s[15]++,function(n){wn.f[3]++,wn.s[16]++,n.TOP_LEFT="TopLeft",wn.s[17]++,n.TOP_RIGHT="TopRight",wn.s[18]++,n.BOTTOM_LEFT="BottomLeft",wn.s[19]++,n.BOTTOM_RIGHT="BottomRight"}((wn.b[4][0]++,Pn||(wn.b[4][1]++,Pn={})));var Yn=(wn.s[20]++,Nn({},Pn)),Wn=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/panel/Panel.tsx",e="5bf27884767c8a5f650517f477298de4c16b5626",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/panel/Panel.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:15,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:14,column:6}},9:{start:{line:9,column:8},end:{line:10,column:102}},10:{start:{line:10,column:12},end:{line:10,column:102}},11:{start:{line:11,column:8},end:{line:11,column:28}},12:{start:{line:12,column:24},end:{line:12,column:45}},13:{start:{line:13,column:8},end:{line:13,column:93}},14:{start:{line:21,column:18},end:{line:42,column:1}},15:{start:{line:22,column:4},end:{line:41,column:5}},16:{start:{line:24,column:12},end:{line:24,column:34}},17:{start:{line:27,column:28},end:{line:27,column:73}},18:{start:{line:28,column:28},end:{line:28,column:29}},19:{start:{line:29,column:12},end:{line:29,column:50}},20:{start:{line:32,column:30},end:{line:32,column:31}},21:{start:{line:33,column:30},end:{line:33,column:77}},22:{start:{line:34,column:12},end:{line:34,column:54}},23:{start:{line:37,column:31},end:{line:37,column:76}},24:{start:{line:38,column:31},end:{line:38,column:78}},25:{start:{line:39,column:12},end:{line:39,column:56}},26:{start:{line:43,column:27},end:{line:59,column:19}},27:{start:{line:44,column:4},end:{line:44,column:29}},28:{start:{line:46,column:8},end:{line:46,column:72}},29:{start:{line:48,column:4},end:{line:57,column:6}},30:{start:{line:49,column:17},end:{line:49,column:36}},31:{start:{line:49,column:42},end:{line:49,column:46}},32:{start:{line:49,column:52},end:{line:49,column:56}},33:{start:{line:50,column:17},end:{line:50,column:32}},34:{start:{line:50,column:42},end:{line:50,column:50}},35:{start:{line:50,column:61},end:{line:50,column:70}},36:{start:{line:51,column:29},end:{line:51,column:85}},37:{start:{line:52,column:17},end:{line:52,column:27}},38:{start:{line:52,column:47},end:{line:52,column:65}},39:{start:{line:52,column:84},end:{line:52,column:101}},40:{start:{line:52,column:123},end:{line:52,column:143}},41:{start:{line:53,column:17},end:{line:53,column:86}},42:{start:{line:53,column:101},end:{line:53,column:105}},43:{start:{line:53,column:120},end:{line:53,column:124}},44:{start:{line:54,column:24},end:{line:54,column:84}},45:{start:{line:55,column:8},end:{line:56,column:106}},46:{start:{line:58,column:4},end:{line:58,column:17}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:15,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:14,column:5}},line:8},5:{name:"__",decl:{start:{line:12,column:17},end:{line:12,column:19}},loc:{start:{line:12,column:22},end:{line:12,column:47}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:21,column:18},end:{line:21,column:19}},loc:{start:{line:21,column:80},end:{line:42,column:1}},line:21},7:{name:"(anonymous_7)",decl:{start:{line:43,column:27},end:{line:43,column:28}},loc:{start:{line:43,column:45},end:{line:59,column:1}},line:43},8:{name:"Panel",decl:{start:{line:45,column:13},end:{line:45,column:18}},loc:{start:{line:45,column:21},end:{line:47,column:5}},line:45},9:{name:"(anonymous_9)",decl:{start:{line:48,column:29},end:{line:48,column:30}},loc:{start:{line:48,column:41},end:{line:57,column:5}},line:48}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:15,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:15,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:9,column:8},end:{line:10,column:102}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:102}},{start:{line:9,column:8},end:{line:10,column:102}}],line:9},4:{loc:{start:{line:9,column:12},end:{line:9,column:49}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:35}},{start:{line:9,column:39},end:{line:9,column:49}}],line:9},5:{loc:{start:{line:13,column:22},end:{line:13,column:92}},type:"cond-expr",locations:[{start:{line:13,column:35},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:91}}],line:13},6:{loc:{start:{line:22,column:4},end:{line:41,column:5}},type:"switch",locations:[{start:{line:23,column:8},end:{line:25,column:9}},{start:{line:26,column:8},end:{line:30,column:9}},{start:{line:31,column:8},end:{line:35,column:9}},{start:{line:36,column:8},end:{line:40,column:9}}],line:22},7:{loc:{start:{line:46,column:15},end:{line:46,column:71}},type:"binary-expr",locations:[{start:{line:46,column:15},end:{line:46,column:30}},{start:{line:46,column:34},end:{line:46,column:63}},{start:{line:46,column:67},end:{line:46,column:71}}],line:46},8:{loc:{start:{line:51,column:29},end:{line:51,column:85}},type:"binary-expr",locations:[{start:{line:51,column:29},end:{line:51,column:54}},{start:{line:51,column:58},end:{line:51,column:85}}],line:51}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0,0],7:[0,0,0],8:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/panel/Panel.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/panel/Panel.tsx"],names:[],mappings:";;;;;;;;;;;;;;;AACA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,EAAE,WAAW,EAAE,MAAM,gCAAgC,CAAC;AAE7D,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAC3E,OAAO,EAAY,kBAAkB,EAAS,MAAM,0BAA0B,CAAC;AAE/E,OAAO,cAAc,CAAC;AAYtB,IAAM,WAAW,GAAG,UAClB,CAAS,EACT,CAAS,EACT,cAAkC,EAClC,SAAe,EACf,iBAAuB;IAEvB,QAAQ,cAAc,EAAE;QACtB,KAAK,kBAAkB,CAAC,QAAQ,CAAC,CAAC;YAChC,OAAO,EAAE,CAAC,GAAA,EAAE,CAAC,GAAA,EAAE,CAAC;SACjB;QACD,KAAK,kBAAkB,CAAC,SAAS,CAAC,CAAC;YACjC,IAAM,SAAS,GAAG,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,GAAG,CAAC,CAAC;YAChE,IAAM,SAAS,GAAG,CAAC,CAAC;YAEpB,OAAO,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC;SACvC;QACD,KAAK,kBAAkB,CAAC,WAAW,CAAC,CAAC;YACnC,IAAM,WAAW,GAAG,CAAC,CAAC;YACtB,IAAM,WAAW,GAAG,iBAAiB,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;YAEpE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC;SAC3C;QACD,KAAK,kBAAkB,CAAC,YAAY,CAAC,CAAC;YACpC,IAAM,YAAY,GAAG,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,GAAG,CAAC,CAAC;YACnE,IAAM,YAAY,GAAG,iBAAiB,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;YAErE,OAAO,EAAE,CAAC,EAAE,YAAY,EAAE,CAAC,EAAE,YAAY,EAAE,CAAC;SAC7C;KACF;AACH,CAAC,CAAC;AAEF;IAAmC,yBAA4B;IAA/D;;IA0BA,CAAC;IAxBQ,sBAAM,GAAb;QACQ,IAAA,KAAW,IAAI,CAAC,KAAK,CAAC,QAAQ,EAA5B,CAAC,OAAA,EAAE,CAAC,OAAwB,CAAC;QAC/B,IAAA,KAAoB,IAAI,CAAC,KAAK,CAAC,IAAI,EAAjC,KAAK,WAAA,EAAE,MAAM,YAAoB,CAAC;QAC1C,IAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,kBAAkB,CAAC,QAAQ,CAAC;QAC1E,IAAA,KAAyD,IAAI,CAAC,KAAK,EAAjE,eAAe,qBAAA,EAAE,cAAc,oBAAA,EAAE,iBAAiB,uBAAe,CAAC;QAEpE,IAAA,KAAmC,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,iBAAiB,CAAC,EAAnG,UAAU,OAAA,EAAK,UAAU,OAA0E,CAAC;QAC/G,IAAM,SAAS,GAAG,iBAAe,UAAU,YAAO,UAAU,WAAQ,CAAC;QAErE,OAAO,CACL,6BACW,IAAI,CAAC,KAAK,CAAC,EAAE,eACX,0BAA0B,CAAC,KAAK,uBACxB,IAAI,EACvB,SAAS,EAAC,UAAU,EACpB,KAAK,EAAE,EAAE,KAAK,OAAA,EAAE,MAAM,QAAA,EAAE,SAAS,WAAA,EAAE;YAEnC,SAAC,WAAW,IACV,cAAc,EAAE,cAAc,EAC9B,eAAe,EAAE,eAAe,GAChC,CACE,CACP,CAAC;IACJ,CAAC;IACH,YAAC;AAAD,CAAC,AA1BD,CAAmC,MAAM,CAAC,SAAS,GA0BlD",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport { ComposeView } from 'diagramMaker/components/common';\nimport { BoundRenderCallback, DestroyCallback } from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position, PositionAnchorType, Size  } from 'diagramMaker/state/types';\n\nimport './Panel.scss';\n\nexport interface PanelProps {\n  id: string;\n  size: Size;\n  position: Position;\n  renderCallback: BoundRenderCallback;\n  destroyCallback: DestroyCallback;\n  viewContainerSize: Size;\n  positionAnchor?: PositionAnchorType;\n}\n\nconst getPosition = (\n  x: number,\n  y: number,\n  positionAnchor: PositionAnchorType,\n  panelSize: Size,\n  viewContainerSize: Size\n): Position => {\n  switch (positionAnchor) {\n    case PositionAnchorType.TOP_LEFT: {\n      return { x, y };\n    }\n    case PositionAnchorType.TOP_RIGHT: {\n      const topRightX = viewContainerSize.width - panelSize.width - x;\n      const topRightY = y;\n\n      return { x: topRightX, y: topRightY };\n    }\n    case PositionAnchorType.BOTTOM_LEFT: {\n      const bottomLeftX = x;\n      const bottomLeftY = viewContainerSize.height - panelSize.height - y;\n\n      return { x: bottomLeftX, y: bottomLeftY };\n    }\n    case PositionAnchorType.BOTTOM_RIGHT: {\n      const bottomRightX = viewContainerSize.width - panelSize.width - x;\n      const bottomRightY = viewContainerSize.height - panelSize.height - y;\n\n      return { x: bottomRightX, y: bottomRightY };\n    }\n  }\n};\n\nexport default class Panel extends Preact.Component<PanelProps> {\n\n  public render(): JSX.Element {\n    const { x, y } = this.props.position;\n    const { width, height } = this.props.size;\n    const positionAnchor = this.props.positionAnchor || PositionAnchorType.TOP_LEFT;\n    const { destroyCallback, renderCallback, viewContainerSize } = this.props;\n\n    const { x: translateX, y: translateY } = getPosition(x, y, positionAnchor, this.props.size, viewContainerSize);\n    const transform = `translate3d(${translateX}px, ${translateY}px, 0)`;\n\n    return (\n      <div\n        data-id={this.props.id}\n        data-type={DiagramMakerComponentsType.PANEL}\n        data-event-target={true}\n        className=\"dm-panel\"\n        style={{ width, height, transform }}\n      >\n        <ComposeView\n          renderCallback={renderCallback}\n          destroyCallback={destroyCallback}\n        />\n      </div>\n    );\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),zn=(Wn.s[0]++,void Wn.b[0][0]++&&(Wn.b[0][1]++,(void 0).__extends)||(Wn.b[0][2]++,function(){Wn.f[0]++,Wn.s[1]++;var n=function(e,A){return Wn.f[1]++,Wn.s[2]++,Wn.b[1][0]++,n=Object.setPrototypeOf||(Wn.b[1][1]++,{__proto__:[]}instanceof Array&&(Wn.b[1][2]++,function(n,e){Wn.f[2]++,Wn.s[3]++,n.__proto__=e}))||(Wn.b[1][3]++,function(n,e){for(var A in Wn.f[3]++,Wn.s[4]++,e)Wn.s[5]++,Object.prototype.hasOwnProperty.call(e,A)?(Wn.b[2][0]++,Wn.s[6]++,n[A]=e[A]):Wn.b[2][1]++}),Wn.s[7]++,n(e,A)};return Wn.s[8]++,function(e,A){if(Wn.f[4]++,Wn.s[9]++,Wn.b[4][0]++,"function"!=typeof A&&(Wn.b[4][1]++,null!==A))throw Wn.b[3][0]++,Wn.s[10]++,new TypeError("Class extends value "+String(A)+" is not a constructor or null");function t(){Wn.f[5]++,Wn.s[12]++,this.constructor=e}Wn.b[3][1]++,Wn.s[11]++,n(e,A),Wn.s[13]++,e.prototype=null===A?(Wn.b[5][0]++,Object.create(A)):(Wn.b[5][1]++,t.prototype=A.prototype,new t)}}()));Wn.s[14]++;var Ln=(Wn.s[26]++,function(n){function e(){return Wn.f[8]++,Wn.s[28]++,Wn.b[7][0]++,null!==n&&(Wn.b[7][1]++,n.apply(this,arguments))||(Wn.b[7][2]++,this)}return Wn.f[7]++,Wn.s[27]++,zn(e,n),Wn.s[29]++,e.prototype.render=function(){Wn.f[9]++;var n=(Wn.s[30]++,this.props.position),e=(Wn.s[31]++,n.x),A=(Wn.s[32]++,n.y),t=(Wn.s[33]++,this.props.size),o=(Wn.s[34]++,t.width),i=(Wn.s[35]++,t.height),l=(Wn.s[36]++,Wn.b[8][0]++,this.props.positionAnchor||(Wn.b[8][1]++,Pn.TOP_LEFT)),r=(Wn.s[37]++,this.props),a=(Wn.s[38]++,r.destroyCallback),C=(Wn.s[39]++,r.renderCallback),u=(Wn.s[40]++,r.viewContainerSize),d=(Wn.s[41]++,function(n,e,A,t,o){switch(Wn.f[6]++,Wn.s[15]++,A){case Pn.TOP_LEFT:return Wn.b[6][0]++,Wn.s[16]++,{x:n,y:e};case Pn.TOP_RIGHT:Wn.b[6][1]++;var i=(Wn.s[17]++,o.width-t.width-n),l=(Wn.s[18]++,e);return Wn.s[19]++,{x:i,y:l};case Pn.BOTTOM_LEFT:Wn.b[6][2]++;var r=(Wn.s[20]++,n),a=(Wn.s[21]++,o.height-t.height-e);return Wn.s[22]++,{x:r,y:a};case Pn.BOTTOM_RIGHT:Wn.b[6][3]++;var c=(Wn.s[23]++,o.width-t.width-n),s=(Wn.s[24]++,o.height-t.height-e);return Wn.s[25]++,{x:c,y:s}}}(e,A,l,this.props.size,u)),E=(Wn.s[42]++,d.x),p=(Wn.s[43]++,d.y),f=(Wn.s[44]++,"translate3d("+E+"px, "+p+"px, 0)");return Wn.s[45]++,s.h("div",{"data-id":this.props.id,"data-type":c.PANEL,"data-event-target":!0,className:"dm-panel",style:{width:o,height:i,transform:f}},s.h(m,{renderCallback:C,destroyCallback:a}))},Wn.s[46]++,e}(s.Component)),jn=(function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/panel/index.ts",e="9def62c597d56659b0f44cc741bf66a5faf339fb",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/panel/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/panel/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/panel/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,KAAK,EAAE,UAAU,EAAE,MAAM,SAAS,CAAC",sourcesContent:["export { default as Panel, PanelProps } from './Panel';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/selectionMarquee/SelectionMarquee.tsx",e="1f9bb12a13e49c5b1feb1986e3e3fc781e6018af",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/selectionMarquee/SelectionMarquee.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:15,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:14,column:6}},9:{start:{line:9,column:8},end:{line:10,column:102}},10:{start:{line:10,column:12},end:{line:10,column:102}},11:{start:{line:11,column:8},end:{line:11,column:28}},12:{start:{line:12,column:24},end:{line:12,column:45}},13:{start:{line:13,column:8},end:{line:13,column:93}},14:{start:{line:19,column:38},end:{line:44,column:19}},15:{start:{line:20,column:4},end:{line:20,column:40}},16:{start:{line:22,column:8},end:{line:22,column:72}},17:{start:{line:24,column:4},end:{line:35,column:6}},18:{start:{line:25,column:17},end:{line:25,column:27}},19:{start:{line:25,column:38},end:{line:25,column:47}},20:{start:{line:25,column:60},end:{line:25,column:71}},21:{start:{line:26,column:17},end:{line:26,column:60}},22:{start:{line:26,column:69},end:{line:26,column:76}},23:{start:{line:26,column:84},end:{line:26,column:90}},24:{start:{line:26,column:100},end:{line:26,column:108}},25:{start:{line:26,column:119},end:{line:26,column:128}},26:{start:{line:27,column:22},end:{line:27,column:34}},27:{start:{line:28,column:20},end:{line:33,column:9}},28:{start:{line:34,column:8},end:{line:34,column:157}},29:{start:{line:36,column:4},end:{line:42,column:6}},30:{start:{line:37,column:19},end:{line:37,column:49}},31:{start:{line:38,column:18},end:{line:38,column:48}},32:{start:{line:39,column:20},end:{line:39,column:51}},33:{start:{line:40,column:21},end:{line:40,column:52}},34:{start:{line:41,column:8},end:{line:41,column:70}},35:{start:{line:43,column:4},end:{line:43,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:15,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:14,column:5}},line:8},5:{name:"__",decl:{start:{line:12,column:17},end:{line:12,column:19}},loc:{start:{line:12,column:22},end:{line:12,column:47}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:19,column:38},end:{line:19,column:39}},loc:{start:{line:19,column:56},end:{line:44,column:1}},line:19},7:{name:"SelectionMarquee",decl:{start:{line:21,column:13},end:{line:21,column:29}},loc:{start:{line:21,column:32},end:{line:23,column:5}},line:21},8:{name:"(anonymous_8)",decl:{start:{line:24,column:40},end:{line:24,column:41}},loc:{start:{line:24,column:52},end:{line:35,column:5}},line:24},9:{name:"(anonymous_9)",decl:{start:{line:36,column:54},end:{line:36,column:55}},loc:{start:{line:36,column:82},end:{line:42,column:5}},line:36}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:15,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:15,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:9,column:8},end:{line:10,column:102}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:102}},{start:{line:9,column:8},end:{line:10,column:102}}],line:9},4:{loc:{start:{line:9,column:12},end:{line:9,column:49}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:35}},{start:{line:9,column:39},end:{line:9,column:49}}],line:9},5:{loc:{start:{line:13,column:22},end:{line:13,column:92}},type:"cond-expr",locations:[{start:{line:13,column:35},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:91}}],line:13},6:{loc:{start:{line:22,column:15},end:{line:22,column:71}},type:"binary-expr",locations:[{start:{line:22,column:15},end:{line:22,column:30}},{start:{line:22,column:34},end:{line:22,column:63}},{start:{line:22,column:67},end:{line:22,column:71}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/selectionMarquee/SelectionMarquee.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/selectionMarquee/SelectionMarquee.tsx"],names:[],mappings:";;;;;;;;;;;;;;;AAAA,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAE3E,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,yBAAyB,CAAC;AAcjC;IAA8C,oCAAuC;IAArF;;IA6BA,CAAC;IA5BQ,iCAAM,GAAb;QACQ,IAAA,KAAuB,IAAI,CAAC,KAAK,EAA/B,MAAM,YAAA,EAAE,QAAQ,cAAe,CAAC;QAClC,IAAA,KAA+B,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,QAAQ,CAAC,EAAxE,IAAI,UAAA,EAAE,GAAG,SAAA,EAAE,KAAK,WAAA,EAAE,MAAM,YAAgD,CAAC;QACjF,IAAM,OAAO,GAAG,YAAY,CAAC;QAC7B,IAAM,KAAK,GAAG;YACZ,MAAM,QAAA;YACN,IAAI,MAAA;YACJ,GAAG,KAAA;YACH,KAAK,OAAA;SACN,CAAC;QAEF,OAAM,CACJ,kBACE,SAAS,EAAE,OAAO,EAClB,KAAK,EAAE,KAAK,uBACO,IAAI,eACZ,0BAA0B,CAAC,iBAAiB,GACvD,CACH,CAAC;IACJ,CAAC;IAEO,+CAAoB,GAA5B,UAA6B,MAAgB,EAAE,QAAkB;QAC/D,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC5C,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC3C,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC9C,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC/C,OAAO,EAAE,IAAI,MAAA,EAAE,GAAG,KAAA,EAAE,KAAK,OAAA,EAAE,MAAM,QAAA,EAAE,CAAC;IACtC,CAAC;IACH,uBAAC;AAAD,CAAC,AA7BD,CAA8C,MAAM,CAAC,SAAS,GA6B7D",sourcesContent:["import { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position, Size } from 'diagramMaker/state/types';\nimport * as Preact from 'preact';\n\nimport './SelectionMarquee.scss';\n\nexport interface SelectionMarqueeProps {\n  anchor: Position;\n  position: Position;\n}\n\ninterface MarqueeDimensions {\n  left: number;\n  top: number;\n  width: number;\n  height: number;\n}\n\nexport default class SelectionMarquee extends Preact.Component<SelectionMarqueeProps> {\n  public render(): JSX.Element {\n    const { anchor, position } = this.props;\n    const { left, top, width, height } = this.getMarqueeDimensions(anchor, position);\n    const classes = 'dm-marquee';\n    const style = {\n      height,\n      left,\n      top,\n      width\n    };\n\n    return(\n      <div\n        className={classes}\n        style={style}\n        data-event-target={true}\n        data-type={DiagramMakerComponentsType.SELECTION_MARQUEE}\n      />\n    );\n  }\n\n  private getMarqueeDimensions(anchor: Position, position: Position): MarqueeDimensions {\n    const left = Math.min(anchor.x, position.x);\n    const top = Math.min(anchor.y, position.y);\n    const width = Math.abs(anchor.x - position.x);\n    const height = Math.abs(anchor.y - position.y);\n    return { left, top, width, height };\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}()),Fn=(jn.s[0]++,void jn.b[0][0]++&&(jn.b[0][1]++,(void 0).__extends)||(jn.b[0][2]++,function(){jn.f[0]++,jn.s[1]++;var n=function(e,A){return jn.f[1]++,jn.s[2]++,jn.b[1][0]++,n=Object.setPrototypeOf||(jn.b[1][1]++,{__proto__:[]}instanceof Array&&(jn.b[1][2]++,function(n,e){jn.f[2]++,jn.s[3]++,n.__proto__=e}))||(jn.b[1][3]++,function(n,e){for(var A in jn.f[3]++,jn.s[4]++,e)jn.s[5]++,Object.prototype.hasOwnProperty.call(e,A)?(jn.b[2][0]++,jn.s[6]++,n[A]=e[A]):jn.b[2][1]++}),jn.s[7]++,n(e,A)};return jn.s[8]++,function(e,A){if(jn.f[4]++,jn.s[9]++,jn.b[4][0]++,"function"!=typeof A&&(jn.b[4][1]++,null!==A))throw jn.b[3][0]++,jn.s[10]++,new TypeError("Class extends value "+String(A)+" is not a constructor or null");function t(){jn.f[5]++,jn.s[12]++,this.constructor=e}jn.b[3][1]++,jn.s[11]++,n(e,A),jn.s[13]++,e.prototype=null===A?(jn.b[5][0]++,Object.create(A)):(jn.b[5][1]++,t.prototype=A.prototype,new t)}}())),Hn=(jn.s[14]++,function(n){function e(){return jn.f[7]++,jn.s[16]++,jn.b[6][0]++,null!==n&&(jn.b[6][1]++,n.apply(this,arguments))||(jn.b[6][2]++,this)}return jn.f[6]++,jn.s[15]++,Fn(e,n),jn.s[17]++,e.prototype.render=function(){jn.f[8]++;var n=(jn.s[18]++,this.props),e=(jn.s[19]++,n.anchor),A=(jn.s[20]++,n.position),t=(jn.s[21]++,this.getMarqueeDimensions(e,A)),o=(jn.s[22]++,t.left),i=(jn.s[23]++,t.top),l=(jn.s[24]++,t.width),r=(jn.s[25]++,t.height),a=(jn.s[26]++,"dm-marquee"),C=(jn.s[27]++,{height:r,left:o,top:i,width:l});return jn.s[28]++,s.h("div",{className:a,style:C,"data-event-target":!0,"data-type":c.SELECTION_MARQUEE})},jn.s[29]++,e.prototype.getMarqueeDimensions=function(n,e){jn.f[9]++;var A=(jn.s[30]++,Math.min(n.x,e.x)),t=(jn.s[31]++,Math.min(n.y,e.y)),o=(jn.s[32]++,Math.abs(n.x-e.x)),i=(jn.s[33]++,Math.abs(n.y-e.y));return jn.s[34]++,{left:A,top:t,width:o,height:i}},jn.s[35]++,e}(s.Component)),qn=(function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/selectionMarquee/index.ts",e="845f9fae4d465585af4d4c960e9076be77ba9f0a",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/selectionMarquee/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/selectionMarquee/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/selectionMarquee/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,gBAAgB,EAAE,qBAAqB,EAAE,MAAM,oBAAoB,CAAC",sourcesContent:["export { default as SelectionMarquee, SelectionMarqueeProps } from './SelectionMarquee';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/canvas/Canvas.tsx",e="89cc4ea84861e6b21fc56642b49eb4a85a0efb96",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/canvas/Canvas.tsx",statementMap:{0:{start:{line:4,column:13},end:{line:7,column:1}},1:{start:{line:5,column:20},end:{line:5,column:60}},2:{start:{line:6,column:4},end:{line:6,column:71}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:30},end:{line:7,column:1}},line:4}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/canvas/Canvas.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/canvas/Canvas.tsx"],names:[],mappings:"AAAA,OAAO,KAAK,UAAU,MAAM,YAAY,CAAC;AACzC,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,eAAe,CAAC;AAMvB,IAAM,MAAM,GAAG,UAAC,KAA0C;IACxD,IAAM,SAAS,GAAG,UAAU,CAAC,WAAW,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;IAE3D,OAAO,CACL,kBAAK,SAAS,EAAE,SAAS,IACpB,KAAK,CAAC,QAAQ,CACb,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,MAAM,CAAC",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport './Canvas.scss';\n\nexport interface CanvasProps {\n  className?: string | string[];\n}\n\nconst Canvas = (props: Preact.RenderableProps<CanvasProps>): JSX.Element => {\n  const className = classnames('dm-canvas', props.className);\n\n  return (\n    <div className={className}>\n        {props.children}\n    </div>\n  );\n};\n\nexport default Canvas;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}());qn.s[0]++;var Vn=function(n){qn.f[0]++;var e=(qn.s[1]++,y("dm-canvas",n.className));return qn.s[2]++,s.h("div",{className:e},n.children)},Xn=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/canvas/patterns/DotPattern.tsx",e="1632996fb049dc8c429df632745e95683290590c",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/canvas/patterns/DotPattern.tsx",statementMap:{0:{start:{line:2,column:31},end:{line:4,column:1}},1:{start:{line:3,column:4},end:{line:3,column:137}},2:{start:{line:5,column:17},end:{line:19,column:1}},3:{start:{line:6,column:19},end:{line:6,column:33}},4:{start:{line:6,column:44},end:{line:6,column:56}},5:{start:{line:7,column:17},end:{line:7,column:55}},6:{start:{line:8,column:17},end:{line:8,column:62}},7:{start:{line:9,column:17},end:{line:9,column:69}},8:{start:{line:10,column:17},end:{line:10,column:62}},9:{start:{line:11,column:4},end:{line:18,column:92}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:31},end:{line:2,column:32}},loc:{start:{line:2,column:52},end:{line:4,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:5,column:17},end:{line:5,column:18}},loc:{start:{line:5,column:34},end:{line:19,column:1}},line:5}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/canvas/patterns/DotPattern.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/canvas/patterns/DotPattern.tsx"],names:[],mappings:"AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAOjC,IAAM,wBAAwB,GAAG,UAAC,EAAU,EAAE,EAAU,EAAE,CAAS;IACjE,OAAO,MAAI,EAAE,SAAI,EAAE,UAAK,CAAC,CAAC,YAAO,CAAC,SAAI,CAAC,eAAU,CAAC,GAAG,CAAC,YAAO,CAAC,SAAI,CAAC,eAAU,CAAC,CAAC,GAAG,CAAC,OAAI,CAAC;AAC1F,CAAC,CAAC;AAEF,IAAM,UAAU,GAAG,UAAC,KAAsB;IAChC,IAAA,QAAQ,GAAa,KAAK,SAAlB,EAAE,MAAM,GAAK,KAAK,OAAV,CAAW;IACnC,IAAM,MAAM,GAAG,wBAAwB,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;IACtD,IAAM,MAAM,GAAG,wBAAwB,CAAC,QAAQ,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;IAC7D,IAAM,MAAM,GAAG,wBAAwB,CAAC,QAAQ,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;IACpE,IAAM,MAAM,GAAG,wBAAwB,CAAC,CAAC,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;IAE7D,OAAO,CACL,kBAAK,SAAS,EAAC,SAAS,EAAC,KAAK,EAAC,4BAA4B;QACzD;YACE,sBAAS,EAAE,EAAC,gBAAgB,EAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAC,gBAAgB;gBAC3F,mBAAM,CAAC,EAAE,MAAM,GAAI;gBACnB,mBAAM,CAAC,EAAE,MAAM,GAAI;gBACnB,mBAAM,CAAC,EAAE,MAAM,GAAI;gBACnB,mBAAM,CAAC,EAAE,MAAM,GAAI,CACX,CACL;QACP,mBAAM,IAAI,EAAC,sBAAsB,EAAC,KAAK,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM,GAAG,CAC3D,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,UAAU,CAAC",sourcesContent:['import * as Preact from \'preact\';\n\nexport interface DotPatternProps {\n  cellSize: number;\n  radius: number;\n}\n\nconst getQuarterCirclePathData = (cx: number, cy: number, r: number): string => {\n  return `M${cx},${cy} m${-r},0 a${r},${r} 0 1,1 ${r * 2},0 a${r},${r} 0 1,1 ${-r * 2},0`;\n};\n\nconst DotPattern = (props: DotPatternProps): JSX.Element => {\n  const { cellSize, radius } = props;\n  const pathTL = getQuarterCirclePathData(0, 0, radius);\n  const pathTR = getQuarterCirclePathData(cellSize, 0, radius);\n  const pathBR = getQuarterCirclePathData(cellSize, cellSize, radius);\n  const pathBL = getQuarterCirclePathData(0, cellSize, radius);\n\n  return (\n    <svg className="dm-dots" xmlns="http://www.w3.org/2000/svg">\n      <defs>\n        <pattern id="dm-dot-pattern" width={cellSize} height={cellSize} patternUnits="userSpaceOnUse">\n          <path d={pathTL} />\n          <path d={pathTR} />\n          <path d={pathBR} />\n          <path d={pathBL} />\n        </pattern>\n      </defs>\n      <rect fill="url(#dm-dot-pattern)" width="100%" height="100%" />\n    </svg>\n  );\n};\n\nexport default DotPattern;\n']},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();Xn.s[0]++;var Zn=function(n,e,A){return Xn.f[0]++,Xn.s[1]++,"M"+n+","+e+" m"+-A+",0 a"+A+","+A+" 0 1,1 "+2*A+",0 a"+A+","+A+" 0 1,1 "+2*-A+",0"};Xn.s[2]++;var Jn=function(n){Xn.f[1]++;var e=(Xn.s[3]++,n.cellSize),A=(Xn.s[4]++,n.radius),t=(Xn.s[5]++,Zn(0,0,A)),o=(Xn.s[6]++,Zn(e,0,A)),i=(Xn.s[7]++,Zn(e,e,A)),l=(Xn.s[8]++,Zn(0,e,A));return Xn.s[9]++,s.h("svg",{className:"dm-dots",xmlns:"http://www.w3.org/2000/svg"},s.h("defs",null,s.h("pattern",{id:"dm-dot-pattern",width:e,height:e,patternUnits:"userSpaceOnUse"},s.h("path",{d:t}),s.h("path",{d:o}),s.h("path",{d:i}),s.h("path",{d:l}))),s.h("rect",{fill:"url(#dm-dot-pattern)",width:"100%",height:"100%"}))},$n=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/workspace/Workspace.tsx",e="9c460c2ce6e16585e682325a5c5399249913a728",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/workspace/Workspace.tsx",statementMap:{0:{start:{line:7,column:36},end:{line:7,column:85}},1:{start:{line:8,column:16},end:{line:18,column:1}},2:{start:{line:9,column:20},end:{line:9,column:63}},3:{start:{line:10,column:13},end:{line:10,column:29}},4:{start:{line:10,column:40},end:{line:10,column:49}},5:{start:{line:10,column:59},end:{line:10,column:67}},6:{start:{line:11,column:13},end:{line:11,column:27}},7:{start:{line:11,column:33},end:{line:11,column:37}},8:{start:{line:11,column:43},end:{line:11,column:47}},9:{start:{line:12,column:16},end:{line:12,column:27}},10:{start:{line:13,column:20},end:{line:13,column:83}},11:{start:{line:14,column:24},end:{line:14,column:69}},12:{start:{line:15,column:4},end:{line:17,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:16},end:{line:8,column:17}},loc:{start:{line:8,column:33},end:{line:18,column:1}},line:8}},branchMap:{0:{loc:{start:{line:14,column:24},end:{line:14,column:69}},type:"binary-expr",locations:[{start:{line:14,column:24},end:{line:14,column:43}},{start:{line:14,column:47},end:{line:14,column:69}}],line:14}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/workspace/Workspace.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/workspace/Workspace.tsx"],names:[],mappings:"AAAA,OAAO,KAAK,UAAU,MAAM,YAAY,CAAC;AACzC,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AAEjC,OAAO,MAAM,MAAM,uCAAuC,CAAC;AAC3D,OAAO,UAAU,MAAM,oDAAoD,CAAC;AAC5E,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAG3E,OAAO,kBAAkB,CAAC;AAU1B,MAAM,CAAC,IAAM,sBAAsB,GAAgB,SAAC,UAAU,IAAC,QAAQ,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,GAAI,CAAC;AAE3F,IAAM,SAAS,GAAG,UAAC,KAA6C;IAC9D,IAAM,SAAS,GAAG,UAAU,CAAC,cAAc,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;IACxD,IAAA,KAAoB,KAAK,CAAC,UAAU,EAAlC,MAAM,YAAA,EAAE,KAAK,WAAqB,CAAC;IACrC,IAAA,KAAW,KAAK,CAAC,QAAQ,EAAvB,CAAC,OAAA,EAAE,CAAC,OAAmB,CAAC;IAChC,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;IAE1B,IAAM,SAAS,GAAG,iBAAe,CAAC,YAAO,CAAC,qBAAgB,KAAK,MAAG,CAAC;IAEnE,IAAM,aAAa,GAAG,KAAK,CAAC,aAAa,IAAI,sBAAsB,CAAC;IAEpE,OAAO,CACL,kBACE,SAAS,EAAE,SAAS,EACpB,KAAK,EAAE,EAAE,MAAM,QAAA,EAAE,KAAK,OAAA,EAAE,SAAS,WAAA,EAAE,eACxB,0BAA0B,CAAC,SAAS,uBAC5B,IAAI,oBACP,IAAI,mBACL,IAAI;QAEjB,SAAC,MAAM,QACJ,aAAa,CACP;QACR,KAAK,CAAC,QAAQ,CACb,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,SAAS,CAAC",sourcesContent:["import * as classnames from 'classnames';\nimport * as Preact from 'preact';\n\nimport Canvas from 'diagramMaker/components/canvas/Canvas';\nimport DotPattern from 'diagramMaker/components/canvas/patterns/DotPattern';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { Position, Size } from 'diagramMaker/state/types';\n\nimport './Workspace.scss';\n\nexport interface WorkspaceProps {\n  canvasPattern?: JSX.Element;\n  className?: string | string[];\n  position: Position;\n  scale: number;\n  canvasSize: Size;\n}\n\nexport const DEFAULT_CANVAS_PATTERN: JSX.Element = <DotPattern cellSize={10} radius={1} />;\n\nconst Workspace = (props: Preact.RenderableProps<WorkspaceProps>): JSX.Element => {\n  const className = classnames('dm-workspace', props.className);\n  const { height, width } = props.canvasSize;\n  const { x, y } = props.position;\n  const scale = props.scale;\n\n  const transform = `translate3d(${x}px, ${y}px, 0) scale(${scale})`;\n\n  const canvasPattern = props.canvasPattern || DEFAULT_CANVAS_PATTERN;\n\n  return (\n    <div\n      className={className}\n      style={{ height, width, transform }}\n      data-type={DiagramMakerComponentsType.WORKSPACE}\n      data-event-target={true}\n      data-draggable={true}\n      data-dropzone={true}\n    >\n        <Canvas>\n          {canvasPattern}\n        </Canvas>\n        {props.children}\n    </div>\n  );\n};\n\nexport default Workspace;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),ne=($n.s[0]++,s.h(Jn,{cellSize:10,radius:1}));$n.s[1]++;var ee,Ae=function(n){$n.f[0]++;var e=($n.s[2]++,y("dm-workspace",n.className)),A=($n.s[3]++,n.canvasSize),t=($n.s[4]++,A.height),o=($n.s[5]++,A.width),i=($n.s[6]++,n.position),l=($n.s[7]++,i.x),r=($n.s[8]++,i.y),a=($n.s[9]++,n.scale),C=($n.s[10]++,"translate3d("+l+"px, "+r+"px, 0) scale("+a+")"),u=($n.s[11]++,$n.b[0][0]++,n.canvasPattern||($n.b[0][1]++,ne));return $n.s[12]++,s.h("div",{className:e,style:{height:t,width:o,transform:C},"data-type":c.WORKSPACE,"data-event-target":!0,"data-draggable":!0,"data-dropzone":!0},s.h(Vn,null,u),n.children)},te=(function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/workspace/index.ts",e="0d0a4c94759ab3c01df191849f914b211e028fbb",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/workspace/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/workspace/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/workspace/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,SAAS,EAAE,cAAc,EAAE,MAAM,aAAa,CAAC",sourcesContent:["export { default as Workspace, WorkspaceProps } from './Workspace';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/view/View.tsx",e="faf25d2486696194a3ce30c0777f23abedc9f8d5",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/view/View.tsx",statementMap:{0:{start:{line:1,column:16},end:{line:15,column:4}},1:{start:{line:2,column:24},end:{line:7,column:5}},2:{start:{line:3,column:8},end:{line:5,column:110}},3:{start:{line:4,column:69},end:{line:4,column:85}},4:{start:{line:5,column:30},end:{line:5,column:107}},5:{start:{line:5,column:47},end:{line:5,column:107}},6:{start:{line:5,column:95},end:{line:5,column:107}},7:{start:{line:6,column:8},end:{line:6,column:35}},8:{start:{line:8,column:4},end:{line:14,column:6}},9:{start:{line:9,column:8},end:{line:10,column:102}},10:{start:{line:10,column:12},end:{line:10,column:102}},11:{start:{line:11,column:8},end:{line:11,column:28}},12:{start:{line:12,column:24},end:{line:12,column:45}},13:{start:{line:13,column:8},end:{line:13,column:93}},14:{start:{line:28,column:40},end:{line:33,column:6}},15:{start:{line:34,column:35},end:{line:40,column:1}},16:{start:{line:35,column:17},end:{line:35,column:28}},17:{start:{line:36,column:4},end:{line:38,column:5}},18:{start:{line:37,column:8},end:{line:37,column:53}},19:{start:{line:39,column:4},end:{line:39,column:66}},20:{start:{line:41,column:38},end:{line:47,column:1}},21:{start:{line:42,column:13},end:{line:42,column:34}},22:{start:{line:42,column:47},end:{line:42,column:58}},23:{start:{line:42,column:67},end:{line:42,column:74}},24:{start:{line:43,column:4},end:{line:46,column:6}},25:{start:{line:48,column:45},end:{line:54,column:1}},26:{start:{line:49,column:13},end:{line:49,column:34}},27:{start:{line:49,column:47},end:{line:49,column:58}},28:{start:{line:49,column:67},end:{line:49,column:74}},29:{start:{line:50,column:4},end:{line:53,column:6}},30:{start:{line:55,column:50},end:{line:61,column:1}},31:{start:{line:56,column:13},end:{line:56,column:34}},32:{start:{line:56,column:47},end:{line:56,column:58}},33:{start:{line:56,column:67},end:{line:56,column:74}},34:{start:{line:57,column:4},end:{line:60,column:6}},35:{start:{line:62,column:50},end:{line:68,column:1}},36:{start:{line:63,column:13},end:{line:63,column:34}},37:{start:{line:63,column:47},end:{line:63,column:58}},38:{start:{line:63,column:67},end:{line:63,column:74}},39:{start:{line:64,column:4},end:{line:67,column:6}},40:{start:{line:69,column:45},end:{line:75,column:1}},41:{start:{line:70,column:13},end:{line:70,column:34}},42:{start:{line:70,column:47},end:{line:70,column:58}},43:{start:{line:70,column:67},end:{line:70,column:74}},44:{start:{line:71,column:4},end:{line:74,column:6}},45:{start:{line:76,column:30},end:{line:89,column:1}},46:{start:{line:78,column:29},end:{line:78,column:78}},47:{start:{line:79,column:4},end:{line:87,column:5}},48:{start:{line:80,column:8},end:{line:80,column:73}},49:{start:{line:82,column:9},end:{line:87,column:5}},50:{start:{line:83,column:8},end:{line:83,column:73}},51:{start:{line:86,column:8},end:{line:86,column:66}},52:{start:{line:88,column:4},end:{line:88,column:29}},53:{start:{line:90,column:35},end:{line:103,column:1}},54:{start:{line:92,column:29},end:{line:92,column:78}},55:{start:{line:93,column:4},end:{line:101,column:5}},56:{start:{line:94,column:8},end:{line:94,column:78}},57:{start:{line:96,column:9},end:{line:101,column:5}},58:{start:{line:97,column:8},end:{line:97,column:78}},59:{start:{line:100,column:8},end:{line:100,column:66}},60:{start:{line:102,column:4},end:{line:102,column:29}},61:{start:{line:104,column:18},end:{line:108,column:1}},62:{start:{line:105,column:16},end:{line:105,column:46}},63:{start:{line:106,column:16},end:{line:106,column:46}},64:{start:{line:107,column:4},end:{line:107,column:56}},65:{start:{line:109,column:38},end:{line:123,column:1}},66:{start:{line:110,column:19},end:{line:110,column:67}},67:{start:{line:111,column:4},end:{line:113,column:5}},68:{start:{line:112,column:8},end:{line:112,column:30}},69:{start:{line:115,column:13},end:{line:115,column:29}},70:{start:{line:115,column:36},end:{line:115,column:52}},71:{start:{line:116,column:13},end:{line:116,column:34}},72:{start:{line:116,column:41},end:{line:116,column:62}},73:{start:{line:117,column:12},end:{line:117,column:32}},74:{start:{line:118,column:12},end:{line:118,column:24}},75:{start:{line:119,column:4},end:{line:122,column:6}},76:{start:{line:124,column:41},end:{line:176,column:1}},77:{start:{line:126,column:4},end:{line:133,column:5}},78:{start:{line:127,column:8},end:{line:132,column:10}},79:{start:{line:134,column:4},end:{line:141,column:5}},80:{start:{line:135,column:8},end:{line:140,column:10}},81:{start:{line:146,column:26},end:{line:146,column:76}},82:{start:{line:147,column:26},end:{line:147,column:76}},83:{start:{line:148,column:17},end:{line:148,column:61}},84:{start:{line:152,column:24},end:{line:152,column:81}},85:{start:{line:153,column:4},end:{line:162,column:5}},86:{start:{line:155,column:8},end:{line:155,column:45}},87:{start:{line:156,column:8},end:{line:156,column:65}},88:{start:{line:160,column:8},end:{line:160,column:44}},89:{start:{line:161,column:8},end:{line:161,column:65}},90:{start:{line:163,column:20},end:{line:163,column:32}},91:{start:{line:164,column:20},end:{line:164,column:32}},92:{start:{line:166,column:4},end:{line:168,column:5}},93:{start:{line:167,column:8},end:{line:167,column:35}},94:{start:{line:169,column:4},end:{line:171,column:5}},95:{start:{line:170,column:8},end:{line:170,column:35}},96:{start:{line:172,column:4},end:{line:175,column:6}},97:{start:{line:177,column:29},end:{line:185,column:1}},98:{start:{line:178,column:4},end:{line:183,column:5}},99:{start:{line:180,column:12},end:{line:180,column:93}},100:{start:{line:182,column:12},end:{line:182,column:96}},101:{start:{line:184,column:4},end:{line:184,column:26}},102:{start:{line:186,column:25},end:{line:196,column:1}},103:{start:{line:187,column:35},end:{line:187,column:87}},104:{start:{line:189,column:4},end:{line:191,column:5}},105:{start:{line:190,column:8},end:{line:190,column:72}},106:{start:{line:192,column:4},end:{line:194,column:5}},107:{start:{line:193,column:8},end:{line:193,column:109}},108:{start:{line:195,column:4},end:{line:195,column:23}},109:{start:{line:197,column:28},end:{line:220,column:1}},110:{start:{line:198,column:22},end:{line:201,column:5}},111:{start:{line:202,column:19},end:{line:202,column:35}},112:{start:{line:203,column:18},end:{line:203,column:33}},113:{start:{line:209,column:4},end:{line:213,column:5}},114:{start:{line:210,column:17},end:{line:210,column:54}},115:{start:{line:210,column:68},end:{line:210,column:72}},116:{start:{line:210,column:86},end:{line:210,column:90}},117:{start:{line:211,column:8},end:{line:211,column:50}},118:{start:{line:212,column:8},end:{line:212,column:49}},119:{start:{line:214,column:17},end:{line:214,column:86}},120:{start:{line:215,column:18},end:{line:215,column:88}},121:{start:{line:216,column:4},end:{line:219,column:6}},122:{start:{line:221,column:19},end:{line:226,column:1}},123:{start:{line:222,column:4},end:{line:224,column:5}},124:{start:{line:223,column:8},end:{line:223,column:74}},125:{start:{line:225,column:4},end:{line:225,column:30}},126:{start:{line:227,column:26},end:{line:406,column:19}},127:{start:{line:228,column:4},end:{line:228,column:28}},128:{start:{line:230,column:8},end:{line:230,column:72}},129:{start:{line:232,column:4},end:{line:255,column:6}},130:{start:{line:233,column:17},end:{line:233,column:43}},131:{start:{line:233,column:65},end:{line:233,column:76}},132:{start:{line:233,column:94},end:{line:233,column:107}},133:{start:{line:233,column:126},end:{line:233,column:134}},134:{start:{line:241,column:24},end:{line:241,column:132}},135:{start:{line:242,column:8},end:{line:254,column:82}},136:{start:{line:256,column:4},end:{line:263,column:6}},137:{start:{line:257,column:8},end:{line:259,column:9}},138:{start:{line:258,column:12},end:{line:258,column:19}},139:{start:{line:260,column:8},end:{line:262,column:62}},140:{start:{line:264,column:4},end:{line:279,column:6}},141:{start:{line:265,column:20},end:{line:265,column:24}},142:{start:{line:266,column:20},end:{line:266,column:42}},143:{start:{line:267,column:29},end:{line:267,column:69}},144:{start:{line:268,column:30},end:{line:268,column:73}},145:{start:{line:269,column:23},end:{line:269,column:41}},146:{start:{line:270,column:8},end:{line:278,column:11}},147:{start:{line:271,column:25},end:{line:271,column:46}},148:{start:{line:272,column:37},end:{line:272,column:108}},149:{start:{line:274,column:12},end:{line:276,column:13}},150:{start:{line:275,column:16},end:{line:275,column:110}},151:{start:{line:277,column:12},end:{line:277,column:287}},152:{start:{line:280,column:4},end:{line:289,column:6}},153:{start:{line:281,column:19},end:{line:281,column:49}},154:{start:{line:282,column:29},end:{line:282,column:78}},155:{start:{line:283,column:30},end:{line:283,column:73}},156:{start:{line:284,column:8},end:{line:286,column:9}},157:{start:{line:285,column:12},end:{line:285,column:19}},158:{start:{line:287,column:21},end:{line:287,column:32}},159:{start:{line:287,column:45},end:{line:287,column:58}},160:{start:{line:287,column:67},end:{line:287,column:76}},161:{start:{line:288,column:8},end:{line:288,column:198}},162:{start:{line:290,column:4},end:{line:299,column:6}},163:{start:{line:291,column:20},end:{line:291,column:24}},164:{start:{line:292,column:17},end:{line:292,column:32}},165:{start:{line:292,column:48},end:{line:292,column:58}},166:{start:{line:292,column:72},end:{line:292,column:80}},167:{start:{line:293,column:24},end:{line:293,column:26}},168:{start:{line:294,column:8},end:{line:296,column:11}},169:{start:{line:295,column:12},end:{line:295,column:119}},170:{start:{line:295,column:75},end:{line:295,column:114}},171:{start:{line:297,column:26},end:{line:297,column:99}},172:{start:{line:297,column:63},end:{line:297,column:96}},173:{start:{line:298,column:8},end:{line:298,column:45}},174:{start:{line:300,column:4},end:{line:308,column:6}},175:{start:{line:301,column:20},end:{line:301,column:42}},176:{start:{line:302,column:20},end:{line:302,column:42}},177:{start:{line:303,column:25},end:{line:303,column:50}},178:{start:{line:304,column:30},end:{line:304,column:56}},179:{start:{line:305,column:30},end:{line:305,column:118}},180:{start:{line:306,column:24},end:{line:306,column:219}},181:{start:{line:307,column:8},end:{line:307,column:347}},182:{start:{line:309,column:4},end:{line:332,column:6}},183:{start:{line:310,column:20},end:{line:310,column:24}},184:{start:{line:311,column:20},end:{line:311,column:42}},185:{start:{line:312,column:20},end:{line:312,column:42}},186:{start:{line:313,column:29},end:{line:313,column:69}},187:{start:{line:314,column:30},end:{line:314,column:73}},188:{start:{line:315,column:8},end:{line:317,column:9}},189:{start:{line:316,column:12},end:{line:316,column:19}},190:{start:{line:318,column:17},end:{line:318,column:32}},191:{start:{line:318,column:48},end:{line:318,column:58}},192:{start:{line:318,column:72},end:{line:318,column:80}},193:{start:{line:319,column:24},end:{line:319,column:26}},194:{start:{line:320,column:8},end:{line:325,column:11}},195:{start:{line:321,column:12},end:{line:324,column:16}},196:{start:{line:322,column:38},end:{line:322,column:147}},197:{start:{line:323,column:16},end:{line:323,column:272}},198:{start:{line:326,column:26},end:{line:330,column:10}},199:{start:{line:328,column:34},end:{line:328,column:137}},200:{start:{line:329,column:12},end:{line:329,column:244}},201:{start:{line:331,column:8},end:{line:331,column:45}},202:{start:{line:333,column:4},end:{line:366,column:6}},203:{start:{line:334,column:20},end:{line:334,column:42}},204:{start:{line:335,column:20},end:{line:335,column:42}},205:{start:{line:336,column:23},end:{line:336,column:41}},206:{start:{line:337,column:26},end:{line:337,column:133}},207:{start:{line:337,column:63},end:{line:337,column:130}},208:{start:{line:338,column:33},end:{line:338,column:81}},209:{start:{line:339,column:26},end:{line:339,column:28}},210:{start:{line:340,column:24},end:{line:340,column:26}},211:{start:{line:341,column:8},end:{line:344,column:9}},212:{start:{line:343,column:12},end:{line:343,column:55}},213:{start:{line:345,column:8},end:{line:360,column:11}},214:{start:{line:346,column:30},end:{line:346,column:44}},215:{start:{line:347,column:29},end:{line:347,column:51}},216:{start:{line:348,column:34},end:{line:348,column:57}},217:{start:{line:349,column:28},end:{line:349,column:69}},218:{start:{line:350,column:33},end:{line:350,column:74}},219:{start:{line:352,column:12},end:{line:359,column:13}},220:{start:{line:353,column:16},end:{line:353,column:58}},221:{start:{line:354,column:16},end:{line:354,column:62}},222:{start:{line:355,column:16},end:{line:355,column:51}},223:{start:{line:358,column:16},end:{line:358,column:56}},224:{start:{line:361,column:26},end:{line:361,column:99}},225:{start:{line:361,column:72},end:{line:361,column:96}},226:{start:{line:362,column:8},end:{line:365,column:10}},227:{start:{line:367,column:4},end:{line:375,column:6}},228:{start:{line:368,column:20},end:{line:368,column:36}},229:{start:{line:369,column:21},end:{line:369,column:44}},230:{start:{line:370,column:32},end:{line:370,column:76}},231:{start:{line:371,column:29},end:{line:371,column:68}},232:{start:{line:372,column:30},end:{line:372,column:73}},233:{start:{line:373,column:24},end:{line:373,column:43}},234:{start:{line:374,column:8},end:{line:374,column:411}},235:{start:{line:374,column:51},end:{line:374,column:407}},236:{start:{line:376,column:4},end:{line:385,column:6}},237:{start:{line:377,column:20},end:{line:377,column:42}},238:{start:{line:378,column:19},end:{line:378,column:49}},239:{start:{line:379,column:8},end:{line:381,column:9}},240:{start:{line:380,column:12},end:{line:380,column:19}},241:{start:{line:382,column:32},end:{line:382,column:98}},242:{start:{line:383,column:24},end:{line:383,column:159}},243:{start:{line:384,column:8},end:{line:384,column:194}},244:{start:{line:386,column:4},end:{line:392,column:6}},245:{start:{line:387,column:22},end:{line:387,column:62}},246:{start:{line:388,column:8},end:{line:390,column:9}},247:{start:{line:389,column:12},end:{line:389,column:19}},248:{start:{line:391,column:8},end:{line:391,column:100}},249:{start:{line:393,column:4},end:{line:404,column:6}},250:{start:{line:394,column:19},end:{line:394,column:54}},251:{start:{line:395,column:8},end:{line:397,column:9}},252:{start:{line:396,column:12},end:{line:396,column:19}},253:{start:{line:398,column:29},end:{line:398,column:111}},254:{start:{line:399,column:30},end:{line:399,column:73}},255:{start:{line:400,column:8},end:{line:402,column:9}},256:{start:{line:401,column:12},end:{line:401,column:19}},257:{start:{line:403,column:8},end:{line:403,column:134}},258:{start:{line:405,column:4},end:{line:405,column:16}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:45},end:{line:1,column:46}},loc:{start:{line:1,column:57},end:{line:15,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:40},end:{line:7,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:4,column:51},end:{line:4,column:52}},loc:{start:{line:4,column:67},end:{line:4,column:87}},line:4},3:{name:"(anonymous_3)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:28},end:{line:5,column:109}},line:5},4:{name:"(anonymous_4)",decl:{start:{line:8,column:11},end:{line:8,column:12}},loc:{start:{line:8,column:27},end:{line:14,column:5}},line:8},5:{name:"__",decl:{start:{line:12,column:17},end:{line:12,column:19}},loc:{start:{line:12,column:22},end:{line:12,column:47}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:34,column:35},end:{line:34,column:36}},loc:{start:{line:34,column:66},end:{line:40,column:1}},line:34},7:{name:"(anonymous_7)",decl:{start:{line:41,column:38},end:{line:41,column:39}},loc:{start:{line:41,column:54},end:{line:47,column:1}},line:41},8:{name:"(anonymous_8)",decl:{start:{line:48,column:45},end:{line:48,column:46}},loc:{start:{line:48,column:61},end:{line:54,column:1}},line:48},9:{name:"(anonymous_9)",decl:{start:{line:55,column:50},end:{line:55,column:51}},loc:{start:{line:55,column:66},end:{line:61,column:1}},line:55},10:{name:"(anonymous_10)",decl:{start:{line:62,column:50},end:{line:62,column:51}},loc:{start:{line:62,column:66},end:{line:68,column:1}},line:62},11:{name:"(anonymous_11)",decl:{start:{line:69,column:45},end:{line:69,column:46}},loc:{start:{line:69,column:61},end:{line:75,column:1}},line:69},12:{name:"(anonymous_12)",decl:{start:{line:76,column:30},end:{line:76,column:31}},loc:{start:{line:76,column:61},end:{line:89,column:1}},line:76},13:{name:"(anonymous_13)",decl:{start:{line:90,column:35},end:{line:90,column:36}},loc:{start:{line:90,column:66},end:{line:103,column:1}},line:90},14:{name:"(anonymous_14)",decl:{start:{line:104,column:18},end:{line:104,column:19}},loc:{start:{line:104,column:55},end:{line:108,column:1}},line:104},15:{name:"(anonymous_15)",decl:{start:{line:109,column:38},end:{line:109,column:39}},loc:{start:{line:109,column:97},end:{line:123,column:1}},line:109},16:{name:"(anonymous_16)",decl:{start:{line:124,column:41},end:{line:124,column:42}},loc:{start:{line:124,column:100},end:{line:176,column:1}},line:124},17:{name:"(anonymous_17)",decl:{start:{line:177,column:29},end:{line:177,column:30}},loc:{start:{line:177,column:94},end:{line:185,column:1}},line:177},18:{name:"(anonymous_18)",decl:{start:{line:186,column:25},end:{line:186,column:26}},loc:{start:{line:186,column:86},end:{line:196,column:1}},line:186},19:{name:"(anonymous_19)",decl:{start:{line:197,column:28},end:{line:197,column:29}},loc:{start:{line:197,column:89},end:{line:220,column:1}},line:197},20:{name:"(anonymous_20)",decl:{start:{line:221,column:19},end:{line:221,column:20}},loc:{start:{line:221,column:86},end:{line:226,column:1}},line:221},21:{name:"(anonymous_21)",decl:{start:{line:227,column:26},end:{line:227,column:27}},loc:{start:{line:227,column:44},end:{line:406,column:1}},line:227},22:{name:"View",decl:{start:{line:229,column:13},end:{line:229,column:17}},loc:{start:{line:229,column:20},end:{line:231,column:5}},line:229},23:{name:"(anonymous_23)",decl:{start:{line:232,column:28},end:{line:232,column:29}},loc:{start:{line:232,column:40},end:{line:255,column:5}},line:232},24:{name:"(anonymous_24)",decl:{start:{line:256,column:43},end:{line:256,column:44}},loc:{start:{line:256,column:55},end:{line:263,column:5}},line:256},25:{name:"(anonymous_25)",decl:{start:{line:264,column:33},end:{line:264,column:34}},loc:{start:{line:264,column:45},end:{line:279,column:5}},line:264},26:{name:"(anonymous_26)",decl:{start:{line:270,column:28},end:{line:270,column:29}},loc:{start:{line:270,column:47},end:{line:278,column:9}},line:270},27:{name:"(anonymous_27)",decl:{start:{line:280,column:41},end:{line:280,column:42}},loc:{start:{line:280,column:53},end:{line:289,column:5}},line:280},28:{name:"(anonymous_28)",decl:{start:{line:290,column:33},end:{line:290,column:34}},loc:{start:{line:290,column:45},end:{line:299,column:5}},line:290},29:{name:"(anonymous_29)",decl:{start:{line:294,column:26},end:{line:294,column:27}},loc:{start:{line:294,column:46},end:{line:296,column:9}},line:294},30:{name:"(anonymous_30)",decl:{start:{line:295,column:54},end:{line:295,column:55}},loc:{start:{line:295,column:73},end:{line:295,column:116}},line:295},31:{name:"(anonymous_31)",decl:{start:{line:297,column:42},end:{line:297,column:43}},loc:{start:{line:297,column:61},end:{line:297,column:98}},line:297},32:{name:"(anonymous_32)",decl:{start:{line:300,column:32},end:{line:300,column:33}},loc:{start:{line:300,column:63},end:{line:308,column:5}},line:300},33:{name:"(anonymous_33)",decl:{start:{line:309,column:38},end:{line:309,column:39}},loc:{start:{line:309,column:50},end:{line:332,column:5}},line:309},34:{name:"(anonymous_34)",decl:{start:{line:320,column:26},end:{line:320,column:27}},loc:{start:{line:320,column:46},end:{line:325,column:9}},line:320},35:{name:"(anonymous_35)",decl:{start:{line:321,column:54},end:{line:321,column:55}},loc:{start:{line:321,column:80},end:{line:324,column:13}},line:321},36:{name:"(anonymous_36)",decl:{start:{line:327,column:17},end:{line:327,column:18}},loc:{start:{line:327,column:36},end:{line:330,column:9}},line:327},37:{name:"(anonymous_37)",decl:{start:{line:333,column:30},end:{line:333,column:31}},loc:{start:{line:333,column:42},end:{line:366,column:5}},line:333},38:{name:"(anonymous_38)",decl:{start:{line:337,column:42},end:{line:337,column:43}},loc:{start:{line:337,column:61},end:{line:337,column:132}},line:337},39:{name:"(anonymous_39)",decl:{start:{line:345,column:28},end:{line:345,column:29}},loc:{start:{line:345,column:47},end:{line:360,column:9}},line:345},40:{name:"(anonymous_40)",decl:{start:{line:361,column:55},end:{line:361,column:56}},loc:{start:{line:361,column:70},end:{line:361,column:98}},line:361},41:{name:"(anonymous_41)",decl:{start:{line:367,column:34},end:{line:367,column:35}},loc:{start:{line:367,column:46},end:{line:375,column:5}},line:367},42:{name:"(anonymous_42)",decl:{start:{line:374,column:29},end:{line:374,column:30}},loc:{start:{line:374,column:49},end:{line:374,column:409}},line:374},43:{name:"(anonymous_43)",decl:{start:{line:376,column:41},end:{line:376,column:42}},loc:{start:{line:376,column:53},end:{line:385,column:5}},line:376},44:{name:"(anonymous_44)",decl:{start:{line:386,column:44},end:{line:386,column:45}},loc:{start:{line:386,column:56},end:{line:392,column:5}},line:386},45:{name:"(anonymous_45)",decl:{start:{line:393,column:39},end:{line:393,column:40}},loc:{start:{line:393,column:51},end:{line:404,column:5}},line:393}},branchMap:{0:{loc:{start:{line:1,column:16},end:{line:15,column:4}},type:"binary-expr",locations:[{start:{line:1,column:17},end:{line:1,column:21}},{start:{line:1,column:25},end:{line:1,column:39}},{start:{line:1,column:44},end:{line:15,column:4}}],line:1},1:{loc:{start:{line:3,column:24},end:{line:5,column:109}},type:"binary-expr",locations:[{start:{line:3,column:24},end:{line:3,column:45}},{start:{line:4,column:13},end:{line:4,column:47}},{start:{line:4,column:51},end:{line:4,column:87}},{start:{line:5,column:12},end:{line:5,column:109}}],line:3},2:{loc:{start:{line:5,column:47},end:{line:5,column:107}},type:"if",locations:[{start:{line:5,column:47},end:{line:5,column:107}},{start:{line:5,column:47},end:{line:5,column:107}}],line:5},3:{loc:{start:{line:9,column:8},end:{line:10,column:102}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:102}},{start:{line:9,column:8},end:{line:10,column:102}}],line:9},4:{loc:{start:{line:9,column:12},end:{line:9,column:49}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:35}},{start:{line:9,column:39},end:{line:9,column:49}}],line:9},5:{loc:{start:{line:13,column:22},end:{line:13,column:92}},type:"cond-expr",locations:[{start:{line:13,column:35},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:91}}],line:13},6:{loc:{start:{line:36,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:38,column:5}},{start:{line:36,column:4},end:{line:38,column:5}}],line:36},7:{loc:{start:{line:79,column:4},end:{line:87,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:87,column:5}},{start:{line:79,column:4},end:{line:87,column:5}}],line:79},8:{loc:{start:{line:82,column:9},end:{line:87,column:5}},type:"if",locations:[{start:{line:82,column:9},end:{line:87,column:5}},{start:{line:82,column:9},end:{line:87,column:5}}],line:82},9:{loc:{start:{line:93,column:4},end:{line:101,column:5}},type:"if",locations:[{start:{line:93,column:4},end:{line:101,column:5}},{start:{line:93,column:4},end:{line:101,column:5}}],line:93},10:{loc:{start:{line:96,column:9},end:{line:101,column:5}},type:"if",locations:[{start:{line:96,column:9},end:{line:101,column:5}},{start:{line:96,column:9},end:{line:101,column:5}}],line:96},11:{loc:{start:{line:111,column:4},end:{line:113,column:5}},type:"if",locations:[{start:{line:111,column:4},end:{line:113,column:5}},{start:{line:111,column:4},end:{line:113,column:5}}],line:111},12:{loc:{start:{line:126,column:4},end:{line:133,column:5}},type:"if",locations:[{start:{line:126,column:4},end:{line:133,column:5}},{start:{line:126,column:4},end:{line:133,column:5}}],line:126},13:{loc:{start:{line:129,column:15},end:{line:131,column:56}},type:"cond-expr",locations:[{start:{line:130,column:16},end:{line:130,column:56}},{start:{line:131,column:16},end:{line:131,column:56}}],line:129},14:{loc:{start:{line:134,column:4},end:{line:141,column:5}},type:"if",locations:[{start:{line:134,column:4},end:{line:141,column:5}},{start:{line:134,column:4},end:{line:141,column:5}}],line:134},15:{loc:{start:{line:136,column:15},end:{line:138,column:55}},type:"cond-expr",locations:[{start:{line:137,column:16},end:{line:137,column:55}},{start:{line:138,column:16},end:{line:138,column:55}}],line:136},16:{loc:{start:{line:153,column:4},end:{line:162,column:5}},type:"if",locations:[{start:{line:153,column:4},end:{line:162,column:5}},{start:{line:153,column:4},end:{line:162,column:5}}],line:153},17:{loc:{start:{line:166,column:4},end:{line:168,column:5}},type:"if",locations:[{start:{line:166,column:4},end:{line:168,column:5}},{start:{line:166,column:4},end:{line:168,column:5}}],line:166},18:{loc:{start:{line:169,column:4},end:{line:171,column:5}},type:"if",locations:[{start:{line:169,column:4},end:{line:171,column:5}},{start:{line:169,column:4},end:{line:171,column:5}}],line:169},19:{loc:{start:{line:178,column:4},end:{line:183,column:5}},type:"switch",locations:[{start:{line:179,column:8},end:{line:180,column:93}},{start:{line:181,column:8},end:{line:182,column:96}}],line:178},20:{loc:{start:{line:189,column:4},end:{line:191,column:5}},type:"if",locations:[{start:{line:189,column:4},end:{line:191,column:5}},{start:{line:189,column:4},end:{line:191,column:5}}],line:189},21:{loc:{start:{line:192,column:4},end:{line:194,column:5}},type:"if",locations:[{start:{line:192,column:4},end:{line:194,column:5}},{start:{line:192,column:4},end:{line:194,column:5}}],line:192},22:{loc:{start:{line:209,column:4},end:{line:213,column:5}},type:"if",locations:[{start:{line:209,column:4},end:{line:213,column:5}},{start:{line:209,column:4},end:{line:213,column:5}}],line:209},23:{loc:{start:{line:222,column:4},end:{line:224,column:5}},type:"if",locations:[{start:{line:222,column:4},end:{line:224,column:5}},{start:{line:222,column:4},end:{line:224,column:5}}],line:222},24:{loc:{start:{line:230,column:15},end:{line:230,column:71}},type:"binary-expr",locations:[{start:{line:230,column:15},end:{line:230,column:30}},{start:{line:230,column:34},end:{line:230,column:63}},{start:{line:230,column:67},end:{line:230,column:71}}],line:230},25:{loc:{start:{line:257,column:8},end:{line:259,column:9}},type:"if",locations:[{start:{line:257,column:8},end:{line:259,column:9}},{start:{line:257,column:8},end:{line:259,column:9}}],line:257},26:{loc:{start:{line:274,column:12},end:{line:276,column:13}},type:"if",locations:[{start:{line:274,column:12},end:{line:276,column:13}},{start:{line:274,column:12},end:{line:276,column:13}}],line:274},27:{loc:{start:{line:284,column:8},end:{line:286,column:9}},type:"if",locations:[{start:{line:284,column:8},end:{line:286,column:9}},{start:{line:284,column:8},end:{line:286,column:9}}],line:284},28:{loc:{start:{line:284,column:12},end:{line:284,column:36}},type:"binary-expr",locations:[{start:{line:284,column:12},end:{line:284,column:17}},{start:{line:284,column:21},end:{line:284,column:36}}],line:284},29:{loc:{start:{line:306,column:24},end:{line:306,column:219}},type:"cond-expr",locations:[{start:{line:306,column:37},end:{line:306,column:63}},{start:{line:306,column:66},end:{line:306,column:219}}],line:306},30:{loc:{start:{line:315,column:8},end:{line:317,column:9}},type:"if",locations:[{start:{line:315,column:8},end:{line:317,column:9}},{start:{line:315,column:8},end:{line:317,column:9}}],line:315},31:{loc:{start:{line:337,column:73},end:{line:337,column:128}},type:"binary-expr",locations:[{start:{line:337,column:73},end:{line:337,column:98}},{start:{line:337,column:102},end:{line:337,column:128}}],line:337},32:{loc:{start:{line:341,column:8},end:{line:344,column:9}},type:"if",locations:[{start:{line:341,column:8},end:{line:344,column:9}},{start:{line:341,column:8},end:{line:344,column:9}}],line:341},33:{loc:{start:{line:341,column:12},end:{line:342,column:68}},type:"binary-expr",locations:[{start:{line:341,column:12},end:{line:341,column:68}},{start:{line:342,column:12},end:{line:342,column:68}}],line:341},34:{loc:{start:{line:352,column:12},end:{line:359,column:13}},type:"if",locations:[{start:{line:352,column:12},end:{line:359,column:13}},{start:{line:352,column:12},end:{line:359,column:13}}],line:352},35:{loc:{start:{line:379,column:8},end:{line:381,column:9}},type:"if",locations:[{start:{line:379,column:8},end:{line:381,column:9}},{start:{line:379,column:8},end:{line:381,column:9}}],line:379},36:{loc:{start:{line:388,column:8},end:{line:390,column:9}},type:"if",locations:[{start:{line:388,column:8},end:{line:390,column:9}},{start:{line:388,column:8},end:{line:390,column:9}}],line:388},37:{loc:{start:{line:395,column:8},end:{line:397,column:9}},type:"if",locations:[{start:{line:395,column:8},end:{line:397,column:9}},{start:{line:395,column:8},end:{line:397,column:9}}],line:395},38:{loc:{start:{line:400,column:8},end:{line:402,column:9}},type:"if",locations:[{start:{line:400,column:8},end:{line:402,column:9}},{start:{line:400,column:8},end:{line:402,column:9}}],line:400}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0},b:{0:[0,0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/view/View.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/view/View.tsx"],names:[],mappings:"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",sourcesContent:['import * as Preact from \'preact\';\n\nimport { ContextMenu } from \'diagramMaker/components/contextMenu\';\nimport { Edge, EdgeBadge, EdgeStyle, PotentialEdge } from \'diagramMaker/components/edge\';\nimport { Node, PotentialNode } from \'diagramMaker/components/node\';\nimport { Panel } from \'diagramMaker/components/panel\';\nimport { SelectionMarquee } from \'diagramMaker/components/selectionMarquee\';\nimport { Workspace } from \'diagramMaker/components/workspace\';\nimport ConfigService, {\n  ConnectorPlacement, ConnectorPlacementType, DestroyCallback, Shape, ShapeType, TypeForVisibleConnectorTypes\n} from \'diagramMaker/service/ConfigService\';\nimport { getInflectionPoint } from \'diagramMaker/service/positionUtils\';\nimport { DiagramMakerComponentsType } from \'diagramMaker/service/ui/types\';\nimport {\n  DiagramMakerData,\n  DiagramMakerEdge,\n  DiagramMakerEdges,\n  DiagramMakerNode,\n  Position,\n  Size\n} from \'diagramMaker/state/types\';\n\nimport \'./View.scss\';\n\nconst CONNECTOR_PLACEMENT_TO_EDGE_TYPE = {\n  [ConnectorPlacement.LEFT_RIGHT]: EdgeStyle.LEFT_RIGHT_BEZIER,\n  [ConnectorPlacement.TOP_BOTTOM]: EdgeStyle.TOP_BOTTOM_BEZIER,\n  [ConnectorPlacement.CENTERED]: EdgeStyle.STRAIGHT,\n  [ConnectorPlacement.BOUNDARY]: EdgeStyle.STRAIGHT\n};\n\ninterface EdgeCoordinatePair {\n  src: Position;\n  dest: Position;\n}\n\nexport interface ViewProps<NodeType, EdgeType> {\n  state: DiagramMakerData<NodeType, EdgeType>;\n  configService: ConfigService<NodeType, EdgeType>;\n}\n\nconst getConnectorPlacementForNode = <NodeType, EdgeType>(\n  node: DiagramMakerNode<NodeType>,\n  configService: ConfigService<NodeType, EdgeType>\n) => {\n  const typeId = node.typeId;\n  if (!typeId) {\n    return configService.getConnectorPlacement();\n  }\n\n  return configService.getConnectorPlacementForNodeType(typeId);\n};\n\nconst getCenteredConnectorCoordinates =\n<NodeType extends any>(node: DiagramMakerNode<NodeType>): Position => {\n  const { position, size } = node.diagramMakerData;\n  return {\n    x: position.x + size.width / 2,\n    y: position.y + size.height / 2\n  };\n};\n\nconst getLeftRightConnectorCoordinatesSource =\n<NodeType extends any>(node: DiagramMakerNode<NodeType>): Position => {\n  const { position, size } = node.diagramMakerData;\n  return {\n    x: position.x + size.width,\n    y: position.y + size.height / 2\n  };\n};\n\nconst getLeftRightConnectorCoordinatesDestination =\n<NodeType extends any>(node: DiagramMakerNode<NodeType>): Position => {\n  const { position, size } = node.diagramMakerData;\n  return {\n    x: position.x,\n    y: position.y + size.height / 2\n  };\n};\n\nconst getTopBottomConnectorCoordinatesDestination =\n<NodeType extends any>(node: DiagramMakerNode<NodeType>): Position => {\n  const { position, size } = node.diagramMakerData;\n  return {\n    x: position.x + size.width / 2,\n    y: position.y\n  };\n};\n\nconst getTopBottomConnectorCoordinatesSource =\n<NodeType extends any>(node: DiagramMakerNode<NodeType>): Position => {\n  const { position, size } = node.diagramMakerData;\n  return {\n    x: position.x + size.width / 2,\n    y: position.y + size.height\n  };\n};\n\nconst getEdgeCoordinateSource =\n<NodeType, EdgeType>(\n  node: DiagramMakerNode<NodeType>,\n  configService: ConfigService<NodeType, EdgeType>\n): Position => {\n  let sourceCoordinates: Position;\n  const connectorPlacement = getConnectorPlacementForNode(node, configService);\n  if (connectorPlacement === ConnectorPlacement.LEFT_RIGHT) {\n    sourceCoordinates = getLeftRightConnectorCoordinatesSource(node);\n  } else if (connectorPlacement === ConnectorPlacement.TOP_BOTTOM) {\n    sourceCoordinates = getTopBottomConnectorCoordinatesSource(node);\n  } else {\n    sourceCoordinates = getCenteredConnectorCoordinates(node);\n  }\n  return sourceCoordinates;\n};\n\nconst getEdgeCoordinateDestination =\n<NodeType, EdgeType>(\n  node: DiagramMakerNode<NodeType>,\n  configService: ConfigService<NodeType, EdgeType>\n): Position => {\n  let sourceCoordinates: Position;\n  const connectorPlacement = getConnectorPlacementForNode(node, configService);\n  if (connectorPlacement === ConnectorPlacement.LEFT_RIGHT) {\n    sourceCoordinates = getLeftRightConnectorCoordinatesDestination(node);\n  } else if (connectorPlacement === ConnectorPlacement.TOP_BOTTOM) {\n    sourceCoordinates = getTopBottomConnectorCoordinatesDestination(node);\n  } else {\n    sourceCoordinates = getCenteredConnectorCoordinates(node);\n  }\n  return sourceCoordinates;\n};\n\nconst getDistance = (srcPosition: Position, destPosition: Position) => {\n  const diffX = destPosition.x - srcPosition.x;\n  const diffY = destPosition.y - srcPosition.y;\n  return Math.sqrt((diffX * diffX) + (diffY * diffY));\n};\n\nconst getBoundaryCoordinatesForCircle = (\n  sourcePosition: Position,\n  sourceSize: Size,\n  destinationPosition: Position\n): Position => {\n  const distance = getDistance(sourcePosition, destinationPosition);\n  if (distance === 0) {\n    return sourcePosition;\n  }\n  // Using this formula to compute the coordinates: https://brilliant.org/wiki/section-formula/\n  const { x: x1, y: y1 } = sourcePosition;\n  const { x: x2, y: y2 } = destinationPosition;\n  const m = sourceSize.width / 2;\n  const n = distance - m;\n  return {\n    x: ((m * x2) + (n * x1)) / distance,\n    y: ((m * y2) + (n * y1)) / distance\n  };\n};\n\nconst getBoundaryCoordinatesForRectangle = (\n  sourcePosition: Position,\n  sourceSize: Size,\n  destinationPosition: Position\n): Position => {\n  // If the two points are orthogonal, the boundary is half the width or height of the rectangle.\n  if (sourcePosition.x === destinationPosition.x) {\n    return {\n      x: sourcePosition.x,\n      y: destinationPosition.y > sourcePosition.y ?\n        sourcePosition.y + sourceSize.height / 2 :\n        sourcePosition.y - sourceSize.height / 2\n    };\n  }\n  if (sourcePosition.y === destinationPosition.y) {\n    return {\n      x: destinationPosition.x > sourcePosition.x ?\n        sourcePosition.x + sourceSize.width / 2 :\n        sourcePosition.x - sourceSize.width / 2,\n      y: sourcePosition.y\n    };\n  }\n\n  // Otherwise - locate the boundary intersection point by calculating two right angle triangles.\n  // The first, bigger one, is created between the source and destination points.\n  // The second, smaller one, is created between the destination center and boundary intersection,\n  // with the rectangle. Use Pythagorus theorem for the calculations.\n  const adjacentSideBig = Math.abs(sourcePosition.x - destinationPosition.x);\n  const oppositeSideBig = Math.abs(sourcePosition.y - destinationPosition.y);\n  const angleT = Math.atan(oppositeSideBig / adjacentSideBig);\n\n  // Now we calculate the smaller triangle, inside the rectangle.\n  let adjacentSide;\n  let oppositeSide;\n  const diagonalAngle = Math.atan((sourceSize.width / 2) / sourceSize.height / 2);\n  if (angleT > diagonalAngle) {\n    // Intersection is on the top or bottom side\n    oppositeSide = sourceSize.height / 2;\n    adjacentSide = Math.abs(oppositeSide / Math.tan(angleT));\n  } else {\n    // Intersection is on the left or right side\n    adjacentSide = sourceSize.width / 2;\n    oppositeSide = Math.abs(adjacentSide * Math.tan(angleT));\n  }\n  let distanceX = adjacentSide;\n  let distanceY = oppositeSide;\n\n  // Calculate directions\n  if (destinationPosition.x < sourcePosition.x) {\n    distanceX = distanceX * -1;\n  }\n  if (destinationPosition.y < sourcePosition.y) {\n    distanceY = distanceY * -1;\n  }\n\n  return {\n    x: sourcePosition.x + distanceX,\n    y: sourcePosition.y + distanceY\n  };\n};\n\nconst getBoundaryCoordinates = (\n  sourcePosition: Position,\n  sourceShape: ShapeType | undefined,\n  sourceSize: Size,\n  destPosition: Position\n): Position => {\n  switch (sourceShape) {\n    case Shape.CIRCLE:\n      return getBoundaryCoordinatesForCircle(sourcePosition, sourceSize, destPosition);\n    case Shape.RECTANGLE:\n      return getBoundaryCoordinatesForRectangle(sourcePosition, sourceSize, destPosition);\n  }\n  return sourcePosition;\n};\n\nconst applyBoundaryCheck =\n<NodeType, EdgeType>(\n  configService: ConfigService<NodeType, EdgeType>,\n  nodeSrc: DiagramMakerNode<NodeType>,\n  positionSrc: Position,\n  positionDest: Position\n) => {\n  const sourceConnectorPlacement = getConnectorPlacementForNode(nodeSrc, configService);\n  let sourceShape: ShapeType | undefined;\n  if (nodeSrc.typeId) {\n    sourceShape = configService.getShapeForNodeType(nodeSrc.typeId);\n  }\n  if (sourceConnectorPlacement === ConnectorPlacement.BOUNDARY) {\n    return getBoundaryCoordinates(\n      positionSrc,\n      sourceShape,\n      nodeSrc.diagramMakerData.size,\n      positionDest\n    );\n  }\n\n  return positionSrc;\n};\n\nconst getEdgeCoordinatePair =\n<NodeType, EdgeType>(\n  nodeSrc: DiagramMakerNode<NodeType>,\n  nodeDest: DiagramMakerNode<NodeType>,\n  configService: ConfigService<NodeType, EdgeType>,\n  overlappingEdge?: boolean\n): EdgeCoordinatePair => {\n  const coordinates: EdgeCoordinatePair = {\n    src: getEdgeCoordinateSource(nodeSrc, configService),\n    dest: getEdgeCoordinateDestination(nodeDest, configService)\n  };\n  let tempDest = coordinates.dest;\n  let tempSrc = coordinates.src;\n\n  /**\n   * To find the point to cut based on overlapping edges\n   * We estimate the x/y coordinates of dest & src by creating a bezier curve\n   * https://stackoverflow.com/questions/51811935/point-of-intersection-between-bezier-curve-and-circle\n   */\n  if (overlappingEdge) {\n    const { x: startingX, y: startingY } = getInflectionPoint(tempSrc, tempDest);\n    tempDest = { x: startingX, y: startingY };\n    tempSrc = { x: startingX, y: startingY };\n  }\n\n  const newSrc = applyBoundaryCheck(configService, nodeSrc, coordinates.src, tempDest);\n  const newDest = applyBoundaryCheck(configService, nodeDest, coordinates.dest, tempSrc);\n\n  return {\n    src: newSrc,\n    dest: newDest\n  };\n};\n\nconst getEdgeStyle = (\n  sourceConnectorPlacement: ConnectorPlacementType,\n  destinationConnectorPlacement: ConnectorPlacementType\n): EdgeStyle => {\n  if (sourceConnectorPlacement === destinationConnectorPlacement) {\n    return CONNECTOR_PLACEMENT_TO_EDGE_TYPE[sourceConnectorPlacement];\n  }\n  return EdgeStyle.STRAIGHT;\n};\n\nclass View<NodeType, EdgeType> extends Preact.Component<ViewProps<NodeType, EdgeType>> {\n\n  public render() {\n    const {\n      position: workspacePosition,\n      canvasSize: workspaceSize,\n      scale: workspaceScale\n    } = this.props.state.workspace;\n\n    /**\n     * We need to put interim on top of the panels so that we can make the potential nodes appear on top of the panels.\n     * This is because workspace has a stacking context of its own and we cannot make the node appear on top of the\n     * panel from within the workspace.\n     * To make it so that when the node comes out of the panel, it appears the same size as it would in the workspace,\n     * we need to apply the same transforms on the interim as well.\n     */\n    const transform = `translate3d(${workspacePosition.x}px, ${workspacePosition.y}px, 0) scale(${workspaceScale})`;\n\n    return (\n      <div className="dm-view" tabIndex={0} data-type={DiagramMakerComponentsType.VIEW}>\n        <Workspace\n          position={workspacePosition}\n          canvasSize={workspaceSize}\n          scale={workspaceScale}\n        >\n          <div className="dm-elements">\n            <svg className="dm-edges" xmlns="http://www.w3.org/2000/svg">\n              {this.renderArrowheadMarker()}\n              {this.renderEdges()}\n            </svg>\n            {this.renderEdgeBadges()}\n            {this.renderNodes()}\n            <svg className="dm-potential-edge" xmlns="http://www.w3.org/2000/svg">\n              {this.renderPotentialEdge()}\n            </svg>\n          </div>\n        </Workspace>\n        <div className="dm-panels">\n          {this.renderPanels()}\n        </div>\n        <div\n          className="dm-interim"\n          style={{ transform }}\n        >\n          {this.renderPotentialNode()}\n        </div>\n        <div\n          className="dm-selection"\n          style={{ transform }}\n        >\n          {this.renderSelectionMarquee()}\n        </div>\n        <div className="dm-menu">\n          {this.renderContextMenu()}\n        </div>\n      </div>\n    );\n  }\n\n  private renderArrowheadMarker() {\n    if (!this.props.configService.getShowArrowhead()) {\n      return;\n    }\n\n    return (\n      <defs>\n        <marker\n          id="arrow"\n          markerWidth="5"\n          markerHeight="5"\n          orient="auto"\n          refY="2.5"\n          refX="5"\n          stroke="#879596"\n          fill="#879596"\n        >\n          <path d="M0,0 L5,2.5 0,5" />\n        </marker>\n      </defs>\n    );\n  }\n\n  private renderNodes() {\n    const nodes = this.props.state.nodes;\n    const renderCallback = this.props.configService.getRenderNode();\n    const destroyCallback = this.props.configService.getRenderDestroy();\n    const nodeKeys = Object.keys(nodes);\n    return nodeKeys.map((nodeKey: string) => {\n      const typeId = nodes[nodeKey].typeId;\n      const connectorPlacement = getConnectorPlacementForNode(nodes[nodeKey], this.props.configService);\n      let visibleConnectorTypes: TypeForVisibleConnectorTypes | undefined;\n      if (typeId) {\n        visibleConnectorTypes = this.props.configService.getVisibleConnectorTypesForNodeType(typeId);\n      }\n\n      return (\n        <Node\n          key={`node_${nodes[nodeKey].id}`}\n          renderCallback={renderCallback.bind(null, nodes[nodeKey])}\n          destroyCallback={destroyCallback}\n          connectorPlacement={connectorPlacement}\n          diagramMakerNode={nodes[nodeKey]}\n          visibleConnectorTypes={visibleConnectorTypes}\n        />\n      );\n    });\n  }\n\n  private renderPotentialNode() {\n    const node = this.props.state.potentialNode;\n    const renderCallback = this.props.configService.getRenderPotentialNode();\n    const destroyCallback = this.props.configService.getRenderDestroy();\n\n    if (!node || !renderCallback) {\n      return;\n    }\n\n    const { typeId, position, size } = node;\n\n    return (\n      <PotentialNode\n        key="potentialNode"\n        typeId={typeId}\n        position={position}\n        size={size}\n        renderCallback={renderCallback.bind(null, node)}\n        destroyCallback={destroyCallback}\n      />\n    );\n  }\n\n  private renderEdges() {\n    const { singles: edgeSingles, pairs: edgePairs } = this.getEdges();\n    let pairEdges: JSX.Element[] = [];\n\n    edgePairs.forEach((edgePair: string[]) => {\n      pairEdges = pairEdges.concat(edgePair.map(edgeKey => this.renderEdge(edgeKey, true)));\n    });\n\n    const singleEdges = edgeSingles.map(edgeKey => this.renderEdge(edgeKey));\n\n    return singleEdges.concat(pairEdges);\n  }\n\n  private renderEdge(edgeKey: string, isEdgePair?: boolean) {\n    const nodes = this.props.state.nodes;\n    const edges = this.props.state.edges;\n    const edgeSource = nodes[edges[edgeKey].src];\n    const edgeDestination = nodes[edges[edgeKey].dest];\n    const edgeCoordinates = getEdgeCoordinatePair(\n        edgeSource,\n        edgeDestination,\n        this.props.configService,\n        isEdgePair\n      );\n    const edgeStyle = isEdgePair ? EdgeStyle.QUADRATIC_BEZIER : getEdgeStyle(\n      getConnectorPlacementForNode(edgeSource, this.props.configService),\n      getConnectorPlacementForNode(edgeDestination, this.props.configService)\n    );\n\n    return (\n      <Edge\n        key={`edge_${edges[edgeKey].id}`}\n        id={edges[edgeKey].id}\n        src={edgeCoordinates.src}\n        dest={edgeCoordinates.dest}\n        srcTypeId={edgeSource.typeId}\n        destTypeId={edgeDestination.typeId}\n        edgeStyle={edgeStyle}\n        selected={edges[edgeKey].diagramMakerData.selected}\n        showArrowhead={this.props.configService.getShowArrowhead()}\n      />\n    );\n  }\n\n  private renderEdgeBadges() {\n    const nodes = this.props.state.nodes;\n    const edges = this.props.state.edges;\n    const renderCallback = this.props.configService.getRenderEdge();\n    const destroyCallback = this.props.configService.getRenderDestroy();\n\n    if (!renderCallback) {\n      return;\n    }\n\n    const { singles: edgeSingles, pairs: edgePairs } = this.getEdges();\n    let pairEdges: JSX.Element[] = [];\n    edgePairs.forEach((edgePair: string[]) => {\n      pairEdges = pairEdges.concat(edgePair.map((edgeKey: string, index: number) => {\n        const edgeCoordinates = getEdgeCoordinatePair(\n          nodes[edges[edgeKey].src],\n          nodes[edges[edgeKey].dest],\n          this.props.configService,\n          true\n        );\n\n        return (\n          <EdgeBadge\n            id={edgeKey}\n            key={`edgeBadge_${edges[edgeKey].id}`}\n            src={edgeCoordinates.src}\n            dest={edgeCoordinates.dest}\n            renderCallback={renderCallback.bind(null, edges[edgeKey])}\n            destroyCallback={destroyCallback}\n            isPartOfEdgePair={true}\n          />\n        );\n      }));\n    });\n\n    const singleEdges = edgeSingles\n      .map((edgeKey: string) => {\n        const edgeCoordinates = getEdgeCoordinatePair(\n          nodes[edges[edgeKey].src],\n          nodes[edges[edgeKey].dest],\n          this.props.configService\n        );\n\n        return (\n          <EdgeBadge\n            id={edgeKey}\n            key={`edgeBadge_${edges[edgeKey].id}`}\n            src={edgeCoordinates.src}\n            dest={edgeCoordinates.dest}\n            renderCallback={renderCallback.bind(null, edges[edgeKey])}\n            destroyCallback={destroyCallback}\n          />\n        );\n      });\n\n    return singleEdges.concat(pairEdges);\n  }\n\n  private getEdges(): { singles: string[], pairs: string[][]} {\n    const nodes = this.props.state.nodes;\n    const edges = this.props.state.edges;\n    const edgeKeys = Object.keys(edges);\n    const activeEdges = edgeKeys.filter(\n      (edgeKey: string) => !!(nodes[edges[edgeKey].src] && nodes[edges[edgeKey].dest])\n    );\n    const connectorPlacement = this.props.configService.getConnectorPlacement();\n    const edgeMapping: { [key: string]: string } = {};\n    const edgePairs: string[][] = [];\n    if (\n      connectorPlacement === ConnectorPlacementType.LEFT_RIGHT ||\n      connectorPlacement === ConnectorPlacementType.TOP_BOTTOM\n    ) {\n      return { singles: activeEdges, pairs: [] };\n    }\n\n    activeEdges.forEach((edgeKey: string) => {\n      const currentEdge = edges[edgeKey];\n      const edgeSource = nodes[currentEdge.src];\n      const edgeDestination = nodes[currentEdge.dest];\n      const edgeMapId = `${edgeSource.id}__${edgeDestination.id}`;\n      const matchingEdgeId = `${edgeDestination.id}__${edgeSource.id}`;\n      let edgeOverlap;\n      if (edgeMapping[matchingEdgeId]) {\n        edgeOverlap = edgeMapping[matchingEdgeId];\n        edgePairs.push([currentEdge.id, edgeOverlap]);\n        delete edgeMapping[matchingEdgeId];\n      } else {\n        edgeMapping[edgeMapId] = currentEdge.id;\n      }\n    });\n\n    const edgeSingles: string[] = Object.keys(edgeMapping).map(val => edgeMapping[val]);\n    return {\n      singles: edgeSingles,\n      pairs: edgePairs\n    };\n  }\n\n  private renderPanels() {\n    const state = this.props.state;\n    const panels = this.props.state.panels;\n    const viewContainerSize = this.props.state.workspace.viewContainerSize;\n    const renderCallback = this.props.configService.getRenderPanel;\n    const destroyCallback = this.props.configService.getRenderDestroy();\n\n    const panelKeys = Object.keys(panels);\n    return panelKeys.map((panelKey: string) => (\n      <Panel\n        positionAnchor={panels[panelKey].positionAnchor}\n        key={`panel_${panels[panelKey].id}`}\n        id={panels[panelKey].id}\n        position={panels[panelKey].position}\n        size={panels[panelKey].size}\n        renderCallback={renderCallback(panelKey).bind(null, panels[panelKey], state)}\n        destroyCallback={destroyCallback}\n        viewContainerSize={viewContainerSize}\n      />\n    ));\n  }\n\n  private renderPotentialEdge() {\n    const nodes = this.props.state.nodes;\n    const edge = this.props.state.potentialEdge;\n    if (!edge) {\n      return;\n    }\n\n    const sourceCoordinates = getEdgeCoordinateSource(nodes[edge.src], this.props.configService);\n    const edgeStyle = getEdgeStyle(\n      getConnectorPlacementForNode(nodes[edge.src], this.props.configService),\n      this.props.configService.getConnectorPlacement()\n    );\n    return (\n      <PotentialEdge\n        key="potentialEdge"\n        src={sourceCoordinates}\n        dest={edge.position}\n        edgeStyle={edgeStyle}\n        showArrowhead={this.props.configService.getShowArrowhead()}\n      />\n    );\n  }\n\n  private renderSelectionMarquee() {\n    const marquee = this.props.state.editor.selectionMarquee;\n    if (!marquee) {\n      return;\n    }\n    return (\n      <SelectionMarquee\n        anchor={marquee.anchor}\n        position={marquee.position}\n      />\n    );\n  }\n\n  private renderContextMenu() {\n    const menu = this.props.state.editor.contextMenu;\n    if (!menu) {\n      return;\n    }\n    const renderCallback = this.props.configService.getBoundRenderContextMenu(menu.targetType, menu.targetId);\n    const destroyCallback = this.props.configService.getRenderDestroy();\n    if (!renderCallback) {\n      return;\n    }\n\n    return (\n      <ContextMenu\n        position={menu.position}\n        renderCallback={renderCallback}\n        destroyCallback={destroyCallback}\n      />\n    );\n  }\n}\n\nexport { View };\n']},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}()),oe=(te.s[0]++,void te.b[0][0]++&&(te.b[0][1]++,(void 0).__extends)||(te.b[0][2]++,function(){te.f[0]++,te.s[1]++;var n=function(e,A){return te.f[1]++,te.s[2]++,te.b[1][0]++,n=Object.setPrototypeOf||(te.b[1][1]++,{__proto__:[]}instanceof Array&&(te.b[1][2]++,function(n,e){te.f[2]++,te.s[3]++,n.__proto__=e}))||(te.b[1][3]++,function(n,e){for(var A in te.f[3]++,te.s[4]++,e)te.s[5]++,Object.prototype.hasOwnProperty.call(e,A)?(te.b[2][0]++,te.s[6]++,n[A]=e[A]):te.b[2][1]++}),te.s[7]++,n(e,A)};return te.s[8]++,function(e,A){if(te.f[4]++,te.s[9]++,te.b[4][0]++,"function"!=typeof A&&(te.b[4][1]++,null!==A))throw te.b[3][0]++,te.s[10]++,new TypeError("Class extends value "+String(A)+" is not a constructor or null");function t(){te.f[5]++,te.s[12]++,this.constructor=e}te.b[3][1]++,te.s[11]++,n(e,A),te.s[13]++,e.prototype=null===A?(te.b[5][0]++,Object.create(A)):(te.b[5][1]++,t.prototype=A.prototype,new t)}}())),ie=(te.s[14]++,(ee={})[bn.LEFT_RIGHT]=on.LEFT_RIGHT_BEZIER,ee[bn.TOP_BOTTOM]=on.TOP_BOTTOM_BEZIER,ee[bn.CENTERED]=on.STRAIGHT,ee[bn.BOUNDARY]=on.STRAIGHT,ee);te.s[15]++;var le=function(n,e){te.f[6]++;var A=(te.s[16]++,n.typeId);return te.s[17]++,A?(te.b[6][1]++,te.s[19]++,e.getConnectorPlacementForNodeType(A)):(te.b[6][0]++,te.s[18]++,e.getConnectorPlacement())};te.s[20]++;var re=function(n){te.f[7]++;var e=(te.s[21]++,n.diagramMakerData),A=(te.s[22]++,e.position),t=(te.s[23]++,e.size);return te.s[24]++,{x:A.x+t.width/2,y:A.y+t.height/2}};te.s[25]++;te.s[30]++;te.s[35]++;te.s[40]++;te.s[45]++;var ae=function(n,e){var A;te.f[12]++;var t=(te.s[46]++,le(n,e));return te.s[47]++,t===bn.LEFT_RIGHT?(te.b[7][0]++,te.s[48]++,A=function(n){te.f[8]++;var e=(te.s[26]++,n.diagramMakerData),A=(te.s[27]++,e.position),t=(te.s[28]++,e.size);return te.s[29]++,{x:A.x+t.width,y:A.y+t.height/2}}(n)):(te.b[7][1]++,te.s[49]++,t===bn.TOP_BOTTOM?(te.b[8][0]++,te.s[50]++,A=function(n){te.f[11]++;var e=(te.s[41]++,n.diagramMakerData),A=(te.s[42]++,e.position),t=(te.s[43]++,e.size);return te.s[44]++,{x:A.x+t.width/2,y:A.y+t.height}}(n)):(te.b[8][1]++,te.s[51]++,A=re(n))),te.s[52]++,A};te.s[53]++;var ce=function(n,e){var A;te.f[13]++;var t=(te.s[54]++,le(n,e));return te.s[55]++,t===bn.LEFT_RIGHT?(te.b[9][0]++,te.s[56]++,A=function(n){te.f[9]++;var e=(te.s[31]++,n.diagramMakerData),A=(te.s[32]++,e.position),t=(te.s[33]++,e.size);return te.s[34]++,{x:A.x,y:A.y+t.height/2}}(n)):(te.b[9][1]++,te.s[57]++,t===bn.TOP_BOTTOM?(te.b[10][0]++,te.s[58]++,A=function(n){te.f[10]++;var e=(te.s[36]++,n.diagramMakerData),A=(te.s[37]++,e.position),t=(te.s[38]++,e.size);return te.s[39]++,{x:A.x+t.width/2,y:A.y}}(n)):(te.b[10][1]++,te.s[59]++,A=re(n))),te.s[60]++,A};te.s[61]++;te.s[65]++;var se=function(n,e,A){te.f[15]++;var t=(te.s[66]++,function(n,e){te.f[14]++;var A=(te.s[62]++,e.x-n.x),t=(te.s[63]++,e.y-n.y);return te.s[64]++,Math.sqrt(A*A+t*t)}(n,A));if(te.s[67]++,0===t)return te.b[11][0]++,te.s[68]++,n;te.b[11][1]++;var o=(te.s[69]++,n.x),i=(te.s[70]++,n.y),l=(te.s[71]++,A.x),r=(te.s[72]++,A.y),a=(te.s[73]++,e.width/2),c=(te.s[74]++,t-a);return te.s[75]++,{x:(a*l+c*o)/t,y:(a*r+c*i)/t}};te.s[76]++;te.s[97]++;var Ce=function(n,e,A,t){switch(te.f[17]++,te.s[98]++,e){case kn.CIRCLE:return te.b[19][0]++,te.s[99]++,se(n,A,t);case kn.RECTANGLE:return te.b[19][1]++,te.s[100]++,function(n,e,A){if(te.f[16]++,te.s[77]++,n.x===A.x)return te.b[12][0]++,te.s[78]++,{x:n.x,y:A.y>n.y?(te.b[13][0]++,n.y+e.height/2):(te.b[13][1]++,n.y-e.height/2)};if(te.b[12][1]++,te.s[79]++,n.y===A.y)return te.b[14][0]++,te.s[80]++,{x:A.x>n.x?(te.b[15][0]++,n.x+e.width/2):(te.b[15][1]++,n.x-e.width/2),y:n.y};te.b[14][1]++;var t,o,i=(te.s[81]++,Math.abs(n.x-A.x)),l=(te.s[82]++,Math.abs(n.y-A.y)),r=(te.s[83]++,Math.atan(l/i)),a=(te.s[84]++,Math.atan(e.width/2/e.height/2));te.s[85]++,r>a?(te.b[16][0]++,te.s[86]++,o=e.height/2,te.s[87]++,t=Math.abs(o/Math.tan(r))):(te.b[16][1]++,te.s[88]++,t=e.width/2,te.s[89]++,o=Math.abs(t*Math.tan(r)));var c=(te.s[90]++,t),s=(te.s[91]++,o);return te.s[92]++,A.x<n.x?(te.b[17][0]++,te.s[93]++,c*=-1):te.b[17][1]++,te.s[94]++,A.y<n.y?(te.b[18][0]++,te.s[95]++,s*=-1):te.b[18][1]++,te.s[96]++,{x:n.x+c,y:n.y+s}}(n,A,t)}return te.s[101]++,n};te.s[102]++;var ue=function(n,e,A,t){te.f[18]++;var o,i=(te.s[103]++,le(e,n));return te.s[104]++,e.typeId?(te.b[20][0]++,te.s[105]++,o=n.getShapeForNodeType(e.typeId)):te.b[20][1]++,te.s[106]++,i===bn.BOUNDARY?(te.b[21][0]++,te.s[107]++,Ce(A,o,e.diagramMakerData.size,t)):(te.b[21][1]++,te.s[108]++,A)};te.s[109]++;var de=function(n,e,A,t){te.f[19]++;var o=(te.s[110]++,{src:ae(n,A),dest:ce(e,A)}),i=(te.s[111]++,o.dest),l=(te.s[112]++,o.src);if(te.s[113]++,t){te.b[22][0]++;var r=(te.s[114]++,q(l,i)),a=(te.s[115]++,r.x),c=(te.s[116]++,r.y);te.s[117]++,i={x:a,y:c},te.s[118]++,l={x:a,y:c}}else te.b[22][1]++;var s=(te.s[119]++,ue(A,n,o.src,i)),C=(te.s[120]++,ue(A,e,o.dest,l));return te.s[121]++,{src:s,dest:C}};te.s[122]++;var me=function(n,e){return te.f[20]++,te.s[123]++,n===e?(te.b[23][0]++,te.s[124]++,ie[n]):(te.b[23][1]++,te.s[125]++,on.STRAIGHT)},Ee=(te.s[126]++,function(n){function e(){return te.f[22]++,te.s[128]++,te.b[24][0]++,null!==n&&(te.b[24][1]++,n.apply(this,arguments))||(te.b[24][2]++,this)}return te.f[21]++,te.s[127]++,oe(e,n),te.s[129]++,e.prototype.render=function(){te.f[23]++;var n=(te.s[130]++,this.props.state.workspace),e=(te.s[131]++,n.position),A=(te.s[132]++,n.canvasSize),t=(te.s[133]++,n.scale),o=(te.s[134]++,"translate3d("+e.x+"px, "+e.y+"px, 0) scale("+t+")");return te.s[135]++,s.h("div",{className:"dm-view",tabIndex:0,"data-type":c.VIEW},s.h(Ae,{position:e,canvasSize:A,scale:t},s.h("div",{className:"dm-elements"},s.h("svg",{className:"dm-edges",xmlns:"http://www.w3.org/2000/svg"},this.renderArrowheadMarker(),this.renderEdges()),this.renderEdgeBadges(),this.renderNodes(),s.h("svg",{className:"dm-potential-edge",xmlns:"http://www.w3.org/2000/svg"},this.renderPotentialEdge()))),s.h("div",{className:"dm-panels"},this.renderPanels()),s.h("div",{className:"dm-interim",style:{transform:o}},this.renderPotentialNode()),s.h("div",{className:"dm-selection",style:{transform:o}},this.renderSelectionMarquee()),s.h("div",{className:"dm-menu"},this.renderContextMenu()))},te.s[136]++,e.prototype.renderArrowheadMarker=function(){return te.f[24]++,te.s[137]++,this.props.configService.getShowArrowhead()?(te.b[25][1]++,te.s[139]++,s.h("defs",null,s.h("marker",{id:"arrow",markerWidth:"5",markerHeight:"5",orient:"auto",refY:"2.5",refX:"5",stroke:"#879596",fill:"#879596"},s.h("path",{d:"M0,0 L5,2.5 0,5"})))):(te.b[25][0]++,void te.s[138]++)},te.s[140]++,e.prototype.renderNodes=function(){te.f[25]++;var n=(te.s[141]++,this),e=(te.s[142]++,this.props.state.nodes),A=(te.s[143]++,this.props.configService.getRenderNode()),t=(te.s[144]++,this.props.configService.getRenderDestroy()),o=(te.s[145]++,Object.keys(e));return te.s[146]++,o.map((function(o){te.f[26]++;var i,l=(te.s[147]++,e[o].typeId),r=(te.s[148]++,le(e[o],n.props.configService));return te.s[149]++,l?(te.b[26][0]++,te.s[150]++,i=n.props.configService.getVisibleConnectorTypesForNodeType(l)):te.b[26][1]++,te.s[151]++,s.h(xn,{key:"node_"+e[o].id,renderCallback:A.bind(null,e[o]),destroyCallback:t,connectorPlacement:r,diagramMakerNode:e[o],visibleConnectorTypes:i})}))},te.s[152]++,e.prototype.renderPotentialNode=function(){te.f[27]++;var n=(te.s[153]++,this.props.state.potentialNode),e=(te.s[154]++,this.props.configService.getRenderPotentialNode()),A=(te.s[155]++,this.props.configService.getRenderDestroy());if(te.s[156]++,te.b[28][0]++,!n||(te.b[28][1]++,!e))return te.b[27][0]++,void te.s[157]++;te.b[27][1]++;var t=(te.s[158]++,n.typeId),o=(te.s[159]++,n.position),i=(te.s[160]++,n.size);return te.s[161]++,s.h(Un,{key:"potentialNode",typeId:t,position:o,size:i,renderCallback:e.bind(null,n),destroyCallback:A})},te.s[162]++,e.prototype.renderEdges=function(){te.f[28]++;var n=(te.s[163]++,this),e=(te.s[164]++,this.getEdges()),A=(te.s[165]++,e.singles),t=(te.s[166]++,e.pairs),o=(te.s[167]++,[]);te.s[168]++,t.forEach((function(e){te.f[29]++,te.s[169]++,o=o.concat(e.map((function(e){return te.f[30]++,te.s[170]++,n.renderEdge(e,!0)})))}));var i=(te.s[171]++,A.map((function(e){return te.f[31]++,te.s[172]++,n.renderEdge(e)})));return te.s[173]++,i.concat(o)},te.s[174]++,e.prototype.renderEdge=function(n,e){te.f[32]++;var A=(te.s[175]++,this.props.state.nodes),t=(te.s[176]++,this.props.state.edges),o=(te.s[177]++,A[t[n].src]),i=(te.s[178]++,A[t[n].dest]),l=(te.s[179]++,de(o,i,this.props.configService,e)),r=(te.s[180]++,e?(te.b[29][0]++,on.QUADRATIC_BEZIER):(te.b[29][1]++,me(le(o,this.props.configService),le(i,this.props.configService))));return te.s[181]++,s.h(sn,{key:"edge_"+t[n].id,id:t[n].id,src:l.src,dest:l.dest,srcTypeId:o.typeId,destTypeId:i.typeId,edgeStyle:r,selected:t[n].diagramMakerData.selected,showArrowhead:this.props.configService.getShowArrowhead()})},te.s[182]++,e.prototype.renderEdgeBadges=function(){te.f[33]++;var n=(te.s[183]++,this),e=(te.s[184]++,this.props.state.nodes),A=(te.s[185]++,this.props.state.edges),t=(te.s[186]++,this.props.configService.getRenderEdge()),o=(te.s[187]++,this.props.configService.getRenderDestroy());if(te.s[188]++,!t)return te.b[30][0]++,void te.s[189]++;te.b[30][1]++;var i=(te.s[190]++,this.getEdges()),l=(te.s[191]++,i.singles),r=(te.s[192]++,i.pairs),a=(te.s[193]++,[]);te.s[194]++,r.forEach((function(i){te.f[34]++,te.s[195]++,a=a.concat(i.map((function(i,l){te.f[35]++;var r=(te.s[196]++,de(e[A[i].src],e[A[i].dest],n.props.configService,!0));return te.s[197]++,s.h(dn,{id:i,key:"edgeBadge_"+A[i].id,src:r.src,dest:r.dest,renderCallback:t.bind(null,A[i]),destroyCallback:o,isPartOfEdgePair:!0})})))}));var c=(te.s[198]++,l.map((function(i){te.f[36]++;var l=(te.s[199]++,de(e[A[i].src],e[A[i].dest],n.props.configService));return te.s[200]++,s.h(dn,{id:i,key:"edgeBadge_"+A[i].id,src:l.src,dest:l.dest,renderCallback:t.bind(null,A[i]),destroyCallback:o})})));return te.s[201]++,c.concat(a)},te.s[202]++,e.prototype.getEdges=function(){te.f[37]++;var n=(te.s[203]++,this.props.state.nodes),e=(te.s[204]++,this.props.state.edges),A=(te.s[205]++,Object.keys(e)),t=(te.s[206]++,A.filter((function(A){return te.f[38]++,te.s[207]++,te.b[31][0]++,!(!n[e[A].src]||(te.b[31][1]++,!n[e[A].dest]))}))),o=(te.s[208]++,this.props.configService.getConnectorPlacement()),i=(te.s[209]++,{}),l=(te.s[210]++,[]);if(te.s[211]++,te.b[33][0]++,o===In.LEFT_RIGHT||(te.b[33][1]++,o===In.TOP_BOTTOM))return te.b[32][0]++,te.s[212]++,{singles:t,pairs:[]};te.b[32][1]++,te.s[213]++,t.forEach((function(A){te.f[39]++;var t,o=(te.s[214]++,e[A]),r=(te.s[215]++,n[o.src]),a=(te.s[216]++,n[o.dest]),c=(te.s[217]++,r.id+"__"+a.id),s=(te.s[218]++,a.id+"__"+r.id);te.s[219]++,i[s]?(te.b[34][0]++,te.s[220]++,t=i[s],te.s[221]++,l.push([o.id,t]),te.s[222]++,delete i[s]):(te.b[34][1]++,te.s[223]++,i[c]=o.id)}));var r=(te.s[224]++,Object.keys(i).map((function(n){return te.f[40]++,te.s[225]++,i[n]})));return te.s[226]++,{singles:r,pairs:l}},te.s[227]++,e.prototype.renderPanels=function(){te.f[41]++;var n=(te.s[228]++,this.props.state),e=(te.s[229]++,this.props.state.panels),A=(te.s[230]++,this.props.state.workspace.viewContainerSize),t=(te.s[231]++,this.props.configService.getRenderPanel),o=(te.s[232]++,this.props.configService.getRenderDestroy()),i=(te.s[233]++,Object.keys(e));return te.s[234]++,i.map((function(i){return te.f[42]++,te.s[235]++,s.h(Ln,{positionAnchor:e[i].positionAnchor,key:"panel_"+e[i].id,id:e[i].id,position:e[i].position,size:e[i].size,renderCallback:t(i).bind(null,e[i],n),destroyCallback:o,viewContainerSize:A})}))},te.s[236]++,e.prototype.renderPotentialEdge=function(){te.f[43]++;var n=(te.s[237]++,this.props.state.nodes),e=(te.s[238]++,this.props.state.potentialEdge);if(te.s[239]++,!e)return te.b[35][0]++,void te.s[240]++;te.b[35][1]++;var A=(te.s[241]++,ae(n[e.src],this.props.configService)),t=(te.s[242]++,me(le(n[e.src],this.props.configService),this.props.configService.getConnectorPlacement()));return te.s[243]++,s.h(pn,{key:"potentialEdge",src:A,dest:e.position,edgeStyle:t,showArrowhead:this.props.configService.getShowArrowhead()})},te.s[244]++,e.prototype.renderSelectionMarquee=function(){te.f[44]++;var n=(te.s[245]++,this.props.state.editor.selectionMarquee);return te.s[246]++,n?(te.b[36][1]++,te.s[248]++,s.h(Hn,{anchor:n.anchor,position:n.position})):(te.b[36][0]++,void te.s[247]++)},te.s[249]++,e.prototype.renderContextMenu=function(){te.f[45]++;var n=(te.s[250]++,this.props.state.editor.contextMenu);if(te.s[251]++,!n)return te.b[37][0]++,void te.s[252]++;te.b[37][1]++;var e=(te.s[253]++,this.props.configService.getBoundRenderContextMenu(n.targetType,n.targetId)),A=(te.s[254]++,this.props.configService.getRenderDestroy());return te.s[255]++,e?(te.b[38][1]++,te.s[257]++,s.h(I,{position:n.position,renderCallback:e,destroyCallback:A})):(te.b[38][0]++,void te.s[256]++)},te.s[258]++,e}(s.Component)),pe=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/view/ConnectedView.ts",e="2fd7a047307127073a41e560ea37540cb5f244ee",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/view/ConnectedView.ts",statementMap:{0:{start:{line:4,column:4},end:{line:4,column:28}},1:{start:{line:7,column:23},end:{line:9,column:1}},2:{start:{line:8,column:4},end:{line:8,column:42}}},fnMap:{0:{name:"mapStateToProps",decl:{start:{line:3,column:9},end:{line:3,column:24}},loc:{start:{line:3,column:32},end:{line:5,column:1}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:7,column:23},end:{line:7,column:24}},loc:{start:{line:7,column:35},end:{line:9,column:1}},line:7}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/view/ConnectedView.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/view/ConnectedView.ts"],names:[],mappings:"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,cAAc,CAAC;AAKvC,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAU9B,SAAS,eAAe,CACtB,KAA2C;IAE3C,OAAO,EAAE,KAAK,OAAA,EAAE,CAAC;AACnB,CAAC;AAED,yGAAyG;AAEzG,IAAM,gBAAgB,GACpB;IACA,OAAA,OAAO,CACL,eAAe,CAChB,CAAC,IAAI,CAAC;AAFP,CAEO,CAAC;AAEV,OAAO,EACL,gBAAgB,EACjB,CAAC",sourcesContent:["import * as Preact from 'preact';\nimport { connect } from 'preact-redux';\n\nimport ConfigService from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerData } from 'diagramMaker/state/types';\n\nimport { View } from './View';\n\ninterface ConnectedViewStateProps<NodeType, EdgeType> {\n  state: DiagramMakerData<NodeType, EdgeType>;\n}\n\nexport interface ConnectedViewOwnProps<NodeType, EdgeType> {\n  configService: ConfigService<NodeType, EdgeType>;\n}\n\nfunction mapStateToProps<NodeType, EdgeType>(\n  state: DiagramMakerData<NodeType, EdgeType>\n): { state: DiagramMakerData<NodeType, EdgeType> } {\n  return { state };\n}\n\n// exporting a function instead of just a normal value lets us pass types to the ConnectedView component.\n\nconst getConnectedView =\n  <NodeType, EdgeType>(): Preact.ComponentConstructor<ConnectedViewOwnProps<NodeType, EdgeType>> =>\n  connect<ConnectedViewStateProps<NodeType, EdgeType>, {}, ConnectedViewOwnProps<NodeType, EdgeType>>(\n    mapStateToProps\n  )(View);\n\nexport {\n  getConnectedView\n};\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function fe(n){return pe.f[0]++,pe.s[0]++,{state:n}}pe.s[1]++;var ge=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/components/renderUtils.tsx",e="474570908f13141036d936bf3c8b04c23c48c7b7",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/components/renderUtils.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:5,column:42}},1:{start:{line:6,column:4},end:{line:7,column:85}},2:{start:{line:10,column:4},end:{line:10,column:48}}},fnMap:{0:{name:"render",decl:{start:{line:4,column:16},end:{line:4,column:22}},loc:{start:{line:4,column:62},end:{line:8,column:1}},line:4},1:{name:"destroy",decl:{start:{line:9,column:16},end:{line:9,column:23}},loc:{start:{line:9,column:41},end:{line:11,column:1}},line:9}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/components/renderUtils.tsx",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/components/renderUtils.tsx"],names:[],mappings:"AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AACjC,OAAO,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AAGxC,OAAO,EAAE,gBAAgB,EAAE,MAAM,4CAA4C,CAAC;AAI9E,MAAM,UAAU,MAAM,CACpB,KAAkD,EAClD,SAAsB,EACtB,aAAgD,EAChD,IAAc;IAEd,IAAM,aAAa,GAAG,gBAAgB,EAAsB,CAAC;IAC7D,OAAO,MAAM,CAAC,MAAM,CAClB,SAAC,QAAQ,IAAC,KAAK,EAAE,KAAK;QACpB,SAAC,aAAa,IAAC,aAAa,EAAE,aAAa,GAAI,CACtC,EACX,SAAS,EAAE,IAAI,CAChB,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,OAAO,CAAC,SAAsB,EAAE,IAAa;IAC3D,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;AAC9C,CAAC",sourcesContent:["import * as Preact from 'preact';\nimport { Provider } from 'preact-redux';\nimport { Store } from 'redux';\n\nimport { getConnectedView } from 'diagramMaker/components/view/ConnectedView';\nimport ConfigService from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerData } from 'diagramMaker/state/types';\n\nexport function render<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  container: HTMLElement,\n  configService: ConfigService<NodeType, EdgeType>,\n  root?: Element\n) {\n  const ConnectedView = getConnectedView<NodeType, EdgeType>();\n  return Preact.render(\n    <Provider store={store}>\n      <ConnectedView configService={configService} />\n    </Provider>,\n    container, root\n  );\n}\n\nexport function destroy(container: HTMLElement, root: Element) {\n  return Preact.render(null, container, root);\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function he(n,e,A,t){ge.f[0]++;var o=(ge.s[0]++,pe.f[1]++,pe.s[2]++,Object(C.b)(fe)(Ee));return ge.s[1]++,s.render(s.h(C.a,{store:n},s.h(o,{configService:A})),e,t)}var Ie,ye=A(22),Be=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/editorActions.ts",e="9de08e0784dd562fbbd63939fd3fb82552c72f25",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/editorActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:30,column:50}},10:{start:{line:15,column:4},end:{line:15,column:61}},11:{start:{line:17,column:4},end:{line:17,column:65}},12:{start:{line:19,column:4},end:{line:19,column:65}},13:{start:{line:21,column:4},end:{line:21,column:75}},14:{start:{line:23,column:4},end:{line:23,column:79}},15:{start:{line:25,column:4},end:{line:25,column:75}},16:{start:{line:27,column:4},end:{line:27,column:51}},17:{start:{line:29,column:4},end:{line:29,column:37}},18:{start:{line:31,column:27},end:{line:31,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:30},end:{line:30,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:30,column:3},end:{line:30,column:48}},type:"binary-expr",locations:[{start:{line:30,column:3},end:{line:30,column:20}},{start:{line:30,column:25},end:{line:30,column:47}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/editorActions.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/editorActions.ts"],names:[],mappings:";;;;;;;;;;;AAKA,MAAM,CAAN,IAAY,iBAiBX;AAjBD,WAAY,iBAAiB;IAC3B,mCAAmC;IACnC,wDAAmC,CAAA;IACnC,6BAA6B;IAC7B,4DAAuC,CAAA;IACvC,6BAA6B;IAC7B,4DAAuC,CAAA;IACvC,kCAAkC;IAClC,sEAAiD,CAAA;IACjD,oCAAoC;IACpC,0EAAqD,CAAA;IACrD,kCAAkC;IAClC,sEAAiD,CAAA;IACjD,2BAA2B;IAC3B,8CAAyB,CAAA;IACzB,+BAA+B;IAC/B,gCAAW,CAAA;AACb,CAAC,EAjBW,iBAAiB,KAAjB,iBAAiB,QAiB5B;AAED,MAAM,CAAC,IAAM,aAAa,gBACrB,iBAAiB,CACrB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { EditorModeType, Position, Rectangle, Size } from 'diagramMaker/state/types';\n\nexport enum EditorActionsType {\n  /** Set the mode for the editor. */\n  SET_EDITOR_MODE = 'SET_EDITOR_MODE',\n  /** Show the context menu. */\n  SHOW_CONTEXT_MENU = 'SHOW_CONTEXT_MENU',\n  /** Hide the context menu. */\n  HIDE_CONTEXT_MENU = 'HIDE_CONTEXT_MENU',\n  /** Show the selection marquee. */\n  SHOW_SELECTION_MARQUEE = 'SHOW_SELECTION_MARQUEE',\n  /** Update the selection marquee. */\n  UPDATE_SELECTION_MARQUEE = 'UPDATE_SELECTION_MARQUEE',\n  /** Hide the selection marquee. */\n  HIDE_SELECTION_MARQUEE = 'HIDE_SELECTION_MARQUEE',\n  /** Focus the given node */\n  FOCUS_NODE = 'FOCUS_NODE',\n  /** Fits all nodes into view */\n  FIT = 'FIT'\n}\n\nexport const EditorActions = {\n  ...EditorActionsType\n};\n\n/** Action fired to set the mode for the editor */\nexport interface SetEditorModeAction extends Action {\n  type: EditorActionsType.SET_EDITOR_MODE;\n  payload: {\n    /** Requested mode for the editor */\n    mode: EditorModeType\n  };\n}\n\n/** Action fired to show the context menu */\nexport interface ShowContextMenuAction extends Action {\n  type: EditorActionsType.SHOW_CONTEXT_MENU;\n  payload: {\n    /** Position to render the context menu */\n    position: Position,\n    /** Type of UI Element to show the context menu for. */\n    targetType: DiagramMakerComponentsType,\n    /** ID of the UI Element in case it was a node, edge or a panel. */\n    targetId?: string\n  };\n}\n\n/** Action fired to hide the context menu */\nexport interface HideContextMenuAction extends Action {\n  type: EditorActionsType.HIDE_CONTEXT_MENU;\n}\n\n/** Action fired to show the selection marquee */\nexport interface ShowSelectionMarqueeAction extends Action {\n  type: EditorActionsType.SHOW_SELECTION_MARQUEE;\n  payload: {\n    /**\n     * Position to anchor the selection marquee.\n     * Usually the position where mouse was clicked to start the selection.\n     */\n    anchor: Position\n  };\n}\n\n/** Action fired to update the selection marquee */\nexport interface UpdateSelectionMarqueeAction extends Action {\n  type: EditorActionsType.UPDATE_SELECTION_MARQUEE;\n  payload: {\n    /**\n     * Position to anchor the selection marquee.\n     * Usually the position where mouse was clicked to start the selection.\n     */\n    anchor: Position,\n    /** The diagonally opposite corner from the anchor. Usually the current mouse position. */\n    position: Position\n  };\n}\n\n/** Action fired to hide the selection marquee */\nexport interface HideSelectionMarqueeAction extends Action {\n  type: EditorActionsType.HIDE_SELECTION_MARQUEE;\n}\n\n/** Action fired to focus on a specific node */\nexport interface FocusNodeAction extends Action {\n  type: EditorActionsType.FOCUS_NODE;\n  payload: {\n    /** ID of the node to focus */\n    id: string;\n    /** position of the node to focus */\n    position: Position;\n    /** size of the node to focus */\n    size: Size;\n    /** Width of fixed left panel */\n    leftPanelWidth?: number;\n    /** Width of fixed right panel */\n    rightPanelWidth?: number;\n  };\n}\n\n/** Action fired to fit all nodes into view */\nexport interface FitAction extends Action {\n  type: EditorActionsType.FIT;\n  payload: {\n    /** Position & sizes of nodes that need to be fit into view */\n    nodeRects: Rectangle[],\n    /** Width of fixed left panel */\n    leftPanelWidth?: number;\n    /** Width of fixed right panel */\n    rightPanelWidth?: number;\n  };\n}\n\nexport type EditorAction =\n  SetEditorModeAction | ShowContextMenuAction | HideContextMenuAction | ShowSelectionMarqueeAction |\n  UpdateSelectionMarqueeAction | HideSelectionMarqueeAction | FocusNodeAction | FitAction;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),Me=(Be.s[0]++,void Be.b[0][0]++&&(Be.b[0][1]++,(void 0).__assign)||(Be.b[0][2]++,function(){return Be.f[0]++,Be.s[1]++,Be.b[1][0]++,Me=Object.assign||(Be.b[1][1]++,function(n){Be.f[1]++,Be.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in Be.s[3]++,e=arguments[A],Be.s[4]++,e)Be.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(Be.b[2][0]++,Be.s[6]++,n[o]=e[o]):Be.b[2][1]++;return Be.s[7]++,n}),Be.s[8]++,Me.apply(this,arguments)}));Be.s[9]++,function(n){Be.f[2]++,Be.s[10]++,n.SET_EDITOR_MODE="SET_EDITOR_MODE",Be.s[11]++,n.SHOW_CONTEXT_MENU="SHOW_CONTEXT_MENU",Be.s[12]++,n.HIDE_CONTEXT_MENU="HIDE_CONTEXT_MENU",Be.s[13]++,n.SHOW_SELECTION_MARQUEE="SHOW_SELECTION_MARQUEE",Be.s[14]++,n.UPDATE_SELECTION_MARQUEE="UPDATE_SELECTION_MARQUEE",Be.s[15]++,n.HIDE_SELECTION_MARQUEE="HIDE_SELECTION_MARQUEE",Be.s[16]++,n.FOCUS_NODE="FOCUS_NODE",Be.s[17]++,n.FIT="FIT"}((Be.b[3][0]++,Ie||(Be.b[3][1]++,Ie={})));var ve=(Be.s[18]++,Me({},Ie)),be=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/editorActionDispatcher.ts",e="54de96bfdf7b36cb19c46e3cffa8dd4e7657a2a5",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/editorActionDispatcher.ts",statementMap:{0:{start:{line:3,column:4},end:{line:5,column:6}},1:{start:{line:8,column:4},end:{line:15,column:6}},2:{start:{line:18,column:4},end:{line:23,column:6}},3:{start:{line:26,column:4},end:{line:32,column:6}},4:{start:{line:35,column:4},end:{line:37,column:6}},5:{start:{line:40,column:4},end:{line:43,column:6}},6:{start:{line:46,column:4},end:{line:49,column:6}},7:{start:{line:52,column:4},end:{line:55,column:6}},8:{start:{line:58,column:24},end:{line:58,column:43}},9:{start:{line:58,column:56},end:{line:58,column:70}},10:{start:{line:58,column:81},end:{line:58,column:93}},11:{start:{line:59,column:15},end:{line:59,column:26}},12:{start:{line:59,column:33},end:{line:59,column:42}},13:{start:{line:60,column:4},end:{line:67,column:5}},14:{start:{line:61,column:32},end:{line:61,column:74}},15:{start:{line:62,column:8},end:{line:66,column:9}},16:{start:{line:63,column:12},end:{line:63,column:43}},17:{start:{line:64,column:25},end:{line:64,column:72}},18:{start:{line:65,column:12},end:{line:65,column:35}},19:{start:{line:70,column:16},end:{line:70,column:32}},20:{start:{line:71,column:4},end:{line:74,column:5}},21:{start:{line:72,column:21},end:{line:72,column:50}},22:{start:{line:73,column:8},end:{line:73,column:31}},23:{start:{line:77,column:17},end:{line:77,column:57}},24:{start:{line:78,column:4},end:{line:78,column:27}},25:{start:{line:81,column:16},end:{line:81,column:32}},26:{start:{line:82,column:4},end:{line:86,column:5}},27:{start:{line:83,column:21},end:{line:83,column:57}},28:{start:{line:84,column:21},end:{line:84,column:73}},29:{start:{line:85,column:8},end:{line:85,column:31}},30:{start:{line:89,column:16},end:{line:89,column:32}},31:{start:{line:90,column:4},end:{line:93,column:5}},32:{start:{line:91,column:21},end:{line:91,column:55}},33:{start:{line:92,column:8},end:{line:92,column:31}}},fnMap:{0:{name:"createHideContextMenuAction",decl:{start:{line:2,column:9},end:{line:2,column:36}},loc:{start:{line:2,column:39},end:{line:6,column:1}},line:2},1:{name:"createShowContextMenuAction",decl:{start:{line:7,column:9},end:{line:7,column:36}},loc:{start:{line:7,column:69},end:{line:16,column:1}},line:7},2:{name:"createShowSelectionMarqueeAction",decl:{start:{line:17,column:9},end:{line:17,column:41}},loc:{start:{line:17,column:50},end:{line:24,column:1}},line:17},3:{name:"createUpdateSelectionMarqueeAction",decl:{start:{line:25,column:9},end:{line:25,column:43}},loc:{start:{line:25,column:62},end:{line:33,column:1}},line:25},4:{name:"createHideSelectionMarqueeAction",decl:{start:{line:34,column:9},end:{line:34,column:41}},loc:{start:{line:34,column:44},end:{line:38,column:1}},line:34},5:{name:"createSetEditorModeAction",decl:{start:{line:39,column:16},end:{line:39,column:41}},loc:{start:{line:39,column:48},end:{line:44,column:1}},line:39},6:{name:"createFocusNodeAction",decl:{start:{line:45,column:16},end:{line:45,column:37}},loc:{start:{line:45,column:91},end:{line:50,column:1}},line:45},7:{name:"createFitAction",decl:{start:{line:51,column:16},end:{line:51,column:31}},loc:{start:{line:51,column:76},end:{line:56,column:1}},line:51},8:{name:"handleShowContextMenu",decl:{start:{line:57,column:16},end:{line:57,column:37}},loc:{start:{line:57,column:60},end:{line:68,column:1}},line:57},9:{name:"handleHideContextMenu",decl:{start:{line:69,column:16},end:{line:69,column:37}},loc:{start:{line:69,column:45},end:{line:75,column:1}},line:69},10:{name:"handleShowSelectionMarquee",decl:{start:{line:76,column:16},end:{line:76,column:42}},loc:{start:{line:76,column:58},end:{line:79,column:1}},line:76},11:{name:"handleUpdateSelectionMarquee",decl:{start:{line:80,column:16},end:{line:80,column:44}},loc:{start:{line:80,column:62},end:{line:87,column:1}},line:80},12:{name:"handleHideSelectionMarquee",decl:{start:{line:88,column:16},end:{line:88,column:42}},loc:{start:{line:88,column:50},end:{line:94,column:1}},line:88}},branchMap:{0:{loc:{start:{line:60,column:4},end:{line:67,column:5}},type:"if",locations:[{start:{line:60,column:4},end:{line:67,column:5}},{start:{line:60,column:4},end:{line:67,column:5}}],line:60},1:{loc:{start:{line:62,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:62,column:8},end:{line:66,column:9}},{start:{line:62,column:8},end:{line:66,column:9}}],line:62},2:{loc:{start:{line:71,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:74,column:5}},{start:{line:71,column:4},end:{line:74,column:5}}],line:71},3:{loc:{start:{line:71,column:8},end:{line:71,column:48}},type:"binary-expr",locations:[{start:{line:71,column:8},end:{line:71,column:20}},{start:{line:71,column:24},end:{line:71,column:48}}],line:71},4:{loc:{start:{line:82,column:4},end:{line:86,column:5}},type:"if",locations:[{start:{line:82,column:4},end:{line:86,column:5}},{start:{line:82,column:4},end:{line:86,column:5}}],line:82},5:{loc:{start:{line:90,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:90,column:4},end:{line:93,column:5}},{start:{line:90,column:4},end:{line:93,column:5}}],line:90}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/editorActionDispatcher.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/editorActionDispatcher.ts"],names:[],mappings:"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",sourcesContent:["import { Store } from 'redux';\n\nimport ConfigService from 'diagramMaker/service/ConfigService';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { NormalizedMouseClickEvent } from 'diagramMaker/service/ui/UIEventNormalizer';\nimport { DiagramMakerData, EditorModeType, Position, Rectangle, Size } from 'diagramMaker/state/types';\n\nimport {\n  EditorActionsType,\n  FitAction,\n  FocusNodeAction,\n  HideContextMenuAction,\n  HideSelectionMarqueeAction,\n  SetEditorModeAction,\n  ShowContextMenuAction,\n  ShowSelectionMarqueeAction,\n  UpdateSelectionMarqueeAction\n} from './editorActions';\n\nfunction createHideContextMenuAction(): HideContextMenuAction {\n  return {\n    type: EditorActionsType.HIDE_CONTEXT_MENU\n  };\n}\n\nfunction createShowContextMenuAction(\n  position: Position, targetType: DiagramMakerComponentsType, targetId?: string\n): ShowContextMenuAction {\n  return {\n    type: EditorActionsType.SHOW_CONTEXT_MENU,\n    payload: {\n      position,\n      targetType,\n      targetId\n    }\n  };\n}\n\nfunction createShowSelectionMarqueeAction(anchor: Position): ShowSelectionMarqueeAction {\n  return {\n    type: EditorActionsType.SHOW_SELECTION_MARQUEE,\n    payload: {\n      anchor\n    }\n  };\n}\n\nfunction createUpdateSelectionMarqueeAction(anchor: Position, position: Position): UpdateSelectionMarqueeAction {\n  return {\n    type: EditorActionsType.UPDATE_SELECTION_MARQUEE,\n    payload: {\n      anchor,\n      position\n    }\n  };\n}\n\nfunction createHideSelectionMarqueeAction(): HideSelectionMarqueeAction {\n  return {\n    type: EditorActionsType.HIDE_SELECTION_MARQUEE\n  };\n}\n\nexport function createSetEditorModeAction(mode: EditorModeType): SetEditorModeAction {\n  return {\n    type: EditorActionsType.SET_EDITOR_MODE,\n    payload: { mode }\n  };\n}\n\nexport function createFocusNodeAction(\n  id: string, position: Position, size: Size, leftPanelWidth?: number, rightPanelWidth?: number\n): FocusNodeAction {\n  return {\n    type: EditorActionsType.FOCUS_NODE,\n    payload: { id, position, size, leftPanelWidth, rightPanelWidth }\n  };\n}\n\nexport function createFitAction(nodeRects: Rectangle[], leftPanelWidth?: number, rightPanelWidth?: number): FitAction {\n  return {\n    type: EditorActionsType.FIT,\n    payload: { nodeRects, leftPanelWidth, rightPanelWidth }\n  };\n}\n\nexport function handleShowContextMenu<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  config: ConfigService<NodeType, EdgeType>,\n  event: NormalizedMouseClickEvent\n) {\n  const { originalEvent, position, target } = event;\n  const { type, id } = target;\n  if (type) {\n    const renderContextMenu = config.getBoundRenderContextMenu(type, id);\n    if (renderContextMenu) {\n      originalEvent.preventDefault();\n      const action = createShowContextMenuAction(position, type as DiagramMakerComponentsType, id);\n\n      store.dispatch(action);\n    }\n  }\n}\n\nexport function handleHideContextMenu<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>\n) {\n  const state = store.getState();\n  if (state.editor && state.editor.contextMenu) {\n    const action = createHideContextMenuAction();\n\n    store.dispatch(action);\n  }\n}\n\nexport function handleShowSelectionMarquee<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  anchor: Position\n) {\n  const action = createShowSelectionMarqueeAction(anchor);\n\n  store.dispatch(action);\n}\n\nexport function handleUpdateSelectionMarquee<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  position: Position\n) {\n  const state = store.getState();\n  if (state.editor.selectionMarquee) {\n    const anchor = state.editor.selectionMarquee.anchor;\n    const action = createUpdateSelectionMarqueeAction(anchor, position);\n\n    store.dispatch(action);\n  }\n}\n\nexport function handleHideSelectionMarquee<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>\n) {\n  const state = store.getState();\n  if (state.editor.selectionMarquee) {\n    const action = createHideSelectionMarqueeAction();\n\n    store.dispatch(action);\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function Oe(n,e,A){be.f[8]++;var t=(be.s[8]++,A.originalEvent),o=(be.s[9]++,A.position),i=(be.s[10]++,A.target),l=(be.s[11]++,i.type),r=(be.s[12]++,i.id);if(be.s[13]++,l){be.b[0][0]++;var a=(be.s[14]++,e.getBoundRenderContextMenu(l,r));if(be.s[15]++,a){be.b[1][0]++,be.s[16]++,t.preventDefault();var c=(be.s[17]++,function(n,e,A){return be.f[1]++,be.s[1]++,{type:Ie.SHOW_CONTEXT_MENU,payload:{position:n,targetType:e,targetId:A}}}(o,l,r));be.s[18]++,n.dispatch(c)}else be.b[1][1]++}else be.b[0][1]++}function Ge(n){be.f[9]++;var e=(be.s[19]++,n.getState());if(be.s[20]++,be.b[3][0]++,e.editor&&(be.b[3][1]++,e.editor.contextMenu)){be.b[2][0]++;var A=(be.s[21]++,be.f[0]++,be.s[0]++,{type:Ie.HIDE_CONTEXT_MENU});be.s[22]++,n.dispatch(A)}else be.b[2][1]++}function De(n,e){be.f[10]++;var A=(be.s[23]++,function(n){return be.f[2]++,be.s[2]++,{type:Ie.SHOW_SELECTION_MARQUEE,payload:{anchor:n}}}(e));be.s[24]++,n.dispatch(A)}function ke(n,e){be.f[11]++;var A=(be.s[25]++,n.getState());if(be.s[26]++,A.editor.selectionMarquee){be.b[4][0]++;var t=(be.s[27]++,A.editor.selectionMarquee.anchor),o=(be.s[28]++,function(n,e){return be.f[3]++,be.s[3]++,{type:Ie.UPDATE_SELECTION_MARQUEE,payload:{anchor:n,position:e}}}(t,e));be.s[29]++,n.dispatch(o)}else be.b[4][1]++}function Ke(n){be.f[12]++;var e=(be.s[30]++,n.getState());if(be.s[31]++,e.editor.selectionMarquee){be.b[5][0]++;var A=(be.s[32]++,be.f[4]++,be.s[4]++,{type:Ie.HIDE_SELECTION_MARQUEE});be.s[33]++,n.dispatch(A)}else be.b[5][1]++}function Se(n){for(var e=arguments.length,A=Array(e>1?e-1:0),t=1;t<e;t++)A[t-1]=arguments[t];throw Error("[Immer] minified error nr: "+n+(A.length?" "+A.map((function(n){return"'"+n+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function _e(n){return!!n&&!!n[hA]}function xe(n){return!!n&&(function(n){if(!n||"object"!=typeof n)return!1;var e=Object.getPrototypeOf(n);if(null===e)return!0;var A=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof A&&Function.toString.call(A)===IA}(n)||Array.isArray(n)||!!n[gA]||!!n.constructor[gA]||Re(n)||Ye(n))}function Te(n,e,A){void 0===A&&(A=!1),0===Qe(n)?(A?Object.keys:yA)(n).forEach((function(t){A&&"symbol"==typeof t||e(t,n[t],n)})):n.forEach((function(A,t){return e(t,A,n)}))}function Qe(n){var e=n[hA];return e?e.i>3?e.i-4:e.i:Array.isArray(n)?1:Re(n)?2:Ye(n)?3:0}function Ue(n,e){return 2===Qe(n)?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function we(n,e){return 2===Qe(n)?n.get(e):n[e]}function Ne(n,e,A){var t=Qe(n);2===t?n.set(e,A):3===t?(n.delete(e),n.add(A)):n[e]=A}function Pe(n,e){return n===e?0!==n||1/n==1/e:n!=n&&e!=e}function Re(n){return mA&&n instanceof Map}function Ye(n){return EA&&n instanceof Set}function We(n){return n.o||n.t}function ze(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var e=BA(n);delete e[hA];for(var A=yA(e),t=0;t<A.length;t++){var o=A[t],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:n[o]})}return Object.create(Object.getPrototypeOf(n),e)}function Le(n,e){return void 0===e&&(e=!1),Fe(n)||_e(n)||!xe(n)||(Qe(n)>1&&(n.set=n.add=n.clear=n.delete=je),Object.freeze(n),e&&Te(n,(function(n,e){return Le(e,!0)}),!0)),n}function je(){Se(2)}function Fe(n){return null==n||"object"!=typeof n||Object.isFrozen(n)}function He(n){var e=MA[n];return e||Se(18,n),e}function qe(){return uA}function Ve(n,e){e&&(He("Patches"),n.u=[],n.s=[],n.v=e)}function Xe(n){Ze(n),n.p.forEach($e),n.p=null}function Ze(n){n===uA&&(uA=n.l)}function Je(n){return uA={p:[],l:uA,h:n,m:!0,_:0}}function $e(n){var e=n[hA];0===e.i||1===e.i?e.j():e.g=!0}function nA(n,e){e._=e.p.length;var A=e.p[0],t=void 0!==n&&n!==A;return e.h.O||He("ES5").S(e,n,t),t?(A[hA].P&&(Xe(e),Se(4)),xe(n)&&(n=eA(e,n),e.l||tA(e,n)),e.u&&He("Patches").M(A[hA],n,e.u,e.s)):n=eA(e,A,[]),Xe(e),e.u&&e.v(e.u,e.s),n!==fA?n:void 0}function eA(n,e,A){if(Fe(e))return e;var t=e[hA];if(!t)return Te(e,(function(o,i){return AA(n,t,e,o,i,A)}),!0),e;if(t.A!==n)return e;if(!t.P)return tA(n,t.t,!0),t.t;if(!t.I){t.I=!0,t.A._--;var o=4===t.i||5===t.i?t.o=ze(t.k):t.o;Te(3===t.i?new Set(o):o,(function(e,i){return AA(n,t,o,e,i,A)})),tA(n,o,!1),A&&n.u&&He("Patches").R(t,A,n.u,n.s)}return t.o}function AA(n,e,A,t,o,i){if(_e(o)){var l=eA(n,o,i&&e&&3!==e.i&&!Ue(e.D,t)?i.concat(t):void 0);if(Ne(A,t,l),!_e(l))return;n.m=!1}if(xe(o)&&!Fe(o)){if(!n.h.F&&n._<1)return;eA(n,o),e&&e.A.l||tA(n,o)}}function tA(n,e,A){void 0===A&&(A=!1),n.h.F&&n.m&&Le(e,A)}function oA(n,e){var A=n[hA];return(A?We(A):n)[e]}function iA(n,e){if(e in n)for(var A=Object.getPrototypeOf(n);A;){var t=Object.getOwnPropertyDescriptor(A,e);if(t)return t;A=Object.getPrototypeOf(A)}}function lA(n){n.P||(n.P=!0,n.l&&lA(n.l))}function rA(n){n.o||(n.o=ze(n.t))}function aA(n,e,A){var t=Re(e)?He("MapSet").N(e,A):Ye(e)?He("MapSet").T(e,A):n.O?function(n,e){var A=Array.isArray(n),t={i:A?1:0,A:e?e.A:qe(),P:!1,I:!1,D:{},l:e,t:n,k:null,o:null,j:null,C:!1},o=t,i=vA;A&&(o=[t],i=bA);var l=Proxy.revocable(o,i),r=l.revoke,a=l.proxy;return t.k=a,t.j=r,a}(e,A):He("ES5").J(e,A);return(A?A.A:qe()).p.push(t),t}function cA(n){return _e(n)||Se(22,n),function n(e){if(!xe(e))return e;var A,t=e[hA],o=Qe(e);if(t){if(!t.P&&(t.i<4||!He("ES5").K(t)))return t.t;t.I=!0,A=sA(e,o),t.I=!1}else A=sA(e,o);return Te(A,(function(e,o){t&&we(t.t,e)===o||Ne(A,e,n(o))})),3===o?new Set(A):A}(n)}function sA(n,e){switch(e){case 2:return new Map(n);case 3:return Array.from(n)}return ze(n)}var CA,uA,dA="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),mA="undefined"!=typeof Map,EA="undefined"!=typeof Set,pA="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,fA=dA?Symbol.for("immer-nothing"):((CA={})["immer-nothing"]=!0,CA),gA=dA?Symbol.for("immer-draftable"):"__$immer_draftable",hA=dA?Symbol.for("immer-state"):"__$immer_state",IA=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),yA="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,BA=Object.getOwnPropertyDescriptors||function(n){var e={};return yA(n).forEach((function(A){e[A]=Object.getOwnPropertyDescriptor(n,A)})),e},MA={},vA={get:function(n,e){if(e===hA)return n;var A=We(n);if(!Ue(A,e))return function(n,e,A){var t,o=iA(e,A);return o?"value"in o?o.value:null===(t=o.get)||void 0===t?void 0:t.call(n.k):void 0}(n,A,e);var t=A[e];return n.I||!xe(t)?t:t===oA(n.t,e)?(rA(n),n.o[e]=aA(n.A.h,t,n)):t},has:function(n,e){return e in We(n)},ownKeys:function(n){return Reflect.ownKeys(We(n))},set:function(n,e,A){var t=iA(We(n),e);if(null==t?void 0:t.set)return t.set.call(n.k,A),!0;if(!n.P){var o=oA(We(n),e),i=null==o?void 0:o[hA];if(i&&i.t===A)return n.o[e]=A,n.D[e]=!1,!0;if(Pe(A,o)&&(void 0!==A||Ue(n.t,e)))return!0;rA(n),lA(n)}return n.o[e]===A&&"number"!=typeof A||(n.o[e]=A,n.D[e]=!0,!0)},deleteProperty:function(n,e){return void 0!==oA(n.t,e)||e in n.t?(n.D[e]=!1,rA(n),lA(n)):delete n.D[e],n.o&&delete n.o[e],!0},getOwnPropertyDescriptor:function(n,e){var A=We(n),t=Reflect.getOwnPropertyDescriptor(A,e);return t?{writable:!0,configurable:1!==n.i||"length"!==e,enumerable:t.enumerable,value:A[e]}:t},defineProperty:function(){Se(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){Se(12)}},bA={};Te(vA,(function(n,e){bA[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),bA.deleteProperty=function(n,e){return vA.deleteProperty.call(this,n[0],e)},bA.set=function(n,e,A){return vA.set.call(this,n[0],e,A,n[0])};var OA,GA=new(function(){function n(n){var e=this;this.O=pA,this.F=!0,this.produce=function(n,A,t){if("function"==typeof n&&"function"!=typeof A){var o=A;A=n;var i=e;return function(n){var e=this;void 0===n&&(n=o);for(var t=arguments.length,l=Array(t>1?t-1:0),r=1;r<t;r++)l[r-1]=arguments[r];return i.produce(n,(function(n){var t;return(t=A).call.apply(t,[e,n].concat(l))}))}}var l;if("function"!=typeof A&&Se(6),void 0!==t&&"function"!=typeof t&&Se(7),xe(n)){var r=Je(e),a=aA(e,n,void 0),c=!0;try{l=A(a),c=!1}finally{c?Xe(r):Ze(r)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(n){return Ve(r,t),nA(n,r)}),(function(n){throw Xe(r),n})):(Ve(r,t),nA(l,r))}if(!n||"object"!=typeof n){if((l=A(n))===fA)return;return void 0===l&&(l=n),e.F&&Le(l,!0),l}Se(21,n)},this.produceWithPatches=function(n,A){return"function"==typeof n?function(A){for(var t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];return e.produceWithPatches(A,(function(e){return n.apply(void 0,[e].concat(o))}))}:[e.produce(n,A,(function(n,e){t=n,o=e})),t,o];var t,o},"boolean"==typeof(null==n?void 0:n.useProxies)&&this.setUseProxies(n.useProxies),"boolean"==typeof(null==n?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze)}var e=n.prototype;return e.createDraft=function(n){xe(n)||Se(8),_e(n)&&(n=cA(n));var e=Je(this),A=aA(this,n,void 0);return A[hA].C=!0,Ze(e),A},e.finishDraft=function(n,e){var A=(n&&n[hA]).A;return Ve(A,e),nA(void 0,A)},e.setAutoFreeze=function(n){this.F=n},e.setUseProxies=function(n){n&&!pA&&Se(20),this.O=n},e.applyPatches=function(n,e){var A;for(A=e.length-1;A>=0;A--){var t=e[A];if(0===t.path.length&&"replace"===t.op){n=t.value;break}}var o=He("Patches").$;return _e(n)?o(n,e):this.produce(n,(function(n){return o(n,e.slice(A+1))}))},n}()),DA=GA.produce,kA=(GA.produceWithPatches.bind(GA),GA.setAutoFreeze.bind(GA),GA.setUseProxies.bind(GA),GA.applyPatches.bind(GA),GA.createDraft.bind(GA),GA.finishDraft.bind(GA),function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/node/nodeActions.ts",e="6bc3a64480cc337d461ac14eb88bdcaf48d68a47",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/node/nodeActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:24,column:46}},10:{start:{line:14,column:4},end:{line:14,column:51}},11:{start:{line:15,column:4},end:{line:15,column:51}},12:{start:{line:16,column:4},end:{line:16,column:51}},13:{start:{line:17,column:4},end:{line:17,column:59}},14:{start:{line:18,column:4},end:{line:18,column:55}},15:{start:{line:19,column:4},end:{line:19,column:47}},16:{start:{line:20,column:4},end:{line:20,column:51}},17:{start:{line:21,column:4},end:{line:21,column:79}},18:{start:{line:22,column:4},end:{line:22,column:67}},19:{start:{line:23,column:4},end:{line:23,column:75}},20:{start:{line:25,column:25},end:{line:25,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:28},end:{line:24,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:24,column:3},end:{line:24,column:44}},type:"binary-expr",locations:[{start:{line:24,column:3},end:{line:24,column:18}},{start:{line:24,column:23},end:{line:24,column:43}}],line:24}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/node/nodeActions.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/node/nodeActions.ts"],names:[],mappings:";;;;;;;;;;;AAIA,MAAM,CAAN,IAAY,eAWX;AAXD,WAAY,eAAe;IACzB,8CAA2B,CAAA;IAC3B,8CAA2B,CAAA;IAC3B,8CAA2B,CAAA;IAC3B,sDAAmC,CAAA;IACnC,kDAA+B,CAAA;IAC/B,0CAAuB,CAAA;IACvB,8CAA2B,CAAA;IAC3B,0EAAuD,CAAA;IACvD,8DAA2C,CAAA;IAC3C,sEAAmD,CAAA;AACrD,CAAC,EAXW,eAAe,KAAf,eAAe,QAW1B;AAED,MAAM,CAAC,IAAM,WAAW,gBACnB,eAAe,CACnB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nimport { Position, Rectangle, Size } from 'diagramMaker/state/types';\n\nexport enum NodeActionsType {\n  NODE_CREATE = 'NODE_CREATE',\n  NODE_DELETE = 'NODE_DELETE',\n  NODE_SELECT = 'NODE_SELECT',\n  NODE_DRAG_START = 'NODE_DRAG_START',\n  NODE_DRAG_END = 'NODE_DRAG_END',\n  NODE_DRAG = 'NODE_DRAG',\n  NODE_LAYOUT = 'NODE_LAYOUT',\n  POTENTIAL_NODE_DRAG_START = 'POTENTIAL_NODE_DRAG_START',\n  POTENTIAL_NODE_DRAG = 'POTENTIAL_NODE_DRAG',\n  POTENTIAL_NODE_DRAG_END = 'POTENTIAL_NODE_DRAG_END'\n}\n\nexport const NodeActions = {\n  ...NodeActionsType\n};\n\n/** Action fired to create a new node */\nexport interface CreateNodeAction<NodeType> extends Action {\n  type: NodeActionsType.NODE_CREATE;\n  payload: {\n    /** ID for the new node that needs to be created. Needs to be unique. */\n    id: string,\n    /** type ID of the new node. Picked up from the potential node that was used to create this node. */\n    typeId: string,\n    /** Position where the new node will be created. */\n    position: Position,\n    /** Size of the new node */\n    size: Size,\n    /** Consumer data that needs to be added for the newly created node. */\n    consumerData?: NodeType\n  };\n}\n\n/** Action fired when a new potential node starts being dragged */\nexport interface DragStartPotentialNodeAction extends Action {\n  type: NodeActionsType.POTENTIAL_NODE_DRAG_START;\n  payload: {\n    /**\n     * type ID of the new node that will be created if this is dropped on the workspace.\n     * Picked up from the potential node that was used to create this potential node.\n     */\n    typeId: string,\n    /** Current position of the potential node */\n    position: Position,\n    /** Size for the node that will be created if this is dropped on the workspace. */\n    size: Size\n  };\n}\n\n/** Action fired to update the position for a potential node */\nexport interface DragPotentialNodeAction extends Action {\n  type: NodeActionsType.POTENTIAL_NODE_DRAG;\n  payload: {\n    /** Updated position for the potential node */\n    position: Position,\n\n    /** A Rectangle representing the workspace */\n    workspaceRectangle: Rectangle\n  };\n}\n\n/** Action fired to end dragging the potential node */\nexport interface DragEndPotentialNodeAction extends Action {\n  type: NodeActionsType.POTENTIAL_NODE_DRAG_END;\n}\n\n/** Action fired to select a node */\nexport interface SelectNodeAction extends Action {\n  type: NodeActionsType.NODE_SELECT;\n  payload: {\n    /** ID of the node to select */\n    id: string;\n  };\n}\n\n/**\n * Action fired to delete a node.\n * Please note that this doesn't delete the connected edges\n * and may lead to edges that remain in state but are not rendered.\n */\nexport interface DeleteNodeAction extends Action {\n  type: NodeActionsType.NODE_DELETE;\n  payload: {\n    /** ID of the node to delete */\n    id: string;\n  };\n}\n\n/** Action fired to start dragging a node */\nexport interface DragStartNodeAction extends Action {\n  type: NodeActionsType.NODE_DRAG_START;\n  payload: {\n    /** ID of the node to start dragging for */\n    id: string;\n  };\n}\n\n/** Action fired to end dragging a node */\nexport interface DragEndNodeAction extends Action {\n  type: NodeActionsType.NODE_DRAG_END;\n  payload: {\n    /** ID of the node to end dragging for */\n    id: string;\n  };\n}\n\n/** Action fired to update the position for the node */\nexport interface DragNodeAction extends Action {\n  type: NodeActionsType.NODE_DRAG;\n  payload: {\n    /** ID of the node to update position for */\n    id: string;\n    /** Updated position for the node */\n    position: Position;\n    workspaceRectangle: Rectangle;\n    size: Size;\n  };\n}\n\nexport type NodeAction<NodeType> =\n  SelectNodeAction | DeleteNodeAction | DragStartNodeAction | DragEndNodeAction | DragNodeAction |\n  DragPotentialNodeAction | DragStartPotentialNodeAction | DragEndPotentialNodeAction | CreateNodeAction<NodeType>;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}()),KA=(kA.s[0]++,void kA.b[0][0]++&&(kA.b[0][1]++,(void 0).__assign)||(kA.b[0][2]++,function(){return kA.f[0]++,kA.s[1]++,kA.b[1][0]++,KA=Object.assign||(kA.b[1][1]++,function(n){kA.f[1]++,kA.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in kA.s[3]++,e=arguments[A],kA.s[4]++,e)kA.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(kA.b[2][0]++,kA.s[6]++,n[o]=e[o]):kA.b[2][1]++;return kA.s[7]++,n}),kA.s[8]++,KA.apply(this,arguments)}));kA.s[9]++,function(n){kA.f[2]++,kA.s[10]++,n.NODE_CREATE="NODE_CREATE",kA.s[11]++,n.NODE_DELETE="NODE_DELETE",kA.s[12]++,n.NODE_SELECT="NODE_SELECT",kA.s[13]++,n.NODE_DRAG_START="NODE_DRAG_START",kA.s[14]++,n.NODE_DRAG_END="NODE_DRAG_END",kA.s[15]++,n.NODE_DRAG="NODE_DRAG",kA.s[16]++,n.NODE_LAYOUT="NODE_LAYOUT",kA.s[17]++,n.POTENTIAL_NODE_DRAG_START="POTENTIAL_NODE_DRAG_START",kA.s[18]++,n.POTENTIAL_NODE_DRAG="POTENTIAL_NODE_DRAG",kA.s[19]++,n.POTENTIAL_NODE_DRAG_END="POTENTIAL_NODE_DRAG_END"}((kA.b[3][0]++,OA||(kA.b[3][1]++,OA={})));var SA,_A=(kA.s[20]++,KA({},OA)),xA=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/workspaceActions.ts",e="381cae507ffaed5be8557b4a31f8d95990fd9460",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/workspaceActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:28,column:56}},10:{start:{line:15,column:4},end:{line:15,column:70}},11:{start:{line:17,column:4},end:{line:17,column:74}},12:{start:{line:19,column:4},end:{line:19,column:62}},13:{start:{line:21,column:4},end:{line:21,column:62}},14:{start:{line:23,column:4},end:{line:23,column:66}},15:{start:{line:25,column:4},end:{line:25,column:80}},16:{start:{line:27,column:4},end:{line:27,column:74}},17:{start:{line:29,column:30},end:{line:29,column:64}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:33},end:{line:28,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:28,column:3},end:{line:28,column:54}},type:"binary-expr",locations:[{start:{line:28,column:3},end:{line:28,column:23}},{start:{line:28,column:28},end:{line:28,column:53}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/workspaceActions.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/workspaceActions.ts"],names:[],mappings:";;;;;;;;;;;AAIA,MAAM,CAAN,IAAY,oBAeX;AAfD,WAAY,oBAAoB;IAC9B,kCAAkC;IAClC,iEAAyC,CAAA;IACzC,wCAAwC;IACxC,qEAA6C,CAAA;IAC7C,yBAAyB;IACzB,yDAAiC,CAAA;IACjC,0BAA0B;IAC1B,yDAAiC,CAAA;IACjC,2BAA2B;IAC3B,6DAAqC,CAAA;IACpC,kCAAkC;IACnC,2EAAmD,CAAA;IACnD,sBAAsB;IACtB,qEAA6C,CAAA;AAC/C,CAAC,EAfW,oBAAoB,KAApB,oBAAoB,QAe/B;AAED,MAAM,CAAC,IAAM,gBAAgB,gBACxB,oBAAoB,CACxB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nimport { Position, Size } from 'diagramMaker/state/types';\n\nexport enum WorkspaceActionsType {\n  /** Deselect all selected items */\n  WORKSPACE_DESELECT = 'WORKSPACE_DESELECT',\n  /** Select all items in the workspace */\n  WORKSPACE_SELECT_ALL = 'WORKSPACE_SELECT_ALL',\n  /** Move the workspace */\n  WORKSPACE_DRAG = 'WORKSPACE_DRAG',\n  /** Zoom the workspacce */\n  WORKSPACE_ZOOM = 'WORKSPACE_ZOOM',\n  /** Resize the container */\n  WORKSPACE_RESIZE = 'WORKSPACE_RESIZE',\n   /** Resize the workspace canvas */\n  WORKSPACE_CANVAS_RESIZE = 'WORKSPACE_CANVAS_RESIZE',\n  /** Resets the zoom */\n  WORKSPACE_RESET_ZOOM = 'WORKSPACE_RESET_ZOOM'\n}\n\nexport const WorkspaceActions = {\n  ...WorkspaceActionsType\n};\n\n/** Action fired to deselect all items */\nexport interface DeselectAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_DESELECT;\n}\n\n/** Action fired to select all items */\nexport interface SelectAllAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_SELECT_ALL;\n}\n\n/** Action fired to move the worksapce around */\nexport interface DragWorkspaceAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_DRAG;\n  payload: {\n    /** Updated position for the workspace */\n    position: Position;\n  };\n}\n\n/** Action fired to zoom the workspace */\nexport interface ZoomWorkspaceAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_ZOOM;\n  payload: {\n    /**\n     * Incremental zoom to change the workspace scale by.\n     * Positive means zooming in. Negative means zooming out.\n     */\n    zoom: number;\n    /**\n     * The zoom origin. Usually the cursor position.\n     */\n    position: Position;\n  };\n}\n\n/** Action fired to resize the container */\nexport interface ResizeWorkspaceAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_RESIZE;\n  payload: {\n    /** New container size that the workspace is rendering in. */\n    containerSize: Size;\n  };\n}\n\n/** Action fired to resize the workspace canvas */\nexport interface ResizeWorkspaceCanvasAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_CANVAS_RESIZE;\n  payload: {\n    /** New canvas size of the workspace */\n    canvasSize: Size;\n  };\n}\n\n/** Action fired to reset the zoom level for the workspace */\nexport interface WorkspaceResetZoomAction extends Action {\n  type: WorkspaceActionsType.WORKSPACE_RESET_ZOOM;\n}\n\nexport type WorkspaceAction = DeselectAction | DragWorkspaceAction | ResizeWorkspaceCanvasAction |\n  ResizeWorkspaceAction | SelectAllAction | ZoomWorkspaceAction | WorkspaceResetZoomAction;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),TA=(xA.s[0]++,void xA.b[0][0]++&&(xA.b[0][1]++,(void 0).__assign)||(xA.b[0][2]++,function(){return xA.f[0]++,xA.s[1]++,xA.b[1][0]++,TA=Object.assign||(xA.b[1][1]++,function(n){xA.f[1]++,xA.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in xA.s[3]++,e=arguments[A],xA.s[4]++,e)xA.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(xA.b[2][0]++,xA.s[6]++,n[o]=e[o]):xA.b[2][1]++;return xA.s[7]++,n}),xA.s[8]++,TA.apply(this,arguments)}));xA.s[9]++,function(n){xA.f[2]++,xA.s[10]++,n.WORKSPACE_DESELECT="WORKSPACE_DESELECT",xA.s[11]++,n.WORKSPACE_SELECT_ALL="WORKSPACE_SELECT_ALL",xA.s[12]++,n.WORKSPACE_DRAG="WORKSPACE_DRAG",xA.s[13]++,n.WORKSPACE_ZOOM="WORKSPACE_ZOOM",xA.s[14]++,n.WORKSPACE_RESIZE="WORKSPACE_RESIZE",xA.s[15]++,n.WORKSPACE_CANVAS_RESIZE="WORKSPACE_CANVAS_RESIZE",xA.s[16]++,n.WORKSPACE_RESET_ZOOM="WORKSPACE_RESET_ZOOM"}((xA.b[3][0]++,SA||(xA.b[3][1]++,SA={})));var QA=(xA.s[17]++,TA({},SA)),UA=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/workspaceActionDispatcher.ts",e="78ef8f22f6c77efc88dc1bdef88ad2a37a03ade6",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/workspaceActionDispatcher.ts",statementMap:{0:{start:{line:3,column:4},end:{line:6,column:6}},1:{start:{line:9,column:4},end:{line:12,column:6}},2:{start:{line:15,column:4},end:{line:17,column:6}},3:{start:{line:20,column:4},end:{line:22,column:6}},4:{start:{line:25,column:4},end:{line:28,column:6}},5:{start:{line:31,column:4},end:{line:34,column:6}},6:{start:{line:37,column:4},end:{line:39,column:6}},7:{start:{line:42,column:17},end:{line:42,column:52}},8:{start:{line:43,column:4},end:{line:43,column:27}},9:{start:{line:46,column:17},end:{line:46,column:58}},10:{start:{line:47,column:4},end:{line:47,column:27}},11:{start:{line:50,column:17},end:{line:50,column:39}},12:{start:{line:51,column:4},end:{line:51,column:27}},13:{start:{line:54,column:17},end:{line:54,column:59}},14:{start:{line:55,column:4},end:{line:55,column:27}},15:{start:{line:58,column:17},end:{line:58,column:40}},16:{start:{line:59,column:4},end:{line:59,column:27}}},fnMap:{0:{name:"createDragWorkspaceAction",decl:{start:{line:2,column:16},end:{line:2,column:41}},loc:{start:{line:2,column:52},end:{line:7,column:1}},line:2},1:{name:"createZoomWorkspaceAction",decl:{start:{line:8,column:16},end:{line:8,column:41}},loc:{start:{line:8,column:58},end:{line:13,column:1}},line:8},2:{name:"createWorkspaceResetZoomAction",decl:{start:{line:14,column:16},end:{line:14,column:46}},loc:{start:{line:14,column:49},end:{line:18,column:1}},line:14},3:{name:"createDeselectAction",decl:{start:{line:19,column:9},end:{line:19,column:29}},loc:{start:{line:19,column:32},end:{line:23,column:1}},line:19},4:{name:"createResizeWorkspaceAction",decl:{start:{line:24,column:9},end:{line:24,column:36}},loc:{start:{line:24,column:52},end:{line:29,column:1}},line:24},5:{name:"createResizeWorkspaceCanvasAction",decl:{start:{line:30,column:16},end:{line:30,column:49}},loc:{start:{line:30,column:62},end:{line:35,column:1}},line:30},6:{name:"createSelectAllAction",decl:{start:{line:36,column:9},end:{line:36,column:30}},loc:{start:{line:36,column:33},end:{line:40,column:1}},line:36},7:{name:"handleWorkspaceDrag",decl:{start:{line:41,column:16},end:{line:41,column:35}},loc:{start:{line:41,column:53},end:{line:44,column:1}},line:41},8:{name:"handleWorkspaceZoom",decl:{start:{line:45,column:16},end:{line:45,column:35}},loc:{start:{line:45,column:59},end:{line:48,column:1}},line:45},9:{name:"handleWorkspaceClick",decl:{start:{line:49,column:16},end:{line:49,column:36}},loc:{start:{line:49,column:44},end:{line:52,column:1}},line:49},10:{name:"handleWorkspaceResize",decl:{start:{line:53,column:16},end:{line:53,column:37}},loc:{start:{line:53,column:60},end:{line:56,column:1}},line:53},11:{name:"handleSelectAll",decl:{start:{line:57,column:16},end:{line:57,column:31}},loc:{start:{line:57,column:39},end:{line:60,column:1}},line:57}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/workspaceActionDispatcher.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/workspaceActionDispatcher.ts"],names:[],mappings:"AAGA,OAAO,EAML,oBAAoB,EAGpB,MAAM,oBAAoB,CAAC;AAE7B,MAAM,UAAU,yBAAyB,CAAC,QAAkB;IAC1D,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,cAAc;QACzC,OAAO,EAAE,EAAE,QAAQ,UAAA,EAAE;KACtB,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,yBAAyB,CAAC,IAAY,EAAE,QAAkB;IACxE,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,cAAc;QACzC,OAAO,EAAE,EAAE,IAAI,MAAA,EAAE,QAAQ,UAAA,EAAE;KAC5B,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,8BAA8B;IAC5C,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,oBAAoB;KAChD,CAAC;AACJ,CAAC;AAED,SAAS,oBAAoB;IAC3B,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,kBAAkB;KAC9C,CAAC;AACJ,CAAC;AAED,SAAS,2BAA2B,CAAC,aAAmB;IACtD,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,gBAAgB;QAC3C,OAAO,EAAE,EAAE,aAAa,eAAA,EAAE;KAC3B,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,iCAAiC,CAAC,UAAgB;IAChE,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,uBAAuB;QAClD,OAAO,EAAE,EAAE,UAAU,YAAA,EAAE;KACxB,CAAC;AACJ,CAAC;AAED,SAAS,qBAAqB;IAC5B,OAAO;QACL,IAAI,EAAE,oBAAoB,CAAC,oBAAoB;KAChD,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,mBAAmB,CACjC,KAAkD,EAClD,QAAkB;IAElB,IAAM,MAAM,GAAG,yBAAyB,CAAC,QAAQ,CAAC,CAAC;IACnD,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC;AAED,MAAM,UAAU,mBAAmB,CACjC,KAAkD,EAClD,IAAY,EACZ,QAAkB;IAElB,IAAM,MAAM,GAAG,yBAAyB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IACzD,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC;AAED,MAAM,UAAU,oBAAoB,CAClC,KAAkD;IAElD,IAAM,MAAM,GAAG,oBAAoB,EAAE,CAAC;IACtC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC;AAED,MAAM,UAAU,qBAAqB,CACnC,KAAkD,EAClD,aAAmB;IAEnB,IAAM,MAAM,GAAG,2BAA2B,CAAC,aAAa,CAAC,CAAC;IAC1D,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC;AAED,MAAM,UAAU,eAAe,CAC7B,KAAkD;IAElD,IAAM,MAAM,GAAG,qBAAqB,EAAE,CAAC;IACvC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC",sourcesContent:["import { Store } from 'redux';\n\nimport { DiagramMakerData, Position, Size } from 'diagramMaker/state/types';\nimport {\n  DeselectAction,\n  DragWorkspaceAction,\n  ResizeWorkspaceAction,\n  ResizeWorkspaceCanvasAction,\n  SelectAllAction,\n  WorkspaceActionsType,\n  WorkspaceResetZoomAction,\n  ZoomWorkspaceAction\n } from './workspaceActions';\n\nexport function createDragWorkspaceAction(position: Position): DragWorkspaceAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_DRAG,\n    payload: { position }\n  };\n}\n\nexport function createZoomWorkspaceAction(zoom: number, position: Position): ZoomWorkspaceAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_ZOOM,\n    payload: { zoom, position }\n  };\n}\n\nexport function createWorkspaceResetZoomAction(): WorkspaceResetZoomAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_RESET_ZOOM\n  };\n}\n\nfunction createDeselectAction(): DeselectAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_DESELECT\n  };\n}\n\nfunction createResizeWorkspaceAction(containerSize: Size): ResizeWorkspaceAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_RESIZE,\n    payload: { containerSize }\n  };\n}\n\nexport function createResizeWorkspaceCanvasAction(canvasSize: Size): ResizeWorkspaceCanvasAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_CANVAS_RESIZE,\n    payload: { canvasSize }\n  };\n}\n\nfunction createSelectAllAction(): SelectAllAction {\n  return {\n    type: WorkspaceActionsType.WORKSPACE_SELECT_ALL\n  };\n}\n\nexport function handleWorkspaceDrag<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  position: Position\n) {\n  const action = createDragWorkspaceAction(position);\n  store.dispatch(action);\n}\n\nexport function handleWorkspaceZoom<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  zoom: number,\n  position: Position\n) {\n  const action = createZoomWorkspaceAction(zoom, position);\n  store.dispatch(action);\n}\n\nexport function handleWorkspaceClick<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>\n) {\n  const action = createDeselectAction();\n  store.dispatch(action);\n}\n\nexport function handleWorkspaceResize<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  containerSize: Size\n) {\n  const action = createResizeWorkspaceAction(containerSize);\n  store.dispatch(action);\n}\n\nexport function handleSelectAll<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>\n) {\n  const action = createSelectAllAction();\n  store.dispatch(action);\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function wA(n){return UA.f[0]++,UA.s[0]++,{type:SA.WORKSPACE_DRAG,payload:{position:n}}}function NA(n,e){return UA.f[1]++,UA.s[1]++,{type:SA.WORKSPACE_ZOOM,payload:{zoom:n,position:e}}}function PA(n){return UA.f[5]++,UA.s[5]++,{type:SA.WORKSPACE_CANVAS_RESIZE,payload:{canvasSize:n}}}function RA(n){UA.f[9]++;var e=(UA.s[11]++,UA.f[3]++,UA.s[3]++,{type:SA.WORKSPACE_DESELECT});UA.s[12]++,n.dispatch(e)}function YA(n,e){UA.f[10]++;var A=(UA.s[13]++,function(n){return UA.f[4]++,UA.s[4]++,{type:SA.WORKSPACE_RESIZE,payload:{containerSize:n}}}(e));UA.s[14]++,n.dispatch(A)}function WA(n){UA.f[11]++;var e=(UA.s[15]++,UA.f[6]++,UA.s[6]++,{type:SA.WORKSPACE_SELECT_ALL});UA.s[16]++,n.dispatch(e)}var zA=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/workspaceReducer.ts",e="d8af828f4effba67119c40744146c4df06b8eb2a",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/workspaceReducer.ts",statementMap:{0:{start:{line:7,column:19},end:{line:11,column:1}},1:{start:{line:12,column:17},end:{line:12,column:19}},2:{start:{line:14,column:4},end:{line:28,column:6}},3:{start:{line:30,column:20},end:{line:34,column:1}},4:{start:{line:31,column:12},end:{line:31,column:91}},5:{start:{line:32,column:12},end:{line:32,column:93}},6:{start:{line:33,column:4},end:{line:33,column:26}},7:{start:{line:35,column:16},end:{line:39,column:1}},8:{start:{line:36,column:18},end:{line:36,column:114}},9:{start:{line:37,column:22},end:{line:37,column:73}},10:{start:{line:38,column:4},end:{line:38,column:46}},11:{start:{line:40,column:22},end:{line:46,column:1}},12:{start:{line:41,column:15},end:{line:41,column:33}},13:{start:{line:42,column:21},end:{line:42,column:73}},14:{start:{line:43,column:24},end:{line:43,column:54}},15:{start:{line:44,column:18},end:{line:44,column:108}},16:{start:{line:45,column:4},end:{line:45,column:19}},17:{start:{line:47,column:25},end:{line:53,column:1}},18:{start:{line:48,column:22},end:{line:48,column:63}},19:{start:{line:49,column:22},end:{line:49,column:63}},20:{start:{line:50,column:12},end:{line:50,column:63}},21:{start:{line:51,column:12},end:{line:51,column:63}},22:{start:{line:52,column:4},end:{line:52,column:26}},23:{start:{line:54,column:25},end:{line:60,column:1}},24:{start:{line:55,column:12},end:{line:55,column:37}},25:{start:{line:56,column:12},end:{line:56,column:37}},26:{start:{line:57,column:24},end:{line:57,column:54}},27:{start:{line:58,column:22},end:{line:58,column:111}},28:{start:{line:59,column:4},end:{line:59,column:23}},29:{start:{line:61,column:18},end:{line:71,column:1}},30:{start:{line:62,column:27},end:{line:62,column:37}},31:{start:{line:63,column:19},end:{line:63,column:42}},32:{start:{line:64,column:24},end:{line:64,column:51}},33:{start:{line:65,column:24},end:{line:65,column:52}},34:{start:{line:66,column:19},end:{line:66,column:60}},35:{start:{line:67,column:13},end:{line:67,column:102}},36:{start:{line:67,column:108},end:{line:67,column:112}},37:{start:{line:67,column:118},end:{line:67,column:122}},38:{start:{line:68,column:22},end:{line:68,column:91}},39:{start:{line:69,column:4},end:{line:69,column:38}},40:{start:{line:70,column:4},end:{line:70,column:44}},41:{start:{line:72,column:18},end:{line:75,column:1}},42:{start:{line:73,column:27},end:{line:73,column:37}},43:{start:{line:74,column:4},end:{line:74,column:77}},44:{start:{line:76,column:20},end:{line:81,column:1}},45:{start:{line:77,column:27},end:{line:77,column:37}},46:{start:{line:78,column:4},end:{line:78,column:70}},47:{start:{line:79,column:4},end:{line:79,column:128}},48:{start:{line:80,column:4},end:{line:80,column:162}},49:{start:{line:82,column:26},end:{line:85,column:1}},50:{start:{line:83,column:27},end:{line:83,column:37}},51:{start:{line:84,column:4},end:{line:84,column:60}},52:{start:{line:86,column:19},end:{line:105,column:1}},53:{start:{line:87,column:4},end:{line:87,column:25}},54:{start:{line:88,column:13},end:{line:88,column:27}},55:{start:{line:88,column:40},end:{line:88,column:51}},56:{start:{line:88,column:60},end:{line:88,column:67}},57:{start:{line:88,column:74},end:{line:88,column:79}},58:{start:{line:89,column:21},end:{line:92,column:5}},59:{start:{line:93,column:21},end:{line:93,column:42}},60:{start:{line:93,column:64},end:{line:93,column:92}},61:{start:{line:94,column:21},end:{line:94,column:55}},62:{start:{line:95,column:22},end:{line:95,column:57}},63:{start:{line:96,column:31},end:{line:99,column:5}},64:{start:{line:100,column:28},end:{line:103,column:5}},65:{start:{line:104,column:4},end:{line:104,column:96}},66:{start:{line:106,column:17},end:{line:135,column:1}},67:{start:{line:107,column:20},end:{line:107,column:44}},68:{start:{line:108,column:15},end:{line:108,column:42}},69:{start:{line:109,column:15},end:{line:109,column:43}},70:{start:{line:110,column:15},end:{line:110,column:16}},71:{start:{line:111,column:15},end:{line:111,column:16}},72:{start:{line:112,column:4},end:{line:117,column:7}},73:{start:{line:113,column:8},end:{line:113,column:60}},74:{start:{line:114,column:8},end:{line:114,column:60}},75:{start:{line:115,column:8},end:{line:115,column:78}},76:{start:{line:116,column:8},end:{line:116,column:79}},77:{start:{line:118,column:21},end:{line:118,column:42}},78:{start:{line:118,column:64},end:{line:118,column:92}},79:{start:{line:119,column:24},end:{line:119,column:35}},80:{start:{line:120,column:24},end:{line:120,column:35}},81:{start:{line:121,column:21},end:{line:121,column:55}},82:{start:{line:122,column:22},end:{line:122,column:57}},83:{start:{line:123,column:31},end:{line:126,column:5}},84:{start:{line:127,column:24},end:{line:127,column:66}},85:{start:{line:128,column:25},end:{line:128,column:68}},86:{start:{line:129,column:24},end:{line:129,column:63}},87:{start:{line:130,column:16},end:{line:130,column:74}},88:{start:{line:131,column:27},end:{line:131,column:80}},89:{start:{line:132,column:19},end:{line:132,column:91}},90:{start:{line:133,column:4},end:{line:133,column:29}},91:{start:{line:134,column:4},end:{line:134,column:35}},92:{start:{line:136,column:23},end:{line:153,column:1}},93:{start:{line:137,column:16},end:{line:137,column:17}},94:{start:{line:138,column:21},end:{line:138,column:42}},95:{start:{line:138,column:64},end:{line:138,column:92}},96:{start:{line:139,column:26},end:{line:142,column:5}},97:{start:{line:143,column:30},end:{line:146,column:5}},98:{start:{line:147,column:19},end:{line:150,column:5}},99:{start:{line:151,column:4},end:{line:151,column:25}},100:{start:{line:152,column:4},end:{line:152,column:84}},101:{start:{line:155,column:4},end:{line:157,column:5}},102:{start:{line:156,column:8},end:{line:156,column:42}},103:{start:{line:158,column:4},end:{line:244,column:5}},104:{start:{line:160,column:12},end:{line:162,column:15}},105:{start:{line:161,column:16},end:{line:161,column:48}},106:{start:{line:164,column:12},end:{line:166,column:15}},107:{start:{line:165,column:16},end:{line:165,column:48}},108:{start:{line:168,column:12},end:{line:170,column:15}},109:{start:{line:169,column:16},end:{line:169,column:50}},110:{start:{line:172,column:12},end:{line:174,column:15}},111:{start:{line:173,column:16},end:{line:173,column:49}},112:{start:{line:176,column:12},end:{line:178,column:15}},113:{start:{line:177,column:16},end:{line:177,column:47}},114:{start:{line:180,column:12},end:{line:182,column:15}},115:{start:{line:181,column:16},end:{line:181,column:45}},116:{start:{line:184,column:12},end:{line:241,column:15}},117:{start:{line:185,column:33},end:{line:185,column:49}},118:{start:{line:186,column:35},end:{line:186,column:49}},119:{start:{line:187,column:30},end:{line:187,column:53}},120:{start:{line:188,column:31},end:{line:188,column:50}},121:{start:{line:190,column:16},end:{line:204,column:17}},122:{start:{line:191,column:41},end:{line:191,column:86}},123:{start:{line:192,column:40},end:{line:195,column:21}},124:{start:{line:196,column:41},end:{line:199,column:21}},125:{start:{line:200,column:39},end:{line:200,column:87}},126:{start:{line:201,column:37},end:{line:201,column:78}},127:{start:{line:202,column:20},end:{line:202,column:66}},128:{start:{line:203,column:20},end:{line:203,column:56}},129:{start:{line:206,column:16},end:{line:220,column:17}},130:{start:{line:207,column:42},end:{line:207,column:89}},131:{start:{line:208,column:40},end:{line:211,column:21}},132:{start:{line:212,column:41},end:{line:215,column:21}},133:{start:{line:216,column:39},end:{line:216,column:87}},134:{start:{line:217,column:37},end:{line:217,column:78}},135:{start:{line:218,column:20},end:{line:218,column:66}},136:{start:{line:219,column:20},end:{line:219,column:56}},137:{start:{line:222,column:16},end:{line:230,column:17}},138:{start:{line:223,column:42},end:{line:223,column:52}},139:{start:{line:224,column:40},end:{line:227,column:21}},140:{start:{line:228,column:39},end:{line:228,column:87}},141:{start:{line:229,column:20},end:{line:229,column:66}},142:{start:{line:232,column:16},end:{line:240,column:17}},143:{start:{line:233,column:41},end:{line:233,column:51}},144:{start:{line:234,column:40},end:{line:237,column:21}},145:{start:{line:238,column:39},end:{line:238,column:87}},146:{start:{line:239,column:20},end:{line:239,column:66}},147:{start:{line:243,column:12},end:{line:243,column:25}}},fnMap:{0:{name:"getDefaultWorkspaceState",decl:{start:{line:13,column:16},end:{line:13,column:40}},loc:{start:{line:13,column:43},end:{line:29,column:1}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:30,column:20},end:{line:30,column:21}},loc:{start:{line:30,column:67},end:{line:34,column:1}},line:30},2:{name:"(anonymous_2)",decl:{start:{line:35,column:16},end:{line:35,column:17}},loc:{start:{line:35,column:53},end:{line:39,column:1}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:40,column:22},end:{line:40,column:23}},loc:{start:{line:40,column:54},end:{line:46,column:1}},line:40},4:{name:"(anonymous_4)",decl:{start:{line:47,column:25},end:{line:47,column:26}},loc:{start:{line:47,column:79},end:{line:53,column:1}},line:47},5:{name:"(anonymous_5)",decl:{start:{line:54,column:25},end:{line:54,column:26}},loc:{start:{line:54,column:57},end:{line:60,column:1}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:61,column:18},end:{line:61,column:19}},loc:{start:{line:61,column:48},end:{line:71,column:1}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:72,column:18},end:{line:72,column:19}},loc:{start:{line:72,column:48},end:{line:75,column:1}},line:72},8:{name:"(anonymous_8)",decl:{start:{line:76,column:20},end:{line:76,column:21}},loc:{start:{line:76,column:50},end:{line:81,column:1}},line:76},9:{name:"(anonymous_9)",decl:{start:{line:82,column:26},end:{line:82,column:27}},loc:{start:{line:82,column:56},end:{line:85,column:1}},line:82},10:{name:"(anonymous_10)",decl:{start:{line:86,column:19},end:{line:86,column:20}},loc:{start:{line:86,column:49},end:{line:105,column:1}},line:86},11:{name:"(anonymous_11)",decl:{start:{line:106,column:17},end:{line:106,column:18}},loc:{start:{line:106,column:47},end:{line:135,column:1}},line:106},12:{name:"(anonymous_12)",decl:{start:{line:112,column:22},end:{line:112,column:23}},loc:{start:{line:112,column:38},end:{line:117,column:5}},line:112},13:{name:"(anonymous_13)",decl:{start:{line:136,column:23},end:{line:136,column:24}},loc:{start:{line:136,column:45},end:{line:153,column:1}},line:136},14:{name:"workspaceReducer",decl:{start:{line:154,column:24},end:{line:154,column:40}},loc:{start:{line:154,column:56},end:{line:245,column:1}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:160,column:34},end:{line:160,column:35}},loc:{start:{line:160,column:56},end:{line:162,column:13}},line:160},16:{name:"(anonymous_16)",decl:{start:{line:164,column:34},end:{line:164,column:35}},loc:{start:{line:164,column:56},end:{line:166,column:13}},line:164},17:{name:"(anonymous_17)",decl:{start:{line:168,column:34},end:{line:168,column:35}},loc:{start:{line:168,column:56},end:{line:170,column:13}},line:168},18:{name:"(anonymous_18)",decl:{start:{line:172,column:34},end:{line:172,column:35}},loc:{start:{line:172,column:56},end:{line:174,column:13}},line:172},19:{name:"(anonymous_19)",decl:{start:{line:176,column:34},end:{line:176,column:35}},loc:{start:{line:176,column:56},end:{line:178,column:13}},line:176},20:{name:"(anonymous_20)",decl:{start:{line:180,column:34},end:{line:180,column:35}},loc:{start:{line:180,column:56},end:{line:182,column:13}},line:180},21:{name:"(anonymous_21)",decl:{start:{line:184,column:34},end:{line:184,column:35}},loc:{start:{line:184,column:56},end:{line:241,column:13}},line:184}},branchMap:{0:{loc:{start:{line:94,column:21},end:{line:94,column:55}},type:"binary-expr",locations:[{start:{line:94,column:21},end:{line:94,column:50}},{start:{line:94,column:54},end:{line:94,column:55}}],line:94},1:{loc:{start:{line:95,column:22},end:{line:95,column:57}},type:"binary-expr",locations:[{start:{line:95,column:22},end:{line:95,column:52}},{start:{line:95,column:56},end:{line:95,column:57}}],line:95},2:{loc:{start:{line:121,column:21},end:{line:121,column:55}},type:"binary-expr",locations:[{start:{line:121,column:21},end:{line:121,column:50}},{start:{line:121,column:54},end:{line:121,column:55}}],line:121},3:{loc:{start:{line:122,column:22},end:{line:122,column:57}},type:"binary-expr",locations:[{start:{line:122,column:22},end:{line:122,column:52}},{start:{line:122,column:56},end:{line:122,column:57}}],line:122},4:{loc:{start:{line:155,column:4},end:{line:157,column:5}},type:"if",locations:[{start:{line:155,column:4},end:{line:157,column:5}},{start:{line:155,column:4},end:{line:157,column:5}}],line:155},5:{loc:{start:{line:158,column:4},end:{line:244,column:5}},type:"switch",locations:[{start:{line:159,column:8},end:{line:162,column:15}},{start:{line:163,column:8},end:{line:166,column:15}},{start:{line:167,column:8},end:{line:170,column:15}},{start:{line:171,column:8},end:{line:174,column:15}},{start:{line:175,column:8},end:{line:178,column:15}},{start:{line:179,column:8},end:{line:182,column:15}},{start:{line:183,column:8},end:{line:241,column:15}},{start:{line:242,column:8},end:{line:243,column:25}}],line:158},6:{loc:{start:{line:190,column:16},end:{line:204,column:17}},type:"if",locations:[{start:{line:190,column:16},end:{line:204,column:17}},{start:{line:190,column:16},end:{line:204,column:17}}],line:190},7:{loc:{start:{line:206,column:16},end:{line:220,column:17}},type:"if",locations:[{start:{line:206,column:16},end:{line:220,column:17}},{start:{line:206,column:16},end:{line:220,column:17}}],line:206},8:{loc:{start:{line:222,column:16},end:{line:230,column:17}},type:"if",locations:[{start:{line:222,column:16},end:{line:230,column:17}},{start:{line:222,column:16},end:{line:230,column:17}}],line:222},9:{loc:{start:{line:232,column:16},end:{line:240,column:17}},type:"if",locations:[{start:{line:232,column:16},end:{line:240,column:17}},{start:{line:232,column:16},end:{line:240,column:17}}],line:232}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0,0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/workspaceReducer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/workspaceReducer.ts"],names:[],mappings:"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",sourcesContent:["import { Draft, produce } from 'immer';\nimport { clamp } from 'lodash-es';\n\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { EditorActionsType, FitAction, FocusNodeAction } from 'diagramMaker/state/editor/editorActions';\nimport { NodeActionsType } from 'diagramMaker/state/node/nodeActions';\nimport { DiagramMakerWorkspace, Position, Size } from 'diagramMaker/state/types';\nimport {\n  createDragWorkspaceAction,\n  createResizeWorkspaceCanvasAction\n} from 'diagramMaker/state/workspace/workspaceActionDispatcher';\nimport {\n  DragWorkspaceAction, ResizeWorkspaceAction, ResizeWorkspaceCanvasAction, WorkspaceActionsType, ZoomWorkspaceAction\n} from 'diagramMaker/state/workspace/workspaceActions';\nconst ZoomDefaults = {\n  MAX: 3,\n  MIN: 0.3,\n  SPEED: 0.006\n};\n\nconst FIT_BUFFER = 50;\n\nexport function getDefaultWorkspaceState(): DiagramMakerWorkspace {\n  return {\n    position: {\n      x: 0,\n      y: 0\n    },\n    scale: 1,\n    canvasSize: {\n      width: 3200,\n      height: 1600\n    },\n    viewContainerSize: {\n      width: 1600,\n      height: 800\n    }\n  };\n}\n\nconst clampPosition = (position: Position, size: Size, zoom: number, containerSize: Size): Position => {\n  const x = clamp(position.x, -1 * Math.max(0, size.width * zoom - containerSize.width), 0);\n  const y = clamp(position.y, -1 * Math.max(0, size.height * zoom - containerSize.height), 0);\n\n  return { x, y };\n};\n\nconst clampZoom = (zoom: number, size: Size, containerSize: Size): number => {\n  const zoomMin = Math.max(ZoomDefaults.MIN, containerSize.width / size.width, containerSize.height / size.height);\n\n  const clampedZoom = Math.max(zoomMin, Math.min(ZoomDefaults.MAX, zoom));\n  return Number(clampedZoom.toPrecision(4));\n};\n\nconst getNewZoomLevel = (currentState: Draft<DiagramMakerWorkspace>, action: ZoomWorkspaceAction): number => {\n  const zoom = currentState.scale;\n  const zoomFactor = Math.max(-1, Math.min(1, zoom)) * ZoomDefaults.SPEED;\n  const containerSize = currentState.viewContainerSize;\n  const newZoom = clampZoom(zoom + action.payload.zoom * zoomFactor, currentState.canvasSize, containerSize);\n\n  return newZoom;\n};\n\nconst getNewZoomPosition = (\n  position: Position, workspacePosition: Position, zoom: number, newZoom: number\n): Position => {\n  const zoomTargetX = (position.x - workspacePosition.x) / zoom;\n  const zoomTargetY = (position.y - workspacePosition.y) / zoom;\n\n  const x = Math.round(-1 * zoomTargetX * newZoom + position.x);\n  const y = Math.round(-1 * zoomTargetY * newZoom + position.y);\n\n  return { x, y };\n};\n\nconst getNewDragPosition = (\n  currentState: Draft<DiagramMakerWorkspace>, action: DragWorkspaceAction\n): Position => {\n  const x = action.payload.position.x;\n  const y = action.payload.position.y;\n  const containerSize = currentState.viewContainerSize;\n\n  const newPosition = clampPosition({ x, y }, currentState.canvasSize, currentState.scale, containerSize);\n\n  return newPosition;\n};\n\nconst zoomReducer = (draftState: Draft<DiagramMakerWorkspace>, action: ZoomWorkspaceAction) => {\n  const currentWorkspace = draftState;\n\n  const { position } = action.payload;\n  const workspaceSize = currentWorkspace.canvasSize;\n  const containerSize = draftState.viewContainerSize;\n\n  const newScale = getNewZoomLevel(currentWorkspace, action);\n\n  const { x, y } = getNewZoomPosition(\n    position,\n    currentWorkspace.position,\n    currentWorkspace.scale,\n    newScale\n  );\n\n  const newPosition = clampPosition({ x, y }, workspaceSize, newScale, containerSize);\n\n  currentWorkspace.scale = newScale;\n  currentWorkspace.position = newPosition;\n};\n\nconst dragReducer = (draftState: Draft<DiagramMakerWorkspace>, action: DragWorkspaceAction) => {\n  const currentWorkspace = draftState;\n  currentWorkspace.position = getNewDragPosition(currentWorkspace, action);\n};\n\nconst resizeReducer = (draftState: Draft<DiagramMakerWorkspace>, action: ResizeWorkspaceAction) => {\n  const currentWorkspace = draftState;\n  currentWorkspace.viewContainerSize = action.payload.containerSize;\n\n  currentWorkspace.scale = clampZoom(\n    currentWorkspace.scale,\n    currentWorkspace.canvasSize,\n    currentWorkspace.viewContainerSize\n  );\n\n  currentWorkspace.position = clampPosition(\n    currentWorkspace.position,\n    currentWorkspace.canvasSize,\n    currentWorkspace.scale,\n    currentWorkspace.viewContainerSize\n  );\n};\n\nconst canvasResizeReducer = (draftState: Draft<DiagramMakerWorkspace>, action: ResizeWorkspaceCanvasAction) => {\n  const currentWorkspace = draftState;\n  currentWorkspace.canvasSize = action.payload.canvasSize;\n};\n\nconst focusReducer = (draftState: Draft<DiagramMakerWorkspace>, action: FocusNodeAction) => {\n  draftState.scale = 1;\n  const { position, size, id } = action.payload;\n  const nodeCenter = {\n    x: position.x + (size.width / 2),\n    y: position.y + (size.height / 2)\n  };\n  const { canvasSize, viewContainerSize } = draftState;\n  const leftOffset = action.payload.leftPanelWidth || 0;\n  const rightOffset = action.payload.rightPanelWidth || 0;\n  const updatedViewContainer: Size = {\n    width: viewContainerSize.width - leftOffset - rightOffset,\n    height: viewContainerSize.height\n  };\n  const workspacePosition = {\n    x: (updatedViewContainer.width / 2) - nodeCenter.x + leftOffset,\n    y: (updatedViewContainer.height / 2) - nodeCenter.y\n  };\n  draftState.position = clampPosition(workspacePosition, canvasSize, 1, updatedViewContainer);\n};\n\nconst fitReducer = (draftState: Draft<DiagramMakerWorkspace>, action: FitAction) => {\n  const { nodeRects } = action.payload;\n  let minX = draftState.canvasSize.width;\n  let minY = draftState.canvasSize.height;\n  let maxX = 0;\n  let maxY = 0;\n  nodeRects.forEach((rect) => {\n    minX = Math.min(minX, rect.position.x - FIT_BUFFER);\n    minY = Math.min(minY, rect.position.y - FIT_BUFFER);\n    maxX = Math.max(maxX, rect.position.x + rect.size.width + FIT_BUFFER);\n    maxY = Math.max(maxY, rect.position.y + rect.size.height + FIT_BUFFER);\n  });\n  const { canvasSize, viewContainerSize } = draftState;\n  const expectedWidth = maxX - minX;\n  const expctedHeight = maxY - minY;\n  const leftOffset = action.payload.leftPanelWidth || 0;\n  const rightOffset = action.payload.rightPanelWidth || 0;\n  const updatedViewContainer: Size = {\n    width: viewContainerSize.width - leftOffset - rightOffset,\n    height: viewContainerSize.height\n  };\n  const scaleForWidth = updatedViewContainer.width / expectedWidth;\n  const scaleForHeight = updatedViewContainer.height / expctedHeight;\n  const expectedScale = Math.min(scaleForHeight, scaleForWidth);\n  const scale = clampZoom(expectedScale, canvasSize, updatedViewContainer);\n  const expectedPosition = { x: (-minX * scale) + leftOffset, y: -minY * scale };\n  const position = clampPosition(expectedPosition, canvasSize, scale, updatedViewContainer);\n  draftState.scale = scale;\n  draftState.position = position;\n};\n\nconst resetZoomReducer = (draftState: Draft<DiagramMakerWorkspace>) => {\n  const scale = 1;\n  const { canvasSize, viewContainerSize } = draftState;\n  const workspaceCenter = {\n    x: canvasSize.width / 2,\n    y: canvasSize.height / 2\n  };\n  const viewContainerCenter = {\n    x: viewContainerSize.width / 2,\n    y: viewContainerSize.height / 2\n  };\n  const position = {\n    x: viewContainerCenter.x - workspaceCenter.x,\n    y: viewContainerCenter.y - workspaceCenter.y\n  };\n  draftState.scale = 1;\n  draftState.position = clampPosition(position, canvasSize, 1, viewContainerSize);\n};\n\nexport default function workspaceReducer<NodeType, EdgeType>(\n  state: DiagramMakerWorkspace | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerWorkspace {\n  if (state === undefined) {\n    return getDefaultWorkspaceState();\n  }\n  switch (action.type) {\n    case WorkspaceActionsType.WORKSPACE_DRAG:\n      return produce(state, (draftState) => {\n        dragReducer(draftState, action);\n      });\n    case WorkspaceActionsType.WORKSPACE_ZOOM:\n      return produce(state, (draftState) => {\n        zoomReducer(draftState, action);\n      });\n    case WorkspaceActionsType.WORKSPACE_RESIZE:\n      return produce(state, (draftState) => {\n        resizeReducer(draftState, action);\n      });\n    case EditorActionsType.FOCUS_NODE:\n      return produce(state, (draftState) => {\n        focusReducer(draftState, action);\n      });\n    case EditorActionsType.FIT:\n      return produce(state, (draftState) => {\n        fitReducer(draftState, action);\n      });\n    case WorkspaceActionsType.WORKSPACE_RESET_ZOOM:\n      return produce(state, (draftState) => {\n        resetZoomReducer(draftState);\n      });\n    case NodeActionsType.NODE_DRAG:\n      return produce(state, (draftState) => {\n        const canvasSize =  state.canvasSize;\n        const workspacePos = state.position;\n        const nodePos = action.payload.position;\n        const nodeSize = action.payload.size;\n\n        // Resize and move workspace when node is dragged outside right boundary\n        if (nodePos.x + nodeSize.width > canvasSize.width) {\n          const incrementWidth = nodePos.x + nodeSize.width - canvasSize.width;\n          const newCanvasSize = {\n            height: canvasSize.height,\n            width: canvasSize.width + incrementWidth\n          };\n          const newWokspacePos = {\n            x: workspacePos.x - incrementWidth,\n            y: workspacePos.y\n          };\n          const resizeAction = createResizeWorkspaceCanvasAction(newCanvasSize);\n          const dragAction = createDragWorkspaceAction(newWokspacePos);\n          canvasResizeReducer(draftState, resizeAction);\n          dragReducer(draftState, dragAction);\n        }\n        // Resize and move workspace when node is dragged outside bottom boundary\n        if (nodePos.y + nodeSize.height > canvasSize.height) {\n          const incrementHeight = nodePos.y + nodeSize.height - canvasSize.height;\n          const newCanvasSize = {\n            height: canvasSize.height + incrementHeight,\n            width: canvasSize.width\n          };\n          const newWokspacePos = {\n            x: workspacePos.x,\n            y: workspacePos.y - incrementHeight\n          };\n          const resizeAction = createResizeWorkspaceCanvasAction(newCanvasSize);\n          const dragAction = createDragWorkspaceAction(newWokspacePos);\n          canvasResizeReducer(draftState, resizeAction);\n          dragReducer(draftState, dragAction);\n        }\n        // Resize workspace when node is dragged outside top boundary\n        if (nodePos.y < 0) {\n          const incrementHeight = - nodePos.y;\n          const newCanvasSize = {\n            height: canvasSize.height + incrementHeight,\n            width: canvasSize.width\n          };\n          const resizeAction = createResizeWorkspaceCanvasAction(newCanvasSize);\n          canvasResizeReducer(draftState, resizeAction);\n        }\n        // Resize workspace when node is dragged outside left boundary\n        if (nodePos.x < 0) {\n          const incrementWidth = - nodePos.x;\n          const newCanvasSize = {\n            height: canvasSize.height,\n            width: canvasSize.width + incrementWidth\n          };\n          const resizeAction = createResizeWorkspaceCanvasAction(newCanvasSize);\n          canvasResizeReducer(draftState, resizeAction);\n        }\n      });\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),LA=(zA.s[0]++,{MAX:3,MIN:.3,SPEED:.006}),jA=(zA.s[1]++,50);function FA(){return zA.f[0]++,zA.s[2]++,{position:{x:0,y:0},scale:1,canvasSize:{width:3200,height:1600},viewContainerSize:{width:1600,height:800}}}zA.s[3]++;var HA=function(n,e,A,t){zA.f[1]++;var o=(zA.s[4]++,F(n.x,-1*Math.max(0,e.width*A-t.width),0)),i=(zA.s[5]++,F(n.y,-1*Math.max(0,e.height*A-t.height),0));return zA.s[6]++,{x:o,y:i}};zA.s[7]++;var qA=function(n,e,A){zA.f[2]++;var t=(zA.s[8]++,Math.max(LA.MIN,A.width/e.width,A.height/e.height)),o=(zA.s[9]++,Math.max(t,Math.min(LA.MAX,n)));return zA.s[10]++,Number(o.toPrecision(4))};zA.s[11]++;zA.s[17]++;zA.s[23]++;zA.s[29]++;var VA=function(n,e){zA.f[6]++;var A=(zA.s[30]++,n),t=(zA.s[31]++,e.payload.position),o=(zA.s[32]++,A.canvasSize),i=(zA.s[33]++,n.viewContainerSize),l=(zA.s[34]++,function(n,e){zA.f[3]++;var A=(zA.s[12]++,n.scale),t=(zA.s[13]++,Math.max(-1,Math.min(1,A))*LA.SPEED),o=(zA.s[14]++,n.viewContainerSize),i=(zA.s[15]++,qA(A+e.payload.zoom*t,n.canvasSize,o));return zA.s[16]++,i}(A,e)),r=(zA.s[35]++,function(n,e,A,t){zA.f[4]++;var o=(zA.s[18]++,(n.x-e.x)/A),i=(zA.s[19]++,(n.y-e.y)/A),l=(zA.s[20]++,Math.round(-1*o*t+n.x)),r=(zA.s[21]++,Math.round(-1*i*t+n.y));return zA.s[22]++,{x:l,y:r}}(t,A.position,A.scale,l)),a=(zA.s[36]++,r.x),c=(zA.s[37]++,r.y),s=(zA.s[38]++,HA({x:a,y:c},o,l,i));zA.s[39]++,A.scale=l,zA.s[40]++,A.position=s};zA.s[41]++;var XA=function(n,e){zA.f[7]++;var A=(zA.s[42]++,n);zA.s[43]++,A.position=function(n,e){zA.f[5]++;var A=(zA.s[24]++,e.payload.position.x),t=(zA.s[25]++,e.payload.position.y),o=(zA.s[26]++,n.viewContainerSize),i=(zA.s[27]++,HA({x:A,y:t},n.canvasSize,n.scale,o));return zA.s[28]++,i}(A,e)};zA.s[44]++;zA.s[49]++;var ZA=function(n,e){zA.f[9]++;var A=(zA.s[50]++,n);zA.s[51]++,A.canvasSize=e.payload.canvasSize};zA.s[52]++;zA.s[66]++;zA.s[92]++;function JA(n,e){if(zA.f[14]++,zA.s[101]++,void 0===n)return zA.b[4][0]++,zA.s[102]++,FA();switch(zA.b[4][1]++,zA.s[103]++,e.type){case SA.WORKSPACE_DRAG:return zA.b[5][0]++,zA.s[104]++,DA(n,(function(n){zA.f[15]++,zA.s[105]++,XA(n,e)}));case SA.WORKSPACE_ZOOM:return zA.b[5][1]++,zA.s[106]++,DA(n,(function(n){zA.f[16]++,zA.s[107]++,VA(n,e)}));case SA.WORKSPACE_RESIZE:return zA.b[5][2]++,zA.s[108]++,DA(n,(function(n){zA.f[17]++,zA.s[109]++,function(n,e){zA.f[8]++;var A=(zA.s[45]++,n);zA.s[46]++,A.viewContainerSize=e.payload.containerSize,zA.s[47]++,A.scale=qA(A.scale,A.canvasSize,A.viewContainerSize),zA.s[48]++,A.position=HA(A.position,A.canvasSize,A.scale,A.viewContainerSize)}(n,e)}));case Ie.FOCUS_NODE:return zA.b[5][3]++,zA.s[110]++,DA(n,(function(n){zA.f[18]++,zA.s[111]++,function(n,e){zA.f[10]++,zA.s[53]++,n.scale=1;var A=(zA.s[54]++,e.payload),t=(zA.s[55]++,A.position),o=(zA.s[56]++,A.size),i=(zA.s[57]++,A.id,zA.s[58]++,{x:t.x+o.width/2,y:t.y+o.height/2}),l=(zA.s[59]++,n.canvasSize),r=(zA.s[60]++,n.viewContainerSize),a=(zA.s[61]++,zA.b[0][0]++,e.payload.leftPanelWidth||(zA.b[0][1]++,0)),c=(zA.s[62]++,zA.b[1][0]++,e.payload.rightPanelWidth||(zA.b[1][1]++,0)),s=(zA.s[63]++,{width:r.width-a-c,height:r.height}),C=(zA.s[64]++,{x:s.width/2-i.x+a,y:s.height/2-i.y});zA.s[65]++,n.position=HA(C,l,1,s)}(n,e)}));case Ie.FIT:return zA.b[5][4]++,zA.s[112]++,DA(n,(function(n){zA.f[19]++,zA.s[113]++,function(n,e){zA.f[11]++;var A=(zA.s[67]++,e.payload.nodeRects),t=(zA.s[68]++,n.canvasSize.width),o=(zA.s[69]++,n.canvasSize.height),i=(zA.s[70]++,0),l=(zA.s[71]++,0);zA.s[72]++,A.forEach((function(n){zA.f[12]++,zA.s[73]++,t=Math.min(t,n.position.x-jA),zA.s[74]++,o=Math.min(o,n.position.y-jA),zA.s[75]++,i=Math.max(i,n.position.x+n.size.width+jA),zA.s[76]++,l=Math.max(l,n.position.y+n.size.height+jA)}));var r=(zA.s[77]++,n.canvasSize),a=(zA.s[78]++,n.viewContainerSize),c=(zA.s[79]++,i-t),s=(zA.s[80]++,l-o),C=(zA.s[81]++,zA.b[2][0]++,e.payload.leftPanelWidth||(zA.b[2][1]++,0)),u=(zA.s[82]++,zA.b[3][0]++,e.payload.rightPanelWidth||(zA.b[3][1]++,0)),d=(zA.s[83]++,{width:a.width-C-u,height:a.height}),m=(zA.s[84]++,d.width/c),E=(zA.s[85]++,d.height/s),p=(zA.s[86]++,Math.min(E,m)),f=(zA.s[87]++,qA(p,r,d)),g=(zA.s[88]++,{x:-t*f+C,y:-o*f}),h=(zA.s[89]++,HA(g,r,f,d));zA.s[90]++,n.scale=f,zA.s[91]++,n.position=h}(n,e)}));case SA.WORKSPACE_RESET_ZOOM:return zA.b[5][5]++,zA.s[114]++,DA(n,(function(n){zA.f[20]++,zA.s[115]++,function(n){zA.f[13]++;zA.s[93]++;var e=(zA.s[94]++,n.canvasSize),A=(zA.s[95]++,n.viewContainerSize),t=(zA.s[96]++,{x:e.width/2,y:e.height/2}),o=(zA.s[97]++,{x:A.width/2,y:A.height/2}),i=(zA.s[98]++,{x:o.x-t.x,y:o.y-t.y});zA.s[99]++,n.scale=1,zA.s[100]++,n.position=HA(i,e,1,A)}(n)}));case OA.NODE_DRAG:return zA.b[5][6]++,zA.s[116]++,DA(n,(function(A){zA.f[21]++;var t=(zA.s[117]++,n.canvasSize),o=(zA.s[118]++,n.position),i=(zA.s[119]++,e.payload.position),l=(zA.s[120]++,e.payload.size);if(zA.s[121]++,i.x+l.width>t.width){zA.b[6][0]++;var r=(zA.s[122]++,i.x+l.width-t.width),a=(zA.s[123]++,{height:t.height,width:t.width+r}),c=(zA.s[124]++,{x:o.x-r,y:o.y}),s=(zA.s[125]++,PA(a)),C=(zA.s[126]++,wA(c));zA.s[127]++,ZA(A,s),zA.s[128]++,XA(A,C)}else zA.b[6][1]++;if(zA.s[129]++,i.y+l.height>t.height){zA.b[7][0]++;var u=(zA.s[130]++,i.y+l.height-t.height);a=(zA.s[131]++,{height:t.height+u,width:t.width}),c=(zA.s[132]++,{x:o.x,y:o.y-u}),s=(zA.s[133]++,PA(a)),C=(zA.s[134]++,wA(c));zA.s[135]++,ZA(A,s),zA.s[136]++,XA(A,C)}else zA.b[7][1]++;if(zA.s[137]++,i.y<0){zA.b[8][0]++;u=(zA.s[138]++,-i.y),a=(zA.s[139]++,{height:t.height+u,width:t.width}),s=(zA.s[140]++,PA(a));zA.s[141]++,ZA(A,s)}else zA.b[8][1]++;if(zA.s[142]++,i.x<0){zA.b[9][0]++;r=(zA.s[143]++,-i.x),a=(zA.s[144]++,{height:t.height,width:t.width+r}),s=(zA.s[145]++,PA(a));zA.s[146]++,ZA(A,s)}else zA.b[9][1]++}));default:return zA.b[5][7]++,zA.s[147]++,n}}!function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/index.ts",e="4f05a3ee267444bbb084e286c080c1dad538c8e3",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/workspace/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,gBAAgB,EAAE,wBAAwB,EAAE,MAAM,oBAAoB,CAAC;AAC3F,OAAO,EACL,cAAc,EAAE,mBAAmB,EAAE,mBAAmB,EAAE,qBAAqB,EAAE,eAAe,EAAE,oBAAoB,EACvH,MAAM,oBAAoB,CAAC",sourcesContent:["export { default as workspaceReducer, getDefaultWorkspaceState } from './workspaceReducer';\nexport {\n  DeselectAction, DragWorkspaceAction, ZoomWorkspaceAction, ResizeWorkspaceAction, WorkspaceAction, WorkspaceActionsType\n} from './workspaceActions';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();var $A=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/getInitialState.ts",e="52cc7cb4dc344724780fd7abace098124637a461",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/getInitialState.ts",statementMap:{0:{start:{line:4,column:4},end:{line:12,column:6}}},fnMap:{0:{name:"getInitialState",decl:{start:{line:3,column:24},end:{line:3,column:39}},loc:{start:{line:3,column:42},end:{line:13,column:1}},line:3}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/getInitialState.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/getInitialState.ts"],names:[],mappings:"AAAA,OAAO,EAAoB,UAAU,EAAE,MAAM,0BAA0B,CAAC;AACxE,OAAO,EAAE,wBAAwB,EAAE,MAAM,8BAA8B,CAAC;AAExE,MAAM,CAAC,OAAO,UAAU,eAAe;IACrC,OAAO;QACL,KAAK,EAAE,EAAE;QACT,KAAK,EAAE,EAAE;QACT,MAAM,EAAE,EAAE;QACV,SAAS,EAAE,wBAAwB,EAAE;QACrC,MAAM,EAAE;YACN,IAAI,EAAE,UAAU,CAAC,IAAI;SACtB;KACF,CAAC;AACJ,CAAC",sourcesContent:["import { DiagramMakerData, EditorMode } from 'diagramMaker/state/types';\nimport { getDefaultWorkspaceState } from 'diagramMaker/state/workspace';\n\nexport default function getInitialState<NodeType, EdgeType>(): DiagramMakerData<NodeType, EdgeType> {\n  return {\n    nodes: {},\n    edges: {},\n    panels: {},\n    workspace: getDefaultWorkspaceState(),\n    editor: {\n      mode: EditorMode.DRAG\n    }\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();var nt=function(){this.__data__=[],this.size=0};var et=function(n,e){return n===e||n!=n&&e!=e};var At=function(n,e){for(var A=n.length;A--;)if(et(n[A][0],e))return A;return-1},tt=Array.prototype.splice;var ot=function(n){var e=this.__data__,A=At(e,n);return!(A<0)&&(A==e.length-1?e.pop():tt.call(e,A,1),--this.size,!0)};var it=function(n){var e=this.__data__,A=At(e,n);return A<0?void 0:e[A][1]};var lt=function(n){return At(this.__data__,n)>-1};var rt=function(n,e){var A=this.__data__,t=At(A,n);return t<0?(++this.size,A.push([n,e])):A[t][1]=e,this};function at(n){var e=-1,A=null==n?0:n.length;for(this.clear();++e<A;){var t=n[e];this.set(t[0],t[1])}}at.prototype.clear=nt,at.prototype.delete=ot,at.prototype.get=it,at.prototype.has=lt,at.prototype.set=rt;var ct=at;var st=function(){this.__data__=new ct,this.size=0};var Ct=function(n){var e=this.__data__,A=e.delete(n);return this.size=e.size,A};var ut=function(n){return this.__data__.get(n)};var dt=function(n){return this.__data__.has(n)};var mt,Et=function(n){if(!G(n))return!1;var e=N(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},pt=D.a["__core-js_shared__"],ft=(mt=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||""))?"Symbol(src)_1."+mt:"";var gt=function(n){return!!ft&&ft in n},ht=Function.prototype.toString;var It=function(n){if(null!=n){try{return ht.call(n)}catch(n){}try{return n+""}catch(n){}}return""},yt=/^\[object .+?Constructor\]$/,Bt=Function.prototype,Mt=Object.prototype,vt=Bt.toString,bt=Mt.hasOwnProperty,Ot=RegExp("^"+vt.call(bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Gt=function(n){return!(!G(n)||gt(n))&&(Et(n)?Ot:yt).test(It(n))};var Dt=function(n,e){return null==n?void 0:n[e]};var kt=function(n,e){var A=Dt(n,e);return Gt(A)?A:void 0},Kt=kt(D.a,"Map"),St=kt(Object,"create");var _t=function(){this.__data__=St?St(null):{},this.size=0};var xt=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},Tt=Object.prototype.hasOwnProperty;var Qt=function(n){var e=this.__data__;if(St){var A=e[n];return"__lodash_hash_undefined__"===A?void 0:A}return Tt.call(e,n)?e[n]:void 0},Ut=Object.prototype.hasOwnProperty;var wt=function(n){var e=this.__data__;return St?void 0!==e[n]:Ut.call(e,n)};var Nt=function(n,e){var A=this.__data__;return this.size+=this.has(n)?0:1,A[n]=St&&void 0===e?"__lodash_hash_undefined__":e,this};function Pt(n){var e=-1,A=null==n?0:n.length;for(this.clear();++e<A;){var t=n[e];this.set(t[0],t[1])}}Pt.prototype.clear=_t,Pt.prototype.delete=xt,Pt.prototype.get=Qt,Pt.prototype.has=wt,Pt.prototype.set=Nt;var Rt=Pt;var Yt=function(){this.size=0,this.__data__={hash:new Rt,map:new(Kt||ct),string:new Rt}};var Wt=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n};var zt=function(n,e){var A=n.__data__;return Wt(e)?A["string"==typeof e?"string":"hash"]:A.map};var Lt=function(n){var e=zt(this,n).delete(n);return this.size-=e?1:0,e};var jt=function(n){return zt(this,n).get(n)};var Ft=function(n){return zt(this,n).has(n)};var Ht=function(n,e){var A=zt(this,n),t=A.size;return A.set(n,e),this.size+=A.size==t?0:1,this};function qt(n){var e=-1,A=null==n?0:n.length;for(this.clear();++e<A;){var t=n[e];this.set(t[0],t[1])}}qt.prototype.clear=Yt,qt.prototype.delete=Lt,qt.prototype.get=jt,qt.prototype.has=Ft,qt.prototype.set=Ht;var Vt=qt;var Xt=function(n,e){var A=this.__data__;if(A instanceof ct){var t=A.__data__;if(!Kt||t.length<199)return t.push([n,e]),this.size=++A.size,this;A=this.__data__=new Vt(t)}return A.set(n,e),this.size=A.size,this};function Zt(n){var e=this.__data__=new ct(n);this.size=e.size}Zt.prototype.clear=st,Zt.prototype.delete=Ct,Zt.prototype.get=ut,Zt.prototype.has=dt,Zt.prototype.set=Xt;var Jt=Zt;var $t=function(n,e){for(var A=-1,t=null==n?0:n.length;++A<t&&!1!==e(n[A],A,n););return n},no=function(){try{var n=kt(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();var eo=function(n,e,A){"__proto__"==e&&no?no(n,e,{configurable:!0,enumerable:!0,value:A,writable:!0}):n[e]=A},Ao=Object.prototype.hasOwnProperty;var to=function(n,e,A){var t=n[e];Ao.call(n,e)&&et(t,A)&&(void 0!==A||e in n)||eo(n,e,A)};var oo=function(n,e,A,t){var o=!A;A||(A={});for(var i=-1,l=e.length;++i<l;){var r=e[i],a=t?t(A[r],n[r],r,A,n):void 0;void 0===a&&(a=n[r]),o?eo(A,r,a):to(A,r,a)}return A};var io=function(n,e){for(var A=-1,t=Array(n);++A<n;)t[A]=e(A);return t};var lo=function(n){return P(n)&&"[object Arguments]"==N(n)},ro=Object.prototype,ao=ro.hasOwnProperty,co=ro.propertyIsEnumerable,so=lo(function(){return arguments}())?lo:function(n){return P(n)&&ao.call(n,"callee")&&!co.call(n,"callee")},Co=Array.isArray,uo=A(23),mo=/^(?:0|[1-9]\d*)$/;var Eo=function(n,e){var A=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==A||"symbol"!=A&&mo.test(n))&&n>-1&&n%1==0&&n<e};var po=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},fo={};fo["[object Float32Array]"]=fo["[object Float64Array]"]=fo["[object Int8Array]"]=fo["[object Int16Array]"]=fo["[object Int32Array]"]=fo["[object Uint8Array]"]=fo["[object Uint8ClampedArray]"]=fo["[object Uint16Array]"]=fo["[object Uint32Array]"]=!0,fo["[object Arguments]"]=fo["[object Array]"]=fo["[object ArrayBuffer]"]=fo["[object Boolean]"]=fo["[object DataView]"]=fo["[object Date]"]=fo["[object Error]"]=fo["[object Function]"]=fo["[object Map]"]=fo["[object Number]"]=fo["[object Object]"]=fo["[object RegExp]"]=fo["[object Set]"]=fo["[object String]"]=fo["[object WeakMap]"]=!1;var go=function(n){return P(n)&&po(n.length)&&!!fo[N(n)]};var ho=function(n){return function(e){return n(e)}},Io=A(16),yo=Io.a&&Io.a.isTypedArray,Bo=yo?ho(yo):go,Mo=Object.prototype.hasOwnProperty;var vo=function(n,e){var A=Co(n),t=!A&&so(n),o=!A&&!t&&Object(uo.a)(n),i=!A&&!t&&!o&&Bo(n),l=A||t||o||i,r=l?io(n.length,String):[],a=r.length;for(var c in n)!e&&!Mo.call(n,c)||l&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Eo(c,a))||r.push(c);return r},bo=Object.prototype;var Oo=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||bo)};var Go=function(n,e){return function(A){return n(e(A))}},Do=Go(Object.keys,Object),ko=Object.prototype.hasOwnProperty;var Ko=function(n){if(!Oo(n))return Do(n);var e=[];for(var A in Object(n))ko.call(n,A)&&"constructor"!=A&&e.push(A);return e};var So=function(n){return null!=n&&po(n.length)&&!Et(n)};var _o=function(n){return So(n)?vo(n):Ko(n)};var xo=function(n,e){return n&&oo(e,_o(e),n)};var To=function(n){var e=[];if(null!=n)for(var A in Object(n))e.push(A);return e},Qo=Object.prototype.hasOwnProperty;var Uo=function(n){if(!G(n))return To(n);var e=Oo(n),A=[];for(var t in n)("constructor"!=t||!e&&Qo.call(n,t))&&A.push(t);return A};var wo=function(n){return So(n)?vo(n,!0):Uo(n)};var No=function(n,e){return n&&oo(e,wo(e),n)},Po=A(137);var Ro=function(n,e){var A=-1,t=n.length;for(e||(e=Array(t));++A<t;)e[A]=n[A];return e};var Yo=function(n,e){for(var A=-1,t=null==n?0:n.length,o=0,i=[];++A<t;){var l=n[A];e(l,A,n)&&(i[o++]=l)}return i};var Wo=function(){return[]},zo=Object.prototype.propertyIsEnumerable,Lo=Object.getOwnPropertySymbols,jo=Lo?function(n){return null==n?[]:(n=Object(n),Yo(Lo(n),(function(e){return zo.call(n,e)})))}:Wo;var Fo=function(n,e){return oo(n,jo(n),e)};var Ho=function(n,e){for(var A=-1,t=e.length,o=n.length;++A<t;)n[o+A]=e[A];return n},qo=Go(Object.getPrototypeOf,Object),Vo=Object.getOwnPropertySymbols?function(n){for(var e=[];n;)Ho(e,jo(n)),n=qo(n);return e}:Wo;var Xo=function(n,e){return oo(n,Vo(n),e)};var Zo=function(n,e,A){var t=e(n);return Co(n)?t:Ho(t,A(n))};var Jo=function(n){return Zo(n,_o,jo)};var $o=function(n){return Zo(n,wo,Vo)},ni=kt(D.a,"DataView"),ei=kt(D.a,"Promise"),Ai=kt(D.a,"Set"),ti=kt(D.a,"WeakMap"),oi=It(ni),ii=It(Kt),li=It(ei),ri=It(Ai),ai=It(ti),ci=N;(ni&&"[object DataView]"!=ci(new ni(new ArrayBuffer(1)))||Kt&&"[object Map]"!=ci(new Kt)||ei&&"[object Promise]"!=ci(ei.resolve())||Ai&&"[object Set]"!=ci(new Ai)||ti&&"[object WeakMap]"!=ci(new ti))&&(ci=function(n){var e=N(n),A="[object Object]"==e?n.constructor:void 0,t=A?It(A):"";if(t)switch(t){case oi:return"[object DataView]";case ii:return"[object Map]";case li:return"[object Promise]";case ri:return"[object Set]";case ai:return"[object WeakMap]"}return e});var si=ci,Ci=Object.prototype.hasOwnProperty;var ui=function(n){var e=n.length,A=new n.constructor(e);return e&&"string"==typeof n[0]&&Ci.call(n,"index")&&(A.index=n.index,A.input=n.input),A},di=D.a.Uint8Array;var mi=function(n){var e=new n.constructor(n.byteLength);return new di(e).set(new di(n)),e};var Ei=function(n,e){var A=e?mi(n.buffer):n.buffer;return new n.constructor(A,n.byteOffset,n.byteLength)},pi=/\w*$/;var fi=function(n){var e=new n.constructor(n.source,pi.exec(n));return e.lastIndex=n.lastIndex,e},gi=k?k.prototype:void 0,hi=gi?gi.valueOf:void 0;var Ii=function(n){return hi?Object(hi.call(n)):{}};var yi=function(n,e){var A=e?mi(n.buffer):n.buffer;return new n.constructor(A,n.byteOffset,n.length)};var Bi=function(n,e,A){var t=n.constructor;switch(e){case"[object ArrayBuffer]":return mi(n);case"[object Boolean]":case"[object Date]":return new t(+n);case"[object DataView]":return Ei(n,A);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return yi(n,A);case"[object Map]":return new t;case"[object Number]":case"[object String]":return new t(n);case"[object RegExp]":return fi(n);case"[object Set]":return new t;case"[object Symbol]":return Ii(n)}},Mi=Object.create,vi=function(){function n(){}return function(e){if(!G(e))return{};if(Mi)return Mi(e);n.prototype=e;var A=new n;return n.prototype=void 0,A}}();var bi=function(n){return"function"!=typeof n.constructor||Oo(n)?{}:vi(qo(n))};var Oi=function(n){return P(n)&&"[object Map]"==si(n)},Gi=Io.a&&Io.a.isMap,Di=Gi?ho(Gi):Oi;var ki=function(n){return P(n)&&"[object Set]"==si(n)},Ki=Io.a&&Io.a.isSet,Si=Ki?ho(Ki):ki,_i={};_i["[object Arguments]"]=_i["[object Array]"]=_i["[object ArrayBuffer]"]=_i["[object DataView]"]=_i["[object Boolean]"]=_i["[object Date]"]=_i["[object Float32Array]"]=_i["[object Float64Array]"]=_i["[object Int8Array]"]=_i["[object Int16Array]"]=_i["[object Int32Array]"]=_i["[object Map]"]=_i["[object Number]"]=_i["[object Object]"]=_i["[object RegExp]"]=_i["[object Set]"]=_i["[object String]"]=_i["[object Symbol]"]=_i["[object Uint8Array]"]=_i["[object Uint8ClampedArray]"]=_i["[object Uint16Array]"]=_i["[object Uint32Array]"]=!0,_i["[object Error]"]=_i["[object Function]"]=_i["[object WeakMap]"]=!1;var xi=function n(e,A,t,o,i,l){var r,a=1&A,c=2&A,s=4&A;if(t&&(r=i?t(e,o,i,l):t(e)),void 0!==r)return r;if(!G(e))return e;var C=Co(e);if(C){if(r=ui(e),!a)return Ro(e,r)}else{var u=si(e),d="[object Function]"==u||"[object GeneratorFunction]"==u;if(Object(uo.a)(e))return Object(Po.a)(e,a);if("[object Object]"==u||"[object Arguments]"==u||d&&!i){if(r=c||d?{}:bi(e),!a)return c?Xo(e,No(r,e)):Fo(e,xo(r,e))}else{if(!_i[u])return i?e:{};r=Bi(e,u,a)}}l||(l=new Jt);var m=l.get(e);if(m)return m;l.set(e,r),Si(e)?e.forEach((function(o){r.add(n(o,A,t,o,e,l))})):Di(e)&&e.forEach((function(o,i){r.set(i,n(o,A,t,i,e,l))}));var E=C?void 0:(s?c?$o:Jo:c?wo:_o)(e);return $t(E||e,(function(o,i){E&&(o=e[i=o]),to(r,i,n(o,A,t,i,e,l))})),r};var Ti=function(n){return xi(n,4)},Qi=D.a.isFinite;var Ui=function(n){return"number"==typeof n&&Qi(n)};var wi=function(n){return"number"==typeof n||P(n)&&"[object Number]"==N(n)};var Ni=function(n,e){for(var A=-1,t=null==n?0:n.length,o=Array(t);++A<t;)o[A]=e(n[A],A,n);return o};var Pi=function(n,e){return Ni(e,(function(e){return n[e]}))};var Ri,Yi=function(n){return null==n?[]:Pi(n,_o(n))},Wi=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/hierarchicalLayout.ts",e="95cddd1db6a6001ca2329dabd388151974ca9cbe",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/hierarchicalLayout.ts",statementMap:{0:{start:{line:7,column:0},end:{line:11,column:46}},1:{start:{line:8,column:4},end:{line:8,column:72}},2:{start:{line:9,column:4},end:{line:9,column:70}},3:{start:{line:10,column:4},end:{line:10,column:64}},4:{start:{line:14,column:22},end:{line:14,column:46}},5:{start:{line:15,column:22},end:{line:15,column:103}},6:{start:{line:16,column:30},end:{line:16,column:113}},7:{start:{line:17,column:30},end:{line:19,column:25}},8:{start:{line:20,column:26},end:{line:20,column:101}},9:{start:{line:22,column:25},end:{line:22,column:27}},10:{start:{line:23,column:4},end:{line:23,column:99}},11:{start:{line:23,column:58},end:{line:23,column:95}},12:{start:{line:24,column:21},end:{line:24,column:23}},13:{start:{line:25,column:20},end:{line:25,column:22}},14:{start:{line:26,column:16},end:{line:42,column:6}},15:{start:{line:27,column:8},end:{line:27,column:35}},16:{start:{line:28,column:24},end:{line:32,column:9}},17:{start:{line:33,column:23},end:{line:33,column:53}},18:{start:{line:34,column:19},end:{line:34,column:45}},19:{start:{line:35,column:8},end:{line:40,column:9}},20:{start:{line:36,column:12},end:{line:36,column:37}},21:{start:{line:37,column:12},end:{line:37,column:54}},22:{start:{line:38,column:12},end:{line:38,column:55}},23:{start:{line:39,column:12},end:{line:39,column:35}},24:{start:{line:41,column:8},end:{line:41,column:25}},25:{start:{line:44,column:4},end:{line:53,column:7}},26:{start:{line:45,column:23},end:{line:45,column:42}},27:{start:{line:46,column:24},end:{line:46,column:44}},28:{start:{line:51,column:8},end:{line:51,column:50}},29:{start:{line:52,column:8},end:{line:52,column:50}},30:{start:{line:55,column:21},end:{line:55,column:128}},31:{start:{line:55,column:49},end:{line:55,column:125}},32:{start:{line:56,column:23},end:{line:56,column:33}},33:{start:{line:57,column:12},end:{line:57,column:23}},34:{start:{line:58,column:18},end:{line:130,column:5}},35:{start:{line:60,column:8},end:{line:62,column:11}},36:{start:{line:61,column:12},end:{line:61,column:55}},37:{start:{line:64,column:24},end:{line:64,column:26}},38:{start:{line:65,column:8},end:{line:76,column:11}},39:{start:{line:66,column:12},end:{line:75,column:15}},40:{start:{line:67,column:16},end:{line:69,column:17}},41:{start:{line:68,column:20},end:{line:68,column:27}},42:{start:{line:70,column:16},end:{line:70,column:51}},43:{start:{line:71,column:16},end:{line:74,column:17}},44:{start:{line:72,column:20},end:{line:72,column:45}},45:{start:{line:73,column:20},end:{line:73,column:70}},46:{start:{line:80,column:8},end:{line:89,column:11}},47:{start:{line:81,column:12},end:{line:88,column:13}},48:{start:{line:82,column:35},end:{line:82,column:61}},49:{start:{line:83,column:27},end:{line:83,column:114}},50:{start:{line:83,column:79},end:{line:83,column:108}},51:{start:{line:84,column:16},end:{line:84,column:52}},52:{start:{line:85,column:27},end:{line:85,column:114}},53:{start:{line:85,column:79},end:{line:85,column:108}},54:{start:{line:86,column:16},end:{line:86,column:52}},55:{start:{line:87,column:16},end:{line:87,column:43}},56:{start:{line:91,column:23},end:{line:91,column:64}},57:{start:{line:91,column:51},end:{line:91,column:61}},58:{start:{line:92,column:8},end:{line:102,column:11}},59:{start:{line:93,column:12},end:{line:100,column:15}},60:{start:{line:94,column:16},end:{line:99,column:17}},61:{start:{line:95,column:20},end:{line:98,column:23}},62:{start:{line:101,column:12},end:{line:101,column:47}},63:{start:{line:104,column:8},end:{line:126,column:11}},64:{start:{line:105,column:31},end:{line:105,column:50}},65:{start:{line:106,column:33},end:{line:106,column:111}},66:{start:{line:106,column:86},end:{line:106,column:107}},67:{start:{line:107,column:12},end:{line:109,column:13}},68:{start:{line:108,column:16},end:{line:108,column:72}},69:{start:{line:110,column:33},end:{line:110,column:85}},70:{start:{line:111,column:30},end:{line:111,column:89}},71:{start:{line:112,column:12},end:{line:112,column:69}},72:{start:{line:113,column:35},end:{line:113,column:36}},73:{start:{line:114,column:12},end:{line:125,column:15}},74:{start:{line:115,column:16},end:{line:124,column:17}},75:{start:{line:116,column:20},end:{line:118,column:21}},76:{start:{line:117,column:24},end:{line:117,column:46}},77:{start:{line:119,column:32},end:{line:119,column:67}},78:{start:{line:120,column:20},end:{line:120,column:76}},79:{start:{line:121,column:20},end:{line:121,column:76}},80:{start:{line:122,column:20},end:{line:122,column:51}},81:{start:{line:123,column:20},end:{line:123,column:42}},82:{start:{line:128,column:8},end:{line:128,column:33}},83:{start:{line:129,column:8},end:{line:129,column:72}},84:{start:{line:131,column:4},end:{line:133,column:5}},85:{start:{line:132,column:8},end:{line:132,column:18}},86:{start:{line:135,column:4},end:{line:145,column:7}},87:{start:{line:136,column:8},end:{line:144,column:11}},88:{start:{line:137,column:12},end:{line:143,column:13}},89:{start:{line:138,column:31},end:{line:138,column:78}},90:{start:{line:139,column:39},end:{line:142,column:17}},91:{start:{line:154,column:22},end:{line:154,column:24}},92:{start:{line:156,column:4},end:{line:158,column:5}},93:{start:{line:157,column:8},end:{line:157,column:31}},94:{start:{line:160,column:4},end:{line:174,column:5}},95:{start:{line:161,column:29},end:{line:161,column:55}},96:{start:{line:165,column:20},end:{line:167,column:26}},97:{start:{line:168,column:8},end:{line:171,column:9}},98:{start:{line:169,column:12},end:{line:169,column:63}},99:{start:{line:170,column:12},end:{line:170,column:59}},100:{start:{line:172,column:8},end:{line:172,column:40}},101:{start:{line:173,column:8},end:{line:173,column:27}},102:{start:{line:176,column:19},end:{line:176,column:21}},103:{start:{line:177,column:4},end:{line:179,column:5}},104:{start:{line:178,column:8},end:{line:178,column:65}},105:{start:{line:180,column:4},end:{line:180,column:91}},106:{start:{line:188,column:19},end:{line:188,column:21}},107:{start:{line:189,column:25},end:{line:189,column:27}},108:{start:{line:190,column:4},end:{line:197,column:5}},109:{start:{line:191,column:8},end:{line:191,column:26}},110:{start:{line:192,column:8},end:{line:192,column:32}},111:{start:{line:193,column:8},end:{line:196,column:9}},112:{start:{line:194,column:12},end:{line:194,column:43}},113:{start:{line:195,column:12},end:{line:195,column:49}},114:{start:{line:199,column:4},end:{line:199,column:33}},115:{start:{line:200,column:4},end:{line:200,column:29}},116:{start:{line:201,column:4},end:{line:204,column:5}},117:{start:{line:202,column:8},end:{line:202,column:100}},118:{start:{line:203,column:8},end:{line:203,column:44}},119:{start:{line:206,column:4},end:{line:210,column:5}},120:{start:{line:208,column:8},end:{line:208,column:55}},121:{start:{line:209,column:8},end:{line:209,column:41}},122:{start:{line:212,column:4},end:{line:226,column:5}},123:{start:{line:213,column:8},end:{line:225,column:9}},124:{start:{line:214,column:23},end:{line:214,column:90}},125:{start:{line:215,column:28},end:{line:215,column:29}},126:{start:{line:216,column:12},end:{line:222,column:13}},127:{start:{line:217,column:30},end:{line:217,column:111}},128:{start:{line:218,column:16},end:{line:221,column:17}},129:{start:{line:219,column:20},end:{line:219,column:35}},130:{start:{line:220,column:20},end:{line:220,column:34}},131:{start:{line:223,column:12},end:{line:223,column:49}},132:{start:{line:224,column:12},end:{line:224,column:60}},133:{start:{line:228,column:28},end:{line:228,column:74}},134:{start:{line:228,column:62},end:{line:228,column:71}},135:{start:{line:229,column:20},end:{line:229,column:30}},136:{start:{line:230,column:4},end:{line:233,column:5}},137:{start:{line:231,column:8},end:{line:231,column:82}},138:{start:{line:232,column:8},end:{line:232,column:53}},139:{start:{line:235,column:4},end:{line:244,column:5}},140:{start:{line:236,column:8},end:{line:236,column:49}},141:{start:{line:237,column:20},end:{line:237,column:48}},142:{start:{line:238,column:29},end:{line:238,column:91}},143:{start:{line:239,column:8},end:{line:243,column:9}},144:{start:{line:240,column:12},end:{line:240,column:36}},145:{start:{line:241,column:12},end:{line:241,column:42}},146:{start:{line:242,column:12},end:{line:242,column:63}},147:{start:{line:245,column:4},end:{line:245,column:36}},148:{start:{line:246,column:4},end:{line:246,column:23}},149:{start:{line:254,column:4},end:{line:256,column:5}},150:{start:{line:255,column:8},end:{line:255,column:15}},151:{start:{line:259,column:4},end:{line:264,column:5}},152:{start:{line:260,column:8},end:{line:262,column:9}},153:{start:{line:261,column:12},end:{line:261,column:47}},154:{start:{line:263,column:8},end:{line:263,column:15}},155:{start:{line:265,column:19},end:{line:265,column:73}},156:{start:{line:265,column:34},end:{line:265,column:71}},157:{start:{line:266,column:19},end:{line:266,column:89}},158:{start:{line:266,column:34},end:{line:266,column:87}},159:{start:{line:268,column:20},end:{line:268,column:21}},160:{start:{line:269,column:4},end:{line:271,column:5}},161:{start:{line:270,column:8},end:{line:270,column:23}},162:{start:{line:272,column:4},end:{line:274,column:5}},163:{start:{line:273,column:8},end:{line:273,column:22}},164:{start:{line:275,column:24},end:{line:275,column:43}},165:{start:{line:276,column:24},end:{line:276,column:55}},166:{start:{line:277,column:20},end:{line:277,column:47}},167:{start:{line:281,column:4},end:{line:329,column:5}},168:{start:{line:284,column:9},end:{line:329,column:5}},169:{start:{line:286,column:26},end:{line:286,column:85}},170:{start:{line:287,column:8},end:{line:294,column:9}},171:{start:{line:289,column:12},end:{line:289,column:55}},172:{start:{line:293,column:12},end:{line:293,column:54}},173:{start:{line:296,column:9},end:{line:329,column:5}},174:{start:{line:298,column:26},end:{line:298,column:85}},175:{start:{line:299,column:8},end:{line:306,column:9}},176:{start:{line:301,column:12},end:{line:301,column:59}},177:{start:{line:305,column:12},end:{line:305,column:58}},178:{start:{line:310,column:37},end:{line:310,column:78}},179:{start:{line:311,column:33},end:{line:311,column:70}},180:{start:{line:312,column:8},end:{line:328,column:9}},181:{start:{line:314,column:12},end:{line:315,column:97}},182:{start:{line:316,column:12},end:{line:317,column:93}},183:{start:{line:319,column:13},end:{line:328,column:9}},184:{start:{line:321,column:12},end:{line:321,column:59}},185:{start:{line:322,column:12},end:{line:322,column:101}},186:{start:{line:326,column:12},end:{line:326,column:55}},187:{start:{line:327,column:12},end:{line:327,column:109}},188:{start:{line:331,column:16},end:{line:331,column:35}},189:{start:{line:332,column:4},end:{line:338,column:5}},190:{start:{line:333,column:8},end:{line:336,column:9}},191:{start:{line:334,column:12},end:{line:335,column:110}},192:{start:{line:337,column:8},end:{line:337,column:32}},193:{start:{line:340,column:4},end:{line:340,column:36}},194:{start:{line:341,column:4},end:{line:347,column:5}},195:{start:{line:342,column:8},end:{line:345,column:9}},196:{start:{line:343,column:12},end:{line:344,column:110}},197:{start:{line:346,column:8},end:{line:346,column:32}},198:{start:{line:348,column:4},end:{line:348,column:35}},199:{start:{line:355,column:4},end:{line:355,column:67}},200:{start:{line:355,column:38},end:{line:355,column:63}},201:{start:{line:365,column:25},end:{line:365,column:87}},202:{start:{line:366,column:4},end:{line:368,column:5}},203:{start:{line:367,column:8},end:{line:367,column:54}},204:{start:{line:369,column:4},end:{line:369,column:50}},205:{start:{line:376,column:4},end:{line:378,column:5}},206:{start:{line:377,column:8},end:{line:377,column:19}},207:{start:{line:380,column:12},end:{line:382,column:65}},208:{start:{line:381,column:28},end:{line:381,column:47}},209:{start:{line:382,column:40},end:{line:382,column:59}},210:{start:{line:383,column:12},end:{line:385,column:65}},211:{start:{line:384,column:28},end:{line:384,column:47}},212:{start:{line:385,column:40},end:{line:385,column:59}},213:{start:{line:386,column:4},end:{line:390,column:5}},214:{start:{line:389,column:8},end:{line:389,column:19}},215:{start:{line:391,column:4},end:{line:391,column:44}},216:{start:{line:403,column:24},end:{line:403,column:59}},217:{start:{line:404,column:4},end:{line:406,column:5}},218:{start:{line:405,column:8},end:{line:405,column:61}},219:{start:{line:407,column:4},end:{line:407,column:57}},220:{start:{line:413,column:16},end:{line:413,column:41}},221:{start:{line:414,column:4},end:{line:414,column:48}},222:{start:{line:420,column:13},end:{line:420,column:20}},223:{start:{line:421,column:13},end:{line:421,column:20}},224:{start:{line:422,column:13},end:{line:422,column:20}},225:{start:{line:423,column:13},end:{line:423,column:20}},226:{start:{line:426,column:16},end:{line:426,column:44}},227:{start:{line:429,column:4},end:{line:429,column:33}},228:{start:{line:435,column:17},end:{line:435,column:22}},229:{start:{line:436,column:4},end:{line:438,column:5}},230:{start:{line:437,column:8},end:{line:437,column:30}},231:{start:{line:439,column:4},end:{line:441,column:5}},232:{start:{line:440,column:8},end:{line:440,column:30}},233:{start:{line:442,column:4},end:{line:442,column:18}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:1},end:{line:7,column:2}},loc:{start:{line:7,column:28},end:{line:11,column:1}},line:7},1:{name:"hierarchicalLayout",decl:{start:{line:12,column:24},end:{line:12,column:42}},loc:{start:{line:12,column:64},end:{line:146,column:1}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:23,column:38},end:{line:23,column:39}},loc:{start:{line:23,column:56},end:{line:23,column:97}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:26,column:40},end:{line:26,column:41}},loc:{start:{line:26,column:63},end:{line:42,column:5}},line:26},4:{name:"(anonymous_4)",decl:{start:{line:44,column:32},end:{line:44,column:33}},loc:{start:{line:44,column:48},end:{line:53,column:5}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:55,column:31},end:{line:55,column:32}},loc:{start:{line:55,column:47},end:{line:55,column:127}},line:55},6:{name:"(anonymous_6)",decl:{start:{line:58,column:18},end:{line:58,column:19}},loc:{start:{line:58,column:30},end:{line:130,column:5}},line:58},7:{name:"(anonymous_7)",decl:{start:{line:60,column:29},end:{line:60,column:30}},loc:{start:{line:60,column:45},end:{line:62,column:9}},line:60},8:{name:"(anonymous_8)",decl:{start:{line:65,column:29},end:{line:65,column:30}},loc:{start:{line:65,column:45},end:{line:76,column:9}},line:65},9:{name:"(anonymous_9)",decl:{start:{line:66,column:42},end:{line:66,column:43}},loc:{start:{line:66,column:62},end:{line:75,column:13}},line:66},10:{name:"(anonymous_10)",decl:{start:{line:80,column:26},end:{line:80,column:27}},loc:{start:{line:80,column:42},end:{line:89,column:9}},line:80},11:{name:"(anonymous_11)",decl:{start:{line:83,column:54},end:{line:83,column:55}},loc:{start:{line:83,column:77},end:{line:83,column:110}},line:83},12:{name:"(anonymous_12)",decl:{start:{line:85,column:54},end:{line:85,column:55}},loc:{start:{line:85,column:77},end:{line:85,column:110}},line:85},13:{name:"(anonymous_13)",decl:{start:{line:91,column:33},end:{line:91,column:34}},loc:{start:{line:91,column:49},end:{line:91,column:63}},line:91},14:{name:"(anonymous_14)",decl:{start:{line:92,column:29},end:{line:92,column:30}},loc:{start:{line:92,column:45},end:{line:102,column:9}},line:92},15:{name:"(anonymous_15)",decl:{start:{line:93,column:42},end:{line:93,column:43}},loc:{start:{line:93,column:62},end:{line:100,column:13}},line:93},16:{name:"(anonymous_16)",decl:{start:{line:104,column:29},end:{line:104,column:30}},loc:{start:{line:104,column:45},end:{line:126,column:9}},line:104},17:{name:"(anonymous_17)",decl:{start:{line:106,column:65},end:{line:106,column:66}},loc:{start:{line:106,column:84},end:{line:106,column:109}},line:106},18:{name:"(anonymous_18)",decl:{start:{line:114,column:42},end:{line:114,column:43}},loc:{start:{line:114,column:62},end:{line:125,column:13}},line:114},19:{name:"(anonymous_19)",decl:{start:{line:135,column:26},end:{line:135,column:27}},loc:{start:{line:135,column:48},end:{line:145,column:5}},line:135},20:{name:"(anonymous_20)",decl:{start:{line:136,column:22},end:{line:136,column:23}},loc:{start:{line:136,column:38},end:{line:144,column:9}},line:136},21:{name:"arrangeEvenly",decl:{start:{line:153,column:9},end:{line:153,column:22}},loc:{start:{line:153,column:59},end:{line:247,column:1}},line:153},22:{name:"(anonymous_22)",decl:{start:{line:228,column:41},end:{line:228,column:42}},loc:{start:{line:228,column:60},end:{line:228,column:73}},line:228},23:{name:"applyGravity",decl:{start:{line:252,column:9},end:{line:252,column:21}},loc:{start:{line:252,column:65},end:{line:349,column:1}},line:252},24:{name:"(anonymous_24)",decl:{start:{line:265,column:19},end:{line:265,column:20}},loc:{start:{line:265,column:32},end:{line:265,column:73}},line:265},25:{name:"(anonymous_25)",decl:{start:{line:266,column:19},end:{line:266,column:20}},loc:{start:{line:266,column:32},end:{line:266,column:89}},line:266},26:{name:"sortNodeDirections",decl:{start:{line:354,column:9},end:{line:354,column:27}},loc:{start:{line:354,column:40},end:{line:356,column:1}},line:354},27:{name:"(anonymous_27)",decl:{start:{line:355,column:20},end:{line:355,column:21}},loc:{start:{line:355,column:36},end:{line:355,column:65}},line:355},28:{name:"pushTowardsAngle",decl:{start:{line:364,column:9},end:{line:364,column:25}},loc:{start:{line:364,column:56},end:{line:370,column:1}},line:364},29:{name:"meanOfAngles",decl:{start:{line:375,column:9},end:{line:375,column:21}},loc:{start:{line:375,column:30},end:{line:392,column:1}},line:375},30:{name:"(anonymous_30)",decl:{start:{line:381,column:13},end:{line:381,column:14}},loc:{start:{line:381,column:26},end:{line:381,column:49}},line:381},31:{name:"(anonymous_31)",decl:{start:{line:382,column:16},end:{line:382,column:17}},loc:{start:{line:382,column:38},end:{line:382,column:61}},line:382},32:{name:"(anonymous_32)",decl:{start:{line:384,column:13},end:{line:384,column:14}},loc:{start:{line:384,column:26},end:{line:384,column:49}},line:384},33:{name:"(anonymous_33)",decl:{start:{line:385,column:16},end:{line:385,column:17}},loc:{start:{line:385,column:38},end:{line:385,column:61}},line:385},34:{name:"isLeftTurn",decl:{start:{line:402,column:9},end:{line:402,column:19}},loc:{start:{line:402,column:38},end:{line:408,column:1}},line:402},35:{name:"angleBetween",decl:{start:{line:412,column:9},end:{line:412,column:21}},loc:{start:{line:412,column:38},end:{line:415,column:1}},line:412},36:{name:"getAngle",decl:{start:{line:419,column:9},end:{line:419,column:17}},loc:{start:{line:419,column:32},end:{line:430,column:1}},line:419},37:{name:"normalizeAngle",decl:{start:{line:434,column:9},end:{line:434,column:23}},loc:{start:{line:434,column:31},end:{line:443,column:1}},line:434}},branchMap:{0:{loc:{start:{line:11,column:3},end:{line:11,column:44}},type:"binary-expr",locations:[{start:{line:11,column:3},end:{line:11,column:18}},{start:{line:11,column:23},end:{line:11,column:43}}],line:11},1:{loc:{start:{line:15,column:22},end:{line:15,column:103}},type:"cond-expr",locations:[{start:{line:15,column:59},end:{line:15,column:83}},{start:{line:15,column:87},end:{line:15,column:102}}],line:15},2:{loc:{start:{line:16,column:30},end:{line:16,column:113}},type:"cond-expr",locations:[{start:{line:16,column:75},end:{line:16,column:107}},{start:{line:16,column:110},end:{line:16,column:113}}],line:16},3:{loc:{start:{line:17,column:30},end:{line:19,column:25}},type:"cond-expr",locations:[{start:{line:18,column:10},end:{line:18,column:52}},{start:{line:19,column:11},end:{line:19,column:24}}],line:17},4:{loc:{start:{line:20,column:26},end:{line:20,column:101}},type:"cond-expr",locations:[{start:{line:20,column:67},end:{line:20,column:95}},{start:{line:20,column:98},end:{line:20,column:101}}],line:20},5:{loc:{start:{line:35,column:8},end:{line:40,column:9}},type:"if",locations:[{start:{line:35,column:8},end:{line:40,column:9}},{start:{line:35,column:8},end:{line:40,column:9}}],line:35},6:{loc:{start:{line:55,column:56},end:{line:55,column:124}},type:"cond-expr",locations:[{start:{line:55,column:71},end:{line:55,column:94}},{start:{line:55,column:97},end:{line:55,column:124}}],line:55},7:{loc:{start:{line:67,column:16},end:{line:69,column:17}},type:"if",locations:[{start:{line:67,column:16},end:{line:69,column:17}},{start:{line:67,column:16},end:{line:69,column:17}}],line:67},8:{loc:{start:{line:71,column:16},end:{line:74,column:17}},type:"if",locations:[{start:{line:71,column:16},end:{line:74,column:17}},{start:{line:71,column:16},end:{line:74,column:17}}],line:71},9:{loc:{start:{line:81,column:12},end:{line:88,column:13}},type:"if",locations:[{start:{line:81,column:12},end:{line:88,column:13}},{start:{line:81,column:12},end:{line:88,column:13}}],line:81},10:{loc:{start:{line:94,column:16},end:{line:99,column:17}},type:"if",locations:[{start:{line:94,column:16},end:{line:99,column:17}},{start:{line:94,column:16},end:{line:99,column:17}}],line:94},11:{loc:{start:{line:107,column:12},end:{line:109,column:13}},type:"if",locations:[{start:{line:107,column:12},end:{line:109,column:13}},{start:{line:107,column:12},end:{line:109,column:13}}],line:107},12:{loc:{start:{line:115,column:16},end:{line:124,column:17}},type:"if",locations:[{start:{line:115,column:16},end:{line:124,column:17}},{start:{line:115,column:16},end:{line:124,column:17}}],line:115},13:{loc:{start:{line:137,column:12},end:{line:143,column:13}},type:"if",locations:[{start:{line:137,column:12},end:{line:143,column:13}},{start:{line:137,column:12},end:{line:143,column:13}}],line:137},14:{loc:{start:{line:137,column:16},end:{line:137,column:52}},type:"binary-expr",locations:[{start:{line:137,column:16},end:{line:137,column:32}},{start:{line:137,column:36},end:{line:137,column:52}}],line:137},15:{loc:{start:{line:156,column:4},end:{line:158,column:5}},type:"if",locations:[{start:{line:156,column:4},end:{line:158,column:5}},{start:{line:156,column:4},end:{line:158,column:5}}],line:156},16:{loc:{start:{line:160,column:4},end:{line:174,column:5}},type:"if",locations:[{start:{line:160,column:4},end:{line:174,column:5}},{start:{line:160,column:4},end:{line:174,column:5}}],line:160},17:{loc:{start:{line:165,column:20},end:{line:167,column:26}},type:"cond-expr",locations:[{start:{line:166,column:14},end:{line:166,column:65}},{start:{line:167,column:14},end:{line:167,column:26}}],line:165},18:{loc:{start:{line:218,column:16},end:{line:221,column:17}},type:"if",locations:[{start:{line:218,column:16},end:{line:221,column:17}},{start:{line:218,column:16},end:{line:221,column:17}}],line:218},19:{loc:{start:{line:254,column:4},end:{line:256,column:5}},type:"if",locations:[{start:{line:254,column:4},end:{line:256,column:5}},{start:{line:254,column:4},end:{line:256,column:5}}],line:254},20:{loc:{start:{line:254,column:8},end:{line:254,column:50}},type:"binary-expr",locations:[{start:{line:254,column:8},end:{line:254,column:26}},{start:{line:254,column:30},end:{line:254,column:50}}],line:254},21:{loc:{start:{line:259,column:4},end:{line:264,column:5}},type:"if",locations:[{start:{line:259,column:4},end:{line:264,column:5}},{start:{line:259,column:4},end:{line:264,column:5}}],line:259},22:{loc:{start:{line:260,column:8},end:{line:262,column:9}},type:"if",locations:[{start:{line:260,column:8},end:{line:262,column:9}},{start:{line:260,column:8},end:{line:262,column:9}}],line:260},23:{loc:{start:{line:266,column:42},end:{line:266,column:85}},type:"cond-expr",locations:[{start:{line:266,column:53},end:{line:266,column:74}},{start:{line:266,column:79},end:{line:266,column:84}}],line:266},24:{loc:{start:{line:269,column:11},end:{line:269,column:90}},type:"binary-expr",locations:[{start:{line:269,column:11},end:{line:269,column:44}},{start:{line:269,column:48},end:{line:269,column:90}}],line:269},25:{loc:{start:{line:272,column:4},end:{line:274,column:5}},type:"if",locations:[{start:{line:272,column:4},end:{line:274,column:5}},{start:{line:272,column:4},end:{line:274,column:5}}],line:272},26:{loc:{start:{line:281,column:4},end:{line:329,column:5}},type:"if",locations:[{start:{line:281,column:4},end:{line:329,column:5}},{start:{line:281,column:4},end:{line:329,column:5}}],line:281},27:{loc:{start:{line:281,column:8},end:{line:281,column:74}},type:"binary-expr",locations:[{start:{line:281,column:8},end:{line:281,column:41}},{start:{line:281,column:45},end:{line:281,column:74}}],line:281},28:{loc:{start:{line:284,column:9},end:{line:329,column:5}},type:"if",locations:[{start:{line:284,column:9},end:{line:329,column:5}},{start:{line:284,column:9},end:{line:329,column:5}}],line:284},29:{loc:{start:{line:287,column:8},end:{line:294,column:9}},type:"if",locations:[{start:{line:287,column:8},end:{line:294,column:9}},{start:{line:287,column:8},end:{line:294,column:9}}],line:287},30:{loc:{start:{line:296,column:9},end:{line:329,column:5}},type:"if",locations:[{start:{line:296,column:9},end:{line:329,column:5}},{start:{line:296,column:9},end:{line:329,column:5}}],line:296},31:{loc:{start:{line:299,column:8},end:{line:306,column:9}},type:"if",locations:[{start:{line:299,column:8},end:{line:306,column:9}},{start:{line:299,column:8},end:{line:306,column:9}}],line:299},32:{loc:{start:{line:312,column:8},end:{line:328,column:9}},type:"if",locations:[{start:{line:312,column:8},end:{line:328,column:9}},{start:{line:312,column:8},end:{line:328,column:9}}],line:312},33:{loc:{start:{line:319,column:13},end:{line:328,column:9}},type:"if",locations:[{start:{line:319,column:13},end:{line:328,column:9}},{start:{line:319,column:13},end:{line:328,column:9}}],line:319},34:{loc:{start:{line:332,column:11},end:{line:332,column:87}},type:"binary-expr",locations:[{start:{line:332,column:11},end:{line:332,column:34}},{start:{line:332,column:38},end:{line:332,column:87}}],line:332},35:{loc:{start:{line:333,column:8},end:{line:336,column:9}},type:"if",locations:[{start:{line:333,column:8},end:{line:336,column:9}},{start:{line:333,column:8},end:{line:336,column:9}}],line:333},36:{loc:{start:{line:341,column:11},end:{line:341,column:84}},type:"binary-expr",locations:[{start:{line:341,column:11},end:{line:341,column:30}},{start:{line:341,column:34},end:{line:341,column:84}}],line:341},37:{loc:{start:{line:342,column:8},end:{line:345,column:9}},type:"if",locations:[{start:{line:342,column:8},end:{line:345,column:9}},{start:{line:342,column:8},end:{line:345,column:9}}],line:342},38:{loc:{start:{line:366,column:4},end:{line:368,column:5}},type:"if",locations:[{start:{line:366,column:4},end:{line:368,column:5}},{start:{line:366,column:4},end:{line:368,column:5}}],line:366},39:{loc:{start:{line:376,column:4},end:{line:378,column:5}},type:"if",locations:[{start:{line:376,column:4},end:{line:378,column:5}},{start:{line:376,column:4},end:{line:378,column:5}}],line:376},40:{loc:{start:{line:386,column:4},end:{line:390,column:5}},type:"if",locations:[{start:{line:386,column:4},end:{line:390,column:5}},{start:{line:386,column:4},end:{line:390,column:5}}],line:386},41:{loc:{start:{line:386,column:8},end:{line:386,column:50}},type:"binary-expr",locations:[{start:{line:386,column:8},end:{line:386,column:27}},{start:{line:386,column:31},end:{line:386,column:50}}],line:386},42:{loc:{start:{line:404,column:4},end:{line:406,column:5}},type:"if",locations:[{start:{line:404,column:4},end:{line:406,column:5}},{start:{line:404,column:4},end:{line:406,column:5}}],line:404},43:{loc:{start:{line:405,column:16},end:{line:405,column:59}},type:"binary-expr",locations:[{start:{line:405,column:16},end:{line:405,column:33}},{start:{line:405,column:37},end:{line:405,column:59}}],line:405},44:{loc:{start:{line:407,column:12},end:{line:407,column:55}},type:"binary-expr",locations:[{start:{line:407,column:12},end:{line:407,column:29}},{start:{line:407,column:33},end:{line:407,column:55}}],line:407}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/hierarchicalLayout.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/hierarchicalLayout.ts"],names:[],mappings:"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",sourcesContent:["import { produce } from 'immer';\nimport clone from 'lodash-es/clone';\nimport fill from 'lodash-es/fill';\nimport includes from 'lodash-es/includes';\nimport isFinite from 'lodash-es/isFinite';\nimport isNumber from 'lodash-es/isNumber';\nimport values from 'lodash-es/values';\n\nimport { DiagramMakerData, DiagramMakerNode } from 'diagramMaker/state/types';\n\nimport { HierarchicalLayoutConfig } from './layoutActions';\n\n// Internal type for manipulating nodes\ninterface GraphNode {\n  id: string;\n  neighbors: number[];\n  parents: number[];\n  isFixed?: boolean;\n  x?: number;\n  y?: number;\n}\n\nenum TraversalStatus { NOT_VISITED, PROCESSING, VISITED }\n\ninterface NodeDirection {\n  angle: number;\n  isFixed: boolean;\n}\n\nexport default function hierarchicalLayout<NodeType, EdgeType>(\n  state: DiagramMakerData<NodeType, EdgeType>,\n  layoutConfig: HierarchicalLayoutConfig\n): DiagramMakerData<NodeType, EdgeType> {\n  // Initialize config values with defaults, if needed.\n  const distanceMin = layoutConfig.distanceMin;\n  const distanceMax = isNumber(layoutConfig.distanceMax) ? layoutConfig.distanceMax : (3 * distanceMin);\n  const distanceDeclineRate = isNumber(layoutConfig.distanceDeclineRate) ? layoutConfig.distanceDeclineRate : 0.3;\n\n  const initialGravityAngle = isNumber(layoutConfig.gravityAngle)\n    ? normalizeAngle(-layoutConfig.gravityAngle) // As Y-axis points down, the angle must be inverted.\n    : (Math.PI * 0.5); // Default gravity points straight down.\n\n  const gravityStrength = isNumber(layoutConfig.gravityStrength) ? layoutConfig.gravityStrength : 0.0;\n\n  // Construct an initial graph without calculated positioning.\n  const fixedNodeIdSet: { [key: string]: boolean } = {};\n  layoutConfig.fixedNodeIds.forEach(nodeId => fixedNodeIdSet[nodeId] = true);\n\n  const fixedNodes: number[] = [];\n  const nodeIndex: { [key: string]: number } = {};\n  const graph: GraphNode[] = values(state.nodes).map((node, index) => {\n    nodeIndex[node.id] = index;\n\n    const graphNode: GraphNode = {\n      id: node.id,\n      neighbors: [],\n      parents: []\n    };\n\n    const position = node.diagramMakerData.position;\n    const size = node.diagramMakerData.size;\n    if (fixedNodeIdSet[node.id]) {\n      graphNode.isFixed = true;\n      graphNode.x = position.x + size.width / 2;\n      graphNode.y = position.y + size.height / 2;\n\n      fixedNodes.push(index);\n    }\n    return graphNode;\n  });\n\n  // Add neighbor information based on DiagramMaker edges.\n  values(state.edges).forEach((edge) => {\n    const srcIndex = nodeIndex[edge.src];\n    const destIndex = nodeIndex[edge.dest];\n\n    // Note:\n    // The directionality of the graph is ignored.\n    // No matter if we're laying out children nodes around the parent,\n    // or parent nodes around the child, the same rules spread in both directions.\n    graph[srcIndex].neighbors.push(destIndex);\n    graph[destIndex].neighbors.push(srcIndex);\n  });\n\n  // Calculate positioning during BFS traversal.\n  const nodeStatus: TraversalStatus[] = graph.map(\n    node => node.isFixed ? TraversalStatus.VISITED : TraversalStatus.NOT_VISITED\n  );\n\n  let currentLayer: number[] = fixedNodes;\n  let r = distanceMax;\n  while (currentLayer.length) {\n    // Mark current layer as VISITED.\n    currentLayer.forEach((node) => {\n      nodeStatus[node] = TraversalStatus.VISITED;\n    });\n\n    // Calculate next layer by traversing neighbors of the current layer.\n    const nextLayer: number[] = [];\n    currentLayer.forEach((node) => {\n      graph[node].neighbors.forEach((neighbor) => {\n        if (nodeStatus[neighbor] === TraversalStatus.VISITED) { return; }\n\n        graph[neighbor].parents.push(node);\n        if (nodeStatus[neighbor] === TraversalStatus.NOT_VISITED) {\n          nextLayer.push(neighbor);\n          nodeStatus[neighbor] = TraversalStatus.PROCESSING;\n        }\n      });\n    });\n\n    // Position the next layer.\n\n    // Start with the nodes that are connected to multiple fixed parents.\n    // Place them in the centroid of all of their parents.\n    nextLayer.forEach((node) => {\n      if (graph[node].parents.length > 1) {\n        const parentsCount = graph[node].parents.length;\n\n        const sumX = graph[node].parents.reduce((sum, parent) => sum + (graph[parent].x as number), 0);\n        graph[node].x = sumX / parentsCount;\n\n        const sumY = graph[node].parents.reduce((sum, parent) => sum + (graph[parent].y as number), 0);\n        graph[node].y = sumY / parentsCount;\n\n        graph[node].isFixed = true;\n      }\n    });\n\n    // Calculate the fixtures (angles that are already fixed) for each node in the current layer.\n    const fixtures: NodeDirection[][] = graph.map(node => []);\n    currentLayer.forEach((node) => {\n      graph[node].neighbors.forEach((neighbor) => {\n        if (graph[neighbor].isFixed) {\n          fixtures[node].push({\n            angle: getAngle(graph[node], graph[neighbor]),\n            isFixed: true\n          });\n        }\n      });\n      sortNodeDirections(fixtures[node]);\n    });\n\n    // Distribute all remaining free-hanging nodes between the fixtures.\n    currentLayer.forEach((node) => {\n      let gravityAngle = initialGravityAngle;\n\n      const meanOfFixtures = meanOfAngles(fixtures[node].map(fixture => fixture.angle));\n      if (!isNaN(meanOfFixtures)) {\n        gravityAngle = normalizeAngle(meanOfFixtures + Math.PI);\n      }\n\n      const freeNodesCount = graph[node].neighbors.length - fixtures[node].length;\n      const arrangement = arrangeEvenly(freeNodesCount, fixtures[node], gravityAngle);\n\n      applyGravity(arrangement, gravityAngle, gravityStrength);\n\n      let arrangementIndex = 0;\n      graph[node].neighbors.forEach((neighbor) => {\n        if (!graph[neighbor].isFixed) {\n          while (arrangement[arrangementIndex].isFixed) {\n            arrangementIndex += 1;\n          }\n          const angle = arrangement[arrangementIndex].angle;\n          graph[neighbor].x = (graph[node].x as number) + Math.cos(angle) * r;\n          graph[neighbor].y = (graph[node].y as number) + Math.sin(angle) * r;\n          graph[neighbor].isFixed = true;\n\n          arrangementIndex += 1;\n        }\n      });\n    });\n\n    // Move on to the next layer.\n    currentLayer = nextLayer;\n    r = distanceMin + (r - distanceMin) * (1 - distanceDeclineRate);\n  }\n\n  // Update the original data with the calculated values.\n  return produce(state, (draftState) => {\n    graph.forEach((node) => {\n      if (isFinite(node.x) && isFinite(node.y)) {\n        const nodeSize = draftState.nodes[node.id].diagramMakerData.size;\n        const diagramMakerNode = draftState.nodes[node.id].diagramMakerData.position = {\n          x: (node.x as number) - nodeSize.width / 2,\n          y: (node.y as number) - nodeSize.height / 2\n        };\n      }\n    });\n  });\n}\n\n/**\n * Arranges `nodesCount` number of angles between `fixtures` in the most even way.\n *\n * More technically:\n * Maximizes the smallest angle between any two nodes (free and fixed).\n */\nfunction arrangeEvenly(nodesCount: number, fixtures: NodeDirection[], defaultAngle: number): NodeDirection[] {\n  const arrangement: NodeDirection[] = [];\n\n  // No nodes to arrange? Return fixtures unchanged.\n  if (nodesCount <= 0) {\n    return clone(fixtures);\n  }\n\n  // If there is no fixtures, just arrange nodes evenly.\n  if (!fixtures.length) {\n    const angleIncrement = (Math.PI * 2) / nodesCount;\n\n    // General orientation should point to `defaultAngle`:\n    // - For odd number of nodes, one of the nodes points to `defaultAngle`.\n    // - For even number of nodes, `defaultAngle` is in the middle between two consecutive nodes.\n    let angle = (nodesCount % 2 === 0)\n      ? normalizeAngle(defaultAngle + angleIncrement * 0.5)\n      : defaultAngle;\n\n    for (let i = 0; i < nodesCount; i += 1) {\n      arrangement.push({ angle, isFixed: false });\n\n      angle = normalizeAngle(angle + angleIncrement);\n    }\n\n    sortNodeDirections(arrangement);\n    return arrangement;\n  }\n\n  // Calculate the segments bewteen the fixtures (in angles).\n  const segments = [];\n  for (let i = 1; i < fixtures.length; i += 1) {\n    segments.push(fixtures[i].angle - fixtures[i - 1].angle);\n  }\n  segments.push((fixtures[0].angle + Math.PI * 2) - fixtures[fixtures.length - 1].angle);\n\n  // Use dynamic programming to figure out the best arrangement.\n  // `minAngle[x][y]` equals to the minimum angle in optimal arrangement\n  // of Y number nodes in the 0..X segments.\n  //\n  // As example `minAngle[5][3]` equals to the minimal angle between any nodes,\n  // when we arrange 5 nodes in segments 0, 1 and 2.\n\n  // Initialize the table with 0 in each position. That's the worst outcome for optimal arrangement.\n  const minAngle: number[][] = [];\n  const bestNodesCount: number[][] = [];\n  for (let segmentIndex = 0; segmentIndex < segments.length; segmentIndex += 1) {\n    minAngle.push([]);\n    bestNodesCount.push([]);\n    for (let nodes = 0; nodes <= nodesCount; nodes += 1) {\n      minAngle[segmentIndex].push(0);\n      bestNodesCount[segmentIndex].push(0);\n    }\n  }\n\n  // Initialize `minAngle[X][0]`. This is when we don't have any nodes to arrange.\n  minAngle[0][0] = segments[0];\n  bestNodesCount[0][0] = 0;\n  for (let segmentIndex = 1; segmentIndex < segments.length; segmentIndex += 1) {\n    minAngle[segmentIndex][0] = Math.min(segments[segmentIndex], minAngle[segmentIndex - 1][0]);\n    bestNodesCount[segmentIndex][0] = 0;\n  }\n\n  // Initialize `minAngle[0][X]`. This is when we arrange X nodes evenly in the first segment.\n  for (let nodes = 1; nodes <= nodesCount; nodes += 1) {\n    // Squeezing X nodes in a segment splits it into (X + 1) equal subsegments.\n    minAngle[0][nodes] = segments[0] / (nodes + 1);\n    bestNodesCount[0][nodes] = nodes;\n  }\n\n  // Calculate the minimal angle for each remaining cell.\n  for (let segmentIndex = 1; segmentIndex < segments.length; segmentIndex += 1) {\n    for (let nodes = 1; nodes <= nodesCount; nodes += 1) {\n      let best = Math.min(minAngle[segmentIndex - 1][nodes], segments[segmentIndex]);\n      let bestNodes = 0;\n      for (let x = 1; x <= nodes; x += 1) {\n        const current = Math.min(minAngle[segmentIndex - 1][nodes - x], segments[segmentIndex] / (x + 1));\n        if (current >= best) {\n          best = current;\n          bestNodes = x;\n        }\n      }\n\n      minAngle[segmentIndex][nodes] = best;\n      bestNodesCount[segmentIndex][nodes] = bestNodes;\n    }\n  }\n\n  // Based on the results, extract the optimal number of nodes that should go in each segment.\n  const segmentNodesCount: number[] = segments.map(segment => 0);\n  let remaining = nodesCount;\n  for (let segmentIndex = segments.length - 1; segmentIndex >= 0; segmentIndex -= 1) {\n    segmentNodesCount[segmentIndex] = bestNodesCount[segmentIndex][remaining];\n    remaining -= segmentNodesCount[segmentIndex];\n  }\n\n  // Finally, calculate and return the actual angles.\n  for (let segmentIndex = 0; segmentIndex < segments.length; segmentIndex += 1) {\n    arrangement.push(fixtures[segmentIndex]);\n    let angle = fixtures[segmentIndex].angle;\n    const angleIncrement = segments[segmentIndex] / (segmentNodesCount[segmentIndex] + 1);\n    for (let node = 0; node < segmentNodesCount[segmentIndex]; node += 1) {\n      angle += angleIncrement;\n      angle = normalizeAngle(angle);\n      arrangement.push({ angle, isFixed: false });\n    }\n  }\n\n  sortNodeDirections(arrangement);\n  return arrangement;\n}\n\n/**\n * Moves all nodes in the direction of `gravityAngle` while not pressing too hard against the neighbors.\n * Fixed directions are not moved.\n */\nfunction applyGravity(directions: NodeDirection[], gravityAngle: number, gravityStrength: number): void {\n  // No nodes or no gravity, nothing to do here.\n  if (!directions.length || gravityStrength <= 0) {\n    return;\n  }\n\n  // If it's one node and it's free, move it to `gravityAngle`.\n  // If it's fixed, nothing to do.\n  if (directions.length === 1) {\n    if (!directions[0].isFixed) {\n      directions[0].angle = gravityAngle;\n    }\n    return;\n  }\n\n  const incIndex = (i: number) => ((i + 1) % directions.length);\n  const decIndex = (i: number) => (i === 0 ? (directions.length - 1) : (i - 1));\n\n  // Find two nodes exactly before and after `gravityAngle`.\n  let nextIndex = 0;\n  while (nextIndex < directions.length - 1 && directions[nextIndex].angle < gravityAngle) {\n    nextIndex += 1;\n  }\n  if (directions[nextIndex].angle < gravityAngle) {\n    nextIndex = 0;\n  }\n\n  const previousIndex = decIndex(nextIndex);\n\n  const anglePrevious = directions[previousIndex].angle;\n  const angleNext = directions[nextIndex].angle;\n\n  // Push `previousIndex` and `nextIndex` towards `gravityAngle` with a \"special care\":\n  // Consider which of them are fixed and which are free and push the closest right to `gravityAngle`,\n  // while also ensuring that we don't press towards the neighbor too hard.\n\n  if (directions[previousIndex].isFixed && directions[nextIndex].isFixed) {\n    // Both sides are fixed, nothing to do.\n  } else if (directions[previousIndex].isFixed) {\n    // If `previousIndex` is fixed, move the free `nextIndex` towards gravity.\n    const pushedAngle = pushTowardsAngle(angleNext, anglePrevious, gravityStrength);\n    if (angleBetween(gravityAngle, anglePrevious) >= angleBetween(pushedAngle, anglePrevious)) {\n      // If moving node directly to `gravityAngle` won't squeeze it too hard to neighbor, let's do it.\n      directions[nextIndex].angle = gravityAngle;\n    } else {\n      // However if it gets too close, use regular `pushTowardsAngle` formula instead.\n      directions[nextIndex].angle = pushedAngle;\n    }\n  } else if (directions[nextIndex].isFixed) {\n    // If `nextIndex` is fixed, move the free `previousIndex` towards gravity.\n    const pushedAngle = pushTowardsAngle(anglePrevious, angleNext, gravityStrength);\n    if (angleBetween(gravityAngle, angleNext) >= angleBetween(pushedAngle, angleNext)) {\n      // If moving node directly to `gravityAngle` won't squeeze it too hard to neighbor, let's do it.\n      directions[previousIndex].angle = gravityAngle;\n    } else {\n      // However if it gets too close, use regular `pushTowardsAngle` formula instead.\n      directions[previousIndex].angle = pushedAngle;\n    }\n  } else {\n    // Both `previousIndex` and `nextIndex` are free.\n    const anglePreviousToGravity = angleBetween(anglePrevious, gravityAngle);\n    const angleNextToGravity = angleBetween(angleNext, gravityAngle);\n    if (Math.abs(angleNextToGravity - anglePreviousToGravity) < 0.01) {\n      // Two free nodes are equally close to gravity. Move them equally closer, based on `gravityStrength`.\n      directions[previousIndex].angle =\n        pushTowardsAngle(directions[previousIndex].angle, gravityAngle, gravityStrength);\n\n      directions[nextIndex].angle =\n        pushTowardsAngle(directions[nextIndex].angle, gravityAngle, gravityStrength);\n    } else if (anglePreviousToGravity <= angleNextToGravity) {\n      // `previousIndex` is closer to `gravityAngle`. Move it right to `gravityAngle`.\n      directions[previousIndex].angle = gravityAngle;\n      directions[nextIndex].angle = pushTowardsAngle(angleNext, gravityAngle, gravityStrength);\n    } else {\n      // `nextIndex` is closer to `gravityAngle`. Move it right to `gravityAngle`.\n      directions[nextIndex].angle = gravityAngle;\n      directions[previousIndex].angle = pushTowardsAngle(anglePrevious, gravityAngle, gravityStrength);\n    }\n  }\n\n  // Going counter-clockwise until we reach the diamterically opposite angle to `gravityAngle`.\n  let index = incIndex(nextIndex);\n  while (index !== previousIndex && isLeftTurn(gravityAngle, directions[index].angle)) {\n    if (!directions[index].isFixed) {\n      directions[index].angle =\n        pushTowardsAngle(directions[index].angle, directions[decIndex(index)].angle, gravityStrength);\n    }\n    index = incIndex(index);\n  }\n\n  // Going clockwise until we reach the diamterically opposite angle to `gravityAngle`.\n  index = decIndex(previousIndex);\n  while (index !== nextIndex && !isLeftTurn(gravityAngle, directions[index].angle)) {\n    if (!directions[index].isFixed) {\n      directions[index].angle =\n        pushTowardsAngle(directions[index].angle, directions[incIndex(index)].angle, gravityStrength);\n    }\n    index = decIndex(index);\n  }\n\n  sortNodeDirections(directions);\n}\n\n/**\n * Most functions expect directions to be sorted by the `angle`,\n * so that the traversal will happen around the circle.\n */\nfunction sortNodeDirections(directions: NodeDirection[]): void {\n  directions.sort((a, b) => a.angle - b.angle);\n}\n\n/**\n * Pushes the `angle` towards `targetAngle` with `strength`.\n *\n * The higher `strength` is, the closer `angle` will move towards:\n * - `strength` of 1.0 means that `targetAngle` pushes away with the same force as `angle` is being pushed towards.\n * - `strength` of 2.0 means that `targetAngle` is twice as strong as the `angle`.\n */\nfunction pushTowardsAngle(angle: number, targetAngle: number, strength: number): number {\n  const angleIncrement = (strength / (strength + 1)) * angleBetween(angle, targetAngle);\n  if (isLeftTurn(angle, targetAngle)) {\n    return normalizeAngle(angle + angleIncrement);\n  }\n  return normalizeAngle(angle - angleIncrement);\n}\n\n/**\n * Returns the mean (or \"average\") of `angles`.\n * Returns NaN, when angles are dimaterically opposite.\n */\nfunction meanOfAngles(angles: number[]): number {\n  if (!angles.length) {\n    return NaN;\n  }\n\n  // https://en.wikipedia.org/wiki/Mean_of_circular_quantities#Mean_of_angles\n  const x = angles\n    .map(a => Math.cos(a))\n    .reduce((acc, value) => acc + value, 0);\n\n  const y = angles\n    .map(a => Math.sin(a))\n    .reduce((acc, value) => acc + value, 0);\n\n  if (Math.abs(x) < 0.001 && Math.abs(y) < 0.001) {\n    // The centroid is very close to the origin (0, 0)\n    // which means that all angles balance each other out.\n    return NaN;\n  }\n  return normalizeAngle(Math.atan2(y, x));\n}\n\n/**\n * Returns true when `angle` is left (or \"counter-clockwise\") to `angleBase`.\n *\n * An angle is not considered left to itself:\n *   isLeftTurn(a, a) -> false\n *\n * An angle is considered left to diametrically opposite angle:\n *   isLeftTurn(a, a + PI) -> true\n */\nfunction isLeftTurn(angleBase: number, angle: number): boolean {\n  const angleOpposite = normalizeAngle(angleBase + Math.PI);\n\n  if (angleBase < Math.PI) {\n    return (angle > angleBase && angle <= angleOpposite);\n  }\n  return (angle > angleBase || angle <= angleOpposite);\n}\n\n/**\n * Finds the smaller angle between two angles.\n */\nfunction angleBetween(angleA: number, angleB: number): number {\n  const angle = Math.abs(angleA - angleB);\n  return Math.min(angle, Math.PI * 2 - angle);\n}\n\n/**\n * Calculates the angle of vector from `node1` to `node2` relative to X axis.\n */\nfunction getAngle(node1: GraphNode, node2: GraphNode): number {\n  const x1 = node1.x as number;\n  const y1 = node1.y as number;\n  const x2 = node2.x as number;\n  const y2 = node2.y as number;\n\n  // Math.atan2(y, x) takes Y coordinate first. WAT?!\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/atan2\n  const angle = Math.atan2(y2 - y1, x2 - x1);\n\n  // Math.atan2(y, x) returns angle in the range [-PI, PI].\n  // Converting it to the positive range [0, 2 * PI]\n  return normalizeAngle(angle);\n}\n\n/**\n * Normalizes any angle to range [0, 2 * PI).\n */\nfunction normalizeAngle(angle: number): number {\n  let result = angle;\n  while (result < 0) { result += Math.PI * 2; }\n  while (result >= Math.PI * 2) { result -= Math.PI * 2; }\n  return result;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function zi(n,e){Wi.f[1]++;var A=(Wi.s[4]++,e.distanceMin),t=(Wi.s[5]++,wi(e.distanceMax)?(Wi.b[1][0]++,e.distanceMax):(Wi.b[1][1]++,3*A)),o=(Wi.s[6]++,wi(e.distanceDeclineRate)?(Wi.b[2][0]++,e.distanceDeclineRate):(Wi.b[2][1]++,.3)),i=(Wi.s[7]++,wi(e.gravityAngle)?(Wi.b[3][0]++,Vi(-e.gravityAngle)):(Wi.b[3][1]++,.5*Math.PI)),l=(Wi.s[8]++,wi(e.gravityStrength)?(Wi.b[4][0]++,e.gravityStrength):(Wi.b[4][1]++,0)),r=(Wi.s[9]++,{});Wi.s[10]++,e.fixedNodeIds.forEach((function(n){return Wi.f[2]++,Wi.s[11]++,r[n]=!0}));var a=(Wi.s[12]++,[]),c=(Wi.s[13]++,{}),s=(Wi.s[14]++,Yi(n.nodes).map((function(n,e){Wi.f[3]++,Wi.s[15]++,c[n.id]=e;var A=(Wi.s[16]++,{id:n.id,neighbors:[],parents:[]}),t=(Wi.s[17]++,n.diagramMakerData.position),o=(Wi.s[18]++,n.diagramMakerData.size);return Wi.s[19]++,r[n.id]?(Wi.b[5][0]++,Wi.s[20]++,A.isFixed=!0,Wi.s[21]++,A.x=t.x+o.width/2,Wi.s[22]++,A.y=t.y+o.height/2,Wi.s[23]++,a.push(e)):Wi.b[5][1]++,Wi.s[24]++,A})));Wi.s[25]++,Yi(n.edges).forEach((function(n){Wi.f[4]++;var e=(Wi.s[26]++,c[n.src]),A=(Wi.s[27]++,c[n.dest]);Wi.s[28]++,s[e].neighbors.push(A),Wi.s[29]++,s[A].neighbors.push(e)}));var C=(Wi.s[30]++,s.map((function(n){return Wi.f[5]++,Wi.s[31]++,n.isFixed?(Wi.b[6][0]++,Ri.VISITED):(Wi.b[6][1]++,Ri.NOT_VISITED)}))),u=(Wi.s[32]++,a),d=(Wi.s[33]++,t);Wi.s[34]++;var m=function(){Wi.f[6]++,Wi.s[35]++,u.forEach((function(n){Wi.f[7]++,Wi.s[36]++,C[n]=Ri.VISITED}));var n=(Wi.s[37]++,[]);Wi.s[38]++,u.forEach((function(e){Wi.f[8]++,Wi.s[39]++,s[e].neighbors.forEach((function(A){if(Wi.f[9]++,Wi.s[40]++,C[A]===Ri.VISITED)return Wi.b[7][0]++,void Wi.s[41]++;Wi.b[7][1]++,Wi.s[42]++,s[A].parents.push(e),Wi.s[43]++,C[A]===Ri.NOT_VISITED?(Wi.b[8][0]++,Wi.s[44]++,n.push(A),Wi.s[45]++,C[A]=Ri.PROCESSING):Wi.b[8][1]++}))})),Wi.s[46]++,n.forEach((function(n){if(Wi.f[10]++,Wi.s[47]++,s[n].parents.length>1){Wi.b[9][0]++;var e=(Wi.s[48]++,s[n].parents.length),A=(Wi.s[49]++,s[n].parents.reduce((function(n,e){return Wi.f[11]++,Wi.s[50]++,n+s[e].x}),0));Wi.s[51]++,s[n].x=A/e;var t=(Wi.s[52]++,s[n].parents.reduce((function(n,e){return Wi.f[12]++,Wi.s[53]++,n+s[e].y}),0));Wi.s[54]++,s[n].y=t/e,Wi.s[55]++,s[n].isFixed=!0}else Wi.b[9][1]++}));var e=(Wi.s[56]++,s.map((function(n){return Wi.f[13]++,Wi.s[57]++,[]})));Wi.s[58]++,u.forEach((function(n){Wi.f[14]++,Wi.s[59]++,s[n].neighbors.forEach((function(A){Wi.f[15]++,Wi.s[60]++,s[A].isFixed?(Wi.b[10][0]++,Wi.s[61]++,e[n].push({angle:qi(s[n],s[A]),isFixed:!0})):Wi.b[10][1]++})),Wi.s[62]++,Li(e[n])})),Wi.s[63]++,u.forEach((function(n){Wi.f[16]++;var A=(Wi.s[64]++,i),t=(Wi.s[65]++,function(n){if(Wi.f[29]++,Wi.s[205]++,!n.length)return Wi.b[39][0]++,Wi.s[206]++,NaN;Wi.b[39][1]++;var e=(Wi.s[207]++,n.map((function(n){return Wi.f[30]++,Wi.s[208]++,Math.cos(n)})).reduce((function(n,e){return Wi.f[31]++,Wi.s[209]++,n+e}),0)),A=(Wi.s[210]++,n.map((function(n){return Wi.f[32]++,Wi.s[211]++,Math.sin(n)})).reduce((function(n,e){return Wi.f[33]++,Wi.s[212]++,n+e}),0));if(Wi.s[213]++,Wi.b[41][0]++,Math.abs(e)<.001&&(Wi.b[41][1]++,Math.abs(A)<.001))return Wi.b[40][0]++,Wi.s[214]++,NaN;Wi.b[40][1]++;return Wi.s[215]++,Vi(Math.atan2(A,e))}(e[n].map((function(n){return Wi.f[17]++,Wi.s[66]++,n.angle}))));Wi.s[67]++,isNaN(t)?Wi.b[11][1]++:(Wi.b[11][0]++,Wi.s[68]++,A=Vi(t+Math.PI));var o=(Wi.s[69]++,s[n].neighbors.length-e[n].length),r=(Wi.s[70]++,function(n,e,A){Wi.f[21]++;var t=(Wi.s[91]++,[]);if(Wi.s[92]++,n<=0)return Wi.b[15][0]++,Wi.s[93]++,Ti(e);Wi.b[15][1]++;if(Wi.s[94]++,!e.length){Wi.b[16][0]++;var o=(Wi.s[95]++,2*Math.PI/n),i=(Wi.s[96]++,n%2==0?(Wi.b[17][0]++,Vi(A+.5*o)):(Wi.b[17][1]++,A));Wi.s[97]++;for(var l=0;l<n;l+=1)Wi.s[98]++,t.push({angle:i,isFixed:!1}),Wi.s[99]++,i=Vi(i+o);return Wi.s[100]++,Li(t),Wi.s[101]++,t}Wi.b[16][1]++;var r=(Wi.s[102]++,[]);Wi.s[103]++;for(l=1;l<e.length;l+=1)Wi.s[104]++,r.push(e[l].angle-e[l-1].angle);Wi.s[105]++,r.push(e[0].angle+2*Math.PI-e[e.length-1].angle);var a=(Wi.s[106]++,[]),c=(Wi.s[107]++,[]);Wi.s[108]++;for(var s=0;s<r.length;s+=1){Wi.s[109]++,a.push([]),Wi.s[110]++,c.push([]),Wi.s[111]++;for(var C=0;C<=n;C+=1)Wi.s[112]++,a[s].push(0),Wi.s[113]++,c[s].push(0)}Wi.s[114]++,a[0][0]=r[0],Wi.s[115]++,c[0][0]=0,Wi.s[116]++;for(s=1;s<r.length;s+=1)Wi.s[117]++,a[s][0]=Math.min(r[s],a[s-1][0]),Wi.s[118]++,c[s][0]=0;Wi.s[119]++;for(C=1;C<=n;C+=1)Wi.s[120]++,a[0][C]=r[0]/(C+1),Wi.s[121]++,c[0][C]=C;Wi.s[122]++;for(s=1;s<r.length;s+=1){Wi.s[123]++;for(C=1;C<=n;C+=1){var u=(Wi.s[124]++,Math.min(a[s-1][C],r[s])),d=(Wi.s[125]++,0);Wi.s[126]++;for(var m=1;m<=C;m+=1){var E=(Wi.s[127]++,Math.min(a[s-1][C-m],r[s]/(m+1)));Wi.s[128]++,E>=u?(Wi.b[18][0]++,Wi.s[129]++,u=E,Wi.s[130]++,d=m):Wi.b[18][1]++}Wi.s[131]++,a[s][C]=u,Wi.s[132]++,c[s][C]=d}}var p=(Wi.s[133]++,r.map((function(n){return Wi.f[22]++,Wi.s[134]++,0}))),f=(Wi.s[135]++,n);Wi.s[136]++;for(s=r.length-1;s>=0;s-=1)Wi.s[137]++,p[s]=c[s][f],Wi.s[138]++,f-=p[s];Wi.s[139]++;for(s=0;s<r.length;s+=1){Wi.s[140]++,t.push(e[s]);i=(Wi.s[141]++,e[s].angle),o=(Wi.s[142]++,r[s]/(p[s]+1));Wi.s[143]++;for(var g=0;g<p[s];g+=1)Wi.s[144]++,i+=o,Wi.s[145]++,i=Vi(i),Wi.s[146]++,t.push({angle:i,isFixed:!1})}return Wi.s[147]++,Li(t),Wi.s[148]++,t}(o,e[n],A));Wi.s[71]++,function(n,e,A){if(Wi.f[23]++,Wi.s[149]++,Wi.b[20][0]++,!n.length||(Wi.b[20][1]++,A<=0))return Wi.b[19][0]++,void Wi.s[150]++;Wi.b[19][1]++;if(Wi.s[151]++,1===n.length)return Wi.b[21][0]++,Wi.s[152]++,n[0].isFixed?Wi.b[22][1]++:(Wi.b[22][0]++,Wi.s[153]++,n[0].angle=e),void Wi.s[154]++;Wi.b[21][1]++;Wi.s[155]++;var t=function(e){return Wi.f[24]++,Wi.s[156]++,(e+1)%n.length};Wi.s[157]++;var o=function(e){return Wi.f[25]++,Wi.s[158]++,0===e?(Wi.b[23][0]++,n.length-1):(Wi.b[23][1]++,e-1)},i=(Wi.s[159]++,0);Wi.s[160]++;for(;Wi.b[24][0]++,i<n.length-1&&(Wi.b[24][1]++,n[i].angle<e);)Wi.s[161]++,i+=1;Wi.s[162]++,n[i].angle<e?(Wi.b[25][0]++,Wi.s[163]++,i=0):Wi.b[25][1]++;var l=(Wi.s[164]++,o(i)),r=(Wi.s[165]++,n[l].angle),a=(Wi.s[166]++,n[i].angle);if(Wi.s[167]++,Wi.b[27][0]++,n[l].isFixed&&(Wi.b[27][1]++,n[i].isFixed))Wi.b[26][0]++;else if(Wi.b[26][1]++,Wi.s[168]++,n[l].isFixed){Wi.b[28][0]++;var c=(Wi.s[169]++,ji(a,r,A));Wi.s[170]++,Hi(e,r)>=Hi(c,r)?(Wi.b[29][0]++,Wi.s[171]++,n[i].angle=e):(Wi.b[29][1]++,Wi.s[172]++,n[i].angle=c)}else if(Wi.b[28][1]++,Wi.s[173]++,n[i].isFixed){Wi.b[30][0]++;c=(Wi.s[174]++,ji(r,a,A));Wi.s[175]++,Hi(e,a)>=Hi(c,a)?(Wi.b[31][0]++,Wi.s[176]++,n[l].angle=e):(Wi.b[31][1]++,Wi.s[177]++,n[l].angle=c)}else{Wi.b[30][1]++;var s=(Wi.s[178]++,Hi(r,e)),C=(Wi.s[179]++,Hi(a,e));Wi.s[180]++,Math.abs(C-s)<.01?(Wi.b[32][0]++,Wi.s[181]++,n[l].angle=ji(n[l].angle,e,A),Wi.s[182]++,n[i].angle=ji(n[i].angle,e,A)):(Wi.b[32][1]++,Wi.s[183]++,s<=C?(Wi.b[33][0]++,Wi.s[184]++,n[l].angle=e,Wi.s[185]++,n[i].angle=ji(a,e,A)):(Wi.b[33][1]++,Wi.s[186]++,n[i].angle=e,Wi.s[187]++,n[l].angle=ji(r,e,A)))}var u=(Wi.s[188]++,t(i));Wi.s[189]++;for(;Wi.b[34][0]++,u!==l&&(Wi.b[34][1]++,Fi(e,n[u].angle));)Wi.s[190]++,n[u].isFixed?Wi.b[35][1]++:(Wi.b[35][0]++,Wi.s[191]++,n[u].angle=ji(n[u].angle,n[o(u)].angle,A)),Wi.s[192]++,u=t(u);Wi.s[193]++,u=o(l),Wi.s[194]++;for(;Wi.b[36][0]++,u!==i&&(Wi.b[36][1]++,!Fi(e,n[u].angle));)Wi.s[195]++,n[u].isFixed?Wi.b[37][1]++:(Wi.b[37][0]++,Wi.s[196]++,n[u].angle=ji(n[u].angle,n[t(u)].angle,A)),Wi.s[197]++,u=o(u);Wi.s[198]++,Li(n)}(r,A,l);var a=(Wi.s[72]++,0);Wi.s[73]++,s[n].neighbors.forEach((function(e){if(Wi.f[18]++,Wi.s[74]++,s[e].isFixed)Wi.b[12][1]++;else{for(Wi.b[12][0]++,Wi.s[75]++;r[a].isFixed;)Wi.s[76]++,a+=1;var A=(Wi.s[77]++,r[a].angle);Wi.s[78]++,s[e].x=s[n].x+Math.cos(A)*d,Wi.s[79]++,s[e].y=s[n].y+Math.sin(A)*d,Wi.s[80]++,s[e].isFixed=!0,Wi.s[81]++,a+=1}}))})),Wi.s[82]++,u=n,Wi.s[83]++,d=A+(d-A)*(1-o)};for(Wi.s[84]++;u.length;)Wi.s[85]++,m();return Wi.s[86]++,DA(n,(function(n){Wi.f[19]++,Wi.s[87]++,s.forEach((function(e){if(Wi.f[20]++,Wi.s[88]++,Wi.b[14][0]++,Ui(e.x)&&(Wi.b[14][1]++,Ui(e.y))){Wi.b[13][0]++;var A=(Wi.s[89]++,n.nodes[e.id].diagramMakerData.size);Wi.s[90]++,n.nodes[e.id].diagramMakerData.position={x:e.x-A.width/2,y:e.y-A.height/2}}else Wi.b[13][1]++}))}))}function Li(n){Wi.f[26]++,Wi.s[199]++,n.sort((function(n,e){return Wi.f[27]++,Wi.s[200]++,n.angle-e.angle}))}function ji(n,e,A){Wi.f[28]++;var t=(Wi.s[201]++,A/(A+1)*Hi(n,e));return Wi.s[202]++,Fi(n,e)?(Wi.b[38][0]++,Wi.s[203]++,Vi(n+t)):(Wi.b[38][1]++,Wi.s[204]++,Vi(n-t))}function Fi(n,e){Wi.f[34]++;var A=(Wi.s[216]++,Vi(n+Math.PI));return Wi.s[217]++,n<Math.PI?(Wi.b[42][0]++,Wi.s[218]++,Wi.b[43][0]++,e>n&&(Wi.b[43][1]++,e<=A)):(Wi.b[42][1]++,Wi.s[219]++,Wi.b[44][0]++,e>n||(Wi.b[44][1]++,e<=A))}function Hi(n,e){Wi.f[35]++;var A=(Wi.s[220]++,Math.abs(n-e));return Wi.s[221]++,Math.min(A,2*Math.PI-A)}function qi(n,e){Wi.f[36]++;var A=(Wi.s[222]++,n.x),t=(Wi.s[223]++,n.y),o=(Wi.s[224]++,e.x),i=(Wi.s[225]++,e.y),l=(Wi.s[226]++,Math.atan2(i-t,o-A));return Wi.s[227]++,Vi(l)}function Vi(n){Wi.f[37]++;var e=(Wi.s[228]++,n);for(Wi.s[229]++;e<0;)Wi.s[230]++,e+=2*Math.PI;for(Wi.s[231]++;e>=2*Math.PI;)Wi.s[232]++,e-=2*Math.PI;return Wi.s[233]++,e}Wi.s[0]++,function(n){Wi.f[0]++,Wi.s[1]++,n[n.NOT_VISITED=0]="NOT_VISITED",Wi.s[2]++,n[n.PROCESSING=1]="PROCESSING",Wi.s[3]++,n[n.VISITED=2]="VISITED"}((Wi.b[0][0]++,Ri||(Wi.b[0][1]++,Ri={})));var Xi,Zi=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/layoutActions.ts",e="1f57ea767a5fa4158f51390b41f3223b68e3b18a",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/layoutActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:18,column:36}},10:{start:{line:15,column:4},end:{line:15,column:48}},11:{start:{line:17,column:4},end:{line:17,column:40}},12:{start:{line:19,column:20},end:{line:19,column:44}},13:{start:{line:21,column:0},end:{line:30,column:70}},14:{start:{line:23,column:4},end:{line:23,column:60}},15:{start:{line:25,column:4},end:{line:25,column:60}},16:{start:{line:27,column:4},end:{line:27,column:60}},17:{start:{line:29,column:4},end:{line:29,column:60}},18:{start:{line:31,column:37},end:{line:31,column:78}},19:{start:{line:33,column:0},end:{line:36,column:50}},20:{start:{line:35,column:4},end:{line:35,column:43}},21:{start:{line:37,column:27},end:{line:37,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:23},end:{line:18,column:1}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:21,column:1},end:{line:21,column:2}},loc:{start:{line:21,column:40},end:{line:30,column:1}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:33,column:1},end:{line:33,column:2}},loc:{start:{line:33,column:30},end:{line:36,column:1}},line:33}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:18,column:3},end:{line:18,column:34}},type:"binary-expr",locations:[{start:{line:18,column:3},end:{line:18,column:13}},{start:{line:18,column:18},end:{line:18,column:33}}],line:18},4:{loc:{start:{line:30,column:3},end:{line:30,column:68}},type:"binary-expr",locations:[{start:{line:30,column:3},end:{line:30,column:30}},{start:{line:30,column:35},end:{line:30,column:67}}],line:30},5:{loc:{start:{line:36,column:3},end:{line:36,column:48}},type:"binary-expr",locations:[{start:{line:36,column:3},end:{line:36,column:20}},{start:{line:36,column:25},end:{line:36,column:47}}],line:36}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/layoutActions.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/layoutActions.ts"],names:[],mappings:";;;;;;;;;;;AAEA,MAAM,CAAN,IAAY,UAKX;AALD,WAAY,UAAU;IACpB,gFAAgF;IAChF,2CAA6B,CAAA;IAC7B,oCAAoC;IACpC,mCAAqB,CAAA;AACvB,CAAC,EALW,UAAU,KAAV,UAAU,QAKrB;AAED,MAAM,CAAC,IAAM,MAAM,gBACd,UAAU,CACd,CAAC;AA6DF,MAAM,CAAN,IAAY,2BASX;AATD,WAAY,2BAA2B;IACrC,mCAAmC;IACnC,uDAAwB,CAAA;IACxB,mCAAmC;IACnC,uDAAwB,CAAA;IACxB,mCAAmC;IACnC,uDAAwB,CAAA;IACxB,mCAAmC;IACnC,uDAAwB,CAAA;AAC1B,CAAC,EATW,2BAA2B,KAA3B,2BAA2B,QAStC;AAED,MAAM,CAAC,IAAM,uBAAuB,gBAC/B,2BAA2B,CAC/B,CAAC;AA0BF,MAAM,CAAN,IAAY,iBAGX;AAHD,WAAY,iBAAiB;IAC3B,yCAAyC;IACzC,sCAAiB,CAAA;AACnB,CAAC,EAHW,iBAAiB,KAAjB,iBAAiB,QAG5B;AAED,MAAM,CAAC,IAAM,aAAa,gBACrB,iBAAiB,CACrB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nexport enum LayoutType {\n  /** Layout used for heirarchical graphs. Used for tree type graph structures. */\n  HIERARCHICAL = 'Hierarchical',\n  /** Layout used for flow digrams. */\n  WORKFLOW = 'Workflow'\n}\n\nexport const Layout = {\n  ...LayoutType\n};\n\nexport interface HierarchicalLayoutConfig {\n  layoutType: LayoutType.HIERARCHICAL;\n\n  /**\n   * List of nodes that must remain their positions.\n   * All other nodes are arranged around these fixed nodes.\n   */\n  fixedNodeIds: string[];\n\n  /**\n   * Minimal distance between two nodes.\n   */\n  distanceMin: number;\n\n  /**\n   * Maximal distance between two nodes.\n   * Defaults to `3 * distanceMin`.\n   */\n  distanceMax?: number;\n\n  /**\n   * Number from 0.0 to 1.0 representing how fast\n   * the distance between two nodes declines with each layer.\n   *\n   *   `0.0` means it will always remain `distanceMax`\n   *\n   *   `1.0` means it will jump and stay at `distanceMin`\n   *         starting from the second layer.\n   *\n   * Defaults to `0.3`.\n   */\n  distanceDeclineRate?: number;\n\n  /**\n   * Angle of gravity in radians.\n   *\n   *   `0.0` is rightward direction.\n   *\n   *   `Math.PI * 0.5` is upward direction.\n   *\n   * Defaults to `Math.PI * 1.5` (downward).\n   */\n  gravityAngle?: number;\n\n  /**\n   * Strength of gravity.\n   *\n   *   `0.0` disables the gravity.\n   *\n   *   `1.0` means that nodes push each other away\n   *         with the equal force as gravity pulls them towards `gravityAngle`.\n   *\n   *   `2.0` means that gravity is twice as strong as nodes repulsion.\n   *\n   * Defaults to `0.0`.\n   */\n  gravityStrength?: number;\n}\n\nexport enum WorkflowLayoutDirectionType {\n  /** Flow goes from top to bottom */\n  TOP_BOTTOM = 'TopBottom',\n  /** Flow goes from bottom to top */\n  BOTTOM_TOP = 'BottomTop',\n  /** Flow goes from left to right */\n  LEFT_RIGHT = 'LeftRight',\n  /** Flow goes from right to left */\n  RIGHT_LEFT = 'RightLeft'\n}\n\nexport const WorkflowLayoutDirection = {\n  ...WorkflowLayoutDirectionType\n};\n\nexport interface WorkflowLayoutConfig {\n  layoutType: LayoutType.WORKFLOW;\n\n  /**\n   * Direction of the workflow.\n   */\n  direction: WorkflowLayoutDirectionType;\n\n  /**\n   * Minimal distance between two nodes.\n   */\n  distanceMin: number;\n\n  /**\n   * When provided, the position of `fixedNodeId` will remain the same after layout.\n   * All other nodes will be layed out around this node.\n   *\n   * If not provided, the graph will be moved to top-left corner of the canvas.\n   */\n  fixedNodeId?: string;\n}\n\nexport type LayoutConfig = HierarchicalLayoutConfig | WorkflowLayoutConfig;\n\nexport enum LayoutActionsType {\n  /** Layout the nodes using auto layout */\n  LAYOUT = 'LAYOUT'\n}\n\nexport const LayoutActions = {\n  ...LayoutActionsType\n};\n\nexport interface LayoutAction extends Action {\n  type: LayoutActionsType.LAYOUT;\n  payload: LayoutConfig;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),Ji=(Zi.s[0]++,void Zi.b[0][0]++&&(Zi.b[0][1]++,(void 0).__assign)||(Zi.b[0][2]++,function(){return Zi.f[0]++,Zi.s[1]++,Zi.b[1][0]++,Ji=Object.assign||(Zi.b[1][1]++,function(n){Zi.f[1]++,Zi.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in Zi.s[3]++,e=arguments[A],Zi.s[4]++,e)Zi.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(Zi.b[2][0]++,Zi.s[6]++,n[o]=e[o]):Zi.b[2][1]++;return Zi.s[7]++,n}),Zi.s[8]++,Ji.apply(this,arguments)}));Zi.s[9]++,function(n){Zi.f[2]++,Zi.s[10]++,n.HIERARCHICAL="Hierarchical",Zi.s[11]++,n.WORKFLOW="Workflow"}((Zi.b[3][0]++,Xi||(Zi.b[3][1]++,Xi={})));var $i,nl=(Zi.s[12]++,Ji({},Xi));Zi.s[13]++,function(n){Zi.f[3]++,Zi.s[14]++,n.TOP_BOTTOM="TopBottom",Zi.s[15]++,n.BOTTOM_TOP="BottomTop",Zi.s[16]++,n.LEFT_RIGHT="LeftRight",Zi.s[17]++,n.RIGHT_LEFT="RightLeft"}((Zi.b[4][0]++,$i||(Zi.b[4][1]++,$i={})));var el,Al=(Zi.s[18]++,Ji({},$i));Zi.s[19]++,function(n){Zi.f[4]++,Zi.s[20]++,n.LAYOUT="LAYOUT"}((Zi.b[5][0]++,el||(Zi.b[5][1]++,el={})));var tl,ol,il=(Zi.s[21]++,Ji({},el)),ll=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/workflowLayout.ts",e="2ced55a89845c1869b595633691d06e9cebd3464",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/workflowLayout.ts",statementMap:{0:{start:{line:8,column:0},end:{line:13,column:1}},1:{start:{line:9,column:4},end:{line:9,column:29}},2:{start:{line:15,column:39},end:{line:20,column:6}},3:{start:{line:22,column:4},end:{line:24,column:5}},4:{start:{line:23,column:8},end:{line:23,column:134}},5:{start:{line:25,column:21},end:{line:25,column:47}},6:{start:{line:26,column:4},end:{line:30,column:7}},7:{start:{line:31,column:4},end:{line:31,column:65}},8:{start:{line:31,column:49},end:{line:31,column:61}},9:{start:{line:32,column:4},end:{line:38,column:7}},10:{start:{line:33,column:23},end:{line:33,column:59}},11:{start:{line:34,column:8},end:{line:37,column:11}},12:{start:{line:39,column:4},end:{line:41,column:7}},13:{start:{line:40,column:8},end:{line:40,column:48}},14:{start:{line:42,column:4},end:{line:42,column:29}},15:{start:{line:46,column:17},end:{line:46,column:31}},16:{start:{line:47,column:4},end:{line:54,column:5}},17:{start:{line:48,column:39},end:{line:48,column:104}},18:{start:{line:49,column:29},end:{line:49,column:72}},19:{start:{line:50,column:8},end:{line:53,column:10}},20:{start:{line:55,column:4},end:{line:63,column:7}},21:{start:{line:56,column:8},end:{line:62,column:11}},22:{start:{line:57,column:28},end:{line:57,column:51}},23:{start:{line:58,column:12},end:{line:61,column:14}}},fnMap:{0:{name:"workflowLayout",decl:{start:{line:21,column:24},end:{line:21,column:38}},loc:{start:{line:21,column:62},end:{line:64,column:1}},line:21},1:{name:"(anonymous_1)",decl:{start:{line:31,column:35},end:{line:31,column:36}},loc:{start:{line:31,column:47},end:{line:31,column:63}},line:31},2:{name:"(anonymous_2)",decl:{start:{line:32,column:30},end:{line:32,column:31}},loc:{start:{line:32,column:48},end:{line:38,column:5}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:39,column:32},end:{line:39,column:33}},loc:{start:{line:39,column:48},end:{line:41,column:5}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:55,column:26},end:{line:55,column:27}},loc:{start:{line:55,column:48},end:{line:63,column:5}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:56,column:35},end:{line:56,column:36}},loc:{start:{line:56,column:53},end:{line:62,column:9}},line:56}},branchMap:{0:{loc:{start:{line:22,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:24,column:5}},{start:{line:22,column:4},end:{line:24,column:5}}],line:22},1:{loc:{start:{line:47,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:54,column:5}},{start:{line:47,column:4},end:{line:54,column:5}}],line:47}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/workflowLayout.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/workflowLayout.ts"],names:[],mappings:"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",sourcesContent:["import { produce } from 'immer';\nimport keys from 'lodash-es/keys';\nimport values from 'lodash-es/values';\n\nimport { DiagramMakerData, DiagramMakerNode, Position } from 'diagramMaker/state/types';\n\nimport { WorkflowLayoutConfig, WorkflowLayoutDirection } from './layoutActions';\n\n/* tslint:disable:no-var-requires */\nlet Dagre: any;\ntry {\n  Dagre = require('dagre');\n} catch (e) {\n  // Dagre is optional\n}\n/* tslint:enabled */\n\nconst WORKFLOW_DIRECTION_TO_DAGRE_MAP = {\n  [WorkflowLayoutDirection.TOP_BOTTOM]: 'TB',\n  [WorkflowLayoutDirection.BOTTOM_TOP]: 'BT',\n  [WorkflowLayoutDirection.LEFT_RIGHT]: 'LR',\n  [WorkflowLayoutDirection.RIGHT_LEFT]: 'RL'\n};\n\nexport default function workflowLayout<NodeType, EdgeType>(\n  state: DiagramMakerData<NodeType, EdgeType>,\n  workflowConfig: WorkflowLayoutConfig\n): DiagramMakerData<NodeType, EdgeType> {\n  if (!Dagre) {\n    throw new Error(\n      'Could not find \"dagre\" library. It must be included in your application in order to use \"Workflow\" layout.'\n    );\n  }\n\n  const dagreGraph = new Dagre.graphlib.Graph() as dagre.graphlib.Graph;\n  dagreGraph.setGraph({\n    rankdir: WORKFLOW_DIRECTION_TO_DAGRE_MAP[workflowConfig.direction],\n    nodesep: workflowConfig.distanceMin,\n    ranksep: workflowConfig.distanceMin\n  });\n  dagreGraph.setDefaultEdgeLabel(() => ({}));\n\n  keys(state.nodes).forEach((nodeId) => {\n    const nodeData = state.nodes[nodeId].diagramMakerData;\n    dagreGraph.setNode(nodeId, {\n      height: nodeData.size.height,\n      width: nodeData.size.width\n    });\n  });\n\n  values(state.edges).forEach((edge) => {\n    dagreGraph.setEdge(edge.src, edge.dest);\n  });\n\n  Dagre.layout(dagreGraph);\n\n  // Dagre lays out graph neatly near the top-left corner.\n  // Move whole graph so that `fixedNodeId` position will remain the same.\n  // (That is, when `fixedNodeId` is provided.)\n  let offset: Position = { x: 0, y: 0 };\n  if (workflowConfig.fixedNodeId) {\n    const initialFixedNodePosition = state.nodes[workflowConfig.fixedNodeId].diagramMakerData.position;\n    const dagreFixedNode = dagreGraph.node(workflowConfig.fixedNodeId);\n    offset = {\n      x: initialFixedNodePosition.x - dagreFixedNode.x,\n      y: initialFixedNodePosition.y - dagreFixedNode.y\n    };\n  }\n\n  return produce(state, (draftState) => {\n    dagreGraph.nodes().forEach((nodeId: any) => {\n      const dagreNode = dagreGraph.node(nodeId);\n      draftState.nodes[nodeId].diagramMakerData.position = {\n        x: dagreNode.x + offset.x,\n        y: dagreNode.y + offset.y\n      };\n    });\n  });\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();ll.s[0]++;try{ll.s[1]++,ol=A(211)}catch(n){}var rl=(ll.s[2]++,(tl={})[Al.TOP_BOTTOM]="TB",tl[Al.BOTTOM_TOP]="BT",tl[Al.LEFT_RIGHT]="LR",tl[Al.RIGHT_LEFT]="RL",tl);var al=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/layoutReducer.ts",e="995f983e478227baf8a17b5813e5df133a22252a",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/layoutReducer.ts",statementMap:{0:{start:{line:7,column:16},end:{line:7,column:27}},1:{start:{line:8,column:24},end:{line:8,column:50}},2:{start:{line:9,column:20},end:{line:9,column:39}},3:{start:{line:10,column:21},end:{line:10,column:41}},4:{start:{line:11,column:19},end:{line:11,column:20}},5:{start:{line:12,column:18},end:{line:12,column:19}},6:{start:{line:13,column:18},end:{line:13,column:36}},7:{start:{line:14,column:4},end:{line:22,column:7}},8:{start:{line:15,column:19},end:{line:15,column:32}},9:{start:{line:16,column:23},end:{line:16,column:53}},10:{start:{line:17,column:19},end:{line:17,column:45}},11:{start:{line:18,column:8},end:{line:18,column:65}},12:{start:{line:19,column:8},end:{line:19,column:68}},13:{start:{line:20,column:8},end:{line:20,column:50}},14:{start:{line:21,column:8},end:{line:21,column:48}},15:{start:{line:23,column:16},end:{line:23,column:36}},16:{start:{line:24,column:17},end:{line:24,column:37}},17:{start:{line:25,column:4},end:{line:39,column:7}},18:{start:{line:26,column:8},end:{line:26,column:54}},19:{start:{line:27,column:8},end:{line:27,column:56}},20:{start:{line:29,column:8},end:{line:38,column:9}},21:{start:{line:30,column:12},end:{line:37,column:15}},22:{start:{line:31,column:29},end:{line:31,column:79}},23:{start:{line:32,column:31},end:{line:35,column:17}},24:{start:{line:36,column:16},end:{line:36,column:78}},25:{start:{line:42,column:4},end:{line:44,column:5}},26:{start:{line:43,column:8},end:{line:43,column:33}},27:{start:{line:45,column:4},end:{line:57,column:5}},28:{start:{line:47,column:12},end:{line:54,column:13}},29:{start:{line:49,column:20},end:{line:49,column:86}},30:{start:{line:51,column:20},end:{line:51,column:82}},31:{start:{line:53,column:20},end:{line:53,column:33}},32:{start:{line:56,column:12},end:{line:56,column:25}}},fnMap:{0:{name:"adjustWorkspace",decl:{start:{line:6,column:16},end:{line:6,column:31}},loc:{start:{line:6,column:39},end:{line:40,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:14,column:20},end:{line:14,column:21}},loc:{start:{line:14,column:38},end:{line:22,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:25,column:26},end:{line:25,column:27}},loc:{start:{line:25,column:48},end:{line:39,column:5}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:30,column:28},end:{line:30,column:29}},loc:{start:{line:30,column:46},end:{line:37,column:13}},line:30},4:{name:"layoutReducer",decl:{start:{line:41,column:24},end:{line:41,column:37}},loc:{start:{line:41,column:53},end:{line:58,column:1}},line:41}},branchMap:{0:{loc:{start:{line:29,column:8},end:{line:38,column:9}},type:"if",locations:[{start:{line:29,column:8},end:{line:38,column:9}},{start:{line:29,column:8},end:{line:38,column:9}}],line:29},1:{loc:{start:{line:29,column:12},end:{line:29,column:39}},type:"binary-expr",locations:[{start:{line:29,column:12},end:{line:29,column:24}},{start:{line:29,column:28},end:{line:29,column:39}}],line:29},2:{loc:{start:{line:42,column:4},end:{line:44,column:5}},type:"if",locations:[{start:{line:42,column:4},end:{line:44,column:5}},{start:{line:42,column:4},end:{line:44,column:5}}],line:42},3:{loc:{start:{line:45,column:4},end:{line:57,column:5}},type:"switch",locations:[{start:{line:46,column:8},end:{line:54,column:13}},{start:{line:55,column:8},end:{line:56,column:25}}],line:45},4:{loc:{start:{line:47,column:12},end:{line:54,column:13}},type:"switch",locations:[{start:{line:48,column:16},end:{line:49,column:86}},{start:{line:50,column:16},end:{line:51,column:82}},{start:{line:52,column:16},end:{line:53,column:33}}],line:47}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/layoutReducer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/layoutReducer.ts"],names:[],mappings:"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",sourcesContent:["import { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport getInitialState from 'diagramMaker/state/getInitialState';\nimport { DiagramMakerData } from 'diagramMaker/state/types';\nimport { produce } from 'immer';\n\nimport hierarchicalLayout from './hierarchicalLayout';\nimport { LayoutActionsType, LayoutType } from './layoutActions';\nimport workflowLayout from './workflowLayout';\n\nexport function adjustWorkspace<NodeType, EdgeType>(\n  state: DiagramMakerData<NodeType, EdgeType>\n): DiagramMakerData<NodeType, EdgeType> {\n  const nodes = state.nodes;\n  const workspaceSize = state.workspace.canvasSize;\n  let rightMost = workspaceSize.width;\n  let bottomMost = workspaceSize.height;\n  let leftMost = 0;\n  let topMost = 0;\n\n  const nodeIds = Object.keys(nodes);\n  nodeIds.forEach((nodeId) => {\n    const node = nodes[nodeId];\n    const position = node.diagramMakerData.position;\n    const size = node.diagramMakerData.size;\n    rightMost = Math.max(position.x + size.width, rightMost);\n    bottomMost = Math.max(position.y + size.height, bottomMost);\n    leftMost = Math.min(position.x, leftMost);\n    topMost = Math.min(position.y, topMost);\n  });\n\n  const width =  rightMost - leftMost;\n  const height = bottomMost - topMost;\n\n  return produce(state, (draftState) => {\n    draftState.workspace.canvasSize.width = width;\n    draftState.workspace.canvasSize.height = height;\n\n    // move all nodes if node beyond top left boundary\n    if (leftMost < 0 || topMost < 0) {\n      nodeIds.forEach((nodeId) => {\n        const oldPos = draftState.nodes[nodeId].diagramMakerData.position;\n        const position = {\n          x: oldPos.x - leftMost,\n          y: oldPos.y - topMost\n        };\n        draftState.nodes[nodeId].diagramMakerData.position = position;\n      });\n    }\n  });\n}\n\nexport default function layoutReducer<NodeType, EdgeType>(\n  state: DiagramMakerData<NodeType, EdgeType> | undefined,\n  action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerData<NodeType, EdgeType> {\n  if (!state) {\n    return getInitialState();\n  }\n\n  switch (action.type) {\n    case LayoutActionsType.LAYOUT:\n      switch (action.payload.layoutType) {\n        case LayoutType.HIERARCHICAL:\n          return adjustWorkspace(hierarchicalLayout(state, action.payload));\n        case LayoutType.WORKFLOW:\n          return adjustWorkspace(workflowLayout(state, action.payload));\n        default:\n          return state;\n      }\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function cl(n){al.f[0]++;var e=(al.s[0]++,n.nodes),A=(al.s[1]++,n.workspace.canvasSize),t=(al.s[2]++,A.width),o=(al.s[3]++,A.height),i=(al.s[4]++,0),l=(al.s[5]++,0),r=(al.s[6]++,Object.keys(e));al.s[7]++,r.forEach((function(n){al.f[1]++;var A=(al.s[8]++,e[n]),r=(al.s[9]++,A.diagramMakerData.position),a=(al.s[10]++,A.diagramMakerData.size);al.s[11]++,t=Math.max(r.x+a.width,t),al.s[12]++,o=Math.max(r.y+a.height,o),al.s[13]++,i=Math.min(r.x,i),al.s[14]++,l=Math.min(r.y,l)}));var a=(al.s[15]++,t-i),c=(al.s[16]++,o-l);return al.s[17]++,DA(n,(function(n){al.f[2]++,al.s[18]++,n.workspace.canvasSize.width=a,al.s[19]++,n.workspace.canvasSize.height=c,al.s[20]++,al.b[1][0]++,i<0||(al.b[1][1]++,l<0)?(al.b[0][0]++,al.s[21]++,r.forEach((function(e){al.f[3]++;var A=(al.s[22]++,n.nodes[e].diagramMakerData.position),t=(al.s[23]++,{x:A.x-i,y:A.y-l});al.s[24]++,n.nodes[e].diagramMakerData.position=t}))):al.b[0][1]++}))}function sl(n,e){if(al.f[4]++,al.s[25]++,!n)return al.b[2][0]++,al.s[26]++,$A.f[0]++,$A.s[0]++,{nodes:{},edges:{},panels:{},workspace:FA(),editor:{mode:Rn.DRAG}};switch(al.b[2][1]++,al.s[27]++,e.type){case el.LAYOUT:switch(al.b[3][0]++,al.s[28]++,e.payload.layoutType){case Xi.HIERARCHICAL:return al.b[4][0]++,al.s[29]++,cl(zi(n,e.payload));case Xi.WORKFLOW:return al.b[4][1]++,al.s[30]++,cl(function(n,e){if(ll.f[0]++,ll.s[3]++,!ol)throw ll.b[0][0]++,ll.s[4]++,new Error('Could not find "dagre" library. It must be included in your application in order to use "Workflow" layout.');ll.b[0][1]++;var A=(ll.s[5]++,new ol.graphlib.Graph);ll.s[6]++,A.setGraph({rankdir:rl[e.direction],nodesep:e.distanceMin,ranksep:e.distanceMin}),ll.s[7]++,A.setDefaultEdgeLabel((function(){return ll.f[1]++,ll.s[8]++,{}})),ll.s[9]++,_o(n.nodes).forEach((function(e){ll.f[2]++;var t=(ll.s[10]++,n.nodes[e].diagramMakerData);ll.s[11]++,A.setNode(e,{height:t.size.height,width:t.size.width})})),ll.s[12]++,Yi(n.edges).forEach((function(n){ll.f[3]++,ll.s[13]++,A.setEdge(n.src,n.dest)})),ll.s[14]++,ol.layout(A);var t=(ll.s[15]++,{x:0,y:0});if(ll.s[16]++,e.fixedNodeId){ll.b[1][0]++;var o=(ll.s[17]++,n.nodes[e.fixedNodeId].diagramMakerData.position),i=(ll.s[18]++,A.node(e.fixedNodeId));ll.s[19]++,t={x:o.x-i.x,y:o.y-i.y}}else ll.b[1][1]++;return ll.s[20]++,DA(n,(function(n){ll.f[4]++,ll.s[21]++,A.nodes().forEach((function(e){ll.f[5]++;var o=(ll.s[22]++,A.node(e));ll.s[23]++,n.nodes[e].diagramMakerData.position={x:o.x+t.x,y:o.y+t.y}}))}))}(n,e.payload));default:return al.b[4][2]++,al.s[31]++,n}default:return al.b[3][1]++,al.s[32]++,n}}var Cl=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/layoutActionDispatcher.ts",e="8c59fc43c904c87bacd4f620b187a529aec5923c",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/layoutActionDispatcher.ts",statementMap:{0:{start:{line:3,column:4},end:{line:6,column:6}}},fnMap:{0:{name:"createLayoutAction",decl:{start:{line:2,column:16},end:{line:2,column:34}},loc:{start:{line:2,column:49},end:{line:7,column:1}},line:2}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/layoutActionDispatcher.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/layoutActionDispatcher.ts"],names:[],mappings:"AAAA,OAAO,EAAgB,iBAAiB,EAAgB,MAAM,iBAAiB,CAAC;AAEhF,MAAM,UAAU,kBAAkB,CAAC,YAA0B;IAC3D,OAAO;QACL,IAAI,EAAE,iBAAiB,CAAC,MAAM;QAC9B,OAAO,EAAE,YAAY;KACtB,CAAC;AACJ,CAAC",sourcesContent:["import { LayoutAction, LayoutActionsType, LayoutConfig } from './layoutActions';\n\nexport function createLayoutAction(layoutConfig: LayoutConfig): LayoutAction {\n  return {\n    type: LayoutActionsType.LAYOUT,\n    payload: layoutConfig\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();!function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/index.ts",e="decee0f5f6e0537d6beb152220a6089417f26ee9",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/layout/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,aAAa,EAAE,MAAM,iBAAiB,CAAC;AAC3D,OAAO,EACL,YAAY,EAAE,iBAAiB,EAAE,YAAY,EAAE,UAAU,EAAE,wBAAwB,EACnF,oBAAoB,EAAE,uBAAuB,EAC9C,MAAM,iBAAiB,CAAC;AACzB,OAAO,EAAE,kBAAkB,EAAE,MAAM,0BAA0B,CAAC",sourcesContent:["export { default as layoutReducer } from './layoutReducer';\nexport {\n  LayoutAction, LayoutActionsType, LayoutConfig, LayoutType, HierarchicalLayoutConfig,\n  WorkflowLayoutConfig, WorkflowLayoutDirection\n} from './layoutActions';\nexport { createLayoutAction } from './layoutActionDispatcher';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();var ul=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/service/DiagramMakerApi.ts",e="6bfb9bea0ae590a9b3a00b8d64cb610dc1fba0fa",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/service/DiagramMakerApi.ts",statementMap:{0:{start:{line:5,column:25},end:{line:5,column:27}},1:{start:{line:6,column:37},end:{line:161,column:3}},2:{start:{line:8,column:8},end:{line:8,column:27}},3:{start:{line:23,column:4},end:{line:26,column:6}},4:{start:{line:24,column:8},end:{line:24,column:62}},5:{start:{line:25,column:8},end:{line:25,column:20}},6:{start:{line:33,column:4},end:{line:36,column:6}},7:{start:{line:34,column:8},end:{line:34,column:61}},8:{start:{line:35,column:8},end:{line:35,column:20}},9:{start:{line:46,column:4},end:{line:53,column:6}},10:{start:{line:47,column:24},end:{line:47,column:59}},11:{start:{line:48,column:8},end:{line:51,column:9}},12:{start:{line:49,column:21},end:{line:49,column:47}},13:{start:{line:49,column:60},end:{line:49,column:71}},14:{start:{line:49,column:80},end:{line:49,column:87}},15:{start:{line:50,column:12},end:{line:50,column:112}},16:{start:{line:52,column:8},end:{line:52,column:20}},17:{start:{line:63,column:4},end:{line:77,column:6}},18:{start:{line:64,column:20},end:{line:64,column:41}},19:{start:{line:65,column:23},end:{line:65,column:47}},20:{start:{line:66,column:28},end:{line:66,column:122}},21:{start:{line:66,column:65},end:{line:66,column:119}},22:{start:{line:67,column:8},end:{line:75,column:9}},23:{start:{line:68,column:12},end:{line:68,column:29}},24:{start:{line:70,column:13},end:{line:75,column:9}},25:{start:{line:71,column:12},end:{line:71,column:45}},26:{start:{line:74,column:12},end:{line:74,column:69}},27:{start:{line:76,column:8},end:{line:76,column:20}},28:{start:{line:87,column:4},end:{line:96,column:6}},29:{start:{line:88,column:20},end:{line:88,column:41}},30:{start:{line:89,column:25},end:{line:89,column:61}},31:{start:{line:90,column:24},end:{line:93,column:14}},32:{start:{line:90,column:60},end:{line:93,column:11}},33:{start:{line:94,column:8},end:{line:94,column:89}},34:{start:{line:95,column:8},end:{line:95,column:20}},35:{start:{line:103,column:4},end:{line:107,column:6}},36:{start:{line:104,column:8},end:{line:104,column:59}},37:{start:{line:104,column:31},end:{line:104,column:57}},38:{start:{line:105,column:8},end:{line:105,column:33}},39:{start:{line:106,column:8},end:{line:106,column:20}},40:{start:{line:114,column:4},end:{line:118,column:6}},41:{start:{line:115,column:8},end:{line:115,column:59}},42:{start:{line:115,column:31},end:{line:115,column:57}},43:{start:{line:116,column:8},end:{line:116,column:34}},44:{start:{line:117,column:8},end:{line:117,column:20}},45:{start:{line:124,column:4},end:{line:127,column:6}},46:{start:{line:125,column:8},end:{line:125,column:62}},47:{start:{line:126,column:8},end:{line:126,column:20}},48:{start:{line:133,column:4},end:{line:136,column:6}},49:{start:{line:134,column:8},end:{line:134,column:48}},50:{start:{line:135,column:8},end:{line:135,column:20}},51:{start:{line:142,column:4},end:{line:145,column:6}},52:{start:{line:143,column:8},end:{line:143,column:48}},53:{start:{line:144,column:8},end:{line:144,column:20}},54:{start:{line:149,column:4},end:{line:151,column:6}},55:{start:{line:150,column:8},end:{line:150,column:36}},56:{start:{line:152,column:4},end:{line:159,column:6}},57:{start:{line:153,column:32},end:{line:153,column:81}},58:{start:{line:154,column:23},end:{line:157,column:9}},59:{start:{line:158,column:8},end:{line:158,column:71}},60:{start:{line:160,column:4},end:{line:160,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:37},end:{line:6,column:38}},loc:{start:{line:6,column:49},end:{line:161,column:1}},line:6},1:{name:"DiagramMakerApi",decl:{start:{line:7,column:13},end:{line:7,column:28}},loc:{start:{line:7,column:36},end:{line:9,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:23,column:39},end:{line:23,column:40}},loc:{start:{line:23,column:63},end:{line:26,column:5}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:33,column:46},end:{line:33,column:47}},loc:{start:{line:33,column:62},end:{line:36,column:5}},line:33},4:{name:"(anonymous_4)",decl:{start:{line:46,column:42},end:{line:46,column:43}},loc:{start:{line:46,column:93},end:{line:53,column:5}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:63,column:46},end:{line:63,column:47}},loc:{start:{line:63,column:89},end:{line:77,column:5}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:66,column:44},end:{line:66,column:45}},loc:{start:{line:66,column:63},end:{line:66,column:121}},line:66},7:{name:"(anonymous_7)",decl:{start:{line:87,column:36},end:{line:87,column:37}},loc:{start:{line:87,column:89},end:{line:96,column:5}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:90,column:39},end:{line:90,column:40}},loc:{start:{line:90,column:58},end:{line:93,column:13}},line:90},9:{name:"(anonymous_9)",decl:{start:{line:103,column:39},end:{line:103,column:40}},loc:{start:{line:103,column:55},end:{line:107,column:5}},line:103},10:{name:"(anonymous_10)",decl:{start:{line:114,column:40},end:{line:114,column:41}},loc:{start:{line:114,column:56},end:{line:118,column:5}},line:114},11:{name:"(anonymous_11)",decl:{start:{line:124,column:42},end:{line:124,column:43}},loc:{start:{line:124,column:54},end:{line:127,column:5}},line:124},12:{name:"(anonymous_12)",decl:{start:{line:133,column:37},end:{line:133,column:38}},loc:{start:{line:133,column:49},end:{line:136,column:5}},line:133},13:{name:"(anonymous_13)",decl:{start:{line:142,column:37},end:{line:142,column:38}},loc:{start:{line:142,column:49},end:{line:145,column:5}},line:142},14:{name:"(anonymous_14)",decl:{start:{line:149,column:41},end:{line:149,column:42}},loc:{start:{line:149,column:59},end:{line:151,column:5}},line:149},15:{name:"(anonymous_15)",decl:{start:{line:152,column:46},end:{line:152,column:47}},loc:{start:{line:152,column:62},end:{line:159,column:5}},line:152}},branchMap:{0:{loc:{start:{line:48,column:8},end:{line:51,column:9}},type:"if",locations:[{start:{line:48,column:8},end:{line:51,column:9}},{start:{line:48,column:8},end:{line:51,column:9}}],line:48},1:{loc:{start:{line:67,column:8},end:{line:75,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:75,column:9}},{start:{line:67,column:8},end:{line:75,column:9}}],line:67},2:{loc:{start:{line:70,column:13},end:{line:75,column:9}},type:"if",locations:[{start:{line:70,column:13},end:{line:75,column:9}},{start:{line:70,column:13},end:{line:75,column:9}}],line:70},3:{loc:{start:{line:89,column:25},end:{line:89,column:61}},type:"binary-expr",locations:[{start:{line:89,column:25},end:{line:89,column:33}},{start:{line:89,column:37},end:{line:89,column:61}}],line:89},4:{loc:{start:{line:104,column:8},end:{line:104,column:59}},type:"if",locations:[{start:{line:104,column:8},end:{line:104,column:59}},{start:{line:104,column:8},end:{line:104,column:59}}],line:104},5:{loc:{start:{line:115,column:8},end:{line:115,column:59}},type:"if",locations:[{start:{line:115,column:8},end:{line:115,column:59}},{start:{line:115,column:8},end:{line:115,column:59}}],line:115}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/service/DiagramMakerApi.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/service/DiagramMakerApi.ts"],names:[],mappings:"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",sourcesContent:["import { AnyAction, Store } from 'redux';\nimport { actions as undoActions } from 'redux-undo-redo';\n\nimport {\n  createFitAction, createFocusNodeAction, createSetEditorModeAction\n} from 'diagramMaker/state/editor/editorActionDispatcher';\nimport { createLayoutAction, LayoutConfig } from 'diagramMaker/state/layout';\nimport { DiagramMakerData, EditorModeType } from 'diagramMaker/state/types';\nimport {\n  createWorkspaceResetZoomAction, createZoomWorkspaceAction\n} from 'diagramMaker/state/workspace/workspaceActionDispatcher';\n\nconst DEFAULT_ZOOM_DELTA = 50;\n\nexport default class DiagramMakerApi<NodeType = {}, EdgeType = {}> {\n  constructor(\n    private store: Store<DiagramMakerData<NodeType, EdgeType>>\n  ) {}\n\n  /**\n   * Arranges nodes according to the specified layout type.\n   *\n   * @param {LayoutConfig} layoutConfig - Layout type and its parameters.\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   *\n   * NOTE FOR \"WORKFLOW\" LAYOUT:\n   * \"Workflow\" layout uses Dagre library underneath:\n   * https://github.com/dagrejs/dagre\n   *\n   * We don't bundle it with DiagramMaker, as not all consumers need this functionality.\n   * To use \"Workflow\" layout, you'll need to add Dagre library to your package.json.\n   */\n  public layout(layoutConfig: LayoutConfig): DiagramMakerApi<NodeType, EdgeType> {\n    this.store.dispatch(createLayoutAction(layoutConfig));\n    return this;\n  }\n\n  /**\n   * Sets the editor to the given mode, in order to modify its UI behavior.\n   *\n   * @param {EditorModeType} mode - The mode to set the editor to.\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public setEditorMode(mode: EditorModeType): DiagramMakerApi<NodeType, EdgeType> {\n    this.store.dispatch(createSetEditorModeAction(mode));\n    return this;\n  }\n\n  /**\n   * Moves the workspace around to center the node matching the passed ID.\n   * Also selects the corresponding node.\n   *\n   * @param {string} nodeId - ID of the node to focus\n   * @param {number} [leftPanelWidth] - Width of the fixed left panel\n   * @param {number} [rightPanelWidth] - Width of the fixed right panel\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public focusNode(\n    nodeId: string, leftPanelWidth?: number, rightPanelWidth?: number\n  ): DiagramMakerApi<NodeType, EdgeType> {\n    const nodeState = this.store.getState().nodes[nodeId];\n    if (nodeState) {\n      const { position, size } = nodeState.diagramMakerData;\n      this.store.dispatch(createFocusNodeAction(nodeId, position, size, leftPanelWidth, rightPanelWidth));\n    }\n    return this;\n  }\n\n  /**\n   * Moves the workspace around to center the selected node.\n   * If more than 1 nodes are selected, it falls back to fitting the selected nodes in.\n   * If no nodes are selected, this resets the zoom & centers the workspace.\n   *\n   * @param {number} [leftPanelWidth] - Width of the fixed left panel\n   * @param {number} [rightPanelWidth] - Width of the fixed right panel\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public focusSelected(leftPanelWidth?: number, rightPanelWidth?: number): DiagramMakerApi<NodeType, EdgeType> {\n    const state = this.store.getState();\n    const nodeKeys = Object.keys(state.nodes);\n    const selectedNodes = nodeKeys.filter(nodeKey => state.nodes[nodeKey].diagramMakerData.selected);\n    if (selectedNodes.length === 0) {\n      this.resetZoom();\n    } else if (selectedNodes.length === 1) {\n      this.focusNode(selectedNodes[0]);\n    } else {\n      this.fit(leftPanelWidth, rightPanelWidth, selectedNodes);\n    }\n    return this;\n  }\n\n  /**\n   * Zooms out & pans the workspace such that all nodes are visible in the screen.\n   *\n   * @param {number} [leftPanelWidth] - Width of the fixed left panel\n   * @param {number} [rightPanelWidth] - Width of the fixed right panel\n   * @param {string[]} [nodeKeys] - Optional. List of node IDs which need to be fit in the screen,\n   * Defaults to fitting all the nodes.\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public fit(\n    leftPanelWidth?: number, rightPanelWidth?: number, nodeKeys?: string[]\n  ): DiagramMakerApi<NodeType, EdgeType> {\n    const state = this.store.getState();\n    const nodesToFit = nodeKeys || Object.keys(state.nodes);\n    const nodeRects = nodesToFit.map(nodeKey => ({\n      position: state.nodes[nodeKey].diagramMakerData.position,\n      size: state.nodes[nodeKey].diagramMakerData.size\n    }));\n    this.store.dispatch(createFitAction(nodeRects, leftPanelWidth, rightPanelWidth));\n    return this;\n  }\n\n  /**\n   * Zooms in one level into the diagram maker workspace at the center.\n   *\n   * @param {number} [zoom=50] - Zoom factor to zoom by\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public zoomIn(zoom = DEFAULT_ZOOM_DELTA): DiagramMakerApi<NodeType, EdgeType> {\n    this.workspaceZoom(zoom);\n    return this;\n  }\n\n  /**\n   * Zooms out one level into the diagram maker workspace at the center.\n   *\n   * @param {number} [zoom=50] - Zoom factor to zoom by\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public zoomOut(zoom = DEFAULT_ZOOM_DELTA): DiagramMakerApi<NodeType, EdgeType> {\n    this.workspaceZoom(-zoom);\n    return this;\n  }\n\n  /**\n   * Resets the zoom to base level.\n   *\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public resetZoom(): DiagramMakerApi<NodeType, EdgeType> {\n    this.store.dispatch(createWorkspaceResetZoomAction());\n    return this;\n  }\n\n  /**\n   * Undo the last undoable action.\n   *\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public undo() {\n    this.store.dispatch(undoActions.undo());\n    return this;\n  }\n\n  /**\n   * Redo the last undone action.\n   *\n   * @returns {DiagramMakerApi} - Returns this `DiagramMakerApi` instance for method chaining.\n   */\n  public redo() {\n    this.store.dispatch(undoActions.redo());\n    return this;\n  }\n\n  /**\n   * dispatch a action, for plugin use\n   */\n  public dispatch(action: AnyAction) {\n    this.store.dispatch(action);\n  }\n\n  private workspaceZoom(zoom: number) {\n    const viewContainerSize = this.store.getState().workspace.viewContainerSize;\n    const position = {\n      x: viewContainerSize.width / 2,\n      y: viewContainerSize.height / 2\n    };\n    this.store.dispatch(createZoomWorkspaceAction(zoom, position));\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),dl=(ul.s[0]++,50),ml=(ul.s[1]++,function(){function n(n){ul.f[1]++,ul.s[2]++,this.store=n}return ul.f[0]++,ul.s[3]++,n.prototype.layout=function(n){return ul.f[2]++,ul.s[4]++,this.store.dispatch(function(n){return Cl.f[0]++,Cl.s[0]++,{type:el.LAYOUT,payload:n}}(n)),ul.s[5]++,this},ul.s[6]++,n.prototype.setEditorMode=function(n){return ul.f[3]++,ul.s[7]++,this.store.dispatch(function(n){return be.f[5]++,be.s[5]++,{type:Ie.SET_EDITOR_MODE,payload:{mode:n}}}(n)),ul.s[8]++,this},ul.s[9]++,n.prototype.focusNode=function(n,e,A){ul.f[4]++;var t=(ul.s[10]++,this.store.getState().nodes[n]);if(ul.s[11]++,t){ul.b[0][0]++;var o=(ul.s[12]++,t.diagramMakerData),i=(ul.s[13]++,o.position),l=(ul.s[14]++,o.size);ul.s[15]++,this.store.dispatch(function(n,e,A,t,o){return be.f[6]++,be.s[6]++,{type:Ie.FOCUS_NODE,payload:{id:n,position:e,size:A,leftPanelWidth:t,rightPanelWidth:o}}}(n,i,l,e,A))}else ul.b[0][1]++;return ul.s[16]++,this},ul.s[17]++,n.prototype.focusSelected=function(n,e){ul.f[5]++;var A=(ul.s[18]++,this.store.getState()),t=(ul.s[19]++,Object.keys(A.nodes)),o=(ul.s[20]++,t.filter((function(n){return ul.f[6]++,ul.s[21]++,A.nodes[n].diagramMakerData.selected})));return ul.s[22]++,0===o.length?(ul.b[1][0]++,ul.s[23]++,this.resetZoom()):(ul.b[1][1]++,ul.s[24]++,1===o.length?(ul.b[2][0]++,ul.s[25]++,this.focusNode(o[0])):(ul.b[2][1]++,ul.s[26]++,this.fit(n,e,o))),ul.s[27]++,this},ul.s[28]++,n.prototype.fit=function(n,e,A){ul.f[7]++;var t=(ul.s[29]++,this.store.getState()),o=(ul.s[30]++,ul.b[3][0]++,A||(ul.b[3][1]++,Object.keys(t.nodes))),i=(ul.s[31]++,o.map((function(n){return ul.f[8]++,ul.s[32]++,{position:t.nodes[n].diagramMakerData.position,size:t.nodes[n].diagramMakerData.size}})));return ul.s[33]++,this.store.dispatch(function(n,e,A){return be.f[7]++,be.s[7]++,{type:Ie.FIT,payload:{nodeRects:n,leftPanelWidth:e,rightPanelWidth:A}}}(i,n,e)),ul.s[34]++,this},ul.s[35]++,n.prototype.zoomIn=function(n){return ul.f[9]++,ul.s[36]++,void 0===n?(ul.b[4][0]++,ul.s[37]++,n=dl):ul.b[4][1]++,ul.s[38]++,this.workspaceZoom(n),ul.s[39]++,this},ul.s[40]++,n.prototype.zoomOut=function(n){return ul.f[10]++,ul.s[41]++,void 0===n?(ul.b[5][0]++,ul.s[42]++,n=dl):ul.b[5][1]++,ul.s[43]++,this.workspaceZoom(-n),ul.s[44]++,this},ul.s[45]++,n.prototype.resetZoom=function(){return ul.f[11]++,ul.s[46]++,this.store.dispatch((UA.f[2]++,UA.s[2]++,{type:SA.WORKSPACE_RESET_ZOOM})),ul.s[47]++,this},ul.s[48]++,n.prototype.undo=function(){return ul.f[12]++,ul.s[49]++,this.store.dispatch(ye.actions.undo()),ul.s[50]++,this},ul.s[51]++,n.prototype.redo=function(){return ul.f[13]++,ul.s[52]++,this.store.dispatch(ye.actions.redo()),ul.s[53]++,this},ul.s[54]++,n.prototype.dispatch=function(n){ul.f[14]++,ul.s[55]++,this.store.dispatch(n)},ul.s[56]++,n.prototype.workspaceZoom=function(n){ul.f[15]++;var e=(ul.s[57]++,this.store.getState().workspace.viewContainerSize),A=(ul.s[58]++,{x:e.width/2,y:e.height/2});ul.s[59]++,this.store.dispatch(NA(n,A))},ul.s[60]++,n}()),El=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/service/observer/Observer.ts",e="0bb009093c347dadeaa8b04dfd204f23d5bd70af",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/service/observer/Observer.ts",statementMap:{0:{start:{line:1,column:30},end:{line:31,column:3}},1:{start:{line:3,column:20},end:{line:3,column:24}},2:{start:{line:4,column:8},end:{line:4,column:39}},3:{start:{line:5,column:8},end:{line:5,column:25}},4:{start:{line:6,column:8},end:{line:11,column:10}},5:{start:{line:7,column:12},end:{line:9,column:13}},6:{start:{line:8,column:16},end:{line:8,column:41}},7:{start:{line:10,column:12},end:{line:10,column:47}},8:{start:{line:12,column:8},end:{line:14,column:10}},9:{start:{line:13,column:12},end:{line:13,column:54}},10:{start:{line:15,column:8},end:{line:25,column:10}},11:{start:{line:16,column:12},end:{line:18,column:15}},12:{start:{line:17,column:16},end:{line:17,column:34}},13:{start:{line:19,column:12},end:{line:21,column:13}},14:{start:{line:20,column:16},end:{line:20,column:23}},15:{start:{line:22,column:12},end:{line:24,column:15}},16:{start:{line:23,column:16},end:{line:23,column:34}},17:{start:{line:26,column:8},end:{line:28,column:10}},18:{start:{line:27,column:12},end:{line:27,column:41}},19:{start:{line:30,column:4},end:{line:30,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:30},end:{line:1,column:31}},loc:{start:{line:1,column:42},end:{line:31,column:1}},line:1},1:{name:"Observer",decl:{start:{line:2,column:13},end:{line:2,column:21}},loc:{start:{line:2,column:24},end:{line:29,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:6,column:25},end:{line:6,column:26}},loc:{start:{line:6,column:52},end:{line:11,column:9}},line:6},3:{name:"(anonymous_3)",decl:{start:{line:12,column:28},end:{line:12,column:29}},loc:{start:{line:12,column:48},end:{line:14,column:9}},line:12},4:{name:"(anonymous_4)",decl:{start:{line:15,column:23},end:{line:15,column:24}},loc:{start:{line:15,column:49},end:{line:25,column:9}},line:15},5:{name:"(anonymous_5)",decl:{start:{line:16,column:47},end:{line:16,column:48}},loc:{start:{line:16,column:67},end:{line:18,column:13}},line:16},6:{name:"(anonymous_6)",decl:{start:{line:22,column:40},end:{line:22,column:41}},loc:{start:{line:22,column:60},end:{line:24,column:13}},line:22},7:{name:"(anonymous_7)",decl:{start:{line:26,column:24},end:{line:26,column:25}},loc:{start:{line:26,column:41},end:{line:28,column:9}},line:26}},branchMap:{0:{loc:{start:{line:7,column:12},end:{line:9,column:13}},type:"if",locations:[{start:{line:7,column:12},end:{line:9,column:13}},{start:{line:7,column:12},end:{line:9,column:13}}],line:7},1:{loc:{start:{line:19,column:12},end:{line:21,column:13}},type:"if",locations:[{start:{line:19,column:12},end:{line:21,column:13}},{start:{line:19,column:12},end:{line:21,column:13}}],line:19}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/service/observer/Observer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/service/observer/Observer.ts"],names:[],mappings:"AAEA;IAAA;QAAA,iBAmCC;QAlCS,yBAAoB,GAAuB,EAAE,CAAC;QAC9C,WAAM,GAEV,EAAE,CAAC;QAEA,cAAS,GAAG,UAAC,KAAa,EAAE,QAA0B;YAC3D,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;gBACzB,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;aACzB;YAED,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACpC,CAAC,CAAA;QAEM,iBAAY,GAAG,UAAC,QAA0B;YAC/C,KAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3C,CAAC,CAAA;QAEM,YAAO,GAAG,UAAC,KAAa,EAAE,OAAa;YAC5C,KAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,UAAC,QAAQ;gBACzC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACpB,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;gBACzB,OAAO;aACR;YAED,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAC,QAAQ;gBAClC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACpB,CAAC,CAAC,CAAC;QACL,CAAC,CAAA;QAEO,aAAQ,GAAG,UAAC,KAAa;YAC/B,OAAO,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC,CAAA;IACH,CAAC;IAAD,eAAC;AAAD,CAAC,AAnCD,IAmCC",sourcesContent:["export type ObserverCallback = (...args: any[]) => void;\n\nexport default class Observer {\n  private globalEventListeners: ObserverCallback[] = [];\n  private events: {\n    [key: string]: ObserverCallback[]\n  } = {};\n\n  public subscribe = (event: string, callback: ObserverCallback): void => {\n    if (!this.hasEvent(event)) {\n      this.events[event] = [];\n    }\n\n    this.events[event].push(callback);\n  }\n\n  public subscribeAll = (callback: ObserverCallback): void => {\n    this.globalEventListeners.push(callback);\n  }\n\n  public publish = (event: string, payload?: any): void => {\n    this.globalEventListeners.forEach((callback) => {\n      callback(payload);\n    });\n\n    if (!this.hasEvent(event)) {\n      return;\n    }\n\n    this.events[event].forEach((callback) => {\n      callback(payload);\n    });\n  }\n\n  private hasEvent = (event: string): boolean => {\n    return !!this.events[event];\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),pl=(El.s[0]++,El.f[0]++,El.s[19]++,function(){El.f[1]++;var n=(El.s[1]++,this);El.s[2]++,this.globalEventListeners=[],El.s[3]++,this.events={},El.s[4]++,this.subscribe=function(e,A){El.f[2]++,El.s[5]++,n.hasEvent(e)?El.b[0][1]++:(El.b[0][0]++,El.s[6]++,n.events[e]=[]),El.s[7]++,n.events[e].push(A)},El.s[8]++,this.subscribeAll=function(e){El.f[3]++,El.s[9]++,n.globalEventListeners.push(e)},El.s[10]++,this.publish=function(e,A){if(El.f[4]++,El.s[11]++,n.globalEventListeners.forEach((function(n){El.f[5]++,El.s[12]++,n(A)})),El.s[13]++,!n.hasEvent(e))return El.b[1][0]++,void El.s[14]++;El.b[1][1]++,El.s[15]++,n.events[e].forEach((function(n){El.f[6]++,El.s[16]++,n(A)}))},El.s[17]++,this.hasEvent=function(e){return El.f[7]++,El.s[18]++,!!n.events[e]}}),fl=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/service/browserUtils.ts",e="cdc2368224ac80397d60c3a2f013b8f575569bdc",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/service/browserUtils.ts",statementMap:{0:{start:{line:2,column:26},end:{line:2,column:50}},1:{start:{line:3,column:16},end:{line:3,column:78}},2:{start:{line:4,column:17},end:{line:4,column:81}},3:{start:{line:5,column:4},end:{line:8,column:5}},4:{start:{line:6,column:8},end:{line:6,column:119}},5:{start:{line:7,column:8},end:{line:7,column:124}},6:{start:{line:9,column:4},end:{line:9,column:44}},7:{start:{line:12,column:19},end:{line:15,column:5}},8:{start:{line:16,column:4},end:{line:19,column:6}}},fnMap:{0:{name:"getBrowserSize",decl:{start:{line:1,column:16},end:{line:1,column:30}},loc:{start:{line:1,column:33},end:{line:10,column:1}},line:1},1:{name:"getBrowserRectangle",decl:{start:{line:11,column:16},end:{line:11,column:35}},loc:{start:{line:11,column:38},end:{line:20,column:1}},line:11}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:8,column:5}},{start:{line:5,column:4},end:{line:8,column:5}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/service/browserUtils.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/service/browserUtils.ts"],names:[],mappings:"AAEA,MAAM,UAAU,cAAc;IACpB,IAAA,eAAe,GAAK,QAAQ,gBAAb,CAAc;IAErC,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAClB,QAAQ,CAAC,IAAI,CAAC,WAAW,EACzB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAC1B,CAAC;IAEF,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CACnB,QAAQ,CAAC,IAAI,CAAC,YAAY,EAC1B,QAAQ,CAAC,IAAI,CAAC,YAAY,CAC3B,CAAC;IAEF,IAAI,eAAe,EAAE;QACnB,KAAK,GAAG,IAAI,CAAC,GAAG,CACd,KAAK,EACL,eAAe,CAAC,WAAW,EAC3B,eAAe,CAAC,WAAW,EAC3B,eAAe,CAAC,WAAW,CAC5B,CAAC;QAEF,MAAM,GAAG,IAAI,CAAC,GAAG,CACf,MAAM,EACN,eAAe,CAAC,YAAY,EAC5B,eAAe,CAAC,YAAY,EAC5B,eAAe,CAAC,YAAY,CAC7B,CAAC;KACH;IAED,OAAO,EAAE,KAAK,OAAA,EAAE,MAAM,QAAA,EAAE,CAAC;AAC3B,CAAC;AAED,MAAM,UAAU,mBAAmB;IACjC,IAAM,QAAQ,GAAG;QACf,CAAC,EAAE,CAAC;QACJ,CAAC,EAAE,CAAC;KACL,CAAC;IAEF,OAAO;QACL,QAAQ,UAAA;QACR,IAAI,EAAE,cAAc,EAAE;KACvB,CAAC;AACJ,CAAC",sourcesContent:["import { Rectangle, Size } from 'diagramMaker/state/types';\n\nexport function getBrowserSize(): Size {\n  const { documentElement } = document;\n\n  let width = Math.max(\n    document.body.scrollWidth,\n    document.body.offsetWidth\n  );\n\n  let height = Math.max(\n    document.body.scrollHeight,\n    document.body.offsetHeight\n  );\n\n  if (documentElement) {\n    width = Math.max(\n      width,\n      documentElement.scrollWidth,\n      documentElement.offsetWidth,\n      documentElement.clientWidth\n    );\n\n    height = Math.max(\n      height,\n      documentElement.scrollHeight,\n      documentElement.offsetHeight,\n      documentElement.clientHeight\n    );\n  }\n\n  return { width, height };\n}\n\nexport function getBrowserRectangle(): Rectangle {\n  const position = {\n    x: 0,\n    y: 0\n  };\n\n  return {\n    position,\n    size: getBrowserSize()\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function gl(){fl.f[0]++;var n=(fl.s[0]++,document.documentElement),e=(fl.s[1]++,Math.max(document.body.scrollWidth,document.body.offsetWidth)),A=(fl.s[2]++,Math.max(document.body.scrollHeight,document.body.offsetHeight));return fl.s[3]++,n?(fl.b[0][0]++,fl.s[4]++,e=Math.max(e,n.scrollWidth,n.offsetWidth,n.clientWidth),fl.s[5]++,A=Math.max(A,n.scrollHeight,n.offsetHeight,n.clientHeight)):fl.b[0][1]++,fl.s[6]++,{width:e,height:A}}var hl,Il,yl,Bl,Ml=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/UITargetNormalizer.ts",e="dcd7f0068436dfbe1543aec757ca4dd747446073",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/UITargetNormalizer.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:14,column:11},end:{line:14,column:17}},10:{start:{line:15,column:40},end:{line:129,column:3}},11:{start:{line:18,column:4},end:{line:24,column:6}},12:{start:{line:19,column:8},end:{line:23,column:10}},13:{start:{line:25,column:4},end:{line:32,column:6}},14:{start:{line:26,column:8},end:{line:26,column:63}},15:{start:{line:26,column:40},end:{line:26,column:61}},16:{start:{line:27,column:20},end:{line:27,column:50}},17:{start:{line:28,column:8},end:{line:30,column:9}},18:{start:{line:29,column:12},end:{line:29,column:25}},19:{start:{line:31,column:8},end:{line:31,column:39}},20:{start:{line:33,column:4},end:{line:39,column:6}},21:{start:{line:34,column:29},end:{line:37,column:9}},22:{start:{line:38,column:8},end:{line:38,column:76}},23:{start:{line:40,column:4},end:{line:71,column:6}},24:{start:{line:60,column:21},end:{line:60,column:33}},25:{start:{line:61,column:8},end:{line:63,column:9}},26:{start:{line:62,column:12},end:{line:62,column:25}},27:{start:{line:64,column:8},end:{line:66,column:9}},28:{start:{line:65,column:12},end:{line:65,column:25}},29:{start:{line:67,column:8},end:{line:69,column:9}},30:{start:{line:68,column:12},end:{line:68,column:25}},31:{start:{line:70,column:8},end:{line:70,column:83}},32:{start:{line:72,column:4},end:{line:91,column:6}},33:{start:{line:73,column:21},end:{line:73,column:79}},34:{start:{line:74,column:8},end:{line:76,column:9}},35:{start:{line:75,column:12},end:{line:75,column:19}},36:{start:{line:77,column:28},end:{line:77,column:34}},37:{start:{line:79,column:8},end:{line:81,column:9}},38:{start:{line:80,column:12},end:{line:80,column:33}},39:{start:{line:82,column:8},end:{line:84,column:9}},40:{start:{line:83,column:12},end:{line:83,column:33}},41:{start:{line:85,column:8},end:{line:88,column:9}},42:{start:{line:87,column:12},end:{line:87,column:56}},43:{start:{line:89,column:8},end:{line:90,column:121}},44:{start:{line:93,column:4},end:{line:101,column:6}},45:{start:{line:94,column:16},end:{line:94,column:26}},46:{start:{line:94,column:32},end:{line:94,column:42}},47:{start:{line:95,column:8},end:{line:97,column:9}},48:{start:{line:96,column:12},end:{line:96,column:52}},49:{start:{line:99,column:23},end:{line:99,column:57}},50:{start:{line:100,column:8},end:{line:100,column:67}},51:{start:{line:102,column:4},end:{line:119,column:6}},52:{start:{line:104,column:27},end:{line:104,column:80}},53:{start:{line:105,column:29},end:{line:105,column:59}},54:{start:{line:106,column:22},end:{line:106,column:77}},55:{start:{line:108,column:8},end:{line:114,column:9}},56:{start:{line:109,column:25},end:{line:109,column:38}},57:{start:{line:110,column:12},end:{line:113,column:13}},58:{start:{line:111,column:16},end:{line:111,column:36}},59:{start:{line:112,column:16},end:{line:112,column:22}},60:{start:{line:115,column:8},end:{line:117,column:9}},61:{start:{line:116,column:12},end:{line:116,column:19}},62:{start:{line:118,column:8},end:{line:118,column:26}},63:{start:{line:120,column:4},end:{line:127,column:6}},64:{start:{line:121,column:27},end:{line:121,column:29}},65:{start:{line:122,column:21},end:{line:122,column:36}},66:{start:{line:123,column:8},end:{line:125,column:9}},67:{start:{line:124,column:12},end:{line:124,column:43}},68:{start:{line:126,column:8},end:{line:126,column:28}},69:{start:{line:128,column:4},end:{line:128,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:15,column:40},end:{line:15,column:41}},loc:{start:{line:15,column:52},end:{line:129,column:1}},line:15},3:{name:"UITargetNormalizer",decl:{start:{line:16,column:13},end:{line:16,column:31}},loc:{start:{line:16,column:34},end:{line:17,column:5}},line:16},4:{name:"(anonymous_4)",decl:{start:{line:18,column:41},end:{line:18,column:42}},loc:{start:{line:18,column:59},end:{line:24,column:5}},line:18},5:{name:"(anonymous_5)",decl:{start:{line:25,column:45},end:{line:25,column:46}},loc:{start:{line:25,column:89},end:{line:32,column:5}},line:25},6:{name:"(anonymous_6)",decl:{start:{line:33,column:51},end:{line:33,column:52}},loc:{start:{line:33,column:68},end:{line:39,column:5}},line:33},7:{name:"(anonymous_7)",decl:{start:{line:40,column:51},end:{line:40,column:52}},loc:{start:{line:40,column:68},end:{line:71,column:5}},line:40},8:{name:"(anonymous_8)",decl:{start:{line:72,column:35},end:{line:72,column:36}},loc:{start:{line:72,column:95},end:{line:91,column:5}},line:72},9:{name:"(anonymous_9)",decl:{start:{line:93,column:46},end:{line:93,column:47}},loc:{start:{line:93,column:66},end:{line:101,column:5}},line:93},10:{name:"(anonymous_10)",decl:{start:{line:102,column:43},end:{line:102,column:44}},loc:{start:{line:102,column:87},end:{line:119,column:5}},line:102},11:{name:"(anonymous_11)",decl:{start:{line:120,column:48},end:{line:120,column:49}},loc:{start:{line:120,column:68},end:{line:127,column:5}},line:120}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:21,column:16},end:{line:21,column:69}},type:"binary-expr",locations:[{start:{line:21,column:16},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:56}},{start:{line:21,column:60},end:{line:21,column:69}}],line:21},4:{loc:{start:{line:22,column:18},end:{line:22,column:73}},type:"binary-expr",locations:[{start:{line:22,column:18},end:{line:22,column:24}},{start:{line:22,column:28},end:{line:22,column:60}},{start:{line:22,column:64},end:{line:22,column:73}}],line:22},5:{loc:{start:{line:26,column:8},end:{line:26,column:63}},type:"if",locations:[{start:{line:26,column:8},end:{line:26,column:63}},{start:{line:26,column:8},end:{line:26,column:63}}],line:26},6:{loc:{start:{line:28,column:8},end:{line:30,column:9}},type:"if",locations:[{start:{line:28,column:8},end:{line:30,column:9}},{start:{line:28,column:8},end:{line:30,column:9}}],line:28},7:{loc:{start:{line:61,column:8},end:{line:63,column:9}},type:"if",locations:[{start:{line:61,column:8},end:{line:63,column:9}},{start:{line:61,column:8},end:{line:63,column:9}}],line:61},8:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:64,column:8},end:{line:66,column:9}}],line:64},9:{loc:{start:{line:67,column:8},end:{line:69,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:69,column:9}},{start:{line:67,column:8},end:{line:69,column:9}}],line:67},10:{loc:{start:{line:74,column:8},end:{line:76,column:9}},type:"if",locations:[{start:{line:74,column:8},end:{line:76,column:9}},{start:{line:74,column:8},end:{line:76,column:9}}],line:74},11:{loc:{start:{line:79,column:8},end:{line:81,column:9}},type:"if",locations:[{start:{line:79,column:8},end:{line:81,column:9}},{start:{line:79,column:8},end:{line:81,column:9}}],line:79},12:{loc:{start:{line:82,column:8},end:{line:84,column:9}},type:"if",locations:[{start:{line:82,column:8},end:{line:84,column:9}},{start:{line:82,column:8},end:{line:84,column:9}}],line:82},13:{loc:{start:{line:85,column:15},end:{line:86,column:39}},type:"binary-expr",locations:[{start:{line:85,column:15},end:{line:85,column:112}},{start:{line:86,column:12},end:{line:86,column:39}}],line:85},14:{loc:{start:{line:89,column:15},end:{line:90,column:120}},type:"binary-expr",locations:[{start:{line:89,column:15},end:{line:90,column:90}},{start:{line:90,column:94},end:{line:90,column:107}},{start:{line:90,column:111},end:{line:90,column:120}}],line:89},15:{loc:{start:{line:95,column:8},end:{line:97,column:9}},type:"if",locations:[{start:{line:95,column:8},end:{line:97,column:9}},{start:{line:95,column:8},end:{line:97,column:9}}],line:95},16:{loc:{start:{line:110,column:12},end:{line:113,column:13}},type:"if",locations:[{start:{line:110,column:12},end:{line:113,column:13}},{start:{line:110,column:12},end:{line:113,column:13}}],line:110},17:{loc:{start:{line:115,column:8},end:{line:117,column:9}},type:"if",locations:[{start:{line:115,column:8},end:{line:117,column:9}},{start:{line:115,column:8},end:{line:117,column:9}}],line:115}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0,0],15:[0,0],16:[0,0],17:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/UITargetNormalizer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/UITargetNormalizer.ts"],names:[],mappings:"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",sourcesContent:["import { getBrowserRectangle } from 'diagramMaker/service/browserUtils';\nimport { fromContainerToPage, fromPageToScreen, isPositionInRectangle } from 'diagramMaker/service/positionUtils';\nimport { Position } from 'diagramMaker/state/types';\n\nexport interface NormalizedTarget {\n  originalTarget: HTMLElement;\n  id?: string;\n  type?: string;\n}\n\nconst TRUE = 'true';\n\nexport default class UITargetNormalizer {\n  public static normalizeTarget(target: HTMLElement): NormalizedTarget {\n    return {\n      originalTarget: target,\n      id: target && target.getAttribute('data-id') || undefined,\n      type: target && target.getAttribute('data-type') || undefined\n    };\n  }\n\n  public static checkAttributeValue(target: Element, attribute: string, expectedValue: string = TRUE): boolean {\n    const value = target.getAttribute(attribute);\n\n    if (!value) {\n      return false;\n    }\n\n    return value === expectedValue;\n  }\n\n  public static isMouseEventInsideBrowser(event: MouseEvent): boolean {\n    const clientPosition: Position = {\n      x: event.clientX,\n      y: event.clientY\n    };\n\n    return isPositionInRectangle(clientPosition, getBrowserRectangle());\n  }\n\n  public static normalizeMouseEventTarget(event: MouseEvent): MouseEvent {\n\n    // Firefox returns the `document` object as the target for\n    // mouse events fired outside of the window.  Chrome and Safari\n    // instead return the root HTML tag.\n    //\n    // An example of an event being fired outside of the window:\n    // If a drag event starts on DiagramMaker but the mouse is\n    // then moved outside of the browser window.\n    //\n    // In order to make Firefox match Chrome and Safari, we'll change\n    // the target to the root <html> tag if the target is the document\n    // and the position of the mouse is outside of the bounds of the browser.\n    //\n    //    _____________________________\n    //    |   Browser   |   Target    |\n    //    -----------------------------\n    //    |  Chrome     | root <html> |\n    //    |  Safari     | root <html> |\n    //    |  Firefox    | document    | <-- wth Firefox?\n    //    -----------------------------\n\n    const { target } = event;\n\n    if (!target) {\n      return event;\n    }\n\n    if (UITargetNormalizer.isMouseEventInsideBrowser(event)) {\n      return event;\n    }\n\n    if (target !== document) {\n      return event;\n    }\n\n    return {\n      ...event,\n      target: document.documentElement\n    };\n  }\n\n  public static getTarget(\n    event: MouseEvent,\n    requiredAttribute?: string,\n    requiredAttributeValue?: string\n  ): HTMLElement | undefined {\n    const { target } = UITargetNormalizer.normalizeMouseEventTarget(event);\n\n    if (!target) {\n      return;\n    }\n\n    let currentTarget = target as HTMLElement;\n\n    // @FIXME this is a hacky way to make sure that events outside of the browser don't require a target.\n    if (currentTarget === document.documentElement) {\n      return currentTarget;\n    }\n\n    if (!requiredAttribute) {\n      return currentTarget;\n    }\n\n    while (!UITargetNormalizer.checkAttributeValue(currentTarget, requiredAttribute, requiredAttributeValue) &&\n      currentTarget.parentElement) {\n      currentTarget = currentTarget.parentElement;\n    }\n\n    return UITargetNormalizer\n      .checkAttributeValue(currentTarget, requiredAttribute, requiredAttributeValue) && currentTarget || undefined;\n  }\n\n  // IE11 Fallback (msElementsFromPoint)\n  public static getElementsFromPoint(position: Position): Element[] {\n    const { x, y } = position;\n\n    if (document.elementsFromPoint) {\n      return document.elementsFromPoint(x, y);\n    }\n\n    // IE 11 specific method not part of typescript definitions for DOM API\n    const nodeList = (document as any).msElementsFromPoint(x, y);\n\n    return UITargetNormalizer.nodeListToElementArray(nodeList);\n  }\n\n  public static getDropZoneTarget(containerPosition: Position, contextOffset: Position): HTMLElement | undefined {\n    // Make the coordinates relative to the screen instead of relative to the document or relative to the container\n    const pagePosition = fromContainerToPage(containerPosition, contextOffset);\n    const screenPosition = fromPageToScreen(pagePosition);\n    const targets = UITargetNormalizer.getElementsFromPoint(screenPosition);\n    let dropTarget: HTMLElement | undefined;\n\n    for (const target of targets) {\n      if (UITargetNormalizer.checkAttributeValue(target, 'data-dropzone')) {\n        dropTarget = target as HTMLElement;\n        break;\n      }\n    }\n\n    if (!dropTarget) {\n      return;\n    }\n\n    return dropTarget;\n  }\n\n  private static nodeListToElementArray(nodeList: NodeListOf<Element>): Element[] {\n    const elementArray: Element[] = [];\n\n    const length = nodeList.length;\n    for (let i = 0; i < length; i += 1) {\n      elementArray.push(nodeList[i]);\n    }\n\n    return elementArray;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),vl=(Ml.s[0]++,void Ml.b[0][0]++&&(Ml.b[0][1]++,(void 0).__assign)||(Ml.b[0][2]++,function(){return Ml.f[0]++,Ml.s[1]++,Ml.b[1][0]++,vl=Object.assign||(Ml.b[1][1]++,function(n){Ml.f[1]++,Ml.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in Ml.s[3]++,e=arguments[A],Ml.s[4]++,e)Ml.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(Ml.b[2][0]++,Ml.s[6]++,n[o]=e[o]):Ml.b[2][1]++;return Ml.s[7]++,n}),Ml.s[8]++,vl.apply(this,arguments)})),bl=(Ml.s[9]++,"true"),Ol=(Ml.s[10]++,function(){function n(){Ml.f[3]++}return Ml.f[2]++,Ml.s[11]++,n.normalizeTarget=function(n){return Ml.f[4]++,Ml.s[12]++,{originalTarget:n,id:(Ml.b[3][0]++,n&&(Ml.b[3][1]++,n.getAttribute("data-id"))||void Ml.b[3][2]++),type:(Ml.b[4][0]++,n&&(Ml.b[4][1]++,n.getAttribute("data-type"))||void Ml.b[4][2]++)}},Ml.s[13]++,n.checkAttributeValue=function(n,e,A){Ml.f[5]++,Ml.s[14]++,void 0===A?(Ml.b[5][0]++,Ml.s[15]++,A=bl):Ml.b[5][1]++;var t=(Ml.s[16]++,n.getAttribute(e));return Ml.s[17]++,t?(Ml.b[6][1]++,Ml.s[19]++,t===A):(Ml.b[6][0]++,Ml.s[18]++,!1)},Ml.s[20]++,n.isMouseEventInsideBrowser=function(n){Ml.f[6]++;var e=(Ml.s[21]++,{x:n.clientX,y:n.clientY});return Ml.s[22]++,function(n,e){H.f[12]++;var A=(H.s[23]++,n.x),t=(H.s[24]++,n.y),o=(H.s[25]++,e.position.x),i=(H.s[26]++,o+e.size.width),l=(H.s[27]++,e.position.y),r=(H.s[28]++,l+e.size.height);return H.s[29]++,H.b[1][0]++,An(A,o,i)&&(H.b[1][1]++,An(t,l,r))}(e,function(){fl.f[1]++;var n=(fl.s[7]++,{x:0,y:0});return fl.s[8]++,{position:n,size:gl()}}())},Ml.s[23]++,n.normalizeMouseEventTarget=function(e){Ml.f[7]++;var A=(Ml.s[24]++,e.target);return Ml.s[25]++,A?(Ml.b[7][1]++,Ml.s[27]++,n.isMouseEventInsideBrowser(e)?(Ml.b[8][0]++,Ml.s[28]++,e):(Ml.b[8][1]++,Ml.s[29]++,A!==document?(Ml.b[9][0]++,Ml.s[30]++,e):(Ml.b[9][1]++,Ml.s[31]++,vl(vl({},e),{target:document.documentElement})))):(Ml.b[7][0]++,Ml.s[26]++,e)},Ml.s[32]++,n.getTarget=function(e,A,t){Ml.f[8]++;var o=(Ml.s[33]++,n.normalizeMouseEventTarget(e).target);if(Ml.s[34]++,!o)return Ml.b[10][0]++,void Ml.s[35]++;Ml.b[10][1]++;var i=(Ml.s[36]++,o);if(Ml.s[37]++,i===document.documentElement)return Ml.b[11][0]++,Ml.s[38]++,i;if(Ml.b[11][1]++,Ml.s[39]++,!A)return Ml.b[12][0]++,Ml.s[40]++,i;for(Ml.b[12][1]++,Ml.s[41]++;Ml.b[13][0]++,!n.checkAttributeValue(i,A,t)&&(Ml.b[13][1]++,i.parentElement);)Ml.s[42]++,i=i.parentElement;return Ml.s[43]++,Ml.b[14][0]++,n.checkAttributeValue(i,A,t)&&(Ml.b[14][1]++,i)||void Ml.b[14][2]++},Ml.s[44]++,n.getElementsFromPoint=function(e){Ml.f[9]++;var A=(Ml.s[45]++,e.x),t=(Ml.s[46]++,e.y);if(Ml.s[47]++,document.elementsFromPoint)return Ml.b[15][0]++,Ml.s[48]++,document.elementsFromPoint(A,t);Ml.b[15][1]++;var o=(Ml.s[49]++,document.msElementsFromPoint(A,t));return Ml.s[50]++,n.nodeListToElementArray(o)},Ml.s[51]++,n.getDropZoneTarget=function(e,A){Ml.f[10]++;var t,o=(Ml.s[52]++,nn(e,A)),i=(Ml.s[53]++,function(n){return H.f[7]++,H.s[18]++,Z(n,V())}(o)),l=(Ml.s[54]++,n.getElementsFromPoint(i));Ml.s[55]++;for(var r=0,a=l;r<a.length;r++){var c=(Ml.s[56]++,a[r]);if(Ml.s[57]++,n.checkAttributeValue(c,"data-dropzone")){Ml.b[16][0]++,Ml.s[58]++,t=c,Ml.s[59]++;break}Ml.b[16][1]++}return Ml.s[60]++,t?(Ml.b[17][1]++,Ml.s[62]++,t):(Ml.b[17][0]++,void Ml.s[61]++)},Ml.s[63]++,n.nodeListToElementArray=function(n){Ml.f[11]++;var e=(Ml.s[64]++,[]),A=(Ml.s[65]++,n.length);Ml.s[66]++;for(var t=0;t<A;t+=1)Ml.s[67]++,e.push(n[t]);return Ml.s[68]++,e},Ml.s[69]++,n}()),Gl=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/UIEventNormalizer.ts",e="225f6488a144fb58ac83ba3f3c8de2c9468edce7",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/UIEventNormalizer.ts",statementMap:{0:{start:{line:7,column:14},end:{line:8,column:58}},1:{start:{line:10,column:0},end:{line:16,column:38}},2:{start:{line:11,column:4},end:{line:11,column:50}},3:{start:{line:12,column:4},end:{line:12,column:54}},4:{start:{line:13,column:4},end:{line:13,column:52}},5:{start:{line:14,column:4},end:{line:14,column:66}},6:{start:{line:15,column:4},end:{line:15,column:72}},7:{start:{line:18,column:0},end:{line:21,column:40}},8:{start:{line:19,column:4},end:{line:19,column:38}},9:{start:{line:20,column:4},end:{line:20,column:44}},10:{start:{line:23,column:0},end:{line:25,column:38}},11:{start:{line:24,column:4},end:{line:24,column:27}},12:{start:{line:27,column:0},end:{line:30,column:44}},13:{start:{line:28,column:4},end:{line:28,column:62}},14:{start:{line:29,column:4},end:{line:29,column:56}},15:{start:{line:32,column:4},end:{line:37,column:5}},16:{start:{line:33,column:46},end:{line:33,column:86}},17:{start:{line:34,column:45},end:{line:34,column:85}},18:{start:{line:35,column:43},end:{line:35,column:83}},19:{start:{line:36,column:33},end:{line:36,column:70}},20:{start:{line:39,column:39},end:{line:143,column:3}},21:{start:{line:42,column:4},end:{line:50,column:6}},22:{start:{line:43,column:20},end:{line:43,column:31}},23:{start:{line:43,column:41},end:{line:43,column:52}},24:{start:{line:44,column:27},end:{line:44,column:49}},25:{start:{line:45,column:8},end:{line:49,column:10}},26:{start:{line:51,column:4},end:{line:76,column:6}},27:{start:{line:52,column:32},end:{line:52,column:58}},28:{start:{line:53,column:28},end:{line:53,column:82}},29:{start:{line:54,column:8},end:{line:56,column:9}},30:{start:{line:55,column:12},end:{line:55,column:19}},31:{start:{line:57,column:20},end:{line:57,column:31}},32:{start:{line:57,column:41},end:{line:57,column:52}},33:{start:{line:57,column:63},end:{line:57,column:75}},34:{start:{line:58,column:27},end:{line:58,column:49}},35:{start:{line:59,column:23},end:{line:59,column:71}},36:{start:{line:60,column:35},end:{line:60,column:72}},37:{start:{line:61,column:33},end:{line:61,column:71}},38:{start:{line:65,column:21},end:{line:65,column:63}},39:{start:{line:66,column:28},end:{line:66,column:33}},40:{start:{line:67,column:21},end:{line:67,column:70}},41:{start:{line:68,column:8},end:{line:75,column:10}},42:{start:{line:77,column:4},end:{line:79,column:6}},43:{start:{line:78,column:8},end:{line:78,column:113}},44:{start:{line:80,column:4},end:{line:82,column:6}},45:{start:{line:81,column:8},end:{line:81,column:110}},46:{start:{line:83,column:4},end:{line:85,column:6}},47:{start:{line:84,column:8},end:{line:84,column:112}},48:{start:{line:86,column:4},end:{line:95,column:6}},49:{start:{line:87,column:21},end:{line:87,column:33}},50:{start:{line:87,column:43},end:{line:87,column:54}},51:{start:{line:87,column:64},end:{line:87,column:75}},52:{start:{line:88,column:27},end:{line:88,column:49}},53:{start:{line:89,column:8},end:{line:94,column:10}},54:{start:{line:96,column:4},end:{line:102,column:6}},55:{start:{line:97,column:26},end:{line:97,column:59}},56:{start:{line:98,column:8},end:{line:101,column:10}},57:{start:{line:103,column:4},end:{line:110,column:6}},58:{start:{line:104,column:25},end:{line:104,column:42}},59:{start:{line:104,column:58},end:{line:104,column:76}},60:{start:{line:105,column:8},end:{line:109,column:10}},61:{start:{line:111,column:4},end:{line:132,column:6}},62:{start:{line:112,column:18},end:{line:112,column:27}},63:{start:{line:112,column:36},end:{line:112,column:46}},64:{start:{line:112,column:59},end:{line:112,column:73}},65:{start:{line:112,column:85},end:{line:112,column:98}},66:{start:{line:112,column:110},end:{line:112,column:123}},67:{start:{line:112,column:134},end:{line:112,column:146}},68:{start:{line:113,column:28},end:{line:113,column:33}},69:{start:{line:114,column:21},end:{line:114,column:47}},70:{start:{line:115,column:8},end:{line:131,column:9}},71:{start:{line:116,column:12},end:{line:120,column:13}},72:{start:{line:119,column:16},end:{line:119,column:39}},73:{start:{line:121,column:12},end:{line:130,column:14}},74:{start:{line:133,column:4},end:{line:135,column:6}},75:{start:{line:134,column:8},end:{line:134,column:104}},76:{start:{line:136,column:4},end:{line:138,column:6}},77:{start:{line:137,column:8},end:{line:137,column:106}},78:{start:{line:139,column:4},end:{line:141,column:6}},79:{start:{line:140,column:8},end:{line:140,column:107}},80:{start:{line:142,column:4},end:{line:142,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:1},end:{line:10,column:2}},loc:{start:{line:10,column:24},end:{line:16,column:1}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:1},end:{line:18,column:2}},loc:{start:{line:18,column:25},end:{line:21,column:1}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:23,column:1},end:{line:23,column:2}},loc:{start:{line:23,column:24},end:{line:25,column:1}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:27,column:1},end:{line:27,column:2}},loc:{start:{line:27,column:27},end:{line:30,column:1}},line:27},4:{name:"getRequiredAttribute",decl:{start:{line:31,column:16},end:{line:31,column:36}},loc:{start:{line:31,column:43},end:{line:38,column:1}},line:31},5:{name:"(anonymous_5)",decl:{start:{line:39,column:39},end:{line:39,column:40}},loc:{start:{line:39,column:51},end:{line:143,column:1}},line:39},6:{name:"UIEventNormalizer",decl:{start:{line:40,column:13},end:{line:40,column:30}},loc:{start:{line:40,column:33},end:{line:41,column:5}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:42,column:48},end:{line:42,column:49}},loc:{start:{line:42,column:80},end:{line:50,column:5}},line:42},8:{name:"(anonymous_8)",decl:{start:{line:51,column:49},end:{line:51,column:50}},loc:{start:{line:51,column:87},end:{line:76,column:5}},line:51},9:{name:"(anonymous_9)",decl:{start:{line:77,column:49},end:{line:77,column:50}},loc:{start:{line:77,column:81},end:{line:79,column:5}},line:77},10:{name:"(anonymous_10)",decl:{start:{line:80,column:46},end:{line:80,column:47}},loc:{start:{line:80,column:78},end:{line:82,column:5}},line:80},11:{name:"(anonymous_11)",decl:{start:{line:83,column:48},end:{line:83,column:49}},loc:{start:{line:83,column:80},end:{line:85,column:5}},line:83},12:{name:"(anonymous_12)",decl:{start:{line:86,column:44},end:{line:86,column:45}},loc:{start:{line:86,column:76},end:{line:95,column:5}},line:86},13:{name:"(anonymous_13)",decl:{start:{line:96,column:48},end:{line:96,column:49}},loc:{start:{line:96,column:69},end:{line:102,column:5}},line:96},14:{name:"(anonymous_14)",decl:{start:{line:103,column:45},end:{line:103,column:46}},loc:{start:{line:103,column:77},end:{line:110,column:5}},line:103},15:{name:"(anonymous_15)",decl:{start:{line:111,column:47},end:{line:111,column:48}},loc:{start:{line:111,column:85},end:{line:132,column:5}},line:111},16:{name:"(anonymous_16)",decl:{start:{line:133,column:44},end:{line:133,column:45}},loc:{start:{line:133,column:76},end:{line:135,column:5}},line:133},17:{name:"(anonymous_17)",decl:{start:{line:136,column:46},end:{line:136,column:47}},loc:{start:{line:136,column:78},end:{line:138,column:5}},line:136},18:{name:"(anonymous_18)",decl:{start:{line:139,column:47},end:{line:139,column:48}},loc:{start:{line:139,column:79},end:{line:141,column:5}},line:139}},branchMap:{0:{loc:{start:{line:7,column:14},end:{line:8,column:58}},type:"binary-expr",locations:[{start:{line:7,column:14},end:{line:7,column:43}},{start:{line:8,column:4},end:{line:8,column:58}}],line:7},1:{loc:{start:{line:16,column:3},end:{line:16,column:36}},type:"binary-expr",locations:[{start:{line:16,column:3},end:{line:16,column:14}},{start:{line:16,column:19},end:{line:16,column:35}}],line:16},2:{loc:{start:{line:21,column:3},end:{line:21,column:38}},type:"binary-expr",locations:[{start:{line:21,column:3},end:{line:21,column:15}},{start:{line:21,column:20},end:{line:21,column:37}}],line:21},3:{loc:{start:{line:25,column:3},end:{line:25,column:36}},type:"binary-expr",locations:[{start:{line:25,column:3},end:{line:25,column:14}},{start:{line:25,column:19},end:{line:25,column:35}}],line:25},4:{loc:{start:{line:30,column:3},end:{line:30,column:42}},type:"binary-expr",locations:[{start:{line:30,column:3},end:{line:30,column:17}},{start:{line:30,column:22},end:{line:30,column:41}}],line:30},5:{loc:{start:{line:32,column:4},end:{line:37,column:5}},type:"switch",locations:[{start:{line:33,column:8},end:{line:33,column:86}},{start:{line:34,column:8},end:{line:34,column:85}},{start:{line:35,column:8},end:{line:35,column:83}},{start:{line:36,column:8},end:{line:36,column:70}}],line:32},6:{loc:{start:{line:54,column:8},end:{line:56,column:9}},type:"if",locations:[{start:{line:54,column:8},end:{line:56,column:9}},{start:{line:54,column:8},end:{line:56,column:9}}],line:54},7:{loc:{start:{line:114,column:21},end:{line:114,column:47}},type:"cond-expr",locations:[{start:{line:114,column:30},end:{line:114,column:37}},{start:{line:114,column:40},end:{line:114,column:47}}],line:114},8:{loc:{start:{line:115,column:8},end:{line:131,column:9}},type:"if",locations:[{start:{line:115,column:8},end:{line:131,column:9}},{start:{line:115,column:8},end:{line:131,column:9}}],line:115},9:{loc:{start:{line:116,column:12},end:{line:120,column:13}},type:"if",locations:[{start:{line:116,column:12},end:{line:120,column:13}},{start:{line:116,column:12},end:{line:120,column:13}}],line:116},10:{loc:{start:{line:116,column:16},end:{line:116,column:73}},type:"binary-expr",locations:[{start:{line:116,column:16},end:{line:116,column:46}},{start:{line:116,column:51},end:{line:116,column:62}},{start:{line:116,column:66},end:{line:116,column:72}}],line:116}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/UIEventNormalizer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/UIEventNormalizer.ts"],names:[],mappings:"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",sourcesContent:["import { fromPageToContainer, fromScreenToPage, subtract } from 'diagramMaker/service/positionUtils';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport UITargetNormalizer, { NormalizedTarget } from 'diagramMaker/service/ui/UITargetNormalizer';\nimport { Position, Size } from 'diagramMaker/state/types';\n\nimport {\n  ContainerEventType,\n  DragEventType,\n  DropEventType,\n  EventType,\n  KeyboardEventType,\n  MouseClickEventType,\n  MouseMoveEventType,\n  WheelEventType,\n  WindowEventType\n} from './UIEventManager';\n\n// to determine platform for ctrl(win)/cmd(mac) modifier key handling\n// https://github.com/ianstormtaylor/is-hotkey/blob/master/src/index.js\nconst IS_MAC = (\n  typeof window !== 'undefined' &&\n  /Mac|iPod|iPhone|iPad/.test(window.navigator.platform)\n);\n\nexport enum MouseButton {\n  LEFT,\n  MIDDLE,\n  RIGHT,\n  BROWSER_BACK,\n  BROWSER_FORWARD\n}\n\nexport enum KeyboardCode {\n  DELETE = 'Delete',\n  BACKSPACE = 'Backspace'\n}\n\nexport enum KeyboardKey {\n  A = 'a'\n}\n\nexport enum EventAttribute {\n  DATA_EVENT_TARGET = 'data-event-target',\n  DATA_DRAGGABLE = 'data-draggable'\n}\n\nexport interface NormalizedMouseMoveEvent {\n  originalEvent: MouseEvent;\n  position: Position;\n  type: MouseMoveEventType;\n}\n\nexport interface NormalizedMouseScrollEvent {\n  delta: number;\n  originalEvent: WheelEvent;\n  position: Position;\n  type: WheelEventType;\n}\n\nexport interface NormalizedMouseClickEvent {\n  originalEvent: MouseEvent;\n  button: MouseButton;\n  position: Position;\n  target: NormalizedTarget;\n  offset: Position;\n  type: MouseClickEventType;\n}\n\nexport interface NormalizedDragEvent {\n  position: Position;\n  target: NormalizedTarget;\n  offset?: Position;\n  dragReference?: Position;\n  type: DragEventType;\n}\n\nexport interface NormalizedDropEvent {\n  position: Position;\n  target: NormalizedTarget;\n  dropzone: NormalizedTarget;\n  offset?: Position;\n  type: DropEventType;\n}\n\nexport interface NormalizedContainerEvent {\n  contextRect: ClientRect | DOMRect;\n  type: ContainerEventType;\n}\n\nexport interface NormalizedWindowEvent {\n  originalEvent: Event;\n  size: Size;\n  type: WindowEventType;\n}\n\nexport interface NormalizedKeyboardEvent {\n  code: string;\n  key: string;\n  ctrlKey: boolean;\n  shiftKey: boolean;\n  metaKey: boolean;\n  modKey: boolean;\n  originalEvent: KeyboardEvent;\n  type: KeyboardEventType;\n}\n\nexport type NormalizedEvent =\n  NormalizedContainerEvent | NormalizedMouseMoveEvent | NormalizedDragEvent | NormalizedWindowEvent |\n  NormalizedMouseScrollEvent | NormalizedMouseClickEvent | NormalizedKeyboardEvent;\n\nexport function getRequiredAttribute(type: EventType): EventAttribute | undefined {\n  switch (type) {\n    case MouseClickEventType.RIGHT_CLICK: return EventAttribute.DATA_EVENT_TARGET;\n    case MouseClickEventType.MOUSE_DOWN: return EventAttribute.DATA_EVENT_TARGET;\n    case MouseClickEventType.MOUSE_UP: return EventAttribute.DATA_EVENT_TARGET;\n    case DragEventType.DRAG: return EventAttribute.DATA_DRAGGABLE;\n  }\n}\n\n// @FIXME Even though MouseEvent and WheelEvent both extend Event,\n// typescript won't allow this to be typed as Event\n// nor MouseEvent | WheelEvent | Event\n// nor a union type of MouseEvent | WheelEvent | Event\nexport type EventNormalizer = (event: any, contextOffset: Position) => NormalizedEvent | void | undefined;\nexport default class UIEventNormalizer {\n  public static normalizeMouseMoveEvent(event: MouseEvent, contextOffset: Position): NormalizedMouseMoveEvent {\n    const { pageX, pageY } = event;\n    const pagePosition = { x: pageX, y: pageY };\n\n    return {\n      originalEvent: event,\n      position: fromPageToContainer(pagePosition, contextOffset),\n      type: MouseMoveEventType.MOUSE_MOVE\n    };\n  }\n\n  public static normalizeMouseClickEvent(\n    event: MouseEvent,\n    contextOffset: Position,\n    type: MouseClickEventType\n  ): NormalizedMouseClickEvent | undefined {\n\n    const requiredAttribute = getRequiredAttribute(type);\n    const targetElement = UITargetNormalizer.getTarget(event, requiredAttribute);\n\n    if (!targetElement) {\n      return;\n    }\n\n    const { pageX, pageY, button } = event;\n    const pagePosition = { x: pageX, y: pageY };\n    const position = fromPageToContainer(pagePosition, contextOffset);\n    const targetScreenPosition = targetElement.getBoundingClientRect();\n    const targetPagePosition = fromScreenToPage(targetScreenPosition);\n\n    // We are calculating the offset here instead of using the\n    // event's offset/layer prop because we need to calculate\n    // offset relative to the filtered target, not the actual target.\n\n    const offset: Position = subtract(pagePosition, targetPagePosition);\n\n    const originalEvent = event;\n    const target = UITargetNormalizer.normalizeTarget(targetElement);\n\n    return {\n      button,\n      offset,\n      originalEvent,\n      position,\n      target,\n      type\n    };\n  }\n\n  public static normalizeRightClickEvent(\n    event: MouseEvent,\n    contextOffset: Position\n    ): NormalizedMouseClickEvent | undefined {\n\n    return UIEventNormalizer.normalizeMouseClickEvent(event, contextOffset, MouseClickEventType.RIGHT_CLICK);\n  }\n\n  public static normalizeMouseUpEvent(\n    event: MouseEvent,\n    contextOffset: Position\n    ): NormalizedMouseClickEvent | undefined {\n\n    return UIEventNormalizer.normalizeMouseClickEvent(event, contextOffset, MouseClickEventType.MOUSE_UP);\n  }\n\n  public static normalizeMouseDownEvent(\n    event: MouseEvent,\n    contextOffset: Position\n    ): NormalizedMouseClickEvent | undefined {\n\n    return UIEventNormalizer.normalizeMouseClickEvent(event, contextOffset, MouseClickEventType.MOUSE_DOWN);\n  }\n\n  public static normalizeWheelEvent(event: WheelEvent, contextOffset: Position): NormalizedMouseScrollEvent {\n    const { deltaY, pageX, pageY } = event;\n    const pagePosition = { x: pageX, y: pageY };\n\n    return {\n      delta: deltaY,\n      originalEvent: event,\n      position: fromPageToContainer(pagePosition, contextOffset),\n      type: WheelEventType.MOUSE_WHEEL\n    };\n  }\n\n  public static normalizeContainerEvent(container: HTMLElement): NormalizedContainerEvent {\n    const contextRect = container.getBoundingClientRect();\n\n    return {\n      contextRect,\n      type: ContainerEventType.DIAGRAM_MAKER_CONTAINER_UPDATE\n    };\n  }\n\n  public static normalizeWindowEvent(event: Event, contextOffset: Position): NormalizedWindowEvent {\n    const { innerWidth, innerHeight } = window;\n\n    return {\n      originalEvent: event,\n      size: { width: innerWidth, height: innerHeight },\n      type: WindowEventType.RESIZE\n    };\n  }\n\n  public static normalizeKeyboardEvent(\n    event: KeyboardEvent,\n    contextOffset: Position,\n    type: KeyboardEventType\n  ): NormalizedKeyboardEvent | void {\n    const { key, code, shiftKey, metaKey, ctrlKey, target } = event;\n    const originalEvent = event;\n    const modKey = IS_MAC ? metaKey : ctrlKey;\n\n    if (UITargetNormalizer.checkAttributeValue(target as Element, 'data-type', DiagramMakerComponentsType.VIEW)) {\n      if (key === KeyboardCode.BACKSPACE || (key === 'a' && modKey)) {\n        // Prevent the browser from navigating back\n        // Since the back is fired on diagram maker\n        event.preventDefault();\n      }\n\n      return {\n        code,\n        key,\n        ctrlKey,\n        shiftKey,\n        metaKey,\n        modKey,\n        originalEvent,\n        type\n      } as NormalizedKeyboardEvent;\n    }\n  }\n\n  public static normalizeKeyUpEvent(event: KeyboardEvent, contextOffset: Position): NormalizedKeyboardEvent | void {\n    return UIEventNormalizer.normalizeKeyboardEvent(event, contextOffset, KeyboardEventType.KEY_UP);\n  }\n\n  public static normalizeKeyDownEvent(event: KeyboardEvent, contextOffset: Position): NormalizedKeyboardEvent | void {\n    return UIEventNormalizer.normalizeKeyboardEvent(event, contextOffset, KeyboardEventType.KEY_DOWN);\n  }\n\n  public static normalizeKeyPressEvent(event: KeyboardEvent, contextOffset: Position): NormalizedKeyboardEvent | void {\n    return UIEventNormalizer.normalizeKeyboardEvent(event, contextOffset, KeyboardEventType.KEY_PRESS);\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),Dl=(Gl.s[0]++,Gl.b[0][0]++,"undefined"!=typeof window&&(Gl.b[0][1]++,/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)));function kl(n){switch(Gl.f[4]++,Gl.s[15]++,n){case _l.RIGHT_CLICK:return Gl.b[5][0]++,Gl.s[16]++,Bl.DATA_EVENT_TARGET;case _l.MOUSE_DOWN:return Gl.b[5][1]++,Gl.s[17]++,Bl.DATA_EVENT_TARGET;case _l.MOUSE_UP:return Gl.b[5][2]++,Gl.s[18]++,Bl.DATA_EVENT_TARGET;case Ul.DRAG:return Gl.b[5][3]++,Gl.s[19]++,Bl.DATA_DRAGGABLE}}Gl.s[1]++,function(n){Gl.f[0]++,Gl.s[2]++,n[n.LEFT=0]="LEFT",Gl.s[3]++,n[n.MIDDLE=1]="MIDDLE",Gl.s[4]++,n[n.RIGHT=2]="RIGHT",Gl.s[5]++,n[n.BROWSER_BACK=3]="BROWSER_BACK",Gl.s[6]++,n[n.BROWSER_FORWARD=4]="BROWSER_FORWARD"}((Gl.b[1][0]++,hl||(Gl.b[1][1]++,hl={}))),Gl.s[7]++,function(n){Gl.f[1]++,Gl.s[8]++,n.DELETE="Delete",Gl.s[9]++,n.BACKSPACE="Backspace"}((Gl.b[2][0]++,Il||(Gl.b[2][1]++,Il={}))),Gl.s[10]++,function(n){Gl.f[2]++,Gl.s[11]++,n.A="a"}((Gl.b[3][0]++,yl||(Gl.b[3][1]++,yl={}))),Gl.s[12]++,function(n){Gl.f[3]++,Gl.s[13]++,n.DATA_EVENT_TARGET="data-event-target",Gl.s[14]++,n.DATA_DRAGGABLE="data-draggable"}((Gl.b[4][0]++,Bl||(Gl.b[4][1]++,Bl={})));var Kl,Sl,_l,xl,Tl,Ql,Ul,wl,Nl,Pl=(Gl.s[20]++,function(){function n(){Gl.f[6]++}return Gl.f[5]++,Gl.s[21]++,n.normalizeMouseMoveEvent=function(n,e){Gl.f[7]++;var A=(Gl.s[22]++,n.pageX),t=(Gl.s[23]++,n.pageY),o=(Gl.s[24]++,{x:A,y:t});return Gl.s[25]++,{originalEvent:n,position:$(o,e),type:xl.MOUSE_MOVE}},Gl.s[26]++,n.normalizeMouseClickEvent=function(n,e,A){Gl.f[8]++;var t=(Gl.s[27]++,kl(A)),o=(Gl.s[28]++,Ol.getTarget(n,t));if(Gl.s[29]++,!o)return Gl.b[6][0]++,void Gl.s[30]++;Gl.b[6][1]++;var i=(Gl.s[31]++,n.pageX),l=(Gl.s[32]++,n.pageY),r=(Gl.s[33]++,n.button),a=(Gl.s[34]++,{x:i,y:l}),c=(Gl.s[35]++,$(a,e)),s=(Gl.s[36]++,o.getBoundingClientRect()),C=(Gl.s[37]++,J(s)),u=(Gl.s[38]++,Z(a,C)),d=(Gl.s[39]++,n),m=(Gl.s[40]++,Ol.normalizeTarget(o));return Gl.s[41]++,{button:r,offset:u,originalEvent:d,position:c,target:m,type:A}},Gl.s[42]++,n.normalizeRightClickEvent=function(e,A){return Gl.f[9]++,Gl.s[43]++,n.normalizeMouseClickEvent(e,A,_l.RIGHT_CLICK)},Gl.s[44]++,n.normalizeMouseUpEvent=function(e,A){return Gl.f[10]++,Gl.s[45]++,n.normalizeMouseClickEvent(e,A,_l.MOUSE_UP)},Gl.s[46]++,n.normalizeMouseDownEvent=function(e,A){return Gl.f[11]++,Gl.s[47]++,n.normalizeMouseClickEvent(e,A,_l.MOUSE_DOWN)},Gl.s[48]++,n.normalizeWheelEvent=function(n,e){Gl.f[12]++;var A=(Gl.s[49]++,n.deltaY),t=(Gl.s[50]++,n.pageX),o=(Gl.s[51]++,n.pageY),i=(Gl.s[52]++,{x:t,y:o});return Gl.s[53]++,{delta:A,originalEvent:n,position:$(i,e),type:Tl.MOUSE_WHEEL}},Gl.s[54]++,n.normalizeContainerEvent=function(n){Gl.f[13]++;var e=(Gl.s[55]++,n.getBoundingClientRect());return Gl.s[56]++,{contextRect:e,type:Kl.DIAGRAM_MAKER_CONTAINER_UPDATE}},Gl.s[57]++,n.normalizeWindowEvent=function(n,e){Gl.f[14]++;var A=(Gl.s[58]++,window.innerWidth),t=(Gl.s[59]++,window.innerHeight);return Gl.s[60]++,{originalEvent:n,size:{width:A,height:t},type:Ql.RESIZE}},Gl.s[61]++,n.normalizeKeyboardEvent=function(n,e,A){Gl.f[15]++;var t=(Gl.s[62]++,n.key),o=(Gl.s[63]++,n.code),i=(Gl.s[64]++,n.shiftKey),l=(Gl.s[65]++,n.metaKey),r=(Gl.s[66]++,n.ctrlKey),a=(Gl.s[67]++,n.target),s=(Gl.s[68]++,n),C=(Gl.s[69]++,Dl?(Gl.b[7][0]++,l):(Gl.b[7][1]++,r));if(Gl.s[70]++,Ol.checkAttributeValue(a,"data-type",c.VIEW))return Gl.b[8][0]++,Gl.s[71]++,Gl.b[10][0]++,t===Il.BACKSPACE||(Gl.b[10][1]++,"a"===t&&(Gl.b[10][2]++,C))?(Gl.b[9][0]++,Gl.s[72]++,n.preventDefault()):Gl.b[9][1]++,Gl.s[73]++,{code:o,key:t,ctrlKey:r,shiftKey:i,metaKey:l,modKey:C,originalEvent:s,type:A};Gl.b[8][1]++},Gl.s[74]++,n.normalizeKeyUpEvent=function(e,A){return Gl.f[16]++,Gl.s[75]++,n.normalizeKeyboardEvent(e,A,Nl.KEY_UP)},Gl.s[76]++,n.normalizeKeyDownEvent=function(e,A){return Gl.f[17]++,Gl.s[77]++,n.normalizeKeyboardEvent(e,A,Nl.KEY_DOWN)},Gl.s[78]++,n.normalizeKeyPressEvent=function(e,A){return Gl.f[18]++,Gl.s[79]++,n.normalizeKeyboardEvent(e,A,Nl.KEY_PRESS)},Gl.s[80]++,n}()),Rl=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/UIEventManager.ts",e="fffd75120e2768a0accc446b340c95314b0a51e7",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/UIEventManager.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:16,column:0},end:{line:18,column:52}},10:{start:{line:17,column:4},end:{line:17,column:89}},11:{start:{line:20,column:0},end:{line:22,column:48}},12:{start:{line:21,column:4},end:{line:21,column:44}},13:{start:{line:24,column:0},end:{line:29,column:54}},14:{start:{line:25,column:4},end:{line:25,column:48}},15:{start:{line:26,column:4},end:{line:26,column:55}},16:{start:{line:27,column:4},end:{line:27,column:52}},17:{start:{line:28,column:4},end:{line:28,column:48}},18:{start:{line:31,column:0},end:{line:33,column:52}},19:{start:{line:32,column:4},end:{line:32,column:51}},20:{start:{line:35,column:0},end:{line:37,column:44}},21:{start:{line:36,column:4},end:{line:36,column:44}},22:{start:{line:39,column:0},end:{line:41,column:46}},23:{start:{line:40,column:4},end:{line:40,column:41}},24:{start:{line:43,column:0},end:{line:47,column:42}},25:{start:{line:44,column:4},end:{line:44,column:44}},26:{start:{line:45,column:4},end:{line:45,column:37}},27:{start:{line:46,column:4},end:{line:46,column:48}},28:{start:{line:49,column:0},end:{line:54,column:42}},29:{start:{line:50,column:4},end:{line:50,column:37}},30:{start:{line:51,column:4},end:{line:51,column:48}},31:{start:{line:52,column:4},end:{line:52,column:48}},32:{start:{line:53,column:4},end:{line:53,column:46}},33:{start:{line:56,column:0},end:{line:60,column:50}},34:{start:{line:57,column:4},end:{line:57,column:46}},35:{start:{line:58,column:4},end:{line:58,column:42}},36:{start:{line:59,column:4},end:{line:59,column:48}},37:{start:{line:61,column:29},end:{line:61,column:62}},38:{start:{line:62,column:28},end:{line:62,column:60}},39:{start:{line:63,column:24},end:{line:63,column:52}},40:{start:{line:64,column:25},end:{line:64,column:54}},41:{start:{line:65,column:23},end:{line:65,column:50}},42:{start:{line:66,column:23},end:{line:66,column:50}},43:{start:{line:67,column:27},end:{line:67,column:58}},44:{start:{line:68,column:19},end:{line:68,column:186}},45:{start:{line:69,column:17},end:{line:69,column:47}},46:{start:{line:69,column:60},end:{line:69,column:88}},47:{start:{line:69,column:103},end:{line:69,column:133}},48:{start:{line:69,column:149},end:{line:69,column:180}},49:{start:{line:70,column:18},end:{line:70,column:44}},50:{start:{line:71,column:17},end:{line:71,column:46}},51:{start:{line:72,column:13},end:{line:72,column:35}},52:{start:{line:73,column:11},end:{line:73,column:29}},53:{start:{line:73,column:44},end:{line:73,column:68}},54:{start:{line:73,column:81},end:{line:73,column:103}},55:{start:{line:74,column:11},end:{line:74,column:29}},56:{start:{line:74,column:43},end:{line:74,column:66}},57:{start:{line:74,column:81},end:{line:74,column:105}},58:{start:{line:74,column:120},end:{line:74,column:144}},59:{start:{line:75,column:15},end:{line:75,column:41}},60:{start:{line:75,column:52},end:{line:75,column:76}},61:{start:{line:75,column:90},end:{line:75,column:117}},62:{start:{line:76,column:37},end:{line:76,column:86}},63:{start:{line:77,column:14},end:{line:77,column:38}},64:{start:{line:78,column:22},end:{line:78,column:56}},65:{start:{line:78,column:70},end:{line:78,column:98}},66:{start:{line:79,column:36},end:{line:338,column:3}},67:{start:{line:81,column:20},end:{line:81,column:24}},68:{start:{line:82,column:8},end:{line:82,column:33}},69:{start:{line:83,column:8},end:{line:83,column:31}},70:{start:{line:84,column:8},end:{line:84,column:36}},71:{start:{line:85,column:8},end:{line:92,column:10}},72:{start:{line:86,column:12},end:{line:91,column:14}},73:{start:{line:87,column:38},end:{line:87,column:76}},74:{start:{line:88,column:16},end:{line:90,column:17}},75:{start:{line:89,column:20},end:{line:89,column:71}},76:{start:{line:93,column:8},end:{line:95,column:10}},77:{start:{line:94,column:12},end:{line:94,column:115}},78:{start:{line:96,column:8},end:{line:99,column:10}},79:{start:{line:97,column:12},end:{line:97,column:72}},80:{start:{line:98,column:12},end:{line:98,column:41}},81:{start:{line:100,column:8},end:{line:103,column:10}},82:{start:{line:101,column:28},end:{line:101,column:40}},83:{start:{line:101,column:58},end:{line:101,column:74}},84:{start:{line:101,column:86},end:{line:101,column:96}},85:{start:{line:102,column:12},end:{line:102,column:66}},86:{start:{line:104,column:8},end:{line:106,column:10}},87:{start:{line:105,column:12},end:{line:105,column:72}},88:{start:{line:107,column:8},end:{line:115,column:10}},89:{start:{line:108,column:12},end:{line:108,column:51}},90:{start:{line:110,column:12},end:{line:110,column:38}},91:{start:{line:111,column:12},end:{line:111,column:41}},92:{start:{line:112,column:12},end:{line:112,column:43}},93:{start:{line:113,column:12},end:{line:113,column:51}},94:{start:{line:114,column:12},end:{line:114,column:49}},95:{start:{line:116,column:8},end:{line:122,column:10}},96:{start:{line:117,column:25},end:{line:117,column:37}},97:{start:{line:118,column:12},end:{line:121,column:13}},98:{start:{line:120,column:20},end:{line:120,column:58}},99:{start:{line:123,column:8},end:{line:126,column:10}},100:{start:{line:124,column:12},end:{line:124,column:52}},101:{start:{line:125,column:12},end:{line:125,column:69}},102:{start:{line:127,column:8},end:{line:141,column:10}},103:{start:{line:128,column:36},end:{line:128,column:76}},104:{start:{line:129,column:25},end:{line:129,column:74}},105:{start:{line:130,column:12},end:{line:132,column:13}},106:{start:{line:131,column:16},end:{line:131,column:23}},107:{start:{line:134,column:39},end:{line:134,column:69}},108:{start:{line:135,column:37},end:{line:135,column:75}},109:{start:{line:136,column:31},end:{line:136,column:87}},110:{start:{line:137,column:25},end:{line:137,column:67}},111:{start:{line:138,column:12},end:{line:138,column:48}},112:{start:{line:139,column:12},end:{line:139,column:47}},113:{start:{line:140,column:12},end:{line:140,column:55}},114:{start:{line:144,column:8},end:{line:146,column:10}},115:{start:{line:145,column:12},end:{line:145,column:58}},116:{start:{line:147,column:8},end:{line:149,column:10}},117:{start:{line:148,column:12},end:{line:148,column:49}},118:{start:{line:150,column:8},end:{line:152,column:10}},119:{start:{line:151,column:12},end:{line:151,column:49}},120:{start:{line:153,column:8},end:{line:155,column:10}},121:{start:{line:154,column:12},end:{line:154,column:46}},122:{start:{line:156,column:8},end:{line:158,column:10}},123:{start:{line:157,column:12},end:{line:157,column:49}},124:{start:{line:159,column:8},end:{line:161,column:10}},125:{start:{line:160,column:12},end:{line:160,column:47}},126:{start:{line:162,column:8},end:{line:164,column:10}},127:{start:{line:163,column:12},end:{line:163,column:41}},128:{start:{line:165,column:8},end:{line:171,column:10}},129:{start:{line:166,column:25},end:{line:166,column:37}},130:{start:{line:167,column:12},end:{line:170,column:13}},131:{start:{line:169,column:20},end:{line:169,column:60}},132:{start:{line:172,column:8},end:{line:178,column:10}},133:{start:{line:173,column:12},end:{line:173,column:43}},134:{start:{line:174,column:12},end:{line:174,column:38}},135:{start:{line:175,column:12},end:{line:175,column:43}},136:{start:{line:176,column:12},end:{line:176,column:43}},137:{start:{line:177,column:12},end:{line:177,column:42}},138:{start:{line:179,column:8},end:{line:189,column:10}},139:{start:{line:180,column:12},end:{line:182,column:13}},140:{start:{line:181,column:16},end:{line:181,column:23}},141:{start:{line:183,column:27},end:{line:183,column:41}},142:{start:{line:184,column:25},end:{line:184,column:48}},143:{start:{line:185,column:32},end:{line:185,column:51}},144:{start:{line:186,column:25},end:{line:186,column:64}},145:{start:{line:187,column:23},end:{line:187,column:41}},146:{start:{line:188,column:12},end:{line:188,column:139}},147:{start:{line:190,column:8},end:{line:207,column:10}},148:{start:{line:191,column:12},end:{line:193,column:13}},149:{start:{line:192,column:16},end:{line:192,column:23}},150:{start:{line:194,column:12},end:{line:196,column:13}},151:{start:{line:195,column:16},end:{line:195,column:23}},152:{start:{line:197,column:12},end:{line:199,column:13}},153:{start:{line:198,column:16},end:{line:198,column:23}},154:{start:{line:200,column:25},end:{line:200,column:48}},155:{start:{line:201,column:27},end:{line:201,column:41}},156:{start:{line:202,column:27},end:{line:202,column:67}},157:{start:{line:203,column:25},end:{line:203,column:64}},158:{start:{line:204,column:23},end:{line:204,column:47}},159:{start:{line:205,column:12},end:{line:205,column:50}},160:{start:{line:206,column:12},end:{line:206,column:135}},161:{start:{line:208,column:8},end:{line:222,column:10}},162:{start:{line:209,column:12},end:{line:211,column:13}},163:{start:{line:210,column:16},end:{line:210,column:23}},164:{start:{line:212,column:27},end:{line:212,column:41}},165:{start:{line:213,column:34},end:{line:213,column:101}},166:{start:{line:214,column:12},end:{line:216,column:13}},167:{start:{line:215,column:16},end:{line:215,column:23}},168:{start:{line:217,column:25},end:{line:217,column:48}},169:{start:{line:218,column:25},end:{line:218,column:47}},170:{start:{line:219,column:27},end:{line:219,column:59}},171:{start:{line:220,column:23},end:{line:220,column:46}},172:{start:{line:221,column:12},end:{line:221,column:141}},173:{start:{line:223,column:8},end:{line:236,column:10}},174:{start:{line:224,column:12},end:{line:226,column:13}},175:{start:{line:225,column:16},end:{line:225,column:23}},176:{start:{line:227,column:34},end:{line:227,column:57}},177:{start:{line:228,column:12},end:{line:230,column:13}},178:{start:{line:229,column:16},end:{line:229,column:23}},179:{start:{line:231,column:27},end:{line:231,column:41}},180:{start:{line:232,column:25},end:{line:232,column:64}},181:{start:{line:233,column:27},end:{line:233,column:59}},182:{start:{line:234,column:23},end:{line:234,column:41}},183:{start:{line:235,column:12},end:{line:235,column:113}},184:{start:{line:240,column:8},end:{line:251,column:10}},185:{start:{line:241,column:12},end:{line:243,column:13}},186:{start:{line:242,column:16},end:{line:242,column:23}},187:{start:{line:244,column:12},end:{line:246,column:13}},188:{start:{line:245,column:16},end:{line:245,column:23}},189:{start:{line:247,column:12},end:{line:249,column:13}},190:{start:{line:248,column:16},end:{line:248,column:23}},191:{start:{line:250,column:12},end:{line:250,column:120}},192:{start:{line:252,column:8},end:{line:263,column:10}},193:{start:{line:253,column:12},end:{line:255,column:13}},194:{start:{line:254,column:16},end:{line:254,column:23}},195:{start:{line:256,column:25},end:{line:256,column:47}},196:{start:{line:257,column:27},end:{line:257,column:41}},197:{start:{line:258,column:12},end:{line:262,column:15}},198:{start:{line:264,column:8},end:{line:281,column:10}},199:{start:{line:265,column:12},end:{line:267,column:13}},200:{start:{line:266,column:16},end:{line:266,column:23}},201:{start:{line:268,column:37},end:{line:268,column:61}},202:{start:{line:269,column:12},end:{line:271,column:13}},203:{start:{line:270,column:16},end:{line:270,column:23}},204:{start:{line:272,column:27},end:{line:272,column:41}},205:{start:{line:273,column:25},end:{line:273,column:60}},206:{start:{line:274,column:23},end:{line:274,column:47}},207:{start:{line:275,column:12},end:{line:275,column:58}},208:{start:{line:276,column:12},end:{line:280,column:15}},209:{start:{line:282,column:8},end:{line:299,column:10}},210:{start:{line:283,column:12},end:{line:285,column:13}},211:{start:{line:284,column:16},end:{line:284,column:23}},212:{start:{line:286,column:27},end:{line:286,column:41}},213:{start:{line:287,column:34},end:{line:287,column:101}},214:{start:{line:288,column:12},end:{line:290,column:13}},215:{start:{line:289,column:16},end:{line:289,column:23}},216:{start:{line:291,column:12},end:{line:293,column:13}},217:{start:{line:292,column:16},end:{line:292,column:23}},218:{start:{line:294,column:12},end:{line:294,column:56}},219:{start:{line:295,column:27},end:{line:295,column:59}},220:{start:{line:296,column:25},end:{line:296,column:64}},221:{start:{line:297,column:23},end:{line:297,column:47}},222:{start:{line:298,column:12},end:{line:298,column:119}},223:{start:{line:301,column:8},end:{line:301,column:86}},224:{start:{line:302,column:8},end:{line:302,column:82}},225:{start:{line:303,column:8},end:{line:303,column:86}},226:{start:{line:304,column:8},end:{line:304,column:88}},227:{start:{line:306,column:8},end:{line:306,column:75}},228:{start:{line:308,column:8},end:{line:308,column:79}},229:{start:{line:310,column:8},end:{line:310,column:74}},230:{start:{line:311,column:8},end:{line:311,column:70}},231:{start:{line:312,column:8},end:{line:312,column:76}},232:{start:{line:314,column:8},end:{line:314,column:40}},233:{start:{line:315,column:26},end:{line:315,column:57}},234:{start:{line:316,column:8},end:{line:316,column:59}},235:{start:{line:318,column:4},end:{line:330,column:6}},236:{start:{line:319,column:24},end:{line:319,column:47}},237:{start:{line:321,column:8},end:{line:321,column:52}},238:{start:{line:323,column:8},end:{line:323,column:48}},239:{start:{line:325,column:8},end:{line:325,column:52}},240:{start:{line:327,column:8},end:{line:327,column:70}},241:{start:{line:329,column:8},end:{line:329,column:62}},242:{start:{line:331,column:4},end:{line:336,column:6}},243:{start:{line:332,column:8},end:{line:332,column:59}},244:{start:{line:332,column:34},end:{line:332,column:57}},245:{start:{line:333,column:28},end:{line:333,column:75}},246:{start:{line:334,column:8},end:{line:334,column:69}},247:{start:{line:335,column:8},end:{line:335,column:59}},248:{start:{line:337,column:4},end:{line:337,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:16,column:1},end:{line:16,column:2}},loc:{start:{line:16,column:31},end:{line:18,column:1}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:20,column:1},end:{line:20,column:2}},loc:{start:{line:20,column:29},end:{line:22,column:1}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:24,column:1},end:{line:24,column:2}},loc:{start:{line:24,column:32},end:{line:29,column:1}},line:24},5:{name:"(anonymous_5)",decl:{start:{line:31,column:1},end:{line:31,column:2}},loc:{start:{line:31,column:31},end:{line:33,column:1}},line:31},6:{name:"(anonymous_6)",decl:{start:{line:35,column:1},end:{line:35,column:2}},loc:{start:{line:35,column:27},end:{line:37,column:1}},line:35},7:{name:"(anonymous_7)",decl:{start:{line:39,column:1},end:{line:39,column:2}},loc:{start:{line:39,column:28},end:{line:41,column:1}},line:39},8:{name:"(anonymous_8)",decl:{start:{line:43,column:1},end:{line:43,column:2}},loc:{start:{line:43,column:26},end:{line:47,column:1}},line:43},9:{name:"(anonymous_9)",decl:{start:{line:49,column:1},end:{line:49,column:2}},loc:{start:{line:49,column:26},end:{line:54,column:1}},line:49},10:{name:"(anonymous_10)",decl:{start:{line:56,column:1},end:{line:56,column:2}},loc:{start:{line:56,column:30},end:{line:60,column:1}},line:56},11:{name:"(anonymous_11)",decl:{start:{line:79,column:36},end:{line:79,column:37}},loc:{start:{line:79,column:48},end:{line:338,column:1}},line:79},12:{name:"UIEventManager",decl:{start:{line:80,column:13},end:{line:80,column:27}},loc:{start:{line:80,column:47},end:{line:317,column:5}},line:80},13:{name:"(anonymous_13)",decl:{start:{line:85,column:35},end:{line:85,column:36}},loc:{start:{line:85,column:68},end:{line:92,column:9}},line:85},14:{name:"(anonymous_14)",decl:{start:{line:86,column:19},end:{line:86,column:20}},loc:{start:{line:86,column:36},end:{line:91,column:13}},line:86},15:{name:"(anonymous_15)",decl:{start:{line:93,column:36},end:{line:93,column:37}},loc:{start:{line:93,column:81},end:{line:95,column:9}},line:93},16:{name:"(anonymous_16)",decl:{start:{line:96,column:44},end:{line:96,column:45}},loc:{start:{line:96,column:56},end:{line:99,column:9}},line:96},17:{name:"(anonymous_17)",decl:{start:{line:100,column:36},end:{line:100,column:37}},loc:{start:{line:100,column:50},end:{line:103,column:9}},line:100},18:{name:"(anonymous_18)",decl:{start:{line:104,column:29},end:{line:104,column:30}},loc:{start:{line:104,column:46},end:{line:106,column:9}},line:104},19:{name:"(anonymous_19)",decl:{start:{line:107,column:33},end:{line:107,column:34}},loc:{start:{line:107,column:50},end:{line:115,column:9}},line:107},20:{name:"(anonymous_20)",decl:{start:{line:116,column:29},end:{line:116,column:30}},loc:{start:{line:116,column:46},end:{line:122,column:9}},line:116},21:{name:"(anonymous_21)",decl:{start:{line:123,column:35},end:{line:123,column:36}},loc:{start:{line:123,column:52},end:{line:126,column:9}},line:123},22:{name:"(anonymous_22)",decl:{start:{line:127,column:42},end:{line:127,column:43}},loc:{start:{line:127,column:59},end:{line:141,column:9}},line:127},23:{name:"(anonymous_23)",decl:{start:{line:144,column:37},end:{line:144,column:38}},loc:{start:{line:144,column:67},end:{line:146,column:9}},line:144},24:{name:"(anonymous_24)",decl:{start:{line:147,column:37},end:{line:147,column:38}},loc:{start:{line:147,column:58},end:{line:149,column:9}},line:147},25:{name:"(anonymous_25)",decl:{start:{line:150,column:36},end:{line:150,column:37}},loc:{start:{line:150,column:58},end:{line:152,column:9}},line:150},26:{name:"(anonymous_26)",decl:{start:{line:153,column:32},end:{line:153,column:33}},loc:{start:{line:153,column:55},end:{line:155,column:9}},line:153},27:{name:"(anonymous_27)",decl:{start:{line:156,column:36},end:{line:156,column:37}},loc:{start:{line:156,column:58},end:{line:158,column:9}},line:156},28:{name:"(anonymous_28)",decl:{start:{line:159,column:35},end:{line:159,column:36}},loc:{start:{line:159,column:56},end:{line:161,column:9}},line:159},29:{name:"(anonymous_29)",decl:{start:{line:162,column:32},end:{line:162,column:33}},loc:{start:{line:162,column:50},end:{line:164,column:9}},line:162},30:{name:"(anonymous_30)",decl:{start:{line:165,column:31},end:{line:165,column:32}},loc:{start:{line:165,column:48},end:{line:171,column:9}},line:165},31:{name:"(anonymous_31)",decl:{start:{line:172,column:31},end:{line:172,column:32}},loc:{start:{line:172,column:48},end:{line:178,column:9}},line:172},32:{name:"(anonymous_32)",decl:{start:{line:179,column:28},end:{line:179,column:29}},loc:{start:{line:179,column:45},end:{line:189,column:9}},line:179},33:{name:"(anonymous_33)",decl:{start:{line:190,column:33},end:{line:190,column:34}},loc:{start:{line:190,column:50},end:{line:207,column:9}},line:190},34:{name:"(anonymous_34)",decl:{start:{line:208,column:32},end:{line:208,column:33}},loc:{start:{line:208,column:49},end:{line:222,column:9}},line:208},35:{name:"(anonymous_35)",decl:{start:{line:223,column:28},end:{line:223,column:29}},loc:{start:{line:223,column:45},end:{line:236,column:9}},line:223},36:{name:"(anonymous_36)",decl:{start:{line:240,column:33},end:{line:240,column:34}},loc:{start:{line:240,column:50},end:{line:251,column:9}},line:240},37:{name:"(anonymous_37)",decl:{start:{line:252,column:31},end:{line:252,column:32}},loc:{start:{line:252,column:48},end:{line:263,column:9}},line:252},38:{name:"(anonymous_38)",decl:{start:{line:264,column:33},end:{line:264,column:34}},loc:{start:{line:264,column:50},end:{line:281,column:9}},line:264},39:{name:"(anonymous_39)",decl:{start:{line:282,column:33},end:{line:282,column:34}},loc:{start:{line:282,column:50},end:{line:299,column:9}},line:282},40:{name:"(anonymous_40)",decl:{start:{line:318,column:56},end:{line:318,column:57}},loc:{start:{line:318,column:68},end:{line:330,column:5}},line:318},41:{name:"(anonymous_41)",decl:{start:{line:331,column:41},end:{line:331,column:42}},loc:{start:{line:331,column:83},end:{line:336,column:5}},line:331}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:18,column:3},end:{line:18,column:50}},type:"binary-expr",locations:[{start:{line:18,column:3},end:{line:18,column:21}},{start:{line:18,column:26},end:{line:18,column:49}}],line:18},4:{loc:{start:{line:22,column:3},end:{line:22,column:46}},type:"binary-expr",locations:[{start:{line:22,column:3},end:{line:22,column:19}},{start:{line:22,column:24},end:{line:22,column:45}}],line:22},5:{loc:{start:{line:29,column:3},end:{line:29,column:52}},type:"binary-expr",locations:[{start:{line:29,column:3},end:{line:29,column:22}},{start:{line:29,column:27},end:{line:29,column:51}}],line:29},6:{loc:{start:{line:33,column:3},end:{line:33,column:50}},type:"binary-expr",locations:[{start:{line:33,column:3},end:{line:33,column:21}},{start:{line:33,column:26},end:{line:33,column:49}}],line:33},7:{loc:{start:{line:37,column:3},end:{line:37,column:42}},type:"binary-expr",locations:[{start:{line:37,column:3},end:{line:37,column:17}},{start:{line:37,column:22},end:{line:37,column:41}}],line:37},8:{loc:{start:{line:41,column:3},end:{line:41,column:44}},type:"binary-expr",locations:[{start:{line:41,column:3},end:{line:41,column:18}},{start:{line:41,column:23},end:{line:41,column:43}}],line:41},9:{loc:{start:{line:47,column:3},end:{line:47,column:40}},type:"binary-expr",locations:[{start:{line:47,column:3},end:{line:47,column:16}},{start:{line:47,column:21},end:{line:47,column:39}}],line:47},10:{loc:{start:{line:54,column:3},end:{line:54,column:40}},type:"binary-expr",locations:[{start:{line:54,column:3},end:{line:54,column:16}},{start:{line:54,column:21},end:{line:54,column:39}}],line:54},11:{loc:{start:{line:60,column:3},end:{line:60,column:48}},type:"binary-expr",locations:[{start:{line:60,column:3},end:{line:60,column:20}},{start:{line:60,column:25},end:{line:60,column:47}}],line:60},12:{loc:{start:{line:88,column:16},end:{line:90,column:17}},type:"if",locations:[{start:{line:88,column:16},end:{line:90,column:17}},{start:{line:88,column:16},end:{line:90,column:17}}],line:88},13:{loc:{start:{line:118,column:12},end:{line:121,column:13}},type:"switch",locations:[{start:{line:119,column:16},end:{line:120,column:58}}],line:118},14:{loc:{start:{line:130,column:12},end:{line:132,column:13}},type:"if",locations:[{start:{line:130,column:12},end:{line:132,column:13}},{start:{line:130,column:12},end:{line:132,column:13}}],line:130},15:{loc:{start:{line:167,column:12},end:{line:170,column:13}},type:"switch",locations:[{start:{line:168,column:16},end:{line:169,column:60}}],line:167},16:{loc:{start:{line:180,column:12},end:{line:182,column:13}},type:"if",locations:[{start:{line:180,column:12},end:{line:182,column:13}},{start:{line:180,column:12},end:{line:182,column:13}}],line:180},17:{loc:{start:{line:191,column:12},end:{line:193,column:13}},type:"if",locations:[{start:{line:191,column:12},end:{line:193,column:13}},{start:{line:191,column:12},end:{line:193,column:13}}],line:191},18:{loc:{start:{line:194,column:12},end:{line:196,column:13}},type:"if",locations:[{start:{line:194,column:12},end:{line:196,column:13}},{start:{line:194,column:12},end:{line:196,column:13}}],line:194},19:{loc:{start:{line:197,column:12},end:{line:199,column:13}},type:"if",locations:[{start:{line:197,column:12},end:{line:199,column:13}},{start:{line:197,column:12},end:{line:199,column:13}}],line:197},20:{loc:{start:{line:209,column:12},end:{line:211,column:13}},type:"if",locations:[{start:{line:209,column:12},end:{line:211,column:13}},{start:{line:209,column:12},end:{line:211,column:13}}],line:209},21:{loc:{start:{line:214,column:12},end:{line:216,column:13}},type:"if",locations:[{start:{line:214,column:12},end:{line:216,column:13}},{start:{line:214,column:12},end:{line:216,column:13}}],line:214},22:{loc:{start:{line:224,column:12},end:{line:226,column:13}},type:"if",locations:[{start:{line:224,column:12},end:{line:226,column:13}},{start:{line:224,column:12},end:{line:226,column:13}}],line:224},23:{loc:{start:{line:228,column:12},end:{line:230,column:13}},type:"if",locations:[{start:{line:228,column:12},end:{line:230,column:13}},{start:{line:228,column:12},end:{line:230,column:13}}],line:228},24:{loc:{start:{line:241,column:12},end:{line:243,column:13}},type:"if",locations:[{start:{line:241,column:12},end:{line:243,column:13}},{start:{line:241,column:12},end:{line:243,column:13}}],line:241},25:{loc:{start:{line:244,column:12},end:{line:246,column:13}},type:"if",locations:[{start:{line:244,column:12},end:{line:246,column:13}},{start:{line:244,column:12},end:{line:246,column:13}}],line:244},26:{loc:{start:{line:247,column:12},end:{line:249,column:13}},type:"if",locations:[{start:{line:247,column:12},end:{line:249,column:13}},{start:{line:247,column:12},end:{line:249,column:13}}],line:247},27:{loc:{start:{line:253,column:12},end:{line:255,column:13}},type:"if",locations:[{start:{line:253,column:12},end:{line:255,column:13}},{start:{line:253,column:12},end:{line:255,column:13}}],line:253},28:{loc:{start:{line:265,column:12},end:{line:267,column:13}},type:"if",locations:[{start:{line:265,column:12},end:{line:267,column:13}},{start:{line:265,column:12},end:{line:267,column:13}}],line:265},29:{loc:{start:{line:269,column:12},end:{line:271,column:13}},type:"if",locations:[{start:{line:269,column:12},end:{line:271,column:13}},{start:{line:269,column:12},end:{line:271,column:13}}],line:269},30:{loc:{start:{line:283,column:12},end:{line:285,column:13}},type:"if",locations:[{start:{line:283,column:12},end:{line:285,column:13}},{start:{line:283,column:12},end:{line:285,column:13}}],line:283},31:{loc:{start:{line:288,column:12},end:{line:290,column:13}},type:"if",locations:[{start:{line:288,column:12},end:{line:290,column:13}},{start:{line:288,column:12},end:{line:290,column:13}}],line:288},32:{loc:{start:{line:291,column:12},end:{line:293,column:13}},type:"if",locations:[{start:{line:291,column:12},end:{line:293,column:13}},{start:{line:291,column:12},end:{line:293,column:13}}],line:291},33:{loc:{start:{line:332,column:8},end:{line:332,column:59}},type:"if",locations:[{start:{line:332,column:8},end:{line:332,column:59}},{start:{line:332,column:8},end:{line:332,column:59}}],line:332}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0],14:[0,0],15:[0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/UIEventManager.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/service/ui/UIEventManager.ts"],names:[],mappings:"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",sourcesContent:["import Observer from 'diagramMaker/service/observer/Observer';\nimport { fromContainerToPage, fromScreenToPage, subtract } from 'diagramMaker/service/positionUtils';\nimport UIEventNormalizer, {\n  EventNormalizer,\n  getRequiredAttribute,\n  MouseButton,\n  NormalizedContainerEvent,\n  NormalizedMouseClickEvent,\n  NormalizedMouseMoveEvent\n} from 'diagramMaker/service/ui/UIEventNormalizer';\nimport UITargetNormalizer from 'diagramMaker/service/ui/UITargetNormalizer';\nimport { Position } from 'diagramMaker/state/types';\n\nexport enum ContainerEventType {\n  DIAGRAM_MAKER_CONTAINER_UPDATE = 'diagramMakerContainerUpdate'\n}\n\nexport enum DestroyEventType {\n  DESTROY = 'destroy'\n}\n\nexport enum MouseClickEventType {\n  LEFT_CLICK = 'click',\n  RIGHT_CLICK = 'contextmenu',\n  MOUSE_DOWN = 'mousedown',\n  MOUSE_UP = 'mouseup'\n}\n\nexport enum MouseMoveEventType {\n  MOUSE_MOVE = 'mousemove'\n}\n\nexport enum WheelEventType {\n  MOUSE_WHEEL = 'wheel'\n}\n\nexport enum WindowEventType {\n  RESIZE = 'resize'\n}\n\nexport enum DragEventType {\n  DRAG_END = '__dragend',\n  DRAG = '__drag',\n  DRAG_START = '__dragstart'\n}\n\nexport enum DropEventType {\n  DROP = '__drop',\n  DRAG_ENTER = '__dragenter',\n  DRAG_LEAVE = '__dragleave',\n  DRAG_OVER = '__dragover'\n}\n\nexport enum KeyboardEventType {\n  KEY_DOWN = 'keydown',\n  KEY_UP = 'keyup',\n  KEY_PRESS = 'keypress'\n}\n\nexport type EventType = ContainerEventType | DestroyEventType |\n            MouseMoveEventType | MouseClickEventType | WheelEventType |\n            WindowEventType | DragEventType | KeyboardEventType | DropEventType;\n\nexport const MouseClickEvent = { ...MouseClickEventType };\nexport const MouseMoveEvent = { ...MouseMoveEventType };\nexport const WheelEvent = { ...WheelEventType };\nexport const WindowEvent = { ...WindowEventType };\nexport const DragEvent = { ...DragEventType };\nexport const DropEvent = { ...DropEventType };\nexport const KeyboardEvent = { ...KeyboardEventType };\n\nexport const Event = {\n  ...MouseClickEvent,\n  ...MouseMoveEvent,\n  ...WheelEvent,\n  ...WindowEvent,\n  ...DragEvent,\n  ...DropEvent,\n  ...KeyboardEvent\n};\n\nexport type EventListener  = (event: Event) => void;\n\nexport interface EventListenerRef {\n  eventType: EventType;\n  eventListener: EventListener;\n  context: HTMLElement | Window;\n}\n\nconst { MOUSE_DOWN, MOUSE_UP, LEFT_CLICK, RIGHT_CLICK } = MouseClickEventType;\nconst { MOUSE_WHEEL } = WheelEventType;\nconst { MOUSE_MOVE } = MouseMoveEventType;\nconst { RESIZE } = WindowEventType;\nconst { DRAG, DRAG_START, DRAG_END } = DragEventType;\nconst { DROP, DRAG_OVER, DRAG_ENTER, DRAG_LEAVE } = DropEventType;\nconst { KEY_DOWN, KEY_UP, KEY_PRESS } = KeyboardEventType;\nconst { DIAGRAM_MAKER_CONTAINER_UPDATE } = ContainerEventType;\nconst { DESTROY } = DestroyEventType;\n\nconst { normalizeTarget, getTarget } = UITargetNormalizer;\n\nexport default class UIEventManager {\n  private potentialClickable?: HTMLElement;\n  private potentialDraggable?: HTMLElement;\n  private currentDraggable?: HTMLElement;\n  private currentDropTarget?: HTMLElement;\n  private currentDragOffset?: Position;\n  private dragReference?: Position;\n  private contextOffset: Position;\n  private eventListenerRefs: EventListenerRef[] = [];\n\n  constructor(private observer: Observer, private context: HTMLElement) {\n    // Mouse\n    this.listenFor(MOUSE_DOWN, UIEventNormalizer.normalizeMouseDownEvent, window);\n    this.listenFor(MOUSE_UP, UIEventNormalizer.normalizeMouseUpEvent, window);\n    this.listenFor(MOUSE_MOVE, UIEventNormalizer.normalizeMouseMoveEvent, window);\n    this.listenFor(RIGHT_CLICK, UIEventNormalizer.normalizeRightClickEvent, window);\n\n    // Wheel\n    this.listenFor(MOUSE_WHEEL, UIEventNormalizer.normalizeWheelEvent);\n\n    // Window\n    this.listenFor(RESIZE, UIEventNormalizer.normalizeWindowEvent, window);\n\n    // Keyboard\n    this.listenFor(KEY_DOWN, UIEventNormalizer.normalizeKeyDownEvent);\n    this.listenFor(KEY_UP, UIEventNormalizer.normalizeKeyUpEvent);\n    this.listenFor(KEY_PRESS, UIEventNormalizer.normalizeKeyPressEvent);\n\n    // Synthetic drag and drop events\n    this.listenForSyntheticEvents();\n\n    const contextRect = context.getBoundingClientRect();\n    this.contextOffset = fromScreenToPage(contextRect);\n  }\n\n  private listenForSyntheticEvents(): void {\n\n    const { subscribe } = this.observer;\n\n    // Listen to MOUSE_DOWN for potential DRAG\n    subscribe(MOUSE_DOWN, this.handleMouseDown);\n\n    // Listen to MOUSE_UP for potential DRAG_END or CLICK\n    subscribe(MOUSE_UP, this.handleMouseUp);\n\n    // Listen to MOUSE_MOVE for potential DRAG\n    subscribe(MOUSE_MOVE, this.handleMouseMove);\n\n    // Listen to CONSUMER_CONTAINER_RESIZE to update cached container offsets\n    subscribe(DIAGRAM_MAKER_CONTAINER_UPDATE, this.updateContext);\n\n    // Listen to DESTROY to cleanup application/application context\n    subscribe(DESTROY, this.destroyCreatedEventListeners);\n  }\n\n  private listenFor(\n    eventType: EventType,\n    normalizer: EventNormalizer,\n    context: HTMLElement | Window = this.context\n  ): void {\n    const eventListener = this.createEventListener(eventType, normalizer);\n    this.saveEventListenerRef(eventType, eventListener, context);\n    context.addEventListener(eventType, eventListener);\n  }\n\n  private createEventListener = (eventType: EventType, normalizer: EventNormalizer): EventListener => {\n    return (event: Event): void => {\n      const normalizedEvent = normalizer(event, this.contextOffset);\n\n      if (normalizedEvent) {\n        this.observer.publish(eventType, normalizedEvent);\n      }\n    };\n  }\n\n  private saveEventListenerRef = (\n    eventType: EventType,\n    eventListener: EventListener,\n    context: HTMLElement | Window\n  ): void => {\n    this.eventListenerRefs.push({ eventType, eventListener, context });\n  }\n\n  private destroyCreatedEventListeners = (): void => {\n    this.eventListenerRefs.forEach(this.destroyEventListener);\n    this.eventListenerRefs = [];\n  }\n\n  private destroyEventListener = ({ eventType, eventListener, context }: EventListenerRef): void => {\n    context.removeEventListener(eventType, eventListener);\n  }\n\n  private updateContext = (event: NormalizedContainerEvent) => {\n    this.setContextOffset(fromScreenToPage(event.contextRect));\n  }\n\n  private handleLeftMouseUp = (event: NormalizedMouseClickEvent): void => {\n    this.setPotentialDraggable(undefined);\n    // https://stackoverflow.com/questions/38111946/is-there-a-defined-ordering-between-dragend-and-drop-events\n    this.checkForDrop(event);\n    this.checkForDragEnd(event);\n    this.checkForLeftClick(event);\n    this.setPotentialClickable(undefined);\n    this.setCurrentDraggable(undefined);\n  }\n\n  private handleMouseUp = (event: NormalizedMouseClickEvent): void => {\n    const { button } = event;\n    switch (button) {\n      case MouseButton.LEFT:\n        return this.handleLeftMouseUp(event);\n    }\n  }\n\n  private handleLeftMouseDown = (event: NormalizedMouseClickEvent): void => {\n    this.checkForPotentialDraggable(event);\n    this.setPotentialClickable(event.target.originalTarget);\n  }\n\n  private checkForPotentialDraggable = (event: NormalizedMouseClickEvent) => {\n    const requiredAttribute = getRequiredAttribute(DragEventType.DRAG);\n    const target = getTarget(event.originalEvent, requiredAttribute);\n\n    if (!target) {\n      return;\n    }\n\n    // Get the offset from the draggable target, which is not necessesarily the item that was clicked\n    const targetScreenPosition = target.getBoundingClientRect();\n    const targetPagePosition = fromScreenToPage(targetScreenPosition);\n\n    const pagePosition = fromContainerToPage(event.position, this.contextOffset);\n\n    const offset: Position = subtract(pagePosition, targetPagePosition);\n\n    this.setPotentialDraggable(target);\n    this.setCurrentDragOffset(offset);\n    this.setDragReference(targetPagePosition);\n  }\n\n  // These private setters exist solely for the purpose of\n  // being able spy on the property changes in tests\n\n  private setPotentialDraggable = (potentialDraggable?: HTMLElement) => {\n    this.potentialDraggable = potentialDraggable;\n  }\n\n  private setPotentialClickable = (clickable?: HTMLElement) => {\n    this.potentialClickable = clickable;\n  }\n\n  private setCurrentDragOffset = (dragOffset?: Position) => {\n    this.currentDragOffset = dragOffset;\n  }\n\n  private setDragReference = (refPosition?: Position) => {\n    this.dragReference = refPosition;\n  }\n\n  private setCurrentDropTarget = (dropTarget?: HTMLElement) => {\n    this.currentDropTarget = dropTarget;\n  }\n\n  private setCurrentDraggable = (draggable?: HTMLElement) => {\n    this.currentDraggable = draggable;\n  }\n\n  private setContextOffset = (offset: Position) => {\n    this.contextOffset = offset;\n  }\n\n  private handleMouseDown = (event: NormalizedMouseClickEvent): void => {\n    const { button } = event;\n    switch (button) {\n      case MouseButton.LEFT:\n        return this.handleLeftMouseDown(event);\n    }\n  }\n\n  private handleMouseMove = (event: NormalizedMouseMoveEvent): void => {\n    this.checkForDragStart(event);\n    this.checkForDrag(event);\n    this.checkForDragEnter(event);\n    this.checkForDragLeave(event);\n    this.checkForDragOver(event);\n  }\n\n  private checkForDrag = (event: NormalizedMouseMoveEvent): void => {\n    if (!this.currentDraggable) {\n      return;\n    }\n\n    const { position } = event;\n    const offset = this.currentDragOffset;\n    const dragReference = this.dragReference;\n    const target = normalizeTarget(this.currentDraggable);\n    const type = DragEventType.DRAG;\n\n    this.observer.publish(DRAG, { offset, position, target, type, dragReference });\n  }\n\n  private checkForDragLeave = (event: NormalizedMouseMoveEvent): void => {\n    if (!this.currentDraggable) {\n      return;\n    }\n\n    if (!this.currentDropTarget) {\n      return;\n    }\n\n    if (UITargetNormalizer.getDropZoneTarget(event.position, this.contextOffset)) {\n      return;\n    }\n\n    const offset = this.currentDragOffset;\n    const { position } = event;\n    const dropzone = normalizeTarget(this.currentDropTarget);\n    const target = normalizeTarget(this.currentDraggable);\n    const type = DropEventType.DRAG_LEAVE;\n\n    this.setCurrentDropTarget(undefined);\n\n    this.observer.publish(DRAG_LEAVE, { dropzone, offset, position, target, type });\n  }\n\n  private checkForDragOver = (event: NormalizedMouseMoveEvent): void => {\n    if (!this.currentDraggable) {\n      return;\n    }\n\n    const { position } = event;\n    const dropzoneElement = UITargetNormalizer.getDropZoneTarget(position, this.contextOffset);\n\n    if (!dropzoneElement) {\n      return;\n    }\n\n    const offset = this.currentDragOffset;\n    const target = this.currentDraggable;\n    const dropzone = normalizeTarget(dropzoneElement);\n    const type = DropEventType.DRAG_OVER;\n\n    return this.observer.publish(DRAG_OVER, { dropzone, offset, position, target, type });\n  }\n\n  private checkForDrop = (event: NormalizedMouseClickEvent): void => {\n    if (!this.currentDraggable) {\n      return;\n    }\n\n    const dropzoneElement = this.currentDropTarget;\n\n    if (!dropzoneElement) {\n      return;\n    }\n\n    const { position } = event;\n    const target = normalizeTarget(this.currentDraggable);\n    const dropzone = normalizeTarget(dropzoneElement);\n    const type = DropEventType.DROP;\n\n    this.observer.publish(DROP, { dropzone, position, target, type });\n  }\n\n  // Because we are creating a synthetic drag event which the browser isn't controlling,\n  // it will automatically fire the click event when a drag ends. We want to be able to\n  // make sure we weren't dragging before firing click.\n\n  private checkForLeftClick = (event: NormalizedMouseClickEvent): void => {\n    if (!this.potentialClickable) {\n      return;\n    }\n\n    if (this.currentDraggable) {\n      return;\n    }\n\n    if (this.potentialClickable !== event.target.originalTarget) {\n      return;\n    }\n\n    this.observer.publish(LEFT_CLICK, {\n      ...event,\n      type: MouseClickEventType.LEFT_CLICK\n    });\n  }\n\n  private checkForDragEnd = (event: NormalizedMouseClickEvent): void => {\n    if (!this.currentDraggable) {\n      return;\n    }\n\n    const target = this.currentDraggable;\n    const { position } = event;\n\n    this.observer.publish(DRAG_END, {\n      position,\n      target: normalizeTarget(target),\n      type: DragEventType.DRAG_END\n    });\n  }\n\n  private checkForDragStart = (event: NormalizedMouseMoveEvent): void => {\n    if (this.currentDraggable) {\n      return;\n    }\n\n    const unNormalizedTarget = this.potentialDraggable;\n\n    if (!unNormalizedTarget) {\n      return;\n    }\n\n    const { position } = event;\n    const target = normalizeTarget(unNormalizedTarget);\n    const type = DragEventType.DRAG_START;\n\n    this.setCurrentDraggable(unNormalizedTarget);\n\n    this.observer.publish(DRAG_START, {\n      position,\n      target,\n      type\n    });\n  }\n\n  private checkForDragEnter = (event: NormalizedMouseMoveEvent): void => {\n    if (!this.currentDraggable) {\n      return;\n    }\n\n    const { position } = event;\n    const dropzoneElement = UITargetNormalizer.getDropZoneTarget(position, this.contextOffset);\n\n    if (!dropzoneElement) {\n      return;\n    }\n\n    if (this.currentDropTarget === dropzoneElement) {\n      return;\n    }\n\n    this.setCurrentDropTarget(dropzoneElement);\n\n    const dropzone = normalizeTarget(dropzoneElement);\n    const target = normalizeTarget(this.currentDraggable);\n    const type = DropEventType.DRAG_ENTER;\n\n    this.observer.publish(DRAG_ENTER, { dropzone, position, target, type });\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),Yl=(Rl.s[0]++,void Rl.b[0][0]++&&(Rl.b[0][1]++,(void 0).__assign)||(Rl.b[0][2]++,function(){return Rl.f[0]++,Rl.s[1]++,Rl.b[1][0]++,Yl=Object.assign||(Rl.b[1][1]++,function(n){Rl.f[1]++,Rl.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in Rl.s[3]++,e=arguments[A],Rl.s[4]++,e)Rl.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(Rl.b[2][0]++,Rl.s[6]++,n[o]=e[o]):Rl.b[2][1]++;return Rl.s[7]++,n}),Rl.s[8]++,Yl.apply(this,arguments)}));Rl.s[9]++,function(n){Rl.f[2]++,Rl.s[10]++,n.DIAGRAM_MAKER_CONTAINER_UPDATE="diagramMakerContainerUpdate"}((Rl.b[3][0]++,Kl||(Rl.b[3][1]++,Kl={}))),Rl.s[11]++,function(n){Rl.f[3]++,Rl.s[12]++,n.DESTROY="destroy"}((Rl.b[4][0]++,Sl||(Rl.b[4][1]++,Sl={}))),Rl.s[13]++,function(n){Rl.f[4]++,Rl.s[14]++,n.LEFT_CLICK="click",Rl.s[15]++,n.RIGHT_CLICK="contextmenu",Rl.s[16]++,n.MOUSE_DOWN="mousedown",Rl.s[17]++,n.MOUSE_UP="mouseup"}((Rl.b[5][0]++,_l||(Rl.b[5][1]++,_l={}))),Rl.s[18]++,function(n){Rl.f[5]++,Rl.s[19]++,n.MOUSE_MOVE="mousemove"}((Rl.b[6][0]++,xl||(Rl.b[6][1]++,xl={}))),Rl.s[20]++,function(n){Rl.f[6]++,Rl.s[21]++,n.MOUSE_WHEEL="wheel"}((Rl.b[7][0]++,Tl||(Rl.b[7][1]++,Tl={}))),Rl.s[22]++,function(n){Rl.f[7]++,Rl.s[23]++,n.RESIZE="resize"}((Rl.b[8][0]++,Ql||(Rl.b[8][1]++,Ql={}))),Rl.s[24]++,function(n){Rl.f[8]++,Rl.s[25]++,n.DRAG_END="__dragend",Rl.s[26]++,n.DRAG="__drag",Rl.s[27]++,n.DRAG_START="__dragstart"}((Rl.b[9][0]++,Ul||(Rl.b[9][1]++,Ul={}))),Rl.s[28]++,function(n){Rl.f[9]++,Rl.s[29]++,n.DROP="__drop",Rl.s[30]++,n.DRAG_ENTER="__dragenter",Rl.s[31]++,n.DRAG_LEAVE="__dragleave",Rl.s[32]++,n.DRAG_OVER="__dragover"}((Rl.b[10][0]++,wl||(Rl.b[10][1]++,wl={}))),Rl.s[33]++,function(n){Rl.f[10]++,Rl.s[34]++,n.KEY_DOWN="keydown",Rl.s[35]++,n.KEY_UP="keyup",Rl.s[36]++,n.KEY_PRESS="keypress"}((Rl.b[11][0]++,Nl||(Rl.b[11][1]++,Nl={})));var Wl,zl=(Rl.s[37]++,Yl({},_l)),Ll=(Rl.s[38]++,Yl({},xl)),jl=(Rl.s[39]++,Yl({},Tl)),Fl=(Rl.s[40]++,Yl({},Ql)),Hl=(Rl.s[41]++,Yl({},Ul)),ql=(Rl.s[42]++,Yl({},wl)),Vl=(Rl.s[43]++,Yl({},Nl)),Xl=(Rl.s[44]++,Yl(Yl(Yl(Yl(Yl(Yl(Yl({},zl),Ll),jl),Fl),Hl),ql),Vl)),Zl=(Rl.s[45]++,_l.MOUSE_DOWN),Jl=(Rl.s[46]++,_l.MOUSE_UP),$l=(Rl.s[47]++,_l.LEFT_CLICK),nr=(Rl.s[48]++,_l.RIGHT_CLICK),er=(Rl.s[49]++,Tl.MOUSE_WHEEL),Ar=(Rl.s[50]++,xl.MOUSE_MOVE),tr=(Rl.s[51]++,Ql.RESIZE),or=(Rl.s[52]++,Ul.DRAG),ir=(Rl.s[53]++,Ul.DRAG_START),lr=(Rl.s[54]++,Ul.DRAG_END),rr=(Rl.s[55]++,wl.DROP),ar=(Rl.s[56]++,wl.DRAG_OVER),cr=(Rl.s[57]++,wl.DRAG_ENTER),sr=(Rl.s[58]++,wl.DRAG_LEAVE),Cr=(Rl.s[59]++,Nl.KEY_DOWN),ur=(Rl.s[60]++,Nl.KEY_UP),dr=(Rl.s[61]++,Nl.KEY_PRESS),mr=(Rl.s[62]++,Kl.DIAGRAM_MAKER_CONTAINER_UPDATE),Er=(Rl.s[63]++,Sl.DESTROY),pr=(Rl.s[64]++,Ol.normalizeTarget),fr=(Rl.s[65]++,Ol.getTarget),gr=(Rl.s[66]++,function(){function n(n,e){Rl.f[12]++;var A=(Rl.s[67]++,this);Rl.s[68]++,this.observer=n,Rl.s[69]++,this.context=e,Rl.s[70]++,this.eventListenerRefs=[],Rl.s[71]++,this.createEventListener=function(n,e){return Rl.f[13]++,Rl.s[72]++,function(t){Rl.f[14]++;var o=(Rl.s[73]++,e(t,A.contextOffset));Rl.s[74]++,o?(Rl.b[12][0]++,Rl.s[75]++,A.observer.publish(n,o)):Rl.b[12][1]++}},Rl.s[76]++,this.saveEventListenerRef=function(n,e,t){Rl.f[15]++,Rl.s[77]++,A.eventListenerRefs.push({eventType:n,eventListener:e,context:t})},Rl.s[78]++,this.destroyCreatedEventListeners=function(){Rl.f[16]++,Rl.s[79]++,A.eventListenerRefs.forEach(A.destroyEventListener),Rl.s[80]++,A.eventListenerRefs=[]},Rl.s[81]++,this.destroyEventListener=function(n){Rl.f[17]++;var e=(Rl.s[82]++,n.eventType),A=(Rl.s[83]++,n.eventListener),t=(Rl.s[84]++,n.context);Rl.s[85]++,t.removeEventListener(e,A)},Rl.s[86]++,this.updateContext=function(n){Rl.f[18]++,Rl.s[87]++,A.setContextOffset(J(n.contextRect))},Rl.s[88]++,this.handleLeftMouseUp=function(n){Rl.f[19]++,Rl.s[89]++,A.setPotentialDraggable(void 0),Rl.s[90]++,A.checkForDrop(n),Rl.s[91]++,A.checkForDragEnd(n),Rl.s[92]++,A.checkForLeftClick(n),Rl.s[93]++,A.setPotentialClickable(void 0),Rl.s[94]++,A.setCurrentDraggable(void 0)},Rl.s[95]++,this.handleMouseUp=function(n){Rl.f[20]++;var e=(Rl.s[96]++,n.button);switch(Rl.s[97]++,e){case hl.LEFT:return Rl.b[13][0]++,Rl.s[98]++,A.handleLeftMouseUp(n)}},Rl.s[99]++,this.handleLeftMouseDown=function(n){Rl.f[21]++,Rl.s[100]++,A.checkForPotentialDraggable(n),Rl.s[101]++,A.setPotentialClickable(n.target.originalTarget)},Rl.s[102]++,this.checkForPotentialDraggable=function(n){Rl.f[22]++;var e=(Rl.s[103]++,kl(Ul.DRAG)),t=(Rl.s[104]++,fr(n.originalEvent,e));if(Rl.s[105]++,!t)return Rl.b[14][0]++,void Rl.s[106]++;Rl.b[14][1]++;var o=(Rl.s[107]++,t.getBoundingClientRect()),i=(Rl.s[108]++,J(o)),l=(Rl.s[109]++,nn(n.position,A.contextOffset)),r=(Rl.s[110]++,Z(l,i));Rl.s[111]++,A.setPotentialDraggable(t),Rl.s[112]++,A.setCurrentDragOffset(r),Rl.s[113]++,A.setDragReference(i)},Rl.s[114]++,this.setPotentialDraggable=function(n){Rl.f[23]++,Rl.s[115]++,A.potentialDraggable=n},Rl.s[116]++,this.setPotentialClickable=function(n){Rl.f[24]++,Rl.s[117]++,A.potentialClickable=n},Rl.s[118]++,this.setCurrentDragOffset=function(n){Rl.f[25]++,Rl.s[119]++,A.currentDragOffset=n},Rl.s[120]++,this.setDragReference=function(n){Rl.f[26]++,Rl.s[121]++,A.dragReference=n},Rl.s[122]++,this.setCurrentDropTarget=function(n){Rl.f[27]++,Rl.s[123]++,A.currentDropTarget=n},Rl.s[124]++,this.setCurrentDraggable=function(n){Rl.f[28]++,Rl.s[125]++,A.currentDraggable=n},Rl.s[126]++,this.setContextOffset=function(n){Rl.f[29]++,Rl.s[127]++,A.contextOffset=n},Rl.s[128]++,this.handleMouseDown=function(n){Rl.f[30]++;var e=(Rl.s[129]++,n.button);switch(Rl.s[130]++,e){case hl.LEFT:return Rl.b[15][0]++,Rl.s[131]++,A.handleLeftMouseDown(n)}},Rl.s[132]++,this.handleMouseMove=function(n){Rl.f[31]++,Rl.s[133]++,A.checkForDragStart(n),Rl.s[134]++,A.checkForDrag(n),Rl.s[135]++,A.checkForDragEnter(n),Rl.s[136]++,A.checkForDragLeave(n),Rl.s[137]++,A.checkForDragOver(n)},Rl.s[138]++,this.checkForDrag=function(n){if(Rl.f[32]++,Rl.s[139]++,!A.currentDraggable)return Rl.b[16][0]++,void Rl.s[140]++;Rl.b[16][1]++;var e=(Rl.s[141]++,n.position),t=(Rl.s[142]++,A.currentDragOffset),o=(Rl.s[143]++,A.dragReference),i=(Rl.s[144]++,pr(A.currentDraggable)),l=(Rl.s[145]++,Ul.DRAG);Rl.s[146]++,A.observer.publish(or,{offset:t,position:e,target:i,type:l,dragReference:o})},Rl.s[147]++,this.checkForDragLeave=function(n){if(Rl.f[33]++,Rl.s[148]++,!A.currentDraggable)return Rl.b[17][0]++,void Rl.s[149]++;if(Rl.b[17][1]++,Rl.s[150]++,!A.currentDropTarget)return Rl.b[18][0]++,void Rl.s[151]++;if(Rl.b[18][1]++,Rl.s[152]++,Ol.getDropZoneTarget(n.position,A.contextOffset))return Rl.b[19][0]++,void Rl.s[153]++;Rl.b[19][1]++;var e=(Rl.s[154]++,A.currentDragOffset),t=(Rl.s[155]++,n.position),o=(Rl.s[156]++,pr(A.currentDropTarget)),i=(Rl.s[157]++,pr(A.currentDraggable)),l=(Rl.s[158]++,wl.DRAG_LEAVE);Rl.s[159]++,A.setCurrentDropTarget(void 0),Rl.s[160]++,A.observer.publish(sr,{dropzone:o,offset:e,position:t,target:i,type:l})},Rl.s[161]++,this.checkForDragOver=function(n){if(Rl.f[34]++,Rl.s[162]++,!A.currentDraggable)return Rl.b[20][0]++,void Rl.s[163]++;Rl.b[20][1]++;var e=(Rl.s[164]++,n.position),t=(Rl.s[165]++,Ol.getDropZoneTarget(e,A.contextOffset));if(Rl.s[166]++,!t)return Rl.b[21][0]++,void Rl.s[167]++;Rl.b[21][1]++;var o=(Rl.s[168]++,A.currentDragOffset),i=(Rl.s[169]++,A.currentDraggable),l=(Rl.s[170]++,pr(t)),r=(Rl.s[171]++,wl.DRAG_OVER);return Rl.s[172]++,A.observer.publish(ar,{dropzone:l,offset:o,position:e,target:i,type:r})},Rl.s[173]++,this.checkForDrop=function(n){if(Rl.f[35]++,Rl.s[174]++,!A.currentDraggable)return Rl.b[22][0]++,void Rl.s[175]++;Rl.b[22][1]++;var e=(Rl.s[176]++,A.currentDropTarget);if(Rl.s[177]++,!e)return Rl.b[23][0]++,void Rl.s[178]++;Rl.b[23][1]++;var t=(Rl.s[179]++,n.position),o=(Rl.s[180]++,pr(A.currentDraggable)),i=(Rl.s[181]++,pr(e)),l=(Rl.s[182]++,wl.DROP);Rl.s[183]++,A.observer.publish(rr,{dropzone:i,position:t,target:o,type:l})},Rl.s[184]++,this.checkForLeftClick=function(n){return Rl.f[36]++,Rl.s[185]++,A.potentialClickable?(Rl.b[24][1]++,Rl.s[187]++,A.currentDraggable?(Rl.b[25][0]++,void Rl.s[188]++):(Rl.b[25][1]++,Rl.s[189]++,A.potentialClickable!==n.target.originalTarget?(Rl.b[26][0]++,void Rl.s[190]++):(Rl.b[26][1]++,Rl.s[191]++,void A.observer.publish($l,Yl(Yl({},n),{type:_l.LEFT_CLICK}))))):(Rl.b[24][0]++,void Rl.s[186]++)},Rl.s[192]++,this.checkForDragEnd=function(n){if(Rl.f[37]++,Rl.s[193]++,!A.currentDraggable)return Rl.b[27][0]++,void Rl.s[194]++;Rl.b[27][1]++;var e=(Rl.s[195]++,A.currentDraggable),t=(Rl.s[196]++,n.position);Rl.s[197]++,A.observer.publish(lr,{position:t,target:pr(e),type:Ul.DRAG_END})},Rl.s[198]++,this.checkForDragStart=function(n){if(Rl.f[38]++,Rl.s[199]++,A.currentDraggable)return Rl.b[28][0]++,void Rl.s[200]++;Rl.b[28][1]++;var e=(Rl.s[201]++,A.potentialDraggable);if(Rl.s[202]++,!e)return Rl.b[29][0]++,void Rl.s[203]++;Rl.b[29][1]++;var t=(Rl.s[204]++,n.position),o=(Rl.s[205]++,pr(e)),i=(Rl.s[206]++,Ul.DRAG_START);Rl.s[207]++,A.setCurrentDraggable(e),Rl.s[208]++,A.observer.publish(ir,{position:t,target:o,type:i})},Rl.s[209]++,this.checkForDragEnter=function(n){if(Rl.f[39]++,Rl.s[210]++,!A.currentDraggable)return Rl.b[30][0]++,void Rl.s[211]++;Rl.b[30][1]++;var e=(Rl.s[212]++,n.position),t=(Rl.s[213]++,Ol.getDropZoneTarget(e,A.contextOffset));if(Rl.s[214]++,!t)return Rl.b[31][0]++,void Rl.s[215]++;if(Rl.b[31][1]++,Rl.s[216]++,A.currentDropTarget===t)return Rl.b[32][0]++,void Rl.s[217]++;Rl.b[32][1]++,Rl.s[218]++,A.setCurrentDropTarget(t);var o=(Rl.s[219]++,pr(t)),i=(Rl.s[220]++,pr(A.currentDraggable)),l=(Rl.s[221]++,wl.DRAG_ENTER);Rl.s[222]++,A.observer.publish(cr,{dropzone:o,position:e,target:i,type:l})},Rl.s[223]++,this.listenFor(Zl,Pl.normalizeMouseDownEvent,window),Rl.s[224]++,this.listenFor(Jl,Pl.normalizeMouseUpEvent,window),Rl.s[225]++,this.listenFor(Ar,Pl.normalizeMouseMoveEvent,window),Rl.s[226]++,this.listenFor(nr,Pl.normalizeRightClickEvent,window),Rl.s[227]++,this.listenFor(er,Pl.normalizeWheelEvent),Rl.s[228]++,this.listenFor(tr,Pl.normalizeWindowEvent,window),Rl.s[229]++,this.listenFor(Cr,Pl.normalizeKeyDownEvent),Rl.s[230]++,this.listenFor(ur,Pl.normalizeKeyUpEvent),Rl.s[231]++,this.listenFor(dr,Pl.normalizeKeyPressEvent),Rl.s[232]++,this.listenForSyntheticEvents();var t=(Rl.s[233]++,e.getBoundingClientRect());Rl.s[234]++,this.contextOffset=J(t)}return Rl.f[11]++,Rl.s[235]++,n.prototype.listenForSyntheticEvents=function(){Rl.f[40]++;var n=(Rl.s[236]++,this.observer.subscribe);Rl.s[237]++,n(Zl,this.handleMouseDown),Rl.s[238]++,n(Jl,this.handleMouseUp),Rl.s[239]++,n(Ar,this.handleMouseMove),Rl.s[240]++,n(mr,this.updateContext),Rl.s[241]++,n(Er,this.destroyCreatedEventListeners)},Rl.s[242]++,n.prototype.listenFor=function(n,e,A){Rl.f[41]++,Rl.s[243]++,void 0===A?(Rl.b[33][0]++,Rl.s[244]++,A=this.context):Rl.b[33][1]++;var t=(Rl.s[245]++,this.createEventListener(n,e));Rl.s[246]++,this.saveEventListenerRef(n,t,A),Rl.s[247]++,A.addEventListener(n,t)},Rl.s[248]++,n}()),hr=new Uint8Array(16);function Ir(){if(!Wl&&!(Wl="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wl(hr)}var yr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Br=function(n){return"string"==typeof n&&yr.test(n)},Mr=[],vr=0;vr<256;++vr)Mr.push((vr+256).toString(16).substr(1));var br=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=(Mr[n[e+0]]+Mr[n[e+1]]+Mr[n[e+2]]+Mr[n[e+3]]+"-"+Mr[n[e+4]]+Mr[n[e+5]]+"-"+Mr[n[e+6]]+Mr[n[e+7]]+"-"+Mr[n[e+8]]+Mr[n[e+9]]+"-"+Mr[n[e+10]]+Mr[n[e+11]]+Mr[n[e+12]]+Mr[n[e+13]]+Mr[n[e+14]]+Mr[n[e+15]]).toLowerCase();if(!Br(A))throw TypeError("Stringified UUID is invalid");return A};var Or,Gr=function(n,e,A){var t=(n=n||{}).random||(n.rng||Ir)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,e){A=A||0;for(var o=0;o<16;++o)e[A+o]=t[o];return e}return br(t)},Dr=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/edgeActions.ts",e="7d89bd3d2713d53c5123697e25fb6d7290c7e7f9",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/edgeActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:26,column:46}},10:{start:{line:15,column:4},end:{line:15,column:51}},11:{start:{line:17,column:4},end:{line:17,column:51}},12:{start:{line:19,column:4},end:{line:19,column:51}},13:{start:{line:21,column:4},end:{line:21,column:59}},14:{start:{line:23,column:4},end:{line:23,column:55}},15:{start:{line:25,column:4},end:{line:25,column:47}},16:{start:{line:27,column:25},end:{line:27,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:28},end:{line:26,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:26,column:3},end:{line:26,column:44}},type:"binary-expr",locations:[{start:{line:26,column:3},end:{line:26,column:18}},{start:{line:26,column:23},end:{line:26,column:43}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/edgeActions.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/edgeActions.ts"],names:[],mappings:";;;;;;;;;;;AAIA,MAAM,CAAN,IAAY,eAaX;AAbD,WAAY,eAAe;IACzB,oBAAoB;IACpB,8CAA2B,CAAA;IAC3B,oBAAoB;IACpB,8CAA2B,CAAA;IAC3B,qBAAqB;IACrB,8CAA2B,CAAA;IAC3B,gCAAgC;IAChC,sDAAmC,CAAA;IACnC,0BAA0B;IAC1B,kDAA+B,CAAA;IAC/B,8BAA8B;IAC9B,0CAAuB,CAAA;AACzB,CAAC,EAbW,eAAe,KAAf,eAAe,QAa1B;AAED,MAAM,CAAC,IAAM,WAAW,gBACnB,eAAe,CACnB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nimport { Position } from 'diagramMaker/state/types';\n\nexport enum EdgeActionsType {\n  /** Edge creation */\n  EDGE_CREATE = 'EDGE_CREATE',\n  /** Edge deletion */\n  EDGE_DELETE = 'EDGE_DELETE',\n  /** Edge selection */\n  EDGE_SELECT = 'EDGE_SELECT',\n  /** Potential Edge drag start */\n  EDGE_DRAG_START = 'EDGE_DRAG_START',\n  /** Potential Edge drag */\n  EDGE_DRAG_END = 'EDGE_DRAG_END',\n  /** Potential Edge drag end */\n  EDGE_DRAG = 'EDGE_DRAG'\n}\n\nexport const EdgeActions = {\n  ...EdgeActionsType\n};\n\n/** Action fired to select an edge */\nexport interface SelectEdgeAction extends Action {\n  type: EdgeActionsType.EDGE_SELECT;\n  payload: {\n    /** ID of the edge that needs to be selected */\n    id: string;\n  };\n}\n\n/** Action fired to delete an edge */\nexport interface DeleteEdgeAction extends Action {\n  type: EdgeActionsType.EDGE_DELETE;\n  payload: {\n    /** ID of the edge that needs to be deleted */\n    id: string;\n  };\n}\n\n/** Action fired to create an edge */\nexport interface CreateEdgeAction<EdgeType> extends Action {\n  type: EdgeActionsType.EDGE_CREATE;\n  payload: {\n    /** ID of the new edge that needs to be created. Needs to be unique. */\n    id: string;\n    /** ID of the node from where this edge originates */\n    src: string;\n    /** ID of the node where this edge terminates */\n    dest: string;\n    /** Consumer data that needs to be added for this newly created edge. */\n    consumerData?: EdgeType;\n  };\n}\n\n/** Action fired to start dragging a potential edge */\nexport interface DragStartEdgeAction extends Action {\n  type: EdgeActionsType.EDGE_DRAG_START;\n  payload: {\n    /** ID of the node from where this potential edge originates */\n    id: string;\n    /** Position where this potential edge terminates. Usually the cursor position. */\n    position: Position;\n  };\n}\n\n/** Action fired to end dragging a potential edge */\nexport interface DragEndEdgeAction extends Action {\n  type: EdgeActionsType.EDGE_DRAG_END;\n}\n\n/** Action fired to update the termination position for a potential edge */\nexport interface DragEdgeAction extends Action {\n  type: EdgeActionsType.EDGE_DRAG;\n  payload: {\n    /** Updated position where this potential edge should terminate. Usually the cursor position. */\n    position: Position;\n  };\n}\n\nexport type EdgeAction<EdgeType> = CreateEdgeAction<EdgeType> | SelectEdgeAction | DeleteEdgeAction |\n  DragStartEdgeAction | DragEndEdgeAction | DragEdgeAction ;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),kr=(Dr.s[0]++,void Dr.b[0][0]++&&(Dr.b[0][1]++,(void 0).__assign)||(Dr.b[0][2]++,function(){return Dr.f[0]++,Dr.s[1]++,Dr.b[1][0]++,kr=Object.assign||(Dr.b[1][1]++,function(n){Dr.f[1]++,Dr.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in Dr.s[3]++,e=arguments[A],Dr.s[4]++,e)Dr.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(Dr.b[2][0]++,Dr.s[6]++,n[o]=e[o]):Dr.b[2][1]++;return Dr.s[7]++,n}),Dr.s[8]++,kr.apply(this,arguments)}));Dr.s[9]++,function(n){Dr.f[2]++,Dr.s[10]++,n.EDGE_CREATE="EDGE_CREATE",Dr.s[11]++,n.EDGE_DELETE="EDGE_DELETE",Dr.s[12]++,n.EDGE_SELECT="EDGE_SELECT",Dr.s[13]++,n.EDGE_DRAG_START="EDGE_DRAG_START",Dr.s[14]++,n.EDGE_DRAG_END="EDGE_DRAG_END",Dr.s[15]++,n.EDGE_DRAG="EDGE_DRAG"}((Dr.b[3][0]++,Or||(Dr.b[3][1]++,Or={})));var Kr=(Dr.s[16]++,kr({},Or)),Sr=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/edgeActionDispatcher.ts",e="553a159710fdb82776d0560cc83df594a258d745",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/edgeActionDispatcher.ts",statementMap:{0:{start:{line:4,column:4},end:{line:7,column:6}},1:{start:{line:10,column:4},end:{line:12,column:6}},2:{start:{line:15,column:4},end:{line:18,column:6}},3:{start:{line:21,column:4},end:{line:24,column:6}},4:{start:{line:27,column:4},end:{line:30,column:6}},5:{start:{line:33,column:4},end:{line:35,column:5}},6:{start:{line:34,column:8},end:{line:34,column:64}},7:{start:{line:38,column:4},end:{line:40,column:5}},8:{start:{line:39,column:8},end:{line:39,column:50}},9:{start:{line:43,column:4},end:{line:43,column:51}},10:{start:{line:46,column:4},end:{line:54,column:5}},11:{start:{line:47,column:22},end:{line:47,column:38}},12:{start:{line:48,column:22},end:{line:48,column:48}},13:{start:{line:49,column:24},end:{line:49,column:142}},14:{start:{line:49,column:59},end:{line:49,column:139}},15:{start:{line:50,column:8},end:{line:53,column:9}},16:{start:{line:51,column:21},end:{line:51,column:40}},17:{start:{line:52,column:12},end:{line:52,column:63}},18:{start:{line:57,column:4},end:{line:59,column:5}},19:{start:{line:58,column:8},end:{line:58,column:51}}},fnMap:{0:{name:"createDragStartEdgeAction",decl:{start:{line:3,column:9},end:{line:3,column:34}},loc:{start:{line:3,column:49},end:{line:8,column:1}},line:3},1:{name:"createDragEndEdgeAction",decl:{start:{line:9,column:9},end:{line:9,column:32}},loc:{start:{line:9,column:35},end:{line:13,column:1}},line:9},2:{name:"createDragEdgeAction",decl:{start:{line:14,column:9},end:{line:14,column:29}},loc:{start:{line:14,column:40},end:{line:19,column:1}},line:14},3:{name:"createNewEdgeAction",decl:{start:{line:20,column:9},end:{line:20,column:28}},loc:{start:{line:20,column:44},end:{line:25,column:1}},line:20},4:{name:"createSelectEdgeAction",decl:{start:{line:26,column:9},end:{line:26,column:31}},loc:{start:{line:26,column:36},end:{line:31,column:1}},line:26},5:{name:"handleEdgeDragStart",decl:{start:{line:32,column:16},end:{line:32,column:35}},loc:{start:{line:32,column:57},end:{line:36,column:1}},line:32},6:{name:"handleEdgeDragEnd",decl:{start:{line:37,column:16},end:{line:37,column:33}},loc:{start:{line:37,column:45},end:{line:41,column:1}},line:37},7:{name:"handleEdgeDrag",decl:{start:{line:42,column:16},end:{line:42,column:30}},loc:{start:{line:42,column:48},end:{line:44,column:1}},line:42},8:{name:"handleEdgeCreate",decl:{start:{line:45,column:16},end:{line:45,column:32}},loc:{start:{line:45,column:51},end:{line:55,column:1}},line:45},9:{name:"(anonymous_9)",decl:{start:{line:49,column:39},end:{line:49,column:40}},loc:{start:{line:49,column:57},end:{line:49,column:141}},line:49},10:{name:"handleEdgeClick",decl:{start:{line:56,column:16},end:{line:56,column:31}},loc:{start:{line:56,column:43},end:{line:60,column:1}},line:56}},branchMap:{0:{loc:{start:{line:33,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:35,column:5}},{start:{line:33,column:4},end:{line:35,column:5}}],line:33},1:{loc:{start:{line:38,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:40,column:5}},{start:{line:38,column:4},end:{line:40,column:5}}],line:38},2:{loc:{start:{line:46,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:54,column:5}},{start:{line:46,column:4},end:{line:54,column:5}}],line:46},3:{loc:{start:{line:46,column:8},end:{line:46,column:19}},type:"binary-expr",locations:[{start:{line:46,column:8},end:{line:46,column:11}},{start:{line:46,column:15},end:{line:46,column:19}}],line:46},4:{loc:{start:{line:49,column:66},end:{line:49,column:138}},type:"binary-expr",locations:[{start:{line:49,column:66},end:{line:49,column:99}},{start:{line:49,column:103},end:{line:49,column:138}}],line:49},5:{loc:{start:{line:50,column:8},end:{line:53,column:9}},type:"if",locations:[{start:{line:50,column:8},end:{line:53,column:9}},{start:{line:50,column:8},end:{line:53,column:9}}],line:50},6:{loc:{start:{line:50,column:12},end:{line:50,column:83}},type:"binary-expr",locations:[{start:{line:50,column:12},end:{line:50,column:32}},{start:{line:50,column:36},end:{line:50,column:57}},{start:{line:50,column:61},end:{line:50,column:83}}],line:50},7:{loc:{start:{line:57,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:57,column:4},end:{line:59,column:5}},{start:{line:57,column:4},end:{line:59,column:5}}],line:57}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/edgeActionDispatcher.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/edgeActionDispatcher.ts"],names:[],mappings:"AACA,OAAO,EAAE,EAAE,IAAI,IAAI,EAAE,MAAM,MAAM,CAAC;AAIlC,OAAO,EACqE,eAAe,EAC1F,MAAM,eAAe,CAAC;AAEvB,SAAS,yBAAyB,CAAC,EAAU,EAAE,QAAkB;IAC/D,OAAO;QACL,IAAI,EAAE,eAAe,CAAC,eAAe;QACrC,OAAO,EAAE,EAAE,EAAE,IAAA,EAAE,QAAQ,UAAA,EAAE;KAC1B,CAAC;AACJ,CAAC;AAED,SAAS,uBAAuB;IAC9B,OAAO;QACL,IAAI,EAAE,eAAe,CAAC,aAAa;KACpC,CAAC;AACJ,CAAC;AAED,SAAS,oBAAoB,CAAC,QAAkB;IAC9C,OAAO;QACL,IAAI,EAAE,eAAe,CAAC,SAAS;QAC/B,OAAO,EAAE,EAAE,QAAQ,UAAA,EAAE;KACtB,CAAC;AACJ,CAAC;AAED,SAAS,mBAAmB,CAAW,EAAU,EAAE,GAAW,EAAE,IAAY;IAC1E,OAAO;QACL,IAAI,EAAE,eAAe,CAAC,WAAW;QACjC,OAAO,EAAE,EAAE,EAAE,IAAA,EAAE,GAAG,KAAA,EAAE,IAAI,MAAA,EAAE;KAC3B,CAAC;AACJ,CAAC;AAED,SAAS,sBAAsB,CAAC,EAAU;IACxC,OAAO;QACL,IAAI,EAAE,eAAe,CAAC,WAAW;QACjC,OAAO,EAAE,EAAE,EAAE,IAAA,EAAE;KAChB,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,mBAAmB,CACjC,KAAkD,EAClD,EAAsB,EACtB,QAAkB;IAElB,IAAI,EAAE,EAAE;QACN,KAAK,CAAC,QAAQ,CAAC,yBAAyB,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC,CAAC;KACzD;AACH,CAAC;AAED,MAAM,UAAU,iBAAiB,CAC/B,KAAkD,EAClD,EAAsB;IAEtB,IAAI,EAAE,EAAE;QACN,KAAK,CAAC,QAAQ,CAAC,uBAAuB,EAAE,CAAC,CAAC;KAC3C;AACH,CAAC;AAED,MAAM,UAAU,cAAc,CAC5B,KAAkD,EAClD,QAAkB;IAElB,KAAK,CAAC,QAAQ,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC;AACjD,CAAC;AAED,MAAM,UAAU,gBAAgB,CAC9B,KAAkD,EAClD,GAAuB,EACvB,IAAwB;IAExB,IAAI,GAAG,IAAI,IAAI,EAAE;QACf,IAAM,OAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC/B,IAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,OAAK,CAAC,KAAK,CAAC,CAAC;QACzC,IAAM,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC,UAAA,MAAM,IAAI,OAAA,OAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,GAAG,IAAI,OAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,EAApE,CAAoE,CAAC,CAAC;QACjH,IAAI,CAAC,CAAC,OAAK,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,OAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;YACvE,IAAM,EAAE,GAAG,aAAW,IAAI,EAAI,CAAC;YAC/B,KAAK,CAAC,QAAQ,CAAC,mBAAmB,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;SACpD;KACF;AACH,CAAC;AAED,MAAM,UAAU,eAAe,CAC7B,KAAkD,EAClD,EAAsB;IAEtB,IAAI,EAAE,EAAE;QACN,KAAK,CAAC,QAAQ,CAAC,sBAAsB,CAAC,EAAE,CAAC,CAAC,CAAC;KAC5C;AACH,CAAC",sourcesContent:["import { Store } from 'redux';\nimport { v4 as uuid } from 'uuid';\n\nimport { DiagramMakerData, Position } from 'diagramMaker/state/types';\n\nimport {\n  CreateEdgeAction, DragEdgeAction, DragEndEdgeAction, DragStartEdgeAction, EdgeActionsType, SelectEdgeAction\n} from './edgeActions';\n\nfunction createDragStartEdgeAction(id: string, position: Position): DragStartEdgeAction {\n  return {\n    type: EdgeActionsType.EDGE_DRAG_START,\n    payload: { id, position }\n  };\n}\n\nfunction createDragEndEdgeAction(): DragEndEdgeAction {\n  return {\n    type: EdgeActionsType.EDGE_DRAG_END\n  };\n}\n\nfunction createDragEdgeAction(position: Position): DragEdgeAction {\n  return {\n    type: EdgeActionsType.EDGE_DRAG,\n    payload: { position }\n  };\n}\n\nfunction createNewEdgeAction<EdgeType>(id: string, src: string, dest: string): CreateEdgeAction<EdgeType> {\n  return {\n    type: EdgeActionsType.EDGE_CREATE,\n    payload: { id, src, dest }\n  };\n}\n\nfunction createSelectEdgeAction(id: string): SelectEdgeAction {\n  return {\n    type: EdgeActionsType.EDGE_SELECT,\n    payload: { id }\n  };\n}\n\nexport function handleEdgeDragStart<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined,\n  position: Position\n) {\n  if (id) {\n    store.dispatch(createDragStartEdgeAction(id, position));\n  }\n}\n\nexport function handleEdgeDragEnd<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined\n) {\n  if (id) {\n    store.dispatch(createDragEndEdgeAction());\n  }\n}\n\nexport function handleEdgeDrag<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  position: Position\n) {\n  store.dispatch(createDragEdgeAction(position));\n}\n\nexport function handleEdgeCreate<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  src: string | undefined,\n  dest: string | undefined\n) {\n  if (src && dest) {\n    const state = store.getState();\n    const edgeIds = Object.keys(state.edges);\n    const duplicate = edgeIds.filter(edgeId => state.edges[edgeId].src === src && state.edges[edgeId].dest === dest);\n    if (!!state.nodes[src] && !!state.nodes[dest] && duplicate.length === 0) {\n      const id = `dm-edge-${uuid()}`;\n      store.dispatch(createNewEdgeAction(id, src, dest));\n    }\n  }\n}\n\nexport function handleEdgeClick<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined\n) {\n  if (id) {\n    store.dispatch(createSelectEdgeAction(id));\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function _r(n,e,A){Sr.f[5]++,Sr.s[5]++,e?(Sr.b[0][0]++,Sr.s[6]++,n.dispatch(function(n,e){return Sr.f[0]++,Sr.s[0]++,{type:Or.EDGE_DRAG_START,payload:{id:n,position:e}}}(e,A))):Sr.b[0][1]++}function xr(n,e){Sr.f[6]++,Sr.s[7]++,e?(Sr.b[1][0]++,Sr.s[8]++,n.dispatch((Sr.f[1]++,Sr.s[1]++,{type:Or.EDGE_DRAG_END}))):Sr.b[1][1]++}function Tr(n,e){Sr.f[7]++,Sr.s[9]++,n.dispatch(function(n){return Sr.f[2]++,Sr.s[2]++,{type:Or.EDGE_DRAG,payload:{position:n}}}(e))}function Qr(n,e,A){if(Sr.f[8]++,Sr.s[10]++,Sr.b[3][0]++,e&&(Sr.b[3][1]++,A)){Sr.b[2][0]++;var t=(Sr.s[11]++,n.getState()),o=(Sr.s[12]++,Object.keys(t.edges)),i=(Sr.s[13]++,o.filter((function(n){return Sr.f[9]++,Sr.s[14]++,Sr.b[4][0]++,t.edges[n].src===e&&(Sr.b[4][1]++,t.edges[n].dest===A)})));if(Sr.s[15]++,Sr.b[6][0]++,t.nodes[e]&&(Sr.b[6][1]++,t.nodes[A])&&(Sr.b[6][2]++,0===i.length)){Sr.b[5][0]++;var l=(Sr.s[16]++,"dm-edge-"+Gr());Sr.s[17]++,n.dispatch(function(n,e,A){return Sr.f[3]++,Sr.s[3]++,{type:Or.EDGE_CREATE,payload:{id:n,src:e,dest:A}}}(l,e,A))}else Sr.b[5][1]++}else Sr.b[2][1]++}function Ur(n,e){Sr.f[10]++,Sr.s[18]++,e?(Sr.b[7][0]++,Sr.s[19]++,n.dispatch(function(n){return Sr.f[4]++,Sr.s[4]++,{type:Or.EDGE_SELECT,payload:{id:n}}}(e))):Sr.b[7][1]++}var wr,Nr=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/global/globalActions.ts",e="6ae73ea29bcbd5f8b9e03c487365ca0d5bb425c2",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/global/globalActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:18,column:50}},10:{start:{line:15,column:4},end:{line:15,column:55}},11:{start:{line:17,column:4},end:{line:17,column:55}},12:{start:{line:19,column:27},end:{line:19,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:30},end:{line:18,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:18,column:3},end:{line:18,column:48}},type:"binary-expr",locations:[{start:{line:18,column:3},end:{line:18,column:20}},{start:{line:18,column:25},end:{line:18,column:47}}],line:18}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/global/globalActions.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/global/globalActions.ts"],names:[],mappings:";;;;;;;;;;;AAIA,MAAM,CAAN,IAAY,iBAKX;AALD,WAAY,iBAAiB;IAC3B,2DAA2D;IAC3D,kDAA6B,CAAA;IAC7B,2DAA2D;IAC3D,kDAA6B,CAAA;AAC/B,CAAC,EALW,iBAAiB,KAAjB,iBAAiB,QAK5B;AAED,MAAM,CAAC,IAAM,aAAa,gBACrB,iBAAiB,CACrB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nimport { DiagramMakerEdge, DiagramMakerNode } from 'diagramMaker/state/types';\n\nexport enum GlobalActionsType {\n  /** Delete several items including nodes, edges together */\n  DELETE_ITEMS = 'DELETE_ITEMS',\n  /** Create several items including nodes, edges together */\n  CREATE_ITEMS = 'CREATE_ITEMS'\n}\n\nexport const GlobalActions = {\n  ...GlobalActionsType\n};\n\n/** Action fired to delete items */\nexport interface DeleteItemsAction extends Action {\n  type: GlobalActionsType.DELETE_ITEMS;\n  payload: {\n    /** IDs of nodes to delete */\n    nodeIds: string[];\n    /** IDs of edges to delete */\n    edgeIds: string[];\n  };\n}\n\n/** Action fired to create items */\nexport interface CreateItemsAction<NodeType, EdgeType> extends Action {\n  type: GlobalActionsType.CREATE_ITEMS;\n  payload: {\n    /** Node objects with all node info to create */\n    nodes: DiagramMakerNode<NodeType>[];\n    /** Edge objects with all edge info to create */\n    edges: DiagramMakerEdge<EdgeType>[];\n  };\n}\n\nexport type GlobalAction<NodeType, EdgeType> = DeleteItemsAction | CreateItemsAction<NodeType, EdgeType>;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),Pr=(Nr.s[0]++,void Nr.b[0][0]++&&(Nr.b[0][1]++,(void 0).__assign)||(Nr.b[0][2]++,function(){return Nr.f[0]++,Nr.s[1]++,Nr.b[1][0]++,Pr=Object.assign||(Nr.b[1][1]++,function(n){Nr.f[1]++,Nr.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in Nr.s[3]++,e=arguments[A],Nr.s[4]++,e)Nr.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(Nr.b[2][0]++,Nr.s[6]++,n[o]=e[o]):Nr.b[2][1]++;return Nr.s[7]++,n}),Nr.s[8]++,Pr.apply(this,arguments)}));Nr.s[9]++,function(n){Nr.f[2]++,Nr.s[10]++,n.DELETE_ITEMS="DELETE_ITEMS",Nr.s[11]++,n.CREATE_ITEMS="CREATE_ITEMS"}((Nr.b[3][0]++,wr||(Nr.b[3][1]++,wr={})));var Rr=(Nr.s[12]++,Pr({},wr)),Yr=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/global/globalActionDispatcher.ts",e="7bd0709135d7f47c44b8e2ec803554ad5f3fe531",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/global/globalActionDispatcher.ts",statementMap:{0:{start:{line:3,column:4},end:{line:9,column:6}},1:{start:{line:12,column:4},end:{line:18,column:6}},2:{start:{line:21,column:13},end:{line:21,column:29}},3:{start:{line:21,column:39},end:{line:21,column:47}},4:{start:{line:21,column:57},end:{line:21,column:65}},5:{start:{line:22,column:18},end:{line:22,column:106}},6:{start:{line:22,column:60},end:{line:22,column:103}},7:{start:{line:23,column:18},end:{line:29,column:6}},8:{start:{line:24,column:19},end:{line:24,column:28}},9:{start:{line:25,column:18},end:{line:25,column:26}},10:{start:{line:25,column:35},end:{line:25,column:44}},11:{start:{line:26,column:8},end:{line:28,column:42}},12:{start:{line:30,column:17},end:{line:30,column:58}},13:{start:{line:31,column:4},end:{line:31,column:27}}},fnMap:{0:{name:"createDeleteItemsAction",decl:{start:{line:2,column:16},end:{line:2,column:39}},loc:{start:{line:2,column:58},end:{line:10,column:1}},line:2},1:{name:"createNewItemsAction",decl:{start:{line:11,column:16},end:{line:11,column:36}},loc:{start:{line:11,column:51},end:{line:19,column:1}},line:11},2:{name:"handleDeleteSelectedItems",decl:{start:{line:20,column:16},end:{line:20,column:41}},loc:{start:{line:20,column:49},end:{line:32,column:1}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:22,column:44},end:{line:22,column:45}},loc:{start:{line:22,column:58},end:{line:22,column:105}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:23,column:44},end:{line:23,column:45}},loc:{start:{line:23,column:58},end:{line:29,column:5}},line:23}},branchMap:{0:{loc:{start:{line:26,column:15},end:{line:28,column:41}},type:"binary-expr",locations:[{start:{line:26,column:15},end:{line:26,column:45}},{start:{line:27,column:15},end:{line:27,column:40}},{start:{line:28,column:15},end:{line:28,column:41}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/global/globalActionDispatcher.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/global/globalActionDispatcher.ts"],names:[],mappings:"AAIA,OAAO,EAAwC,iBAAiB,EAAE,MAAM,iBAAiB,CAAC;AAE1F,MAAM,UAAU,uBAAuB,CACrC,OAAiB,EACjB,OAAiB;IAEjB,OAAO;QACL,IAAI,EAAE,iBAAiB,CAAC,YAAY;QACpC,OAAO,EAAE;YACP,OAAO,SAAA;YACP,OAAO,SAAA;SACR;KACF,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,oBAAoB,CAClC,KAAmC,EACnC,KAAmC;IAEnC,OAAO;QACL,IAAI,EAAE,iBAAiB,CAAC,YAAY;QACpC,OAAO,EAAE;YACP,KAAK,OAAA;YACL,KAAK,OAAA;SACN;KACF,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,yBAAyB,CAAqB,KAAkD;IACxG,IAAA,KAAmB,KAAK,CAAC,QAAQ,EAAE,EAAjC,KAAK,WAAA,EAAE,KAAK,WAAqB,CAAC;IAC1C,IAAM,OAAO,GAAa,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,UAAA,EAAE,IAAI,OAAA,KAAK,CAAC,EAAE,CAAC,CAAC,gBAAgB,CAAC,QAAQ,EAAnC,CAAmC,CAAC,CAAC;IAC/F,IAAM,OAAO,GAAa,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,UAAC,EAAE;QACrD,IAAM,IAAI,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;QACf,IAAA,GAAG,GAAW,IAAI,IAAf,EAAE,IAAI,GAAK,IAAI,KAAT,CAAU;QAE3B,OAAO,IAAI,CAAC,gBAAgB,CAAC,QAAQ;eAC3B,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;eACzB,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IACH,IAAM,MAAM,GAAG,uBAAuB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAEzD,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC",sourcesContent:["import { Store } from 'redux';\n\nimport { DiagramMakerData, DiagramMakerEdge, DiagramMakerNode } from 'diagramMaker/state/types';\n\nimport { CreateItemsAction, DeleteItemsAction, GlobalActionsType } from './globalActions';\n\nexport function createDeleteItemsAction(\n  nodeIds: string[],\n  edgeIds: string[]\n): DeleteItemsAction {\n  return {\n    type: GlobalActionsType.DELETE_ITEMS,\n    payload: {\n      nodeIds,\n      edgeIds\n    }\n  };\n}\n\nexport function createNewItemsAction<NodeType, EdgeType>(\n  nodes: DiagramMakerNode<NodeType>[],\n  edges: DiagramMakerEdge<EdgeType>[]\n): CreateItemsAction<NodeType, EdgeType> {\n  return {\n    type: GlobalActionsType.CREATE_ITEMS,\n    payload: {\n      nodes,\n      edges\n    }\n  };\n}\n\nexport function handleDeleteSelectedItems<NodeType, EdgeType>(store: Store<DiagramMakerData<NodeType, EdgeType>>) {\n  const { edges, nodes } = store.getState();\n  const nodeIds: string[] = Object.keys(nodes).filter(id => nodes[id].diagramMakerData.selected);\n  const edgeIds: string[] = Object.keys(edges).filter((id) => {\n    const edge = edges[id];\n    const { src, dest } = edge;\n\n    return edge.diagramMakerData.selected\n           || nodeIds.indexOf(src) > -1\n           || nodeIds.indexOf(dest) > -1;\n  });\n  const action = createDeleteItemsAction(nodeIds, edgeIds);\n\n  store.dispatch(action);\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function Wr(n,e){return Yr.f[0]++,Yr.s[0]++,{type:wr.DELETE_ITEMS,payload:{nodeIds:n,edgeIds:e}}}function zr(n){Yr.f[2]++;var e=(Yr.s[2]++,n.getState()),A=(Yr.s[3]++,e.edges),t=(Yr.s[4]++,e.nodes),o=(Yr.s[5]++,Object.keys(t).filter((function(n){return Yr.f[3]++,Yr.s[6]++,t[n].diagramMakerData.selected}))),i=(Yr.s[7]++,Object.keys(A).filter((function(n){Yr.f[4]++;var e=(Yr.s[8]++,A[n]),t=(Yr.s[9]++,e.src),i=(Yr.s[10]++,e.dest);return Yr.s[11]++,Yr.b[0][0]++,e.diagramMakerData.selected||(Yr.b[0][1]++,o.indexOf(t)>-1)||(Yr.b[0][2]++,o.indexOf(i)>-1)}))),l=(Yr.s[12]++,Wr(o,i));Yr.s[13]++,n.dispatch(l)}var Lr=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/mode/readOnly/readOnlyEventFilter.ts",e="b5f9231e1d321bb50b89329afdd047151465bc09",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/mode/readOnly/readOnlyEventFilter.ts",statementMap:{0:{start:{line:3,column:16},end:{line:3,column:52}},1:{start:{line:5,column:15},end:{line:5,column:25}},2:{start:{line:6,column:4},end:{line:15,column:5}},3:{start:{line:9,column:12},end:{line:9,column:24}},4:{start:{line:11,column:25},end:{line:11,column:37}},5:{start:{line:12,column:12},end:{line:12,column:45}},6:{start:{line:14,column:17},end:{line:14,column:30}}},fnMap:{0:{name:"readOnlyEventFilter",decl:{start:{line:4,column:24},end:{line:4,column:43}},loc:{start:{line:4,column:51},end:{line:16,column:1}},line:4}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:15,column:5}},type:"switch",locations:[{start:{line:7,column:8},end:{line:7,column:63}},{start:{line:8,column:8},end:{line:9,column:24}},{start:{line:10,column:8},end:{line:13,column:9}},{start:{line:14,column:8},end:{line:14,column:30}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0,0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/mode/readOnly/readOnlyEventFilter.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/mode/readOnly/readOnlyEventFilter.ts"],names:[],mappings:"AAAA,OAAO,EAAE,0BAA0B,EAAE,MAAM,+BAA+B,CAAC;AAC3E,OAAO,EAAE,kBAAkB,EAAE,aAAa,EAAE,cAAc,EAAE,MAAM,wCAAwC,CAAC;AAGnG,IAAA,SAAS,GAAK,0BAA0B,UAA/B,CAAgC;AAEjD,MAAM,CAAC,OAAO,UAAU,mBAAmB,CAAC,KAAsB;IACxD,IAAA,IAAI,GAAK,KAAK,KAAV,CAAW;IAEvB,QAAQ,IAAI,EAAE;QACZ,KAAK,kBAAkB,CAAC,8BAA8B,CAAC;QACvD,KAAK,cAAc,CAAC,WAAW;YAC7B,OAAO,IAAI,CAAC;QACd,KAAK,aAAa,CAAC,IAAI,CAAC,CAAC;YACf,IAAA,MAAM,GAAK,KAA4B,OAAjC,CAAkC;YAChD,OAAO,MAAM,CAAC,IAAI,KAAK,SAAS,CAAC;SAClC;QACD,OAAO,CAAC,CAAC,OAAO,KAAK,CAAC;KACvB;AACH,CAAC",sourcesContent:["import { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport { ContainerEventType, DragEventType, WheelEventType } from 'diagramMaker/service/ui/UIEventManager';\nimport { NormalizedDragEvent, NormalizedEvent } from 'diagramMaker/service/ui/UIEventNormalizer';\n\nconst { WORKSPACE } = DiagramMakerComponentsType;\n\nexport default function readOnlyEventFilter(event: NormalizedEvent): boolean {\n  const { type } = event;\n\n  switch (type) {\n    case ContainerEventType.DIAGRAM_MAKER_CONTAINER_UPDATE:\n    case WheelEventType.MOUSE_WHEEL:\n      return true;\n    case DragEventType.DRAG: {\n      const { target } = event as NormalizedDragEvent;\n      return target.type === WORKSPACE;\n    }\n    default: return false;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),jr=(Lr.s[0]++,c.WORKSPACE);var Fr=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/mode/rootEventFilter.ts",e="780444099d211ae23169c57657ebfe8e61dfdaf6",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/mode/rootEventFilter.ts",statementMap:{0:{start:{line:3,column:16},end:{line:3,column:36}},1:{start:{line:5,column:4},end:{line:10,column:5}},2:{start:{line:7,column:12},end:{line:7,column:42}},3:{start:{line:9,column:12},end:{line:9,column:24}}},fnMap:{0:{name:"rootEventFilter",decl:{start:{line:4,column:24},end:{line:4,column:39}},loc:{start:{line:4,column:55},end:{line:11,column:1}},line:4}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:10,column:5}},type:"switch",locations:[{start:{line:6,column:8},end:{line:7,column:42}},{start:{line:8,column:8},end:{line:9,column:24}}],line:5}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/mode/rootEventFilter.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/mode/rootEventFilter.ts"],names:[],mappings:"AACA,OAAO,EAAE,UAAU,EAAkB,MAAM,0BAA0B,CAAC;AAEtE,OAAO,mBAAmB,MAAM,gCAAgC,CAAC;AAEzD,IAAA,SAAS,GAAK,UAAU,UAAf,CAAgB;AAEjC,MAAM,CAAC,OAAO,UAAU,eAAe,CAAC,CAAkB,EAAE,UAA0B;IACpF,QAAQ,UAAU,EAAE;QAClB,KAAK,SAAS;YACZ,OAAO,mBAAmB,CAAC,CAAC,CAAC,CAAC;QAChC;YACE,OAAO,IAAI,CAAC;KACf;AACH,CAAC",sourcesContent:["import { NormalizedEvent } from 'diagramMaker/service/ui/UIEventNormalizer';\nimport { EditorMode, EditorModeType } from 'diagramMaker/state/types';\n\nimport readOnlyEventFilter from './readOnly/readOnlyEventFilter';\n\nconst { READ_ONLY } = EditorMode;\n\nexport default function rootEventFilter(e: NormalizedEvent, editorMode: EditorModeType): boolean {\n  switch (editorMode) {\n    case READ_ONLY:\n      return readOnlyEventFilter(e);\n    default:\n      return true;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),Hr=(Fr.s[0]++,Rn.READ_ONLY);function qr(n,e){switch(Fr.f[0]++,Fr.s[1]++,e){case Hr:return Fr.b[0][0]++,Fr.s[2]++,function(n){Lr.f[0]++;var e=(Lr.s[1]++,n.type);switch(Lr.s[2]++,e){case Kl.DIAGRAM_MAKER_CONTAINER_UPDATE:Lr.b[0][0]++;case Tl.MOUSE_WHEEL:return Lr.b[0][1]++,Lr.s[3]++,!0;case Ul.DRAG:Lr.b[0][2]++;var A=(Lr.s[4]++,n.target);return Lr.s[5]++,A.type===jr;default:return Lr.b[0][3]++,Lr.s[6]++,!1}}(n);default:return Fr.b[0][1]++,Fr.s[3]++,!0}}!function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/mode/index.ts",e="861af337bb3377dde75b22a9ce9cf61f2d19461a",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/mode/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/mode/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/mode/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,eAAe,EAAE,MAAM,mBAAmB,CAAC;AAE/D,OAAO,EAAE,OAAO,IAAI,mBAAmB,EAAE,MAAM,sDAAsD,CAAC",sourcesContent:["export { default as rootEventFilter } from './rootEventFilter';\n\nexport { default as readOnlyEventFilter } from 'diagramMaker/state/mode/readOnly/readOnlyEventFilter';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();var Vr=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/node/nodeActionDispatcher.ts",e="183e932c89509aeda8d65f7aac11886493e920f1",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/node/nodeActionDispatcher.ts",statementMap:{0:{start:{line:4,column:23},end:{line:4,column:25}},1:{start:{line:6,column:4},end:{line:9,column:6}},2:{start:{line:12,column:4},end:{line:15,column:6}},3:{start:{line:18,column:4},end:{line:21,column:6}},4:{start:{line:24,column:4},end:{line:27,column:6}},5:{start:{line:30,column:4},end:{line:33,column:6}},6:{start:{line:36,column:4},end:{line:39,column:6}},7:{start:{line:42,column:4},end:{line:44,column:6}},8:{start:{line:47,column:4},end:{line:50,column:6}},9:{start:{line:53,column:16},end:{line:53,column:64}},10:{start:{line:54,column:17},end:{line:54,column:66}},11:{start:{line:55,column:4},end:{line:61,column:5}},12:{start:{line:56,column:26},end:{line:56,column:45}},13:{start:{line:57,column:27},end:{line:57,column:47}},14:{start:{line:58,column:8},end:{line:60,column:9}},15:{start:{line:59,column:12},end:{line:59,column:64}},16:{start:{line:62,column:4},end:{line:62,column:11}},17:{start:{line:65,column:4},end:{line:68,column:5}},18:{start:{line:66,column:21},end:{line:66,column:47}},19:{start:{line:67,column:8},end:{line:67,column:31}},20:{start:{line:71,column:4},end:{line:74,column:5}},21:{start:{line:72,column:21},end:{line:72,column:50}},22:{start:{line:73,column:8},end:{line:73,column:31}},23:{start:{line:77,column:4},end:{line:89,column:5}},24:{start:{line:78,column:25},end:{line:78,column:62}},25:{start:{line:79,column:33},end:{line:82,column:9}},26:{start:{line:83,column:19},end:{line:83,column:45}},27:{start:{line:84,column:8},end:{line:88,column:9}},28:{start:{line:85,column:23},end:{line:85,column:49}},29:{start:{line:86,column:25},end:{line:86,column:85}},30:{start:{line:87,column:12},end:{line:87,column:35}},31:{start:{line:92,column:4},end:{line:95,column:5}},32:{start:{line:93,column:21},end:{line:93,column:48}},33:{start:{line:94,column:8},end:{line:94,column:31}},34:{start:{line:98,column:17},end:{line:98,column:26}},35:{start:{line:99,column:4},end:{line:105,column:5}},36:{start:{line:100,column:19},end:{line:100,column:84}},37:{start:{line:101,column:8},end:{line:104,column:9}},38:{start:{line:102,column:25},end:{line:102,column:110}},39:{start:{line:103,column:12},end:{line:103,column:35}},40:{start:{line:108,column:21},end:{line:108,column:58}},41:{start:{line:109,column:29},end:{line:112,column:5}},42:{start:{line:113,column:24},end:{line:113,column:54}},43:{start:{line:114,column:15},end:{line:114,column:33}},44:{start:{line:115,column:17},end:{line:115,column:103}},45:{start:{line:116,column:4},end:{line:116,column:27}},46:{start:{line:119,column:4},end:{line:122,column:5}},47:{start:{line:120,column:21},end:{line:120,column:55}},48:{start:{line:121,column:8},end:{line:121,column:31}},49:{start:{line:125,column:4},end:{line:134,column:5}},50:{start:{line:126,column:17},end:{line:126,column:36}},51:{start:{line:127,column:20},end:{line:127,column:36}},52:{start:{line:128,column:28},end:{line:128,column:47}},53:{start:{line:129,column:8},end:{line:133,column:9}},54:{start:{line:130,column:27},end:{line:130,column:49}},55:{start:{line:130,column:58},end:{line:130,column:76}},56:{start:{line:131,column:25},end:{line:131,column:72}},57:{start:{line:132,column:12},end:{line:132,column:35}}},fnMap:{0:{name:"createSelectNodeAction",decl:{start:{line:5,column:9},end:{line:5,column:31}},loc:{start:{line:5,column:36},end:{line:10,column:1}},line:5},1:{name:"createDragStartNodeAction",decl:{start:{line:11,column:9},end:{line:11,column:34}},loc:{start:{line:11,column:39},end:{line:16,column:1}},line:11},2:{name:"createDragEndNodeAction",decl:{start:{line:17,column:9},end:{line:17,column:32}},loc:{start:{line:17,column:37},end:{line:22,column:1}},line:17},3:{name:"createDragNodeAction",decl:{start:{line:23,column:9},end:{line:23,column:29}},loc:{start:{line:23,column:70},end:{line:28,column:1}},line:23},4:{name:"createPotentialNodeDragStartAction",decl:{start:{line:29,column:9},end:{line:29,column:43}},loc:{start:{line:29,column:68},end:{line:34,column:1}},line:29},5:{name:"createPotentialNodeDragAction",decl:{start:{line:35,column:9},end:{line:35,column:38}},loc:{start:{line:35,column:69},end:{line:40,column:1}},line:35},6:{name:"createPotentialNodeDragEndAction",decl:{start:{line:41,column:9},end:{line:41,column:41}},loc:{start:{line:41,column:44},end:{line:45,column:1}},line:41},7:{name:"createNewNodeAction",decl:{start:{line:46,column:9},end:{line:46,column:28}},loc:{start:{line:46,column:57},end:{line:51,column:1}},line:46},8:{name:"getSizeFromDataAttrs",decl:{start:{line:52,column:9},end:{line:52,column:29}},loc:{start:{line:52,column:38},end:{line:63,column:1}},line:52},9:{name:"handleNodeClick",decl:{start:{line:64,column:16},end:{line:64,column:31}},loc:{start:{line:64,column:43},end:{line:69,column:1}},line:64},10:{name:"handleNodeDragStart",decl:{start:{line:70,column:16},end:{line:70,column:35}},loc:{start:{line:70,column:47},end:{line:75,column:1}},line:70},11:{name:"handleNodeDrag",decl:{start:{line:76,column:16},end:{line:76,column:30}},loc:{start:{line:76,column:52},end:{line:90,column:1}},line:76},12:{name:"handleNodeDragEnd",decl:{start:{line:91,column:16},end:{line:91,column:33}},loc:{start:{line:91,column:45},end:{line:96,column:1}},line:91},13:{name:"handlePotentialNodeDragStart",decl:{start:{line:97,column:16},end:{line:97,column:44}},loc:{start:{line:97,column:78},end:{line:106,column:1}},line:97},14:{name:"handlePotentialNodeDrag",decl:{start:{line:107,column:16},end:{line:107,column:39}},loc:{start:{line:107,column:57},end:{line:117,column:1}},line:107},15:{name:"handlePotentialNodeDragEnd",decl:{start:{line:118,column:16},end:{line:118,column:42}},loc:{start:{line:118,column:58},end:{line:123,column:1}},line:118},16:{name:"handleNodeCreate",decl:{start:{line:124,column:16},end:{line:124,column:32}},loc:{start:{line:124,column:48},end:{line:135,column:1}},line:124}},branchMap:{0:{loc:{start:{line:55,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:61,column:5}},{start:{line:55,column:4},end:{line:61,column:5}}],line:55},1:{loc:{start:{line:55,column:8},end:{line:55,column:23}},type:"binary-expr",locations:[{start:{line:55,column:8},end:{line:55,column:13}},{start:{line:55,column:17},end:{line:55,column:23}}],line:55},2:{loc:{start:{line:58,column:8},end:{line:60,column:9}},type:"if",locations:[{start:{line:58,column:8},end:{line:60,column:9}},{start:{line:58,column:8},end:{line:60,column:9}}],line:58},3:{loc:{start:{line:58,column:12},end:{line:58,column:55}},type:"binary-expr",locations:[{start:{line:58,column:12},end:{line:58,column:31}},{start:{line:58,column:35},end:{line:58,column:55}}],line:58},4:{loc:{start:{line:65,column:4},end:{line:68,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:68,column:5}},{start:{line:65,column:4},end:{line:68,column:5}}],line:65},5:{loc:{start:{line:71,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:74,column:5}},{start:{line:71,column:4},end:{line:74,column:5}}],line:71},6:{loc:{start:{line:77,column:4},end:{line:89,column:5}},type:"if",locations:[{start:{line:77,column:4},end:{line:89,column:5}},{start:{line:77,column:4},end:{line:89,column:5}}],line:77},7:{loc:{start:{line:84,column:8},end:{line:88,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:88,column:9}},{start:{line:84,column:8},end:{line:88,column:9}}],line:84},8:{loc:{start:{line:92,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:92,column:4},end:{line:95,column:5}},{start:{line:92,column:4},end:{line:95,column:5}}],line:92},9:{loc:{start:{line:99,column:4},end:{line:105,column:5}},type:"if",locations:[{start:{line:99,column:4},end:{line:105,column:5}},{start:{line:99,column:4},end:{line:105,column:5}}],line:99},10:{loc:{start:{line:100,column:19},end:{line:100,column:84}},type:"binary-expr",locations:[{start:{line:100,column:19},end:{line:100,column:47}},{start:{line:100,column:51},end:{line:100,column:84}}],line:100},11:{loc:{start:{line:101,column:8},end:{line:104,column:9}},type:"if",locations:[{start:{line:101,column:8},end:{line:104,column:9}},{start:{line:101,column:8},end:{line:104,column:9}}],line:101},12:{loc:{start:{line:119,column:4},end:{line:122,column:5}},type:"if",locations:[{start:{line:119,column:4},end:{line:122,column:5}},{start:{line:119,column:4},end:{line:122,column:5}}],line:119},13:{loc:{start:{line:125,column:4},end:{line:134,column:5}},type:"if",locations:[{start:{line:125,column:4},end:{line:134,column:5}},{start:{line:125,column:4},end:{line:134,column:5}}],line:125},14:{loc:{start:{line:129,column:8},end:{line:133,column:9}},type:"if",locations:[{start:{line:129,column:8},end:{line:133,column:9}},{start:{line:129,column:8},end:{line:133,column:9}}],line:129}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/node/nodeActionDispatcher.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/node/nodeActionDispatcher.ts"],names:[],mappings:"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",sourcesContent:["import { Store } from 'redux';\nimport { v4 as uuid } from 'uuid';\n\nimport ConfigService from 'diagramMaker/service/ConfigService';\nimport { getCenteredPosition } from 'diagramMaker/service/positionUtils';\nimport { NormalizedTarget } from 'diagramMaker/service/ui/UITargetNormalizer';\nimport {\n  DiagramMakerData,\n  DiagramMakerPotentialNode,\n  Position,\n  Rectangle,\n  Size\n} from 'diagramMaker/state/types';\n\nimport {\n  CreateNodeAction, DragEndNodeAction, DragEndPotentialNodeAction, DragNodeAction, DragPotentialNodeAction,\n  DragStartNodeAction, DragStartPotentialNodeAction, NodeActionsType, SelectNodeAction\n} from './nodeActions';\n\nexport const MARGIN_PX = 10;\n\nfunction createSelectNodeAction(id: string): SelectNodeAction {\n  return {\n    type: NodeActionsType.NODE_SELECT,\n    payload: { id }\n  };\n}\n\nfunction createDragStartNodeAction(id: string): DragStartNodeAction {\n  return {\n    type: NodeActionsType.NODE_DRAG_START,\n    payload: { id }\n  };\n}\n\nfunction createDragEndNodeAction(id: string): DragEndNodeAction {\n  return {\n    type: NodeActionsType.NODE_DRAG_END,\n    payload: { id }\n  };\n}\n\nfunction createDragNodeAction(\n  id: string,\n  position: Position,\n  workspaceRectangle: Rectangle,\n  size: Size\n): DragNodeAction {\n  return {\n    type: NodeActionsType.NODE_DRAG,\n    payload: { id, position, workspaceRectangle, size }\n  };\n}\n\nfunction createPotentialNodeDragStartAction(\n  typeId: string, position: Position, size: Size\n): DragStartPotentialNodeAction {\n  return {\n    type: NodeActionsType.POTENTIAL_NODE_DRAG_START,\n    payload: { typeId, position, size }\n  };\n}\n\nfunction createPotentialNodeDragAction(position: Position, workspaceRectangle: Rectangle): DragPotentialNodeAction {\n  return {\n    type: NodeActionsType.POTENTIAL_NODE_DRAG,\n    payload: { position, workspaceRectangle }\n  };\n}\n\nfunction createPotentialNodeDragEndAction(): DragEndPotentialNodeAction {\n  return {\n    type: NodeActionsType.POTENTIAL_NODE_DRAG_END\n  };\n}\n\nfunction createNewNodeAction<NodeType>(\n  id: string, typeId: string, position: Position, size: Size\n): CreateNodeAction<NodeType> {\n  return {\n    type: NodeActionsType.NODE_CREATE,\n    payload: { id, typeId, position, size }\n  };\n}\n\nfunction getSizeFromDataAttrs(target: NormalizedTarget): Size | undefined {\n  const width = target.originalTarget.getAttribute('data-width');\n  const height = target.originalTarget.getAttribute('data-height');\n  if (width && height) {\n    const parsedWidth = parseInt(width, 10);\n    const parsedHeight = parseInt(height, 10);\n    if (!isNaN(parsedWidth) && !isNaN(parsedHeight)) {\n      return { width: parsedWidth, height: parsedHeight };\n    }\n  }\n  return;\n}\n\nexport function handleNodeClick<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined\n) {\n  if (id) {\n    const action = createSelectNodeAction(id);\n    store.dispatch(action);\n  }\n}\n\nexport function handleNodeDragStart<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined\n) {\n  if (id) {\n    const action = createDragStartNodeAction(id);\n    store.dispatch(action);\n  }\n}\n\nexport function handleNodeDrag<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined,\n  position: Position\n) {\n  if (id) {\n    const { canvasSize } = store.getState().workspace;\n    const workspaceRectangle = {\n      position: { x: 0, y: 0 },\n      size: canvasSize\n    };\n    const node = store.getState().nodes[id];\n    if (node) {\n      const size = node.diagramMakerData.size;\n      const action = createDragNodeAction(id, position, workspaceRectangle, size);\n      store.dispatch(action);\n    }\n  }\n}\n\nexport function handleNodeDragEnd<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined\n) {\n  if (id) {\n    const action = createDragEndNodeAction(id);\n    store.dispatch(action);\n\n  }\n}\n\nexport function handlePotentialNodeDragStart<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  config: ConfigService<NodeType, EdgeType>,\n  target: NormalizedTarget,\n  position: Position\n) {\n  const typeId = target.id;\n  if (typeId) {\n    const size = getSizeFromDataAttrs(target) || config.getSizeForNodeType(typeId);\n    if (size) {\n      const action = createPotentialNodeDragStartAction(typeId, getCenteredPosition(position, size), size);\n      store.dispatch(action);\n    }\n  }\n}\n\nexport function handlePotentialNodeDrag<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  position: Position\n) {\n\n  const { canvasSize } = store.getState().workspace;\n  const workspaceRectangle = {\n    position: { x: 0, y: 0 },\n    size: canvasSize\n  };\n  const potentialNode = store.getState().potentialNode as DiagramMakerPotentialNode;\n  const size = potentialNode.size;\n  const action = createPotentialNodeDragAction(getCenteredPosition(position, size), workspaceRectangle);\n\n  store.dispatch(action);\n}\n\nexport function handlePotentialNodeDragEnd<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  typeId: string | undefined\n) {\n  if (typeId) {\n    const action = createPotentialNodeDragEndAction();\n    store.dispatch(action);\n  }\n}\n\nexport function handleNodeCreate<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  typeId: string | undefined\n) {\n  if (typeId) {\n    const id = `dm-node-${uuid()}`;\n    const state = store.getState();\n    const potentialNode = state.potentialNode;\n    if (potentialNode) {\n      const { position, size } = potentialNode;\n      const action = createNewNodeAction(id, typeId, position, size);\n      store.dispatch(action);\n    }\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),Xr=(Vr.s[0]++,10);function Zr(n,e){if(Vr.f[9]++,Vr.s[17]++,e){Vr.b[4][0]++;var A=(Vr.s[18]++,function(n){return Vr.f[0]++,Vr.s[1]++,{type:OA.NODE_SELECT,payload:{id:n}}}(e));Vr.s[19]++,n.dispatch(A)}else Vr.b[4][1]++}function Jr(n,e){if(Vr.f[10]++,Vr.s[20]++,e){Vr.b[5][0]++;var A=(Vr.s[21]++,function(n){return Vr.f[1]++,Vr.s[2]++,{type:OA.NODE_DRAG_START,payload:{id:n}}}(e));Vr.s[22]++,n.dispatch(A)}else Vr.b[5][1]++}function $r(n,e,A){if(Vr.f[11]++,Vr.s[23]++,e){Vr.b[6][0]++;var t=(Vr.s[24]++,n.getState().workspace.canvasSize),o=(Vr.s[25]++,{position:{x:0,y:0},size:t}),i=(Vr.s[26]++,n.getState().nodes[e]);if(Vr.s[27]++,i){Vr.b[7][0]++;var l=(Vr.s[28]++,i.diagramMakerData.size),r=(Vr.s[29]++,function(n,e,A,t){return Vr.f[3]++,Vr.s[4]++,{type:OA.NODE_DRAG,payload:{id:n,position:e,workspaceRectangle:A,size:t}}}(e,A,o,l));Vr.s[30]++,n.dispatch(r)}else Vr.b[7][1]++}else Vr.b[6][1]++}function na(n,e){if(Vr.f[12]++,Vr.s[31]++,e){Vr.b[8][0]++;var A=(Vr.s[32]++,function(n){return Vr.f[2]++,Vr.s[3]++,{type:OA.NODE_DRAG_END,payload:{id:n}}}(e));Vr.s[33]++,n.dispatch(A)}else Vr.b[8][1]++}function ea(n,e,A,t){Vr.f[13]++;var o=(Vr.s[34]++,A.id);if(Vr.s[35]++,o){Vr.b[9][0]++;var i=(Vr.s[36]++,Vr.b[10][0]++,function(n){Vr.f[8]++;var e=(Vr.s[9]++,n.originalTarget.getAttribute("data-width")),A=(Vr.s[10]++,n.originalTarget.getAttribute("data-height"));if(Vr.s[11]++,Vr.b[1][0]++,e&&(Vr.b[1][1]++,A)){Vr.b[0][0]++;var t=(Vr.s[12]++,parseInt(e,10)),o=(Vr.s[13]++,parseInt(A,10));if(Vr.s[14]++,Vr.b[3][0]++,!isNaN(t)&&(Vr.b[3][1]++,!isNaN(o)))return Vr.b[2][0]++,Vr.s[15]++,{width:t,height:o};Vr.b[2][1]++}else Vr.b[0][1]++;Vr.s[16]++}(A)||(Vr.b[10][1]++,e.getSizeForNodeType(o)));if(Vr.s[37]++,i){Vr.b[11][0]++;var l=(Vr.s[38]++,function(n,e,A){return Vr.f[4]++,Vr.s[5]++,{type:OA.POTENTIAL_NODE_DRAG_START,payload:{typeId:n,position:e,size:A}}}(o,en(t,i),i));Vr.s[39]++,n.dispatch(l)}else Vr.b[11][1]++}else Vr.b[9][1]++}function Aa(n,e){Vr.f[14]++;var A=(Vr.s[40]++,n.getState().workspace.canvasSize),t=(Vr.s[41]++,{position:{x:0,y:0},size:A}),o=(Vr.s[42]++,n.getState().potentialNode),i=(Vr.s[43]++,o.size),l=(Vr.s[44]++,function(n,e){return Vr.f[5]++,Vr.s[6]++,{type:OA.POTENTIAL_NODE_DRAG,payload:{position:n,workspaceRectangle:e}}}(en(e,i),t));Vr.s[45]++,n.dispatch(l)}function ta(n,e){if(Vr.f[15]++,Vr.s[46]++,e){Vr.b[12][0]++;var A=(Vr.s[47]++,Vr.f[6]++,Vr.s[7]++,{type:OA.POTENTIAL_NODE_DRAG_END});Vr.s[48]++,n.dispatch(A)}else Vr.b[12][1]++}function oa(n,e){if(Vr.f[16]++,Vr.s[49]++,e){Vr.b[13][0]++;var A=(Vr.s[50]++,"dm-node-"+Gr()),t=(Vr.s[51]++,n.getState()),o=(Vr.s[52]++,t.potentialNode);if(Vr.s[53]++,o){Vr.b[14][0]++;var i=(Vr.s[54]++,o.position),l=(Vr.s[55]++,o.size),r=(Vr.s[56]++,function(n,e,A,t){return Vr.f[7]++,Vr.s[8]++,{type:OA.NODE_CREATE,payload:{id:n,typeId:e,position:A,size:t}}}(A,e,i,l));Vr.s[57]++,n.dispatch(r)}else Vr.b[14][1]++}else Vr.b[13][1]++}var ia,la=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/panelActions.ts",e="eac1c86aedc0b38240331d421bb22b23bb086dc1",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/panelActions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:13,column:0},end:{line:20,column:48}},10:{start:{line:15,column:4},end:{line:15,column:62}},11:{start:{line:17,column:4},end:{line:17,column:50}},12:{start:{line:19,column:4},end:{line:19,column:54}},13:{start:{line:21,column:26},end:{line:21,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:13,column:1},end:{line:13,column:2}},loc:{start:{line:13,column:29},end:{line:20,column:1}},line:13}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5},3:{loc:{start:{line:20,column:3},end:{line:20,column:46}},type:"binary-expr",locations:[{start:{line:20,column:3},end:{line:20,column:19}},{start:{line:20,column:24},end:{line:20,column:45}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/panelActions.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/panelActions.ts"],names:[],mappings:";;;;;;;;;;;AAIA,MAAM,CAAN,IAAY,gBAOX;AAPD,WAAY,gBAAgB;IAC1B,6BAA6B;IAC7B,yDAAqC,CAAA;IACrC,mBAAmB;IACnB,6CAAyB,CAAA;IACzB,qBAAqB;IACrB,iDAA6B,CAAA;AAC/B,CAAC,EAPW,gBAAgB,KAAhB,gBAAgB,QAO3B;AAED,MAAM,CAAC,IAAM,YAAY,gBACpB,gBAAgB,CACpB,CAAC",sourcesContent:["import { Action } from 'redux';\n\nimport { Position, Size } from 'diagramMaker/state/types';\n\nexport enum PanelActionsType {\n  /** Start dragging a panel */\n  PANEL_DRAG_START = 'PANEL_DRAG_START',\n  /** Drag a panel */\n  PANEL_DRAG = 'PANEL_DRAG',\n  /** Resize a panel */\n  PANEL_RESIZE = 'PANEL_RESIZE'\n}\n\nexport const PanelActions = {\n  ...PanelActionsType\n};\n\n/** Action fired to resize a panel */\nexport interface ResizePanelAction extends Action {\n  type: PanelActionsType.PANEL_RESIZE;\n  payload: {\n    /** ID of the panel to resize */\n    id: string;\n    /** Updated size of the panel */\n    size: Size;\n  };\n}\n\n/** Action fired to drag a panel */\nexport interface DragPanelAction extends Action {\n  type: PanelActionsType.PANEL_DRAG;\n  payload: {\n    /** ID of the panel to drag */\n    id: string;\n    /** Updated position of the panel */\n    position: Position;\n    /** Size of diagram maker container */\n    viewContainerSize: Size;\n  };\n}\n\n/** Action fired on initial drag of panel */\nexport interface DragStartPanelAction extends Action {\n  type: PanelActionsType.PANEL_DRAG_START;\n  payload: {\n    /** ID of the panel to drag */\n    id: string;\n  };\n}\n\nexport type PanelAction = ResizePanelAction | DragPanelAction | DragStartPanelAction;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),ra=(la.s[0]++,void la.b[0][0]++&&(la.b[0][1]++,(void 0).__assign)||(la.b[0][2]++,function(){return la.f[0]++,la.s[1]++,la.b[1][0]++,ra=Object.assign||(la.b[1][1]++,function(n){la.f[1]++,la.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in la.s[3]++,e=arguments[A],la.s[4]++,e)la.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(la.b[2][0]++,la.s[6]++,n[o]=e[o]):la.b[2][1]++;return la.s[7]++,n}),la.s[8]++,ra.apply(this,arguments)}));la.s[9]++,function(n){la.f[2]++,la.s[10]++,n.PANEL_DRAG_START="PANEL_DRAG_START",la.s[11]++,n.PANEL_DRAG="PANEL_DRAG",la.s[12]++,n.PANEL_RESIZE="PANEL_RESIZE"}((la.b[3][0]++,ia||(la.b[3][1]++,ia={})));var aa=(la.s[13]++,ra({},ia)),ca=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/panelActionDispatcher.ts",e="4fb73a1dd9a59a7f242a8a5d4dc935fe9014d988",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/panelActionDispatcher.ts",statementMap:{0:{start:{line:4,column:16},end:{line:4,column:48}},1:{start:{line:5,column:4},end:{line:7,column:5}},2:{start:{line:6,column:8},end:{line:6,column:21}},3:{start:{line:8,column:4},end:{line:10,column:5}},4:{start:{line:9,column:8},end:{line:9,column:20}},5:{start:{line:11,column:4},end:{line:11,column:17}},6:{start:{line:14,column:24},end:{line:14,column:41}},7:{start:{line:15,column:4},end:{line:17,column:5}},8:{start:{line:16,column:8},end:{line:16,column:52}},9:{start:{line:18,column:4},end:{line:18,column:83}},10:{start:{line:21,column:23},end:{line:21,column:57}},11:{start:{line:22,column:4},end:{line:29,column:5}},12:{start:{line:23,column:29},end:{line:23,column:70}},13:{start:{line:24,column:24},end:{line:24,column:60}},14:{start:{line:25,column:8},end:{line:28,column:10}},15:{start:{line:30,column:4},end:{line:30,column:26}},16:{start:{line:33,column:31},end:{line:33,column:73}},17:{start:{line:34,column:4},end:{line:37,column:6}},18:{start:{line:40,column:4},end:{line:43,column:6}},19:{start:{line:46,column:4},end:{line:49,column:6}},20:{start:{line:52,column:4},end:{line:55,column:6}},21:{start:{line:58,column:4},end:{line:61,column:5}},22:{start:{line:59,column:21},end:{line:59,column:54}},23:{start:{line:60,column:8},end:{line:60,column:31}},24:{start:{line:64,column:4},end:{line:68,column:5}},25:{start:{line:65,column:23},end:{line:65,column:90}},26:{start:{line:66,column:21},end:{line:66,column:75}},27:{start:{line:67,column:8},end:{line:67,column:31}},28:{start:{line:71,column:4},end:{line:74,column:5}},29:{start:{line:72,column:21},end:{line:72,column:51}},30:{start:{line:73,column:8},end:{line:73,column:31}}},fnMap:{0:{name:"getPanelAttributeAsBoolean",decl:{start:{line:3,column:9},end:{line:3,column:35}},loc:{start:{line:3,column:44},end:{line:12,column:1}},line:3},1:{name:"getPanelElement",decl:{start:{line:13,column:9},end:{line:13,column:24}},loc:{start:{line:13,column:44},end:{line:19,column:1}},line:13},2:{name:"getDraggablePanelOffset",decl:{start:{line:20,column:9},end:{line:20,column:32}},loc:{start:{line:20,column:52},end:{line:31,column:1}},line:20},3:{name:"getDraggablePanelPosition",decl:{start:{line:32,column:9},end:{line:32,column:34}},loc:{start:{line:32,column:78},end:{line:38,column:1}},line:32},4:{name:"createResizePanelAction",decl:{start:{line:39,column:9},end:{line:39,column:32}},loc:{start:{line:39,column:43},end:{line:44,column:1}},line:39},5:{name:"createDragPanelAction",decl:{start:{line:45,column:9},end:{line:45,column:30}},loc:{start:{line:45,column:64},end:{line:50,column:1}},line:45},6:{name:"createDragPanelStartAction",decl:{start:{line:51,column:9},end:{line:51,column:35}},loc:{start:{line:51,column:40},end:{line:56,column:1}},line:51},7:{name:"handlePanelResize",decl:{start:{line:57,column:16},end:{line:57,column:33}},loc:{start:{line:57,column:51},end:{line:62,column:1}},line:57},8:{name:"handlePanelDrag",decl:{start:{line:63,column:16},end:{line:63,column:31}},loc:{start:{line:63,column:100},end:{line:69,column:1}},line:63},9:{name:"handlePanelDragStart",decl:{start:{line:70,column:16},end:{line:70,column:36}},loc:{start:{line:70,column:48},end:{line:75,column:1}},line:70}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:5,column:4},end:{line:7,column:5}}],line:5},1:{loc:{start:{line:8,column:4},end:{line:10,column:5}},type:"if",locations:[{start:{line:8,column:4},end:{line:10,column:5}},{start:{line:8,column:4},end:{line:10,column:5}}],line:8},2:{loc:{start:{line:15,column:11},end:{line:15,column:84}},type:"binary-expr",locations:[{start:{line:15,column:11},end:{line:15,column:53}},{start:{line:15,column:57},end:{line:15,column:84}}],line:15},3:{loc:{start:{line:18,column:11},end:{line:18,column:82}},type:"binary-expr",locations:[{start:{line:18,column:11},end:{line:18,column:52}},{start:{line:18,column:56},end:{line:18,column:69}},{start:{line:18,column:73},end:{line:18,column:82}}],line:18},4:{loc:{start:{line:22,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:29,column:5}},{start:{line:22,column:4},end:{line:29,column:5}}],line:22},5:{loc:{start:{line:58,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:58,column:4},end:{line:61,column:5}},{start:{line:58,column:4},end:{line:61,column:5}}],line:58},6:{loc:{start:{line:64,column:4},end:{line:68,column:5}},type:"if",locations:[{start:{line:64,column:4},end:{line:68,column:5}},{start:{line:64,column:4},end:{line:68,column:5}}],line:64},7:{loc:{start:{line:71,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:74,column:5}},{start:{line:71,column:4},end:{line:74,column:5}}],line:71}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/panelActionDispatcher.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/panelActionDispatcher.ts"],names:[],mappings:"AAEA,OAAO,EAAE,sBAAsB,EAAE,MAAM,+BAA+B,CAAC;AAGvE,OAAO,EAGL,gBAAgB,EAEjB,MAAM,gBAAgB,CAAC;AAExB,SAAS,0BAA0B,CAAC,MAAe;IACjD,IAAM,KAAK,GAAG,MAAM,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;IAE/C,IAAI,CAAC,KAAK,EAAE;QACV,OAAO,KAAK,CAAC;KACd;IAED,IAAI,KAAK,KAAK,sBAAsB,CAAC,KAAK,EAAE;QAC1C,OAAO,IAAI,CAAC;KACb;IAED,OAAO,KAAK,CAAC;AACf,CAAC;AAED,SAAS,eAAe,CAAC,iBAA8B;IACrD,IAAI,aAAa,GAAG,iBAAiB,CAAC;IAEtC,OAAO,CAAC,0BAA0B,CAAC,aAAa,CAAC,IAAI,aAAa,CAAC,aAAa,EAAE;QAChF,aAAa,GAAG,aAAa,CAAC,aAAa,CAAC;KAC7C;IAED,OAAO,0BAA0B,CAAC,aAAa,CAAC,IAAI,aAAa,IAAI,SAAS,CAAC;AACjF,CAAC;AAED,SAAS,uBAAuB,CAAC,iBAA8B;IAC7D,IAAM,YAAY,GAAG,eAAe,CAAC,iBAAiB,CAAC,CAAC;IAExD,IAAI,YAAY,EAAE;QAChB,IAAM,cAAc,GAAG,iBAAiB,CAAC,qBAAqB,EAAE,CAAC;QACjE,IAAM,SAAS,GAAG,YAAY,CAAC,qBAAqB,EAAE,CAAC;QAEvD,OAAO;YACL,CAAC,EAAE,cAAc,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI;YACvC,CAAC,EAAE,cAAc,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG;SACtC,CAAC;KACH;IACD,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AACxB,CAAC;AAED,SAAS,yBAAyB,CAAC,iBAA8B,EAAE,kBAA4B,EAAE,EAAU;IACzG,IAAM,oBAAoB,GAAG,uBAAuB,CAAC,iBAAiB,CAAC,CAAC;IAExE,OAAO;QACL,CAAC,EAAE,kBAAkB,CAAC,CAAC,GAAG,oBAAoB,CAAC,CAAC;QAChD,CAAC,EAAE,kBAAkB,CAAC,CAAC,GAAG,oBAAoB,CAAC,CAAC;KACjD,CAAC;AACJ,CAAC;AAED,SAAS,uBAAuB,CAAC,EAAU,EAAE,IAAU;IACrD,OAAO;QACL,IAAI,EAAE,gBAAgB,CAAC,YAAY;QACnC,OAAO,EAAE,EAAE,EAAE,IAAA,EAAE,IAAI,MAAA,EAAE;KACtB,CAAC;AACJ,CAAC;AAED,SAAS,qBAAqB,CAAC,EAAU,EAAE,QAAkB,EAAE,iBAAuB;IACpF,OAAO;QACL,IAAI,EAAE,gBAAgB,CAAC,UAAU;QACjC,OAAO,EAAE,EAAE,EAAE,IAAA,EAAE,QAAQ,UAAA,EAAE,iBAAiB,mBAAA,EAAE;KAC7C,CAAC;AACJ,CAAC;AAED,SAAS,0BAA0B,CAAC,EAAU;IAC5C,OAAO;QACL,IAAI,EAAE,gBAAgB,CAAC,gBAAgB;QACvC,OAAO,EAAE,EAAE,EAAE,IAAA,EAAE;KAChB,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,iBAAiB,CAC/B,KAAkD,EAClD,EAAsB,EACtB,IAAU;IAEV,IAAI,EAAE,EAAE;QACN,IAAM,MAAM,GAAG,uBAAuB,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QACjD,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;KACxB;AACH,CAAC;AAED,MAAM,UAAU,eAAe,CAC7B,KAAkD,EAClD,EAAsB,EACtB,gBAA6B,EAC7B,kBAA4B,EAC5B,iBAAuB;IAEvB,IAAI,EAAE,EAAE;QACN,IAAM,QAAQ,GAAG,yBAAyB,CAAC,gBAAgB,EAAE,kBAAkB,EAAE,EAAE,CAAC,CAAC;QACrF,IAAM,MAAM,GAAG,qBAAqB,CAAC,EAAE,EAAE,QAAQ,EAAE,iBAAiB,CAAC,CAAC;QACtE,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;KACxB;AACH,CAAC;AAED,MAAM,UAAU,oBAAoB,CAClC,KAAkD,EAClD,EAAsB;IAEtB,IAAI,EAAE,EAAE;QACN,IAAM,MAAM,GAAG,0BAA0B,CAAC,EAAE,CAAC,CAAC;QAC9C,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;KACxB;AACH,CAAC",sourcesContent:["import { Store } from 'redux';\n\nimport { DiagramMakerComponents } from 'diagramMaker/service/ui/types';\nimport { DiagramMakerData, Position, Size } from 'diagramMaker/state/types';\n\nimport {\n  DragPanelAction,\n  DragStartPanelAction,\n  PanelActionsType,\n  ResizePanelAction\n} from './panelActions';\n\nfunction getPanelAttributeAsBoolean(target: Element): boolean {\n  const value = target.getAttribute('data-type');\n\n  if (!value) {\n    return false;\n  }\n\n  if (value === DiagramMakerComponents.PANEL) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction getPanelElement(dragHandleElement: HTMLElement): HTMLElement | undefined {\n  let currentTarget = dragHandleElement;\n\n  while (!getPanelAttributeAsBoolean(currentTarget) && currentTarget.parentElement) {\n    currentTarget = currentTarget.parentElement;\n  }\n\n  return getPanelAttributeAsBoolean(currentTarget) && currentTarget || undefined;\n}\n\nfunction getDraggablePanelOffset(dragHandleElement: HTMLElement): Position {\n  const panelElement = getPanelElement(dragHandleElement);\n\n  if (panelElement) {\n    const dragHandleRect = dragHandleElement.getBoundingClientRect();\n    const panelRect = panelElement.getBoundingClientRect();\n\n    return {\n      x: dragHandleRect.left - panelRect.left,\n      y: dragHandleRect.top - panelRect.top\n    };\n  }\n  return { x: 0, y: 0 };\n}\n\nfunction getDraggablePanelPosition(dragHandleElement: HTMLElement, normalizedPosition: Position, id: string): Position {\n  const draggablePanelOffset = getDraggablePanelOffset(dragHandleElement);\n\n  return {\n    x: normalizedPosition.x - draggablePanelOffset.x,\n    y: normalizedPosition.y - draggablePanelOffset.y\n  };\n}\n\nfunction createResizePanelAction(id: string, size: Size): ResizePanelAction {\n  return {\n    type: PanelActionsType.PANEL_RESIZE,\n    payload: { id, size }\n  };\n}\n\nfunction createDragPanelAction(id: string, position: Position, viewContainerSize: Size): DragPanelAction {\n  return {\n    type: PanelActionsType.PANEL_DRAG,\n    payload: { id, position, viewContainerSize }\n  };\n}\n\nfunction createDragPanelStartAction(id: string): DragStartPanelAction {\n  return {\n    type: PanelActionsType.PANEL_DRAG_START,\n    payload: { id }\n  };\n}\n\nexport function handlePanelResize<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined,\n  size: Size\n) {\n  if (id) {\n    const action = createResizePanelAction(id, size);\n    store.dispatch(action);\n  }\n}\n\nexport function handlePanelDrag<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined,\n  draggableElement: HTMLElement,\n  normalizedPosition: Position,\n  viewContainerSize: Size\n) {\n  if (id) {\n    const position = getDraggablePanelPosition(draggableElement, normalizedPosition, id);\n    const action = createDragPanelAction(id, position, viewContainerSize);\n    store.dispatch(action);\n  }\n}\n\nexport function handlePanelDragStart<NodeType, EdgeType>(\n  store: Store<DiagramMakerData<NodeType, EdgeType>>,\n  id: string | undefined\n) {\n  if (id) {\n    const action = createDragPanelStartAction(id);\n    store.dispatch(action);\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function sa(n){ca.f[0]++;var e=(ca.s[0]++,n.getAttribute("data-type"));return ca.s[1]++,e?(ca.b[0][1]++,ca.s[3]++,e===f.PANEL?(ca.b[1][0]++,ca.s[4]++,!0):(ca.b[1][1]++,ca.s[5]++,!1)):(ca.b[0][0]++,ca.s[2]++,!1)}function Ca(n){ca.f[2]++;var e=(ca.s[10]++,function(n){ca.f[1]++;var e=(ca.s[6]++,n);for(ca.s[7]++;ca.b[2][0]++,!sa(e)&&(ca.b[2][1]++,e.parentElement);)ca.s[8]++,e=e.parentElement;return ca.s[9]++,ca.b[3][0]++,sa(e)&&(ca.b[3][1]++,e)||void ca.b[3][2]++}(n));if(ca.s[11]++,e){ca.b[4][0]++;var A=(ca.s[12]++,n.getBoundingClientRect()),t=(ca.s[13]++,e.getBoundingClientRect());return ca.s[14]++,{x:A.left-t.left,y:A.top-t.top}}return ca.b[4][1]++,ca.s[15]++,{x:0,y:0}}function ua(n,e,A,t,o){if(ca.f[8]++,ca.s[24]++,e){ca.b[6][0]++;var i=(ca.s[25]++,function(n,e,A){ca.f[3]++;var t=(ca.s[16]++,Ca(n));return ca.s[17]++,{x:e.x-t.x,y:e.y-t.y}}(A,t)),l=(ca.s[26]++,function(n,e,A){return ca.f[5]++,ca.s[19]++,{type:ia.PANEL_DRAG,payload:{id:n,position:e,viewContainerSize:A}}}(e,i,o));ca.s[27]++,n.dispatch(l)}else ca.b[6][1]++}function da(n,e){if(ca.f[9]++,ca.s[28]++,e){ca.b[7][0]++;var A=(ca.s[29]++,function(n){return ca.f[6]++,ca.s[20]++,{type:ia.PANEL_DRAG_START,payload:{id:n}}}(e));ca.s[30]++,n.dispatch(A)}else ca.b[7][1]++}var ma=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/ActionDispatcher.ts",e="4f14d429de9cef46a3d302120531b03ef85a8fc7",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/ActionDispatcher.ts",statementMap:{0:{start:{line:14,column:21},end:{line:14,column:32}},1:{start:{line:15,column:38},end:{line:277,column:3}},2:{start:{line:17,column:20},end:{line:17,column:24}},3:{start:{line:18,column:8},end:{line:18,column:33}},4:{start:{line:19,column:8},end:{line:19,column:27}},5:{start:{line:20,column:8},end:{line:20,column:29}},6:{start:{line:21,column:8},end:{line:36,column:10}},7:{start:{line:22,column:25},end:{line:22,column:37}},8:{start:{line:23,column:23},end:{line:23,column:34}},9:{start:{line:23,column:41},end:{line:23,column:50}},10:{start:{line:24,column:12},end:{line:35,column:13}},11:{start:{line:26,column:20},end:{line:26,column:53}},12:{start:{line:27,column:20},end:{line:27,column:26}},13:{start:{line:30,column:20},end:{line:30,column:53}},14:{start:{line:31,column:20},end:{line:31,column:26}},15:{start:{line:33,column:20},end:{line:33,column:54}},16:{start:{line:34,column:20},end:{line:34,column:26}},17:{start:{line:37,column:8},end:{line:40,column:10}},18:{start:{line:38,column:12},end:{line:38,column:63}},19:{start:{line:38,column:37},end:{line:38,column:61}},20:{start:{line:39,column:12},end:{line:39,column:46}},21:{start:{line:41,column:8},end:{line:48,column:10}},22:{start:{line:42,column:12},end:{line:42,column:63}},23:{start:{line:42,column:37},end:{line:42,column:61}},24:{start:{line:43,column:33},end:{line:43,column:84}},25:{start:{line:44,column:12},end:{line:47,column:14}},26:{start:{line:49,column:8},end:{line:85,column:10}},27:{start:{line:50,column:25},end:{line:50,column:37}},28:{start:{line:50,column:50},end:{line:50,column:64}},29:{start:{line:50,column:71},end:{line:50,column:83}},30:{start:{line:50,column:94},end:{line:50,column:129}},31:{start:{line:51,column:23},end:{line:51,column:34}},32:{start:{line:51,column:41},end:{line:51,column:50}},33:{start:{line:52,column:29},end:{line:52,column:63}},34:{start:{line:53,column:33},end:{line:53,column:65}},35:{start:{line:54,column:12},end:{line:84,column:13}},36:{start:{line:56,column:20},end:{line:60,column:21}},37:{start:{line:57,column:49},end:{line:57,column:100}},38:{start:{line:58,column:47},end:{line:58,column:68}},39:{start:{line:59,column:24},end:{line:59,column:129}},40:{start:{line:61,column:20},end:{line:61,column:26}},41:{start:{line:63,column:20},end:{line:63,column:132}},42:{start:{line:64,column:20},end:{line:64,column:26}},43:{start:{line:66,column:20},end:{line:74,column:21}},44:{start:{line:68,column:28},end:{line:68,column:142}},45:{start:{line:69,column:28},end:{line:69,column:34}},46:{start:{line:72,column:28},end:{line:72,column:114}},47:{start:{line:73,column:28},end:{line:73,column:34}},48:{start:{line:75,column:20},end:{line:75,column:26}},49:{start:{line:77,column:20},end:{line:79,column:92}},50:{start:{line:80,column:20},end:{line:80,column:26}},51:{start:{line:82,column:20},end:{line:82,column:129}},52:{start:{line:83,column:20},end:{line:83,column:26}},53:{start:{line:86,column:8},end:{line:112,column:10}},54:{start:{line:87,column:25},end:{line:87,column:37}},55:{start:{line:87,column:50},end:{line:87,column:64}},56:{start:{line:87,column:71},end:{line:87,column:83}},57:{start:{line:87,column:94},end:{line:87,column:129}},58:{start:{line:88,column:23},end:{line:88,column:34}},59:{start:{line:88,column:41},end:{line:88,column:50}},60:{start:{line:89,column:29},end:{line:89,column:63}},61:{start:{line:90,column:33},end:{line:90,column:65}},62:{start:{line:91,column:12},end:{line:111,column:13}},63:{start:{line:93,column:20},end:{line:95,column:21}},64:{start:{line:94,column:24},end:{line:94,column:136}},65:{start:{line:96,column:20},end:{line:96,column:26}},66:{start:{line:98,column:20},end:{line:98,column:58}},67:{start:{line:99,column:20},end:{line:99,column:26}},68:{start:{line:101,column:20},end:{line:101,column:57}},69:{start:{line:102,column:20},end:{line:102,column:26}},70:{start:{line:104,column:20},end:{line:106,column:92}},71:{start:{line:107,column:20},end:{line:107,column:26}},72:{start:{line:109,column:20},end:{line:109,column:156}},73:{start:{line:110,column:20},end:{line:110,column:26}},74:{start:{line:113,column:8},end:{line:134,column:10}},75:{start:{line:114,column:25},end:{line:114,column:37}},76:{start:{line:114,column:50},end:{line:114,column:64}},77:{start:{line:114,column:71},end:{line:114,column:83}},78:{start:{line:114,column:94},end:{line:114,column:129}},79:{start:{line:115,column:23},end:{line:115,column:34}},80:{start:{line:115,column:41},end:{line:115,column:50}},81:{start:{line:116,column:30},end:{line:116,column:59}},82:{start:{line:117,column:29},end:{line:117,column:60}},83:{start:{line:118,column:12},end:{line:133,column:13}},84:{start:{line:120,column:20},end:{line:122,column:21}},85:{start:{line:121,column:24},end:{line:121,column:64}},86:{start:{line:123,column:20},end:{line:123,column:26}},87:{start:{line:125,column:20},end:{line:125,column:55}},88:{start:{line:126,column:20},end:{line:126,column:26}},89:{start:{line:128,column:20},end:{line:128,column:55}},90:{start:{line:129,column:20},end:{line:129,column:26}},91:{start:{line:131,column:20},end:{line:131,column:64}},92:{start:{line:132,column:20},end:{line:132,column:26}},93:{start:{line:135,column:8},end:{line:144,column:10}},94:{start:{line:136,column:24},end:{line:136,column:35}},95:{start:{line:136,column:53},end:{line:136,column:72}},96:{start:{line:136,column:85},end:{line:136,column:99}},97:{start:{line:137,column:30},end:{line:137,column:59}},98:{start:{line:138,column:12},end:{line:143,column:13}},99:{start:{line:139,column:16},end:{line:139,column:47}},100:{start:{line:140,column:16},end:{line:142,column:17}},101:{start:{line:141,column:20},end:{line:141,column:71}},102:{start:{line:145,column:8},end:{line:148,column:10}},103:{start:{line:146,column:25},end:{line:146,column:37}},104:{start:{line:146,column:50},end:{line:146,column:64}},105:{start:{line:146,column:77},end:{line:146,column:91}},106:{start:{line:146,column:98},end:{line:146,column:110}},107:{start:{line:146,column:121},end:{line:146,column:156}},108:{start:{line:149,column:8},end:{line:152,column:10}},109:{start:{line:150,column:25},end:{line:150,column:37}},110:{start:{line:150,column:50},end:{line:150,column:64}},111:{start:{line:150,column:77},end:{line:150,column:91}},112:{start:{line:150,column:98},end:{line:150,column:110}},113:{start:{line:150,column:121},end:{line:150,column:156}},114:{start:{line:153,column:8},end:{line:156,column:10}},115:{start:{line:154,column:25},end:{line:154,column:37}},116:{start:{line:154,column:50},end:{line:154,column:64}},117:{start:{line:154,column:77},end:{line:154,column:91}},118:{start:{line:154,column:98},end:{line:154,column:110}},119:{start:{line:154,column:121},end:{line:154,column:156}},120:{start:{line:157,column:8},end:{line:172,column:10}},121:{start:{line:158,column:25},end:{line:158,column:37}},122:{start:{line:158,column:50},end:{line:158,column:64}},123:{start:{line:158,column:77},end:{line:158,column:91}},124:{start:{line:158,column:98},end:{line:158,column:110}},125:{start:{line:158,column:121},end:{line:158,column:156}},126:{start:{line:159,column:23},end:{line:159,column:34}},127:{start:{line:159,column:41},end:{line:159,column:50}},128:{start:{line:160,column:12},end:{line:170,column:13}},129:{start:{line:162,column:20},end:{line:164,column:21}},130:{start:{line:163,column:24},end:{line:163,column:71}},131:{start:{line:165,column:20},end:{line:165,column:26}},132:{start:{line:167,column:20},end:{line:169,column:21}},133:{start:{line:168,column:24},end:{line:168,column:58}},134:{start:{line:173,column:8},end:{line:176,column:10}},135:{start:{line:174,column:23},end:{line:174,column:33}},136:{start:{line:174,column:51},end:{line:174,column:70}},137:{start:{line:177,column:8},end:{line:182,column:10}},138:{start:{line:178,column:30},end:{line:178,column:47}},139:{start:{line:179,column:23},end:{line:179,column:79}},140:{start:{line:181,column:12},end:{line:181,column:53}},141:{start:{line:183,column:8},end:{line:186,column:10}},142:{start:{line:184,column:25},end:{line:184,column:37}},143:{start:{line:184,column:48},end:{line:184,column:60}},144:{start:{line:184,column:73},end:{line:184,column:87}},145:{start:{line:184,column:98},end:{line:184,column:110}},146:{start:{line:184,column:128},end:{line:184,column:147}},147:{start:{line:185,column:12},end:{line:185,column:68}},148:{start:{line:187,column:8},end:{line:190,column:10}},149:{start:{line:188,column:25},end:{line:188,column:37}},150:{start:{line:188,column:48},end:{line:188,column:60}},151:{start:{line:188,column:73},end:{line:188,column:87}},152:{start:{line:188,column:98},end:{line:188,column:110}},153:{start:{line:188,column:128},end:{line:188,column:147}},154:{start:{line:191,column:8},end:{line:194,column:10}},155:{start:{line:192,column:25},end:{line:192,column:37}},156:{start:{line:192,column:48},end:{line:192,column:60}},157:{start:{line:192,column:73},end:{line:192,column:87}},158:{start:{line:192,column:98},end:{line:192,column:110}},159:{start:{line:192,column:128},end:{line:192,column:147}},160:{start:{line:193,column:12},end:{line:193,column:47}},161:{start:{line:195,column:8},end:{line:198,column:10}},162:{start:{line:196,column:27},end:{line:196,column:41}},163:{start:{line:196,column:59},end:{line:196,column:78}},164:{start:{line:199,column:8},end:{line:201,column:10}},165:{start:{line:200,column:32},end:{line:200,column:51}},166:{start:{line:200,column:60},end:{line:200,column:70}},167:{start:{line:200,column:78},end:{line:200,column:87}},168:{start:{line:200,column:98},end:{line:200,column:110}},169:{start:{line:200,column:123},end:{line:200,column:137}},170:{start:{line:200,column:149},end:{line:200,column:162}},171:{start:{line:200,column:174},end:{line:200,column:187}},172:{start:{line:211,column:8},end:{line:226,column:10}},173:{start:{line:212,column:32},end:{line:212,column:51}},174:{start:{line:212,column:60},end:{line:212,column:70}},175:{start:{line:212,column:78},end:{line:212,column:87}},176:{start:{line:212,column:98},end:{line:212,column:110}},177:{start:{line:212,column:123},end:{line:212,column:137}},178:{start:{line:212,column:149},end:{line:212,column:162}},179:{start:{line:212,column:174},end:{line:212,column:187}},180:{start:{line:213,column:12},end:{line:225,column:13}},181:{start:{line:215,column:20},end:{line:217,column:21}},182:{start:{line:216,column:24},end:{line:216,column:53}},183:{start:{line:218,column:20},end:{line:218,column:26}},184:{start:{line:220,column:20},end:{line:220,column:59}},185:{start:{line:221,column:20},end:{line:221,column:26}},186:{start:{line:223,column:20},end:{line:223,column:59}},187:{start:{line:224,column:20},end:{line:224,column:26}},188:{start:{line:227,column:8},end:{line:230,column:10}},189:{start:{line:228,column:32},end:{line:228,column:51}},190:{start:{line:228,column:60},end:{line:228,column:70}},191:{start:{line:228,column:78},end:{line:228,column:87}},192:{start:{line:228,column:98},end:{line:228,column:110}},193:{start:{line:228,column:123},end:{line:228,column:137}},194:{start:{line:228,column:149},end:{line:228,column:162}},195:{start:{line:228,column:174},end:{line:228,column:187}},196:{start:{line:231,column:8},end:{line:231,column:35}},197:{start:{line:233,column:4},end:{line:260,column:6}},198:{start:{line:234,column:25},end:{line:234,column:55}},199:{start:{line:234,column:71},end:{line:234,column:102}},200:{start:{line:234,column:115},end:{line:234,column:143}},201:{start:{line:234,column:158},end:{line:234,column:188}},202:{start:{line:235,column:25},end:{line:235,column:54}},203:{start:{line:236,column:19},end:{line:236,column:37}},204:{start:{line:236,column:52},end:{line:236,column:76}},205:{start:{line:236,column:89},end:{line:236,column:111}},206:{start:{line:237,column:19},end:{line:237,column:37}},207:{start:{line:237,column:52},end:{line:237,column:76}},208:{start:{line:237,column:91},end:{line:237,column:115}},209:{start:{line:237,column:129},end:{line:237,column:152}},210:{start:{line:238,column:26},end:{line:238,column:52}},211:{start:{line:239,column:23},end:{line:239,column:49}},212:{start:{line:239,column:60},end:{line:239,column:84}},213:{start:{line:239,column:98},end:{line:239,column:125}},214:{start:{line:240,column:21},end:{line:240,column:43}},215:{start:{line:241,column:45},end:{line:241,column:94}},216:{start:{line:242,column:8},end:{line:242,column:72}},217:{start:{line:243,column:8},end:{line:243,column:74}},218:{start:{line:244,column:8},end:{line:244,column:63}},219:{start:{line:245,column:8},end:{line:245,column:67}},220:{start:{line:246,column:8},end:{line:246,column:67}},221:{start:{line:247,column:8},end:{line:247,column:56}},222:{start:{line:248,column:8},end:{line:248,column:67}},223:{start:{line:249,column:8},end:{line:249,column:67}},224:{start:{line:250,column:8},end:{line:250,column:67}},225:{start:{line:251,column:8},end:{line:251,column:65}},226:{start:{line:252,column:8},end:{line:252,column:63}},227:{start:{line:253,column:8},end:{line:253,column:56}},228:{start:{line:254,column:8},end:{line:254,column:66}},229:{start:{line:255,column:8},end:{line:255,column:93}},230:{start:{line:256,column:8},end:{line:256,column:70}},231:{start:{line:257,column:8},end:{line:257,column:63}},232:{start:{line:258,column:8},end:{line:258,column:59}},233:{start:{line:259,column:8},end:{line:259,column:65}},234:{start:{line:263,column:4},end:{line:271,column:6}},235:{start:{line:264,column:20},end:{line:264,column:24}},236:{start:{line:265,column:8},end:{line:270,column:10}},237:{start:{line:266,column:23},end:{line:266,column:57}},238:{start:{line:267,column:12},end:{line:269,column:13}},239:{start:{line:268,column:16},end:{line:268,column:27}},240:{start:{line:272,column:4},end:{line:275,column:6}},241:{start:{line:273,column:24},end:{line:273,column:47}},242:{start:{line:274,column:8},end:{line:274,column:66}},243:{start:{line:276,column:4},end:{line:276,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:38},end:{line:15,column:39}},loc:{start:{line:15,column:50},end:{line:277,column:1}},line:15},1:{name:"ActionDispatcher",decl:{start:{line:16,column:13},end:{line:16,column:29}},loc:{start:{line:16,column:55},end:{line:232,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:21,column:36},end:{line:21,column:37}},loc:{start:{line:21,column:53},end:{line:36,column:9}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:37,column:43},end:{line:37,column:44}},loc:{start:{line:37,column:71},end:{line:40,column:9}},line:37},4:{name:"(anonymous_4)",decl:{start:{line:41,column:54},end:{line:41,column:55}},loc:{start:{line:41,column:93},end:{line:48,column:9}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:49,column:26},end:{line:49,column:27}},loc:{start:{line:49,column:43},end:{line:85,column:9}},line:49},6:{name:"(anonymous_6)",decl:{start:{line:86,column:31},end:{line:86,column:32}},loc:{start:{line:86,column:48},end:{line:112,column:9}},line:86},7:{name:"(anonymous_7)",decl:{start:{line:113,column:29},end:{line:113,column:30}},loc:{start:{line:113,column:46},end:{line:134,column:9}},line:113},8:{name:"(anonymous_8)",decl:{start:{line:135,column:33},end:{line:135,column:34}},loc:{start:{line:135,column:50},end:{line:144,column:9}},line:135},9:{name:"(anonymous_9)",decl:{start:{line:145,column:31},end:{line:145,column:32}},loc:{start:{line:145,column:48},end:{line:148,column:9}},line:145},10:{name:"(anonymous_10)",decl:{start:{line:149,column:31},end:{line:149,column:32}},loc:{start:{line:149,column:48},end:{line:152,column:9}},line:149},11:{name:"(anonymous_11)",decl:{start:{line:153,column:30},end:{line:153,column:31}},loc:{start:{line:153,column:47},end:{line:156,column:9}},line:153},12:{name:"(anonymous_12)",decl:{start:{line:157,column:26},end:{line:157,column:27}},loc:{start:{line:157,column:43},end:{line:172,column:9}},line:157},13:{name:"(anonymous_13)",decl:{start:{line:173,column:34},end:{line:173,column:35}},loc:{start:{line:173,column:51},end:{line:176,column:9}},line:173},14:{name:"(anonymous_14)",decl:{start:{line:177,column:37},end:{line:177,column:38}},loc:{start:{line:177,column:54},end:{line:182,column:9}},line:177},15:{name:"(anonymous_15)",decl:{start:{line:183,column:37},end:{line:183,column:38}},loc:{start:{line:183,column:54},end:{line:186,column:9}},line:183},16:{name:"(anonymous_16)",decl:{start:{line:187,column:29},end:{line:187,column:30}},loc:{start:{line:187,column:46},end:{line:190,column:9}},line:187},17:{name:"(anonymous_17)",decl:{start:{line:191,column:31},end:{line:191,column:32}},loc:{start:{line:191,column:48},end:{line:194,column:9}},line:191},18:{name:"(anonymous_18)",decl:{start:{line:195,column:31},end:{line:195,column:32}},loc:{start:{line:195,column:48},end:{line:198,column:9}},line:195},19:{name:"(anonymous_19)",decl:{start:{line:199,column:27},end:{line:199,column:28}},loc:{start:{line:199,column:44},end:{line:201,column:9}},line:199},20:{name:"(anonymous_20)",decl:{start:{line:211,column:29},end:{line:211,column:30}},loc:{start:{line:211,column:46},end:{line:226,column:9}},line:211},21:{name:"(anonymous_21)",decl:{start:{line:227,column:30},end:{line:227,column:31}},loc:{start:{line:227,column:47},end:{line:230,column:9}},line:227},22:{name:"(anonymous_22)",decl:{start:{line:233,column:53},end:{line:233,column:54}},loc:{start:{line:233,column:65},end:{line:260,column:5}},line:233},23:{name:"(anonymous_23)",decl:{start:{line:263,column:59},end:{line:263,column:60}},loc:{start:{line:263,column:78},end:{line:271,column:5}},line:263},24:{name:"(anonymous_24)",decl:{start:{line:265,column:15},end:{line:265,column:16}},loc:{start:{line:265,column:28},end:{line:270,column:9}},line:265},25:{name:"(anonymous_25)",decl:{start:{line:272,column:53},end:{line:272,column:54}},loc:{start:{line:272,column:79},end:{line:275,column:5}},line:272}},branchMap:{0:{loc:{start:{line:24,column:12},end:{line:35,column:13}},type:"switch",locations:[{start:{line:25,column:16},end:{line:27,column:26}},{start:{line:28,column:16},end:{line:28,column:61}},{start:{line:29,column:16},end:{line:31,column:26}},{start:{line:32,column:16},end:{line:34,column:26}}],line:24},1:{loc:{start:{line:38,column:12},end:{line:38,column:63}},type:"if",locations:[{start:{line:38,column:12},end:{line:38,column:63}},{start:{line:38,column:12},end:{line:38,column:63}}],line:38},2:{loc:{start:{line:42,column:12},end:{line:42,column:63}},type:"if",locations:[{start:{line:42,column:12},end:{line:42,column:63}},{start:{line:42,column:12},end:{line:42,column:63}}],line:42},3:{loc:{start:{line:50,column:94},end:{line:50,column:129}},type:"cond-expr",locations:[{start:{line:50,column:110},end:{line:50,column:124}},{start:{line:50,column:127},end:{line:50,column:129}}],line:50},4:{loc:{start:{line:54,column:12},end:{line:84,column:13}},type:"switch",locations:[{start:{line:55,column:16},end:{line:61,column:26}},{start:{line:62,column:16},end:{line:64,column:26}},{start:{line:65,column:16},end:{line:75,column:26}},{start:{line:76,column:16},end:{line:80,column:26}},{start:{line:81,column:16},end:{line:83,column:26}}],line:54},5:{loc:{start:{line:56,column:20},end:{line:60,column:21}},type:"if",locations:[{start:{line:56,column:20},end:{line:60,column:21}},{start:{line:56,column:20},end:{line:60,column:21}}],line:56},6:{loc:{start:{line:66,column:20},end:{line:74,column:21}},type:"switch",locations:[{start:{line:67,column:24},end:{line:69,column:34}},{start:{line:70,column:24},end:{line:70,column:45}},{start:{line:71,column:24},end:{line:73,column:34}}],line:66},7:{loc:{start:{line:87,column:94},end:{line:87,column:129}},type:"cond-expr",locations:[{start:{line:87,column:110},end:{line:87,column:124}},{start:{line:87,column:127},end:{line:87,column:129}}],line:87},8:{loc:{start:{line:91,column:12},end:{line:111,column:13}},type:"switch",locations:[{start:{line:92,column:16},end:{line:96,column:26}},{start:{line:97,column:16},end:{line:99,column:26}},{start:{line:100,column:16},end:{line:102,column:26}},{start:{line:103,column:16},end:{line:107,column:26}},{start:{line:108,column:16},end:{line:110,column:26}}],line:91},9:{loc:{start:{line:93,column:20},end:{line:95,column:21}},type:"if",locations:[{start:{line:93,column:20},end:{line:95,column:21}},{start:{line:93,column:20},end:{line:95,column:21}}],line:93},10:{loc:{start:{line:114,column:94},end:{line:114,column:129}},type:"cond-expr",locations:[{start:{line:114,column:110},end:{line:114,column:124}},{start:{line:114,column:127},end:{line:114,column:129}}],line:114},11:{loc:{start:{line:117,column:29},end:{line:117,column:60}},type:"binary-expr",locations:[{start:{line:117,column:29},end:{line:117,column:40}},{start:{line:117,column:44},end:{line:117,column:60}}],line:117},12:{loc:{start:{line:118,column:12},end:{line:133,column:13}},type:"switch",locations:[{start:{line:119,column:16},end:{line:123,column:26}},{start:{line:124,column:16},end:{line:126,column:26}},{start:{line:127,column:16},end:{line:129,column:26}},{start:{line:130,column:16},end:{line:132,column:26}}],line:118},13:{loc:{start:{line:120,column:20},end:{line:122,column:21}},type:"if",locations:[{start:{line:120,column:20},end:{line:122,column:21}},{start:{line:120,column:20},end:{line:122,column:21}}],line:120},14:{loc:{start:{line:138,column:12},end:{line:143,column:13}},type:"if",locations:[{start:{line:138,column:12},end:{line:143,column:13}},{start:{line:138,column:12},end:{line:143,column:13}}],line:138},15:{loc:{start:{line:140,column:16},end:{line:142,column:17}},type:"if",locations:[{start:{line:140,column:16},end:{line:142,column:17}},{start:{line:140,column:16},end:{line:142,column:17}}],line:140},16:{loc:{start:{line:146,column:121},end:{line:146,column:156}},type:"cond-expr",locations:[{start:{line:146,column:137},end:{line:146,column:151}},{start:{line:146,column:154},end:{line:146,column:156}}],line:146},17:{loc:{start:{line:150,column:121},end:{line:150,column:156}},type:"cond-expr",locations:[{start:{line:150,column:137},end:{line:150,column:151}},{start:{line:150,column:154},end:{line:150,column:156}}],line:150},18:{loc:{start:{line:154,column:121},end:{line:154,column:156}},type:"cond-expr",locations:[{start:{line:154,column:137},end:{line:154,column:151}},{start:{line:154,column:154},end:{line:154,column:156}}],line:154},19:{loc:{start:{line:158,column:121},end:{line:158,column:156}},type:"cond-expr",locations:[{start:{line:158,column:137},end:{line:158,column:151}},{start:{line:158,column:154},end:{line:158,column:156}}],line:158},20:{loc:{start:{line:160,column:12},end:{line:170,column:13}},type:"switch",locations:[{start:{line:161,column:16},end:{line:165,column:26}},{start:{line:166,column:16},end:{line:169,column:21}}],line:160},21:{loc:{start:{line:162,column:20},end:{line:164,column:21}},type:"if",locations:[{start:{line:162,column:20},end:{line:164,column:21}},{start:{line:162,column:20},end:{line:164,column:21}}],line:162},22:{loc:{start:{line:167,column:20},end:{line:169,column:21}},type:"if",locations:[{start:{line:167,column:20},end:{line:169,column:21}},{start:{line:167,column:20},end:{line:169,column:21}}],line:167},23:{loc:{start:{line:213,column:12},end:{line:225,column:13}},type:"switch",locations:[{start:{line:214,column:16},end:{line:218,column:26}},{start:{line:219,column:16},end:{line:221,column:26}},{start:{line:222,column:16},end:{line:224,column:26}}],line:213},24:{loc:{start:{line:215,column:20},end:{line:217,column:21}},type:"if",locations:[{start:{line:215,column:20},end:{line:217,column:21}},{start:{line:215,column:20},end:{line:217,column:21}}],line:215},25:{loc:{start:{line:267,column:12},end:{line:269,column:13}},type:"if",locations:[{start:{line:267,column:12},end:{line:269,column:13}},{start:{line:267,column:12},end:{line:269,column:13}}],line:267}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0,0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0,0,0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0,0],24:[0,0],25:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/ActionDispatcher.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/ActionDispatcher.ts"],names:[],mappings:"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",sourcesContent:["import { Store } from 'redux';\n\nimport ConfigService from 'diagramMaker/service/ConfigService';\nimport Observer from 'diagramMaker/service/observer/Observer';\nimport { subtract } from 'diagramMaker/service/positionUtils';\nimport { DiagramMakerComponentsType } from 'diagramMaker/service/ui/types';\nimport {\n  ContainerEventType,\n  DragEventType,\n  DropEventType,\n  EventType,\n  KeyboardEventType,\n  MouseClickEventType,\n  MouseMoveEventType,\n  WheelEventType,\n  WindowEventType\n} from 'diagramMaker/service/ui/UIEventManager';\nimport {\n  KeyboardCode,\n  KeyboardKey,\n  NormalizedContainerEvent,\n  NormalizedDragEvent,\n  NormalizedDropEvent,\n  NormalizedEvent,\n  NormalizedKeyboardEvent,\n  NormalizedMouseClickEvent,\n  NormalizedMouseMoveEvent,\n  NormalizedMouseScrollEvent,\n  NormalizedWindowEvent\n} from 'diagramMaker/service/ui/UIEventNormalizer';\nimport UITargetNormalizer from 'diagramMaker/service/ui/UITargetNormalizer';\nimport {\n  handleEdgeClick, handleEdgeCreate, handleEdgeDrag, handleEdgeDragEnd, handleEdgeDragStart\n} from 'diagramMaker/state/edge/edgeActionDispatcher';\nimport {\n  handleHideContextMenu,\n  handleHideSelectionMarquee,\n  handleShowContextMenu,\n  handleShowSelectionMarquee,\n  handleUpdateSelectionMarquee\n} from 'diagramMaker/state/editor/editorActionDispatcher';\nimport { handleDeleteSelectedItems } from 'diagramMaker/state/global/globalActionDispatcher';\nimport { rootEventFilter } from 'diagramMaker/state/mode';\nimport {\n  handleNodeClick,\n  handleNodeCreate,\n  handleNodeDrag,\n  handleNodeDragEnd,\n  handleNodeDragStart,\n  handlePotentialNodeDrag,\n  handlePotentialNodeDragEnd,\n  handlePotentialNodeDragStart\n} from 'diagramMaker/state/node/nodeActionDispatcher';\nimport {\n  handlePanelDrag,\n  handlePanelDragStart\n} from 'diagramMaker/state/panel/panelActionDispatcher';\n\nimport { DiagramMakerData, DiagramMakerWorkspace, EditorMode, Position } from 'diagramMaker/state/types';\nimport {\n  handleSelectAll,\n  handleWorkspaceClick,\n  handleWorkspaceDrag,\n  handleWorkspaceResize,\n  handleWorkspaceZoom\n} from 'diagramMaker/state/workspace/workspaceActionDispatcher';\n\nconst DATA_ATTR_TYPE = 'data-type';\nexport default class ActionDispatcher<NodeType, EdgeType> {\n  constructor(\n    private observer: Observer,\n    private store: Store<DiagramMakerData<NodeType, EdgeType>>,\n    private config: ConfigService<NodeType, EdgeType>\n  ) {\n\n    this.subscribeToUIEvents();\n  }\n\n  private subscribeToUIEvents() {\n    const { LEFT_CLICK, RIGHT_CLICK, MOUSE_UP, MOUSE_DOWN } = MouseClickEventType;\n    const { MOUSE_MOVE } = MouseMoveEventType;\n    const { DRAG, DRAG_START, DRAG_END } = DragEventType;\n    const { DROP, DRAG_ENTER, DRAG_LEAVE, DRAG_OVER } = DropEventType;\n    const { MOUSE_WHEEL } = WheelEventType;\n    const { KEY_DOWN, KEY_UP, KEY_PRESS } = KeyboardEventType;\n    const { RESIZE } = WindowEventType;\n    const { DIAGRAM_MAKER_CONTAINER_UPDATE } = ContainerEventType;\n\n    this.subscribeWithFilter(LEFT_CLICK, this.handleLeftMouseClick);\n    this.subscribeWithFilter(RIGHT_CLICK, this.handleRightMouseClick);\n    this.subscribeWithFilter(MOUSE_UP, this.handleMouseUp);\n    this.subscribeWithFilter(MOUSE_DOWN, this.handleMouseDown);\n    this.subscribeWithFilter(MOUSE_MOVE, this.handleMouseMove);\n    this.subscribeWithFilter(DRAG, this.handleDrag);\n    this.subscribeWithFilter(DRAG_START, this.handleDragStart);\n    this.subscribeWithFilter(DRAG_ENTER, this.handleDragEnter);\n    this.subscribeWithFilter(DRAG_LEAVE, this.handleDragLeave);\n    this.subscribeWithFilter(DRAG_OVER, this.handleDragOver);\n    this.subscribeWithFilter(DRAG_END, this.handleDragEnd);\n    this.subscribeWithFilter(DROP, this.handleDrop);\n    this.subscribeWithFilter(RESIZE, this.handleWindowResize);\n    this.subscribeWithFilter(DIAGRAM_MAKER_CONTAINER_UPDATE, this.handleContainerUpdate);\n    this.subscribeWithFilter(MOUSE_WHEEL, this.handleWheelScroll);\n    this.subscribeWithFilter(KEY_DOWN, this.handleKeyDown);\n    this.subscribeWithFilter(KEY_UP, this.handleKeyUp);\n    this.subscribeWithFilter(KEY_PRESS, this.handleKeyPress);\n  }\n\n  // Typescript will not allow `event` to be typed as `NormalizedEvent`,\n  // which is a union type of all possible normalized events.  No idea why.\n\n  private createEventFilterCallback(handler: (event: any) => void): (e: NormalizedEvent) => void {\n    return (e: NormalizedEvent) => {\n      const { mode } = this.store.getState().editor;\n\n      if (rootEventFilter(e, mode)) {\n        handler(e);\n      }\n    };\n  }\n\n  private subscribeWithFilter(event: EventType, handler: (event: any) => void): void {\n    const { subscribe } = this.observer;\n\n    subscribe(event, this.createEventFilterCallback(handler));\n  }\n\n  private handleLeftMouseClick = (event: NormalizedMouseClickEvent): void => {\n    const { target } = event;\n    const { type, id } = target;\n\n    switch (type) {\n      case DiagramMakerComponentsType.NODE:\n        handleNodeClick(this.store, id);\n        break;\n      case (DiagramMakerComponentsType.EDGE_BADGE):\n      case (DiagramMakerComponentsType.EDGE):\n        handleEdgeClick(this.store, id);\n        break;\n      case (DiagramMakerComponentsType.WORKSPACE):\n        handleWorkspaceClick(this.store);\n        break;\n    }\n  }\n\n  private getNormalizedPositionOffset = (\n    position: Position,\n    offset = { x: 0, y: 0 }\n  ): Position => subtract(position, offset)\n\n  private getNormalizedPositionOffsetInWorkspace = (\n    position: Position,\n    workspace: DiagramMakerWorkspace,\n    offset = { x: 0, y: 0 }\n  ): Position => {\n    const targetPosition = this.getNormalizedPositionOffset(position, offset);\n    return {\n      x: (targetPosition.x - workspace.position.x) / workspace.scale,\n      y: (targetPosition.y - workspace.position.y) / workspace.scale\n    };\n  }\n\n  private handleDrag = (event: NormalizedDragEvent): void => {\n    const { target, position, offset = { x: 0, y: 0 } } = event;\n    const { type, id } = target;\n    const editorMode = this.store.getState().editor.mode;\n    const workspaceState = this.store.getState().workspace;\n\n    switch (type) {\n      case DiagramMakerComponentsType.PANEL_DRAG_HANDLE:\n        if (id) {\n          const normalizedPosition = this.getNormalizedPositionOffset(position, offset);\n          const draggableElement = target.originalTarget as HTMLElement;\n          handlePanelDrag(\n            this.store,\n            id,\n            draggableElement,\n            normalizedPosition,\n            workspaceState.viewContainerSize\n          );\n        }\n        break;\n      case DiagramMakerComponentsType.NODE:\n        handleNodeDrag(this.store, id, this.getNormalizedPositionOffsetInWorkspace(position, workspaceState, offset));\n        break;\n      case DiagramMakerComponentsType.WORKSPACE:\n        switch (editorMode) {\n          case EditorMode.SELECT:\n            handleUpdateSelectionMarquee(\n              this.store,\n              this.getNormalizedPositionOffsetInWorkspace(position, workspaceState)\n            );\n            break;\n          case EditorMode.DRAG:\n          default:\n            handleWorkspaceDrag(this.store, this.getNormalizedPositionOffset(position, offset));\n            break;\n        }\n        break;\n      case (DiagramMakerComponentsType.NODE_CONNECTOR):\n        handleEdgeDrag(\n          this.store,\n          // No item offset, bc we want to draw dragged edges right at the tip of the pointer\n          this.getNormalizedPositionOffsetInWorkspace(position, workspaceState)\n        );\n        break;\n      case (DiagramMakerComponentsType.POTENTIAL_NODE):\n        handlePotentialNodeDrag(\n          this.store,\n          this.getNormalizedPositionOffsetInWorkspace(position, workspaceState)\n        );\n        break;\n    }\n  }\n\n  private handleDragStart = (event: NormalizedDragEvent): void => {\n    const { target, position, offset = { x: 0, y: 0 } } = event;\n    const { type, id } = target;\n    const editorMode = this.store.getState().editor.mode;\n    const workspaceState = this.store.getState().workspace;\n\n    switch (type) {\n      case DiagramMakerComponentsType.WORKSPACE:\n        if (editorMode === EditorMode.SELECT) {\n          handleShowSelectionMarquee(\n            this.store,\n            this.getNormalizedPositionOffsetInWorkspace(position, workspaceState)\n          );\n        }\n        break;\n      case DiagramMakerComponentsType.PANEL_DRAG_HANDLE:\n        handlePanelDragStart(this.store, id);\n        break;\n      case DiagramMakerComponentsType.NODE:\n        handleNodeDragStart(this.store, id);\n        break;\n      case (DiagramMakerComponentsType.NODE_CONNECTOR):\n        handleEdgeDragStart(\n          this.store,\n          id,\n          // No item offset, bc we want to draw dragged edges right at the tip of the pointer\n          this.getNormalizedPositionOffsetInWorkspace(position, workspaceState)\n        );\n        break;\n      case (DiagramMakerComponentsType.POTENTIAL_NODE):\n        handlePotentialNodeDragStart(\n          this.store,\n          this.config,\n          target,\n          this.getNormalizedPositionOffsetInWorkspace(position, workspaceState)\n        );\n        break;\n    }\n  }\n\n  private handleDragEnd = (event: NormalizedDragEvent): void => {\n    const { target, position, offset = { x: 0, y: 0 } } = event;\n    const { type, id } = target;\n    const editorState = this.store.getState().editor;\n    const editorMode = editorState && editorState.mode;\n\n    switch (type) {\n      case DiagramMakerComponentsType.WORKSPACE:\n        if (editorMode === EditorMode.SELECT) {\n          handleHideSelectionMarquee(this.store);\n        }\n        break;\n      case DiagramMakerComponentsType.NODE:\n        handleNodeDragEnd(this.store, id);\n        break;\n      case (DiagramMakerComponentsType.NODE_CONNECTOR):\n        handleEdgeDragEnd(this.store, id);\n        break;\n      case (DiagramMakerComponentsType.POTENTIAL_NODE):\n        handlePotentialNodeDragEnd(this.store, id);\n        break;\n    }\n  }\n\n  private handleWheelScroll = (event: NormalizedMouseScrollEvent): void => {\n    const { delta, originalEvent, position } = event;\n\n    const editorState = this.store.getState().editor;\n\n    if (UITargetNormalizer.getTarget(originalEvent, DATA_ATTR_TYPE, DiagramMakerComponentsType.WORKSPACE)) {\n      originalEvent.preventDefault();\n\n      if (!editorState.contextMenu) {\n        handleWorkspaceZoom(this.store, -delta, position);\n      }\n    }\n  }\n\n  private handleDragEnter = (event: NormalizedDropEvent): void => {\n    const { target, dropzone, position, offset = { x: 0, y: 0 } } = event;\n\n    // Handle drag enter\n  }\n\n  private handleDragLeave = (event: NormalizedDropEvent): void => {\n    const { target, dropzone, position, offset = { x: 0, y: 0 } } = event;\n\n    // Handle drag leave\n  }\n\n  private handleDragOver = (event: NormalizedDropEvent): void => {\n    const { target, dropzone, position, offset = { x: 0, y: 0 } } = event;\n\n    // Handle drag over\n  }\n\n  private handleDrop = (event: NormalizedDropEvent): void => {\n    const { target, dropzone, position, offset = { x: 0, y: 0 } } = event;\n    const { type, id } = target;\n\n    switch (dropzone.type) {\n      case (DiagramMakerComponentsType.NODE_CONNECTOR):\n        if (type === DiagramMakerComponentsType.NODE_CONNECTOR) {\n          handleEdgeCreate(this.store, id, dropzone.id);\n        }\n        break;\n      case (DiagramMakerComponentsType.WORKSPACE):\n        if (type === DiagramMakerComponentsType.POTENTIAL_NODE) {\n          handleNodeCreate(this.store, id);\n        }\n    }\n\n    // Handle drop\n  }\n\n  private handleWindowResize = (event: NormalizedWindowEvent): void => {\n    const { size, originalEvent } = event;\n    // Handle window resize\n  }\n\n  private handleContainerUpdate = (event: NormalizedContainerEvent): void => {\n    const { contextRect } = event;\n\n    const size = { height: contextRect.height, width: contextRect.width };\n\n    // Handle container resize\n    handleWorkspaceResize(this.store, size);\n  }\n\n  private handleRightMouseClick = (event: NormalizedMouseClickEvent): void => {\n    const { target, button, position, offset, originalEvent } = event;\n\n    handleShowContextMenu(this.store, this.config, event);\n  }\n\n  private handleMouseUp = (event: NormalizedMouseClickEvent): void => {\n    const { target, button, position, offset, originalEvent } = event;\n\n    // Handle mouse up\n  }\n\n  private handleMouseDown = (event: NormalizedMouseClickEvent): void => {\n    const { target, button, position, offset, originalEvent } = event;\n\n    handleHideContextMenu(this.store);\n  }\n\n  private handleMouseMove = (event: NormalizedMouseMoveEvent): void => {\n    const { position, originalEvent } = event;\n\n    // Handle mouse move\n  }\n\n  private handleKeyUp = (event: NormalizedKeyboardEvent): void => {\n    const { originalEvent, code, key, modKey, shiftKey, metaKey, ctrlKey } = event;\n\n  }\n\n  // @NOTE Justification for using KeyDown as opposed to KeyUp or KeyPress for the Delete event:\n  // 1) We cannot use KeyPress for the Delete key (or other non-printable keys).\n  //    See: https://stackoverflow.com/questions/1116244/capturing-delete-keypress-with-jquery\n  // 2) This leaves us with 2 options: KeyUp or KeyDown.  Other similar enterprise applications\n  //    tend to use KeyDown instead of KeyUp for this type of event.\n  //\n  // The issue with using KeyDown is that it continues to fire if held.\n  // This isn't an issue with delete, but it may cause an issue if\n  // we were doing something like duplicating a node via keypress.\n\n  private handleKeyDown = (event: NormalizedKeyboardEvent): void => {\n    const { originalEvent, code, key, modKey, shiftKey, metaKey, ctrlKey } = event;\n\n    switch (key) {\n      case KeyboardKey.A:\n        if (modKey) {\n          handleSelectAll(this.store);\n        }\n        break;\n      case KeyboardCode.DELETE:\n        handleDeleteSelectedItems(this.store);\n        break;\n      case KeyboardCode.BACKSPACE:\n        handleDeleteSelectedItems(this.store);\n        break;\n    }\n  }\n\n  private handleKeyPress = (event: NormalizedKeyboardEvent): void => {\n    const { originalEvent, code, key, modKey, shiftKey, metaKey, ctrlKey } = event;\n\n    // Handle key press\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),Ea=(ma.s[0]++,"data-type"),pa=(ma.s[1]++,function(){function n(n,e,A){ma.f[1]++;var t=(ma.s[2]++,this);ma.s[3]++,this.observer=n,ma.s[4]++,this.store=e,ma.s[5]++,this.config=A,ma.s[6]++,this.handleLeftMouseClick=function(n){ma.f[2]++;var e=(ma.s[7]++,n.target),A=(ma.s[8]++,e.type),o=(ma.s[9]++,e.id);switch(ma.s[10]++,A){case c.NODE:ma.b[0][0]++,ma.s[11]++,Zr(t.store,o),ma.s[12]++;break;case c.EDGE_BADGE:ma.b[0][1]++;case c.EDGE:ma.b[0][2]++,ma.s[13]++,Ur(t.store,o),ma.s[14]++;break;case c.WORKSPACE:ma.b[0][3]++,ma.s[15]++,RA(t.store),ma.s[16]++}},ma.s[17]++,this.getNormalizedPositionOffset=function(n,e){return ma.f[3]++,ma.s[18]++,void 0===e?(ma.b[1][0]++,ma.s[19]++,e={x:0,y:0}):ma.b[1][1]++,ma.s[20]++,Z(n,e)},ma.s[21]++,this.getNormalizedPositionOffsetInWorkspace=function(n,e,A){ma.f[4]++,ma.s[22]++,void 0===A?(ma.b[2][0]++,ma.s[23]++,A={x:0,y:0}):ma.b[2][1]++;var o=(ma.s[24]++,t.getNormalizedPositionOffset(n,A));return ma.s[25]++,{x:(o.x-e.position.x)/e.scale,y:(o.y-e.position.y)/e.scale}},ma.s[26]++,this.handleDrag=function(n){ma.f[5]++;var e=(ma.s[27]++,n.target),A=(ma.s[28]++,n.position),o=(ma.s[29]++,n.offset),i=(ma.s[30]++,void 0===o?(ma.b[3][0]++,{x:0,y:0}):(ma.b[3][1]++,o)),l=(ma.s[31]++,e.type),r=(ma.s[32]++,e.id),a=(ma.s[33]++,t.store.getState().editor.mode),s=(ma.s[34]++,t.store.getState().workspace);switch(ma.s[35]++,l){case c.PANEL_DRAG_HANDLE:if(ma.b[4][0]++,ma.s[36]++,r){ma.b[5][0]++;var C=(ma.s[37]++,t.getNormalizedPositionOffset(A,i)),u=(ma.s[38]++,e.originalTarget);ma.s[39]++,ua(t.store,r,u,C,s.viewContainerSize)}else ma.b[5][1]++;ma.s[40]++;break;case c.NODE:ma.b[4][1]++,ma.s[41]++,$r(t.store,r,t.getNormalizedPositionOffsetInWorkspace(A,s,i)),ma.s[42]++;break;case c.WORKSPACE:switch(ma.b[4][2]++,ma.s[43]++,a){case Rn.SELECT:ma.b[6][0]++,ma.s[44]++,ke(t.store,t.getNormalizedPositionOffsetInWorkspace(A,s)),ma.s[45]++;break;case Rn.DRAG:ma.b[6][1]++;default:ma.b[6][2]++,ma.s[46]++,function(n,e){UA.f[7]++;var A=(UA.s[7]++,wA(e));UA.s[8]++,n.dispatch(A)}(t.store,t.getNormalizedPositionOffset(A,i)),ma.s[47]++}ma.s[48]++;break;case c.NODE_CONNECTOR:ma.b[4][3]++,ma.s[49]++,Tr(t.store,t.getNormalizedPositionOffsetInWorkspace(A,s)),ma.s[50]++;break;case c.POTENTIAL_NODE:ma.b[4][4]++,ma.s[51]++,Aa(t.store,t.getNormalizedPositionOffsetInWorkspace(A,s)),ma.s[52]++}},ma.s[53]++,this.handleDragStart=function(n){ma.f[6]++;var e=(ma.s[54]++,n.target),A=(ma.s[55]++,n.position),o=(ma.s[56]++,n.offset),i=(ma.s[57]++,void 0===o?ma.b[7][0]++:ma.b[7][1]++,ma.s[58]++,e.type),l=(ma.s[59]++,e.id),r=(ma.s[60]++,t.store.getState().editor.mode),a=(ma.s[61]++,t.store.getState().workspace);switch(ma.s[62]++,i){case c.WORKSPACE:ma.b[8][0]++,ma.s[63]++,r===Rn.SELECT?(ma.b[9][0]++,ma.s[64]++,De(t.store,t.getNormalizedPositionOffsetInWorkspace(A,a))):ma.b[9][1]++,ma.s[65]++;break;case c.PANEL_DRAG_HANDLE:ma.b[8][1]++,ma.s[66]++,da(t.store,l),ma.s[67]++;break;case c.NODE:ma.b[8][2]++,ma.s[68]++,Jr(t.store,l),ma.s[69]++;break;case c.NODE_CONNECTOR:ma.b[8][3]++,ma.s[70]++,_r(t.store,l,t.getNormalizedPositionOffsetInWorkspace(A,a)),ma.s[71]++;break;case c.POTENTIAL_NODE:ma.b[8][4]++,ma.s[72]++,ea(t.store,t.config,e,t.getNormalizedPositionOffsetInWorkspace(A,a)),ma.s[73]++}},ma.s[74]++,this.handleDragEnd=function(n){ma.f[7]++;var e=(ma.s[75]++,n.target),A=(ma.s[76]++,n.position,ma.s[77]++,n.offset),o=(ma.s[78]++,void 0===A?ma.b[10][0]++:ma.b[10][1]++,ma.s[79]++,e.type),i=(ma.s[80]++,e.id),l=(ma.s[81]++,t.store.getState().editor),r=(ma.s[82]++,ma.b[11][0]++,l&&(ma.b[11][1]++,l.mode));switch(ma.s[83]++,o){case c.WORKSPACE:ma.b[12][0]++,ma.s[84]++,r===Rn.SELECT?(ma.b[13][0]++,ma.s[85]++,Ke(t.store)):ma.b[13][1]++,ma.s[86]++;break;case c.NODE:ma.b[12][1]++,ma.s[87]++,na(t.store,i),ma.s[88]++;break;case c.NODE_CONNECTOR:ma.b[12][2]++,ma.s[89]++,xr(t.store,i),ma.s[90]++;break;case c.POTENTIAL_NODE:ma.b[12][3]++,ma.s[91]++,ta(t.store,i),ma.s[92]++}},ma.s[93]++,this.handleWheelScroll=function(n){ma.f[8]++;var e=(ma.s[94]++,n.delta),A=(ma.s[95]++,n.originalEvent),o=(ma.s[96]++,n.position),i=(ma.s[97]++,t.store.getState().editor);ma.s[98]++,Ol.getTarget(A,Ea,c.WORKSPACE)?(ma.b[14][0]++,ma.s[99]++,A.preventDefault(),ma.s[100]++,i.contextMenu?ma.b[15][1]++:(ma.b[15][0]++,ma.s[101]++,function(n,e,A){UA.f[8]++;var t=(UA.s[9]++,NA(e,A));UA.s[10]++,n.dispatch(t)}(t.store,-e,o))):ma.b[14][1]++},ma.s[102]++,this.handleDragEnter=function(n){ma.f[9]++;ma.s[103]++,n.target,ma.s[104]++,n.dropzone,ma.s[105]++,n.position;var e=(ma.s[106]++,n.offset);ma.s[107]++,void 0===e?ma.b[16][0]++:ma.b[16][1]++},ma.s[108]++,this.handleDragLeave=function(n){ma.f[10]++;ma.s[109]++,n.target,ma.s[110]++,n.dropzone,ma.s[111]++,n.position;var e=(ma.s[112]++,n.offset);ma.s[113]++,void 0===e?ma.b[17][0]++:ma.b[17][1]++},ma.s[114]++,this.handleDragOver=function(n){ma.f[11]++;ma.s[115]++,n.target,ma.s[116]++,n.dropzone,ma.s[117]++,n.position;var e=(ma.s[118]++,n.offset);ma.s[119]++,void 0===e?ma.b[18][0]++:ma.b[18][1]++},ma.s[120]++,this.handleDrop=function(n){ma.f[12]++;var e=(ma.s[121]++,n.target),A=(ma.s[122]++,n.dropzone),o=(ma.s[123]++,n.position,ma.s[124]++,n.offset),i=(ma.s[125]++,void 0===o?ma.b[19][0]++:ma.b[19][1]++,ma.s[126]++,e.type),l=(ma.s[127]++,e.id);switch(ma.s[128]++,A.type){case c.NODE_CONNECTOR:ma.b[20][0]++,ma.s[129]++,i===c.NODE_CONNECTOR?(ma.b[21][0]++,ma.s[130]++,Qr(t.store,l,A.id)):ma.b[21][1]++,ma.s[131]++;break;case c.WORKSPACE:ma.b[20][1]++,ma.s[132]++,i===c.POTENTIAL_NODE?(ma.b[22][0]++,ma.s[133]++,oa(t.store,l)):ma.b[22][1]++}},ma.s[134]++,this.handleWindowResize=function(n){ma.f[13]++;ma.s[135]++,n.size,ma.s[136]++,n.originalEvent},ma.s[137]++,this.handleContainerUpdate=function(n){ma.f[14]++;var e=(ma.s[138]++,n.contextRect),A=(ma.s[139]++,{height:e.height,width:e.width});ma.s[140]++,YA(t.store,A)},ma.s[141]++,this.handleRightMouseClick=function(n){ma.f[15]++;ma.s[142]++,n.target,ma.s[143]++,n.button,ma.s[144]++,n.position,ma.s[145]++,n.offset,ma.s[146]++,n.originalEvent;ma.s[147]++,Oe(t.store,t.config,n)},ma.s[148]++,this.handleMouseUp=function(n){ma.f[16]++;ma.s[149]++,n.target,ma.s[150]++,n.button,ma.s[151]++,n.position,ma.s[152]++,n.offset,ma.s[153]++,n.originalEvent},ma.s[154]++,this.handleMouseDown=function(n){ma.f[17]++;ma.s[155]++,n.target,ma.s[156]++,n.button,ma.s[157]++,n.position,ma.s[158]++,n.offset,ma.s[159]++,n.originalEvent;ma.s[160]++,Ge(t.store)},ma.s[161]++,this.handleMouseMove=function(n){ma.f[18]++;ma.s[162]++,n.position,ma.s[163]++,n.originalEvent},ma.s[164]++,this.handleKeyUp=function(n){ma.f[19]++;ma.s[165]++,n.originalEvent,ma.s[166]++,n.code,ma.s[167]++,n.key,ma.s[168]++,n.modKey,ma.s[169]++,n.shiftKey,ma.s[170]++,n.metaKey,ma.s[171]++,n.ctrlKey},ma.s[172]++,this.handleKeyDown=function(n){ma.f[20]++;ma.s[173]++,n.originalEvent,ma.s[174]++,n.code;var e=(ma.s[175]++,n.key),A=(ma.s[176]++,n.modKey);ma.s[177]++,n.shiftKey,ma.s[178]++,n.metaKey,ma.s[179]++,n.ctrlKey;switch(ma.s[180]++,e){case yl.A:ma.b[23][0]++,ma.s[181]++,A?(ma.b[24][0]++,ma.s[182]++,WA(t.store)):ma.b[24][1]++,ma.s[183]++;break;case Il.DELETE:ma.b[23][1]++,ma.s[184]++,zr(t.store),ma.s[185]++;break;case Il.BACKSPACE:ma.b[23][2]++,ma.s[186]++,zr(t.store),ma.s[187]++}},ma.s[188]++,this.handleKeyPress=function(n){ma.f[21]++;ma.s[189]++,n.originalEvent,ma.s[190]++,n.code,ma.s[191]++,n.key,ma.s[192]++,n.modKey,ma.s[193]++,n.shiftKey,ma.s[194]++,n.metaKey,ma.s[195]++,n.ctrlKey},ma.s[196]++,this.subscribeToUIEvents()}return ma.f[0]++,ma.s[197]++,n.prototype.subscribeToUIEvents=function(){ma.f[22]++;var n=(ma.s[198]++,_l.LEFT_CLICK),e=(ma.s[199]++,_l.RIGHT_CLICK),A=(ma.s[200]++,_l.MOUSE_UP),t=(ma.s[201]++,_l.MOUSE_DOWN),o=(ma.s[202]++,xl.MOUSE_MOVE),i=(ma.s[203]++,Ul.DRAG),l=(ma.s[204]++,Ul.DRAG_START),r=(ma.s[205]++,Ul.DRAG_END),a=(ma.s[206]++,wl.DROP),c=(ma.s[207]++,wl.DRAG_ENTER),s=(ma.s[208]++,wl.DRAG_LEAVE),C=(ma.s[209]++,wl.DRAG_OVER),u=(ma.s[210]++,Tl.MOUSE_WHEEL),d=(ma.s[211]++,Nl.KEY_DOWN),m=(ma.s[212]++,Nl.KEY_UP),E=(ma.s[213]++,Nl.KEY_PRESS),p=(ma.s[214]++,Ql.RESIZE),f=(ma.s[215]++,Kl.DIAGRAM_MAKER_CONTAINER_UPDATE);ma.s[216]++,this.subscribeWithFilter(n,this.handleLeftMouseClick),ma.s[217]++,this.subscribeWithFilter(e,this.handleRightMouseClick),ma.s[218]++,this.subscribeWithFilter(A,this.handleMouseUp),ma.s[219]++,this.subscribeWithFilter(t,this.handleMouseDown),ma.s[220]++,this.subscribeWithFilter(o,this.handleMouseMove),ma.s[221]++,this.subscribeWithFilter(i,this.handleDrag),ma.s[222]++,this.subscribeWithFilter(l,this.handleDragStart),ma.s[223]++,this.subscribeWithFilter(c,this.handleDragEnter),ma.s[224]++,this.subscribeWithFilter(s,this.handleDragLeave),ma.s[225]++,this.subscribeWithFilter(C,this.handleDragOver),ma.s[226]++,this.subscribeWithFilter(r,this.handleDragEnd),ma.s[227]++,this.subscribeWithFilter(a,this.handleDrop),ma.s[228]++,this.subscribeWithFilter(p,this.handleWindowResize),ma.s[229]++,this.subscribeWithFilter(f,this.handleContainerUpdate),ma.s[230]++,this.subscribeWithFilter(u,this.handleWheelScroll),ma.s[231]++,this.subscribeWithFilter(d,this.handleKeyDown),ma.s[232]++,this.subscribeWithFilter(m,this.handleKeyUp),ma.s[233]++,this.subscribeWithFilter(E,this.handleKeyPress)},ma.s[234]++,n.prototype.createEventFilterCallback=function(n){ma.f[23]++;var e=(ma.s[235]++,this);return ma.s[236]++,function(A){ma.f[24]++;var t=(ma.s[237]++,e.store.getState().editor.mode);ma.s[238]++,qr(A,t)?(ma.b[25][0]++,ma.s[239]++,n(A)):ma.b[25][1]++}},ma.s[240]++,n.prototype.subscribeWithFilter=function(n,e){ma.f[25]++;var A=(ma.s[241]++,this.observer.subscribe);ma.s[242]++,A(n,this.createEventFilterCallback(e))},ma.s[243]++,n}()),fa=A(15),ga=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/node/nodeReducer.ts",e="9cb26eefc4be22d5ac6d1414e0cc56e1ac22c4ee",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/node/nodeReducer.ts",statementMap:{0:{start:{line:8,column:29},end:{line:11,column:5}},1:{start:{line:12,column:26},end:{line:15,column:5}},2:{start:{line:16,column:4},end:{line:19,column:73}},3:{start:{line:22,column:4},end:{line:24,column:5}},4:{start:{line:23,column:8},end:{line:23,column:18}},5:{start:{line:25,column:4},end:{line:139,column:5}},6:{start:{line:27,column:12},end:{line:31,column:15}},7:{start:{line:28,column:16},end:{line:30,column:19}},8:{start:{line:29,column:20},end:{line:29,column:47}},9:{start:{line:33,column:12},end:{line:37,column:15}},10:{start:{line:34,column:25},end:{line:34,column:39}},11:{start:{line:34,column:46},end:{line:34,column:51}},12:{start:{line:34,column:64},end:{line:34,column:75}},13:{start:{line:34,column:84},end:{line:34,column:91}},14:{start:{line:34,column:102},end:{line:34,column:111}},15:{start:{line:34,column:135},end:{line:34,column:150}},16:{start:{line:35,column:35},end:{line:35,column:54}},17:{start:{line:36,column:16},end:{line:36,column:142}},18:{start:{line:39,column:12},end:{line:41,column:15}},19:{start:{line:40,column:16},end:{line:40,column:53}},20:{start:{line:44,column:12},end:{line:54,column:15}},21:{start:{line:45,column:30},end:{line:45,column:53}},22:{start:{line:46,column:16},end:{line:53,column:19}},23:{start:{line:47,column:20},end:{line:52,column:21}},24:{start:{line:48,column:24},end:{line:48,column:77}},25:{start:{line:51,column:24},end:{line:51,column:76}},26:{start:{line:56,column:12},end:{line:61,column:15}},27:{start:{line:57,column:34},end:{line:57,column:63}},28:{start:{line:58,column:16},end:{line:60,column:17}},29:{start:{line:59,column:20},end:{line:59,column:65}},30:{start:{line:63,column:12},end:{line:95,column:15}},31:{start:{line:64,column:34},end:{line:64,column:63}},32:{start:{line:65,column:16},end:{line:94,column:17}},33:{start:{line:66,column:29},end:{line:66,column:43}},34:{start:{line:66,column:56},end:{line:66,column:67}},35:{start:{line:66,column:90},end:{line:66,column:111}},36:{start:{line:67,column:20},end:{line:67,column:69}},37:{start:{line:69,column:20},end:{line:80,column:21}},38:{start:{line:70,column:39},end:{line:70,column:63}},39:{start:{line:71,column:38},end:{line:71,column:61}},40:{start:{line:72,column:24},end:{line:79,column:27}},41:{start:{line:73,column:41},end:{line:73,column:85}},42:{start:{line:74,column:41},end:{line:77,column:29}},43:{start:{line:78,column:28},end:{line:78,column:82}},44:{start:{line:82,column:20},end:{line:93,column:21}},45:{start:{line:83,column:39},end:{line:83,column:63}},46:{start:{line:84,column:38},end:{line:84,column:61}},47:{start:{line:85,column:24},end:{line:92,column:27}},48:{start:{line:86,column:41},end:{line:86,column:85}},49:{start:{line:87,column:41},end:{line:90,column:29}},50:{start:{line:91,column:28},end:{line:91,column:82}},51:{start:{line:97,column:12},end:{line:102,column:15}},52:{start:{line:98,column:34},end:{line:98,column:63}},53:{start:{line:99,column:16},end:{line:101,column:17}},54:{start:{line:100,column:20},end:{line:100,column:66}},55:{start:{line:104,column:12},end:{line:114,column:15}},56:{start:{line:105,column:30},end:{line:105,column:53}},57:{start:{line:106,column:16},end:{line:113,column:19}},58:{start:{line:107,column:20},end:{line:112,column:21}},59:{start:{line:108,column:24},end:{line:108,column:76}},60:{start:{line:111,column:24},end:{line:111,column:77}},61:{start:{line:117,column:12},end:{line:122,column:15}},62:{start:{line:118,column:30},end:{line:118,column:53}},63:{start:{line:119,column:16},end:{line:121,column:19}},64:{start:{line:120,column:20},end:{line:120,column:73}},65:{start:{line:124,column:12},end:{line:129,column:15}},66:{start:{line:125,column:30},end:{line:125,column:53}},67:{start:{line:126,column:16},end:{line:128,column:19}},68:{start:{line:127,column:20},end:{line:127,column:72}},69:{start:{line:131,column:12},end:{line:136,column:15}},70:{start:{line:132,column:30},end:{line:132,column:52}},71:{start:{line:133,column:16},end:{line:135,column:19}},72:{start:{line:134,column:20},end:{line:134,column:46}},73:{start:{line:138,column:12},end:{line:138,column:25}}},fnMap:{0:{name:"isInsideBoundingBox",decl:{start:{line:7,column:9},end:{line:7,column:28}},loc:{start:{line:7,column:93},end:{line:20,column:1}},line:7},1:{name:"nodeReducer",decl:{start:{line:21,column:24},end:{line:21,column:35}},loc:{start:{line:21,column:51},end:{line:140,column:1}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:27,column:34},end:{line:27,column:35}},loc:{start:{line:27,column:56},end:{line:31,column:13}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:28,column:45},end:{line:28,column:46}},loc:{start:{line:28,column:61},end:{line:30,column:17}},line:28},4:{name:"(anonymous_4)",decl:{start:{line:33,column:34},end:{line:33,column:35}},loc:{start:{line:33,column:56},end:{line:37,column:13}},line:33},5:{name:"(anonymous_5)",decl:{start:{line:39,column:34},end:{line:39,column:35}},loc:{start:{line:39,column:56},end:{line:41,column:13}},line:39},6:{name:"(anonymous_6)",decl:{start:{line:44,column:34},end:{line:44,column:35}},loc:{start:{line:44,column:56},end:{line:54,column:13}},line:44},7:{name:"(anonymous_7)",decl:{start:{line:46,column:32},end:{line:46,column:33}},loc:{start:{line:46,column:50},end:{line:53,column:17}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:56,column:34},end:{line:56,column:35}},loc:{start:{line:56,column:56},end:{line:61,column:13}},line:56},9:{name:"(anonymous_9)",decl:{start:{line:63,column:34},end:{line:63,column:35}},loc:{start:{line:63,column:56},end:{line:95,column:13}},line:63},10:{name:"(anonymous_10)",decl:{start:{line:72,column:40},end:{line:72,column:41}},loc:{start:{line:72,column:58},end:{line:79,column:25}},line:72},11:{name:"(anonymous_11)",decl:{start:{line:85,column:40},end:{line:85,column:41}},loc:{start:{line:85,column:58},end:{line:92,column:25}},line:85},12:{name:"(anonymous_12)",decl:{start:{line:97,column:34},end:{line:97,column:35}},loc:{start:{line:97,column:56},end:{line:102,column:13}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:104,column:34},end:{line:104,column:35}},loc:{start:{line:104,column:56},end:{line:114,column:13}},line:104},14:{name:"(anonymous_14)",decl:{start:{line:106,column:32},end:{line:106,column:33}},loc:{start:{line:106,column:50},end:{line:113,column:17}},line:106},15:{name:"(anonymous_15)",decl:{start:{line:117,column:34},end:{line:117,column:35}},loc:{start:{line:117,column:56},end:{line:122,column:13}},line:117},16:{name:"(anonymous_16)",decl:{start:{line:119,column:32},end:{line:119,column:33}},loc:{start:{line:119,column:50},end:{line:121,column:17}},line:119},17:{name:"(anonymous_17)",decl:{start:{line:124,column:34},end:{line:124,column:35}},loc:{start:{line:124,column:56},end:{line:129,column:13}},line:124},18:{name:"(anonymous_18)",decl:{start:{line:126,column:32},end:{line:126,column:33}},loc:{start:{line:126,column:50},end:{line:128,column:17}},line:126},19:{name:"(anonymous_19)",decl:{start:{line:131,column:34},end:{line:131,column:35}},loc:{start:{line:131,column:56},end:{line:136,column:13}},line:131},20:{name:"(anonymous_20)",decl:{start:{line:133,column:32},end:{line:133,column:33}},loc:{start:{line:133,column:50},end:{line:135,column:17}},line:133}},branchMap:{0:{loc:{start:{line:16,column:12},end:{line:19,column:71}},type:"binary-expr",locations:[{start:{line:16,column:12},end:{line:16,column:67}},{start:{line:17,column:8},end:{line:17,column:70}},{start:{line:18,column:8},end:{line:18,column:64}},{start:{line:19,column:8},end:{line:19,column:71}}],line:16},1:{loc:{start:{line:22,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:24,column:5}},{start:{line:22,column:4},end:{line:24,column:5}}],line:22},2:{loc:{start:{line:25,column:4},end:{line:139,column:5}},type:"switch",locations:[{start:{line:26,column:8},end:{line:31,column:15}},{start:{line:32,column:8},end:{line:37,column:15}},{start:{line:38,column:8},end:{line:41,column:15}},{start:{line:42,column:8},end:{line:42,column:42}},{start:{line:43,column:8},end:{line:54,column:15}},{start:{line:55,column:8},end:{line:61,column:15}},{start:{line:62,column:8},end:{line:95,column:15}},{start:{line:96,column:8},end:{line:102,column:15}},{start:{line:103,column:8},end:{line:114,column:15}},{start:{line:115,column:8},end:{line:115,column:53}},{start:{line:116,column:8},end:{line:122,column:15}},{start:{line:123,column:8},end:{line:129,column:15}},{start:{line:130,column:8},end:{line:136,column:15}},{start:{line:137,column:8},end:{line:138,column:25}}],line:25},3:{loc:{start:{line:47,column:20},end:{line:52,column:21}},type:"if",locations:[{start:{line:47,column:20},end:{line:52,column:21}},{start:{line:47,column:20},end:{line:52,column:21}}],line:47},4:{loc:{start:{line:58,column:16},end:{line:60,column:17}},type:"if",locations:[{start:{line:58,column:16},end:{line:60,column:17}},{start:{line:58,column:16},end:{line:60,column:17}}],line:58},5:{loc:{start:{line:65,column:16},end:{line:94,column:17}},type:"if",locations:[{start:{line:65,column:16},end:{line:94,column:17}},{start:{line:65,column:16},end:{line:94,column:17}}],line:65},6:{loc:{start:{line:69,column:20},end:{line:80,column:21}},type:"if",locations:[{start:{line:69,column:20},end:{line:80,column:21}},{start:{line:69,column:20},end:{line:80,column:21}}],line:69},7:{loc:{start:{line:82,column:20},end:{line:93,column:21}},type:"if",locations:[{start:{line:82,column:20},end:{line:93,column:21}},{start:{line:82,column:20},end:{line:93,column:21}}],line:82},8:{loc:{start:{line:99,column:16},end:{line:101,column:17}},type:"if",locations:[{start:{line:99,column:16},end:{line:101,column:17}},{start:{line:99,column:16},end:{line:101,column:17}}],line:99},9:{loc:{start:{line:107,column:20},end:{line:112,column:21}},type:"if",locations:[{start:{line:107,column:20},end:{line:112,column:21}},{start:{line:107,column:20},end:{line:112,column:21}}],line:107}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0,0,0,0,0,0,0,0,0,0,0,0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/node/nodeReducer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/node/nodeReducer.ts"],names:[],mappings:"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",sourcesContent:["import { Draft, produce } from 'immer';\n\nimport { constrainRectangleWithinRectangle } from 'diagramMaker/service/positionUtils';\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { EdgeActionsType } from 'diagramMaker/state/edge';\nimport { EditorActionsType } from 'diagramMaker/state/editor/editorActions';\nimport { GlobalActionsType } from 'diagramMaker/state/global/globalActions';\nimport { DiagramMakerNode, DiagramMakerNodes, Position, Size } from 'diagramMaker/state/types';\nimport { WorkspaceActionsType } from 'diagramMaker/state/workspace';\n\nimport { MARGIN_PX } from './nodeActionDispatcher';\nimport { NodeActionsType } from './nodeActions';\n\nfunction isInsideBoundingBox(\n  nodePosition: Position, nodeSize: Size, boundingBoxAnchor: Position, boundingBoxPosition: Position\n): boolean {\n  const boundingBoxTopLeft: Position = {\n    x: Math.min(boundingBoxAnchor.x, boundingBoxPosition.x),\n    y: Math.min(boundingBoxAnchor.y, boundingBoxPosition.y)\n  };\n  const boundingBoxSize: Size = {\n    width: Math.abs(boundingBoxAnchor.x - boundingBoxPosition.x),\n    height: Math.abs(boundingBoxAnchor.y - boundingBoxPosition.y)\n  };\n  return (\n    nodePosition.x + nodeSize.width >= boundingBoxTopLeft.x &&\n    nodePosition.x <= boundingBoxTopLeft.x + boundingBoxSize.width &&\n    nodePosition.y + nodeSize.height >= boundingBoxTopLeft.y &&\n    nodePosition.y <= boundingBoxTopLeft.y + boundingBoxSize.height\n  );\n}\n\nexport default function nodeReducer<NodeType, EdgeType>(\n  state: DiagramMakerNodes<NodeType> | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerNodes<NodeType> {\n  if (state === undefined) {\n    return {};\n  }\n  switch (action.type) {\n    case GlobalActionsType.CREATE_ITEMS:\n      return produce(state, (draftState) => {\n        action.payload.nodes.forEach((node) => {\n          draftState[node.id] = node as Draft<DiagramMakerNode<NodeType>>;\n        });\n      });\n    case NodeActionsType.NODE_CREATE:\n      return produce(state, (draftState) => {\n        const { id, position, size, typeId, consumerData: untypedConsumerData } = action.payload;\n        const consumerData = untypedConsumerData as Draft<NodeType>;\n        draftState[id] = { id, typeId, consumerData, diagramMakerData: { position, size } };\n      });\n    case NodeActionsType.NODE_DELETE:\n      return produce(state, (draftState) => {\n        delete draftState[action.payload.id];\n      });\n    case EditorActionsType.FOCUS_NODE:\n    case NodeActionsType.NODE_SELECT:\n      return produce(state, (draftState) => {\n        const nodeIds = Object.keys(draftState);\n        nodeIds.forEach((nodeId) => {\n          if (nodeId !== action.payload.id) {\n            draftState[nodeId].diagramMakerData.selected = false;\n          } else {\n            draftState[nodeId].diagramMakerData.selected = true;\n          }\n        });\n      });\n    case NodeActionsType.NODE_DRAG_START:\n      return produce(state, (draftState) => {\n        const currentNode = draftState[action.payload.id];\n        if (currentNode) {\n          currentNode.diagramMakerData.dragging = true;\n        }\n      });\n    case NodeActionsType.NODE_DRAG:\n      return produce(state, (draftState) => {\n        const currentNode = draftState[action.payload.id];\n        if (currentNode) {\n          const { position, workspaceRectangle } = action.payload;\n          currentNode.diagramMakerData.position = position;\n\n          // Shift all the nodes when node is dragged outside top boundary\n          if (position.y < 0) {\n            const offset = { x: 0, y: - position.y };\n            const nodeIds = Object.keys(draftState);\n            nodeIds.forEach((nodeId) => {\n              const oldPos = draftState[nodeId].diagramMakerData.position;\n              const newPos = {\n                x: oldPos.x + offset.x,\n                y: oldPos.y + offset.y\n              };\n              draftState[nodeId].diagramMakerData.position = newPos;\n            });\n          }\n          // Shift all the nodes when node is dragged outside left boundary\n          if (position.x < 0) {\n            const offset = { x: - position.x, y: 0 };\n            const nodeIds = Object.keys(draftState);\n            nodeIds.forEach((nodeId) => {\n              const oldPos = draftState[nodeId].diagramMakerData.position;\n              const newPos = {\n                x: oldPos.x + offset.x,\n                y: oldPos.y + offset.y\n              };\n              draftState[nodeId].diagramMakerData.position = newPos;\n            });\n          }\n        }\n      });\n    case NodeActionsType.NODE_DRAG_END:\n      return produce(state, (draftState) => {\n        const currentNode = draftState[action.payload.id];\n        if (currentNode) {\n          currentNode.diagramMakerData.dragging = false;\n        }\n      });\n    case EditorActionsType.UPDATE_SELECTION_MARQUEE:\n      return produce(state, (draftState) => {\n        const nodeIds = Object.keys(draftState);\n        nodeIds.forEach((nodeId) => {\n          if (isInsideBoundingBox(\n            draftState[nodeId].diagramMakerData.position, draftState[nodeId].diagramMakerData.size,\n            action.payload.anchor, action.payload.position\n          )) {\n            draftState[nodeId].diagramMakerData.selected = true;\n          } else {\n            draftState[nodeId].diagramMakerData.selected = false;\n          }\n        });\n      });\n    case WorkspaceActionsType.WORKSPACE_DESELECT:\n    case EdgeActionsType.EDGE_SELECT:\n      return produce(state, (draftState) => {\n        const nodeIds = Object.keys(draftState);\n        nodeIds.forEach((nodeId) => {\n          draftState[nodeId].diagramMakerData.selected = false;\n        });\n      });\n    case WorkspaceActionsType.WORKSPACE_SELECT_ALL:\n      return produce(state, (draftState) => {\n        const nodeIds = Object.keys(draftState);\n        nodeIds.forEach((nodeId) => {\n          draftState[nodeId].diagramMakerData.selected = true;\n        });\n      });\n    case GlobalActionsType.DELETE_ITEMS:\n      return produce(state, (draftState) => {\n        const { nodeIds } = action.payload;\n        nodeIds.forEach((nodeId: string) => {\n          delete draftState[nodeId];\n        });\n      });\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function ha(n,e){if(ga.f[1]++,ga.s[3]++,void 0===n)return ga.b[1][0]++,ga.s[4]++,{};switch(ga.b[1][1]++,ga.s[5]++,e.type){case wr.CREATE_ITEMS:return ga.b[2][0]++,ga.s[6]++,DA(n,(function(n){ga.f[2]++,ga.s[7]++,e.payload.nodes.forEach((function(e){ga.f[3]++,ga.s[8]++,n[e.id]=e}))}));case OA.NODE_CREATE:return ga.b[2][1]++,ga.s[9]++,DA(n,(function(n){ga.f[4]++;var A=(ga.s[10]++,e.payload),t=(ga.s[11]++,A.id),o=(ga.s[12]++,A.position),i=(ga.s[13]++,A.size),l=(ga.s[14]++,A.typeId),r=(ga.s[15]++,A.consumerData),a=(ga.s[16]++,r);ga.s[17]++,n[t]={id:t,typeId:l,consumerData:a,diagramMakerData:{position:o,size:i}}}));case OA.NODE_DELETE:return ga.b[2][2]++,ga.s[18]++,DA(n,(function(n){ga.f[5]++,ga.s[19]++,delete n[e.payload.id]}));case Ie.FOCUS_NODE:ga.b[2][3]++;case OA.NODE_SELECT:return ga.b[2][4]++,ga.s[20]++,DA(n,(function(n){ga.f[6]++;var A=(ga.s[21]++,Object.keys(n));ga.s[22]++,A.forEach((function(A){ga.f[7]++,ga.s[23]++,A!==e.payload.id?(ga.b[3][0]++,ga.s[24]++,n[A].diagramMakerData.selected=!1):(ga.b[3][1]++,ga.s[25]++,n[A].diagramMakerData.selected=!0)}))}));case OA.NODE_DRAG_START:return ga.b[2][5]++,ga.s[26]++,DA(n,(function(n){ga.f[8]++;var A=(ga.s[27]++,n[e.payload.id]);ga.s[28]++,A?(ga.b[4][0]++,ga.s[29]++,A.diagramMakerData.dragging=!0):ga.b[4][1]++}));case OA.NODE_DRAG:return ga.b[2][6]++,ga.s[30]++,DA(n,(function(n){ga.f[9]++;var A=(ga.s[31]++,n[e.payload.id]);if(ga.s[32]++,A){ga.b[5][0]++;var t=(ga.s[33]++,e.payload),o=(ga.s[34]++,t.position);ga.s[35]++,t.workspaceRectangle;if(ga.s[36]++,A.diagramMakerData.position=o,ga.s[37]++,o.y<0){ga.b[6][0]++;var i=(ga.s[38]++,{x:0,y:-o.y}),l=(ga.s[39]++,Object.keys(n));ga.s[40]++,l.forEach((function(e){ga.f[10]++;var A=(ga.s[41]++,n[e].diagramMakerData.position),t=(ga.s[42]++,{x:A.x+i.x,y:A.y+i.y});ga.s[43]++,n[e].diagramMakerData.position=t}))}else ga.b[6][1]++;if(ga.s[44]++,o.x<0){ga.b[7][0]++;var r=(ga.s[45]++,{x:-o.x,y:0});l=(ga.s[46]++,Object.keys(n));ga.s[47]++,l.forEach((function(e){ga.f[11]++;var A=(ga.s[48]++,n[e].diagramMakerData.position),t=(ga.s[49]++,{x:A.x+r.x,y:A.y+r.y});ga.s[50]++,n[e].diagramMakerData.position=t}))}else ga.b[7][1]++}else ga.b[5][1]++}));case OA.NODE_DRAG_END:return ga.b[2][7]++,ga.s[51]++,DA(n,(function(n){ga.f[12]++;var A=(ga.s[52]++,n[e.payload.id]);ga.s[53]++,A?(ga.b[8][0]++,ga.s[54]++,A.diagramMakerData.dragging=!1):ga.b[8][1]++}));case Ie.UPDATE_SELECTION_MARQUEE:return ga.b[2][8]++,ga.s[55]++,DA(n,(function(n){ga.f[13]++;var A=(ga.s[56]++,Object.keys(n));ga.s[57]++,A.forEach((function(A){ga.f[14]++,ga.s[58]++,!function(n,e,A,t){ga.f[0]++;var o=(ga.s[0]++,{x:Math.min(A.x,t.x),y:Math.min(A.y,t.y)}),i=(ga.s[1]++,{width:Math.abs(A.x-t.x),height:Math.abs(A.y-t.y)});return ga.s[2]++,ga.b[0][0]++,n.x+e.width>=o.x&&(ga.b[0][1]++,n.x<=o.x+i.width)&&(ga.b[0][2]++,n.y+e.height>=o.y)&&(ga.b[0][3]++,n.y<=o.y+i.height)}(n[A].diagramMakerData.position,n[A].diagramMakerData.size,e.payload.anchor,e.payload.position)?(ga.b[9][1]++,ga.s[60]++,n[A].diagramMakerData.selected=!1):(ga.b[9][0]++,ga.s[59]++,n[A].diagramMakerData.selected=!0)}))}));case SA.WORKSPACE_DESELECT:ga.b[2][9]++;case Or.EDGE_SELECT:return ga.b[2][10]++,ga.s[61]++,DA(n,(function(n){ga.f[15]++;var e=(ga.s[62]++,Object.keys(n));ga.s[63]++,e.forEach((function(e){ga.f[16]++,ga.s[64]++,n[e].diagramMakerData.selected=!1}))}));case SA.WORKSPACE_SELECT_ALL:return ga.b[2][11]++,ga.s[65]++,DA(n,(function(n){ga.f[17]++;var e=(ga.s[66]++,Object.keys(n));ga.s[67]++,e.forEach((function(e){ga.f[18]++,ga.s[68]++,n[e].diagramMakerData.selected=!0}))}));case wr.DELETE_ITEMS:return ga.b[2][12]++,ga.s[69]++,DA(n,(function(n){ga.f[19]++;var A=(ga.s[70]++,e.payload.nodeIds);ga.s[71]++,A.forEach((function(e){ga.f[20]++,ga.s[72]++,delete n[e]}))}));default:return ga.b[2][13]++,ga.s[73]++,n}}var Ia=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/node/potentialNodeReducer.ts",e="61b8185cf3e7af3212176982ca2a74c1485df0ed",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/node/potentialNodeReducer.ts",statementMap:{0:{start:{line:6,column:4},end:{line:8,column:5}},1:{start:{line:7,column:8},end:{line:7,column:20}},2:{start:{line:9,column:4},end:{line:28,column:5}},3:{start:{line:11,column:12},end:{line:15,column:14}},4:{start:{line:17,column:12},end:{line:23,column:15}},5:{start:{line:18,column:16},end:{line:22,column:17}},6:{start:{line:19,column:29},end:{line:19,column:43}},7:{start:{line:19,column:56},end:{line:19,column:67}},8:{start:{line:19,column:90},end:{line:19,column:111}},9:{start:{line:20,column:31},end:{line:20,column:46}},10:{start:{line:21,column:20},end:{line:21,column:143}},11:{start:{line:25,column:12},end:{line:25,column:24}},12:{start:{line:27,column:12},end:{line:27,column:25}}},fnMap:{0:{name:"potentialNodeReducer",decl:{start:{line:5,column:24},end:{line:5,column:44}},loc:{start:{line:5,column:60},end:{line:29,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:17,column:34},end:{line:17,column:35}},loc:{start:{line:17,column:56},end:{line:23,column:13}},line:17}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:6,column:4},end:{line:8,column:5}}],line:6},1:{loc:{start:{line:9,column:4},end:{line:28,column:5}},type:"switch",locations:[{start:{line:10,column:8},end:{line:15,column:14}},{start:{line:16,column:8},end:{line:23,column:15}},{start:{line:24,column:8},end:{line:25,column:24}},{start:{line:26,column:8},end:{line:27,column:25}}],line:9},2:{loc:{start:{line:18,column:16},end:{line:22,column:17}},type:"if",locations:[{start:{line:18,column:16},end:{line:22,column:17}},{start:{line:18,column:16},end:{line:22,column:17}}],line:18}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0,0,0],2:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/node/potentialNodeReducer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/node/potentialNodeReducer.ts"],names:[],mappings:"AAAA,OAAO,EAAS,OAAO,EAAE,MAAM,OAAO,CAAC;AAEvC,OAAO,EAAE,iCAAiC,EAAE,MAAM,oCAAoC,CAAC;AAIvF,OAAO,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;AACnD,OAAO,EAAE,eAAe,EAAE,MAAM,eAAe,CAAC;AAEhD,MAAM,CAAC,OAAO,UAAU,oBAAoB,CAC1C,KAAmD,EAAE,MAA8C;IAEnG,IAAI,KAAK,KAAK,SAAS,EAAE;QACvB,OAAO,IAAI,CAAC;KACb;IACD,QAAQ,MAAM,CAAC,IAAI,EAAE;QACnB,KAAK,CAAC,eAAe,CAAC,yBAAyB,CAAC;YAC9C,OAAO;gBACL,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ;gBACjC,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,IAAI;gBACzB,MAAM,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM;aAC9B,CAAC;QACJ,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC;YACxC,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,IAAI,UAAU,EAAE;oBACR,IAAA,KAAmC,MAAM,CAAC,OAAO,EAA/C,QAAQ,cAAA,EAAE,kBAAkB,wBAAmB,CAAC;oBAChD,IAAA,IAAI,GAAK,UAAU,KAAf,CAAgB;oBAC5B,UAAU,CAAC,QAAQ,GAAG,iCAAiC,CAAC,EAAE,QAAQ,UAAA,EAAE,IAAI,MAAA,EAAE,EAAE,kBAAkB,EAAE,SAAS,CAAC,CAAC;iBAC5G;YACH,CAAC,CAAC,CAAC;QACL,KAAK,CAAC,eAAe,CAAC,uBAAuB,CAAC;YAC5C,OAAO,IAAI,CAAC;QACd;YACE,OAAO,KAAK,CAAC;KAChB;AACH,CAAC",sourcesContent:["import { Draft, produce } from 'immer';\n\nimport { constrainRectangleWithinRectangle } from 'diagramMaker/service/positionUtils';\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { DiagramMakerPotentialNode } from 'diagramMaker/state/types';\n\nimport { MARGIN_PX } from './nodeActionDispatcher';\nimport { NodeActionsType } from './nodeActions';\n\nexport default function potentialNodeReducer<NodeType, EdgeType>(\n  state: DiagramMakerPotentialNode | null | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerPotentialNode | null {\n  if (state === undefined) {\n    return null;\n  }\n  switch (action.type) {\n    case (NodeActionsType.POTENTIAL_NODE_DRAG_START):\n      return {\n        position: action.payload.position,\n        size: action.payload.size,\n        typeId: action.payload.typeId\n      };\n    case (NodeActionsType.POTENTIAL_NODE_DRAG):\n      return produce(state, (draftState) => {\n        if (draftState) {\n          const { position, workspaceRectangle } = action.payload;\n          const { size } = draftState;\n          draftState.position = constrainRectangleWithinRectangle({ position, size }, workspaceRectangle, MARGIN_PX);\n        }\n      });\n    case (NodeActionsType.POTENTIAL_NODE_DRAG_END):\n      return null;\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function ya(n,e){if(Ia.f[0]++,Ia.s[0]++,void 0===n)return Ia.b[0][0]++,Ia.s[1]++,null;switch(Ia.b[0][1]++,Ia.s[2]++,e.type){case OA.POTENTIAL_NODE_DRAG_START:return Ia.b[1][0]++,Ia.s[3]++,{position:e.payload.position,size:e.payload.size,typeId:e.payload.typeId};case OA.POTENTIAL_NODE_DRAG:return Ia.b[1][1]++,Ia.s[4]++,DA(n,(function(n){if(Ia.f[1]++,Ia.s[5]++,n){Ia.b[2][0]++;var A=(Ia.s[6]++,e.payload),t=(Ia.s[7]++,A.position),o=(Ia.s[8]++,A.workspaceRectangle),i=(Ia.s[9]++,n.size);Ia.s[10]++,n.position=tn({position:t,size:i},o,Xr)}else Ia.b[2][1]++}));case OA.POTENTIAL_NODE_DRAG_END:return Ia.b[1][2]++,Ia.s[11]++,null;default:return Ia.b[1][3]++,Ia.s[12]++,n}}!function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/node/index.ts",e="339f4608851c87b38bcd7fdd6cfc64868dfc6813",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/node/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/node/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/node/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,WAAW,EAAE,MAAM,eAAe,CAAC;AACvD,OAAO,EAAE,OAAO,IAAI,oBAAoB,EAAE,MAAM,wBAAwB,CAAC;AACzE,OAAO,EAAE,gBAAgB,EAAE,UAAU,EAAE,eAAe,EAAE,gBAAgB,EAAE,MAAM,eAAe,CAAC",sourcesContent:["export { default as nodeReducer } from './nodeReducer';\nexport { default as potentialNodeReducer } from './potentialNodeReducer';\nexport { DeleteNodeAction, NodeAction, NodeActionsType, SelectNodeAction } from './nodeActions';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();var Ba=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/edgeReducer.ts",e="84ce38c8bcaa0ba3254864294311d0e185f27afc",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/edgeReducer.ts",statementMap:{0:{start:{line:7,column:4},end:{line:9,column:5}},1:{start:{line:8,column:8},end:{line:8,column:18}},2:{start:{line:10,column:4},end:{line:63,column:5}},3:{start:{line:12,column:12},end:{line:16,column:15}},4:{start:{line:13,column:16},end:{line:15,column:19}},5:{start:{line:14,column:20},end:{line:14,column:47}},6:{start:{line:18,column:12},end:{line:20,column:15}},7:{start:{line:19,column:16},end:{line:19,column:53}},8:{start:{line:22,column:12},end:{line:33,column:15}},9:{start:{line:23,column:25},end:{line:23,column:39}},10:{start:{line:23,column:46},end:{line:23,column:51}},11:{start:{line:23,column:59},end:{line:23,column:65}},12:{start:{line:23,column:74},end:{line:23,column:81}},13:{start:{line:23,column:105},end:{line:23,column:120}},14:{start:{line:24,column:35},end:{line:24,column:54}},15:{start:{line:25,column:39},end:{line:25,column:41}},16:{start:{line:26,column:16},end:{line:32,column:18}},17:{start:{line:35,column:12},end:{line:45,column:15}},18:{start:{line:36,column:30},end:{line:36,column:53}},19:{start:{line:37,column:16},end:{line:44,column:19}},20:{start:{line:38,column:20},end:{line:43,column:21}},21:{start:{line:39,column:24},end:{line:39,column:77}},22:{start:{line:42,column:24},end:{line:42,column:76}},23:{start:{line:48,column:12},end:{line:53,column:15}},24:{start:{line:49,column:30},end:{line:49,column:53}},25:{start:{line:50,column:16},end:{line:52,column:19}},26:{start:{line:51,column:20},end:{line:51,column:73}},27:{start:{line:55,column:12},end:{line:60,column:15}},28:{start:{line:56,column:30},end:{line:56,column:52}},29:{start:{line:57,column:16},end:{line:59,column:19}},30:{start:{line:58,column:20},end:{line:58,column:46}},31:{start:{line:62,column:12},end:{line:62,column:25}}},fnMap:{0:{name:"edgeReducer",decl:{start:{line:6,column:24},end:{line:6,column:35}},loc:{start:{line:6,column:51},end:{line:64,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:12,column:34},end:{line:12,column:35}},loc:{start:{line:12,column:56},end:{line:16,column:13}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:13,column:45},end:{line:13,column:46}},loc:{start:{line:13,column:61},end:{line:15,column:17}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:18,column:34},end:{line:18,column:35}},loc:{start:{line:18,column:56},end:{line:20,column:13}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:22,column:34},end:{line:22,column:35}},loc:{start:{line:22,column:56},end:{line:33,column:13}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:35,column:34},end:{line:35,column:35}},loc:{start:{line:35,column:56},end:{line:45,column:13}},line:35},6:{name:"(anonymous_6)",decl:{start:{line:37,column:32},end:{line:37,column:33}},loc:{start:{line:37,column:50},end:{line:44,column:17}},line:37},7:{name:"(anonymous_7)",decl:{start:{line:48,column:34},end:{line:48,column:35}},loc:{start:{line:48,column:56},end:{line:53,column:13}},line:48},8:{name:"(anonymous_8)",decl:{start:{line:50,column:32},end:{line:50,column:33}},loc:{start:{line:50,column:50},end:{line:52,column:17}},line:50},9:{name:"(anonymous_9)",decl:{start:{line:55,column:34},end:{line:55,column:35}},loc:{start:{line:55,column:56},end:{line:60,column:13}},line:55},10:{name:"(anonymous_10)",decl:{start:{line:57,column:32},end:{line:57,column:33}},loc:{start:{line:57,column:50},end:{line:59,column:17}},line:57}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:7,column:4},end:{line:9,column:5}}],line:7},1:{loc:{start:{line:10,column:4},end:{line:63,column:5}},type:"switch",locations:[{start:{line:11,column:8},end:{line:16,column:15}},{start:{line:17,column:8},end:{line:20,column:15}},{start:{line:21,column:8},end:{line:33,column:15}},{start:{line:34,column:8},end:{line:45,column:15}},{start:{line:46,column:8},end:{line:46,column:55}},{start:{line:47,column:8},end:{line:53,column:15}},{start:{line:54,column:8},end:{line:60,column:15}},{start:{line:61,column:8},end:{line:62,column:25}}],line:10},2:{loc:{start:{line:38,column:20},end:{line:43,column:21}},type:"if",locations:[{start:{line:38,column:20},end:{line:43,column:21}},{start:{line:38,column:20},end:{line:43,column:21}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0,0,0,0,0,0,0],2:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/edgeReducer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/edgeReducer.ts"],names:[],mappings:"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",sourcesContent:["import { Draft, produce } from 'immer';\n\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { GlobalActionsType } from 'diagramMaker/state/global/globalActions';\nimport { NodeActionsType } from 'diagramMaker/state/node';\nimport { DiagramMakerEdge, DiagramMakerEdges } from 'diagramMaker/state/types';\nimport { WorkspaceActionsType } from 'diagramMaker/state/workspace';\n\nimport { EdgeActionsType } from './edgeActions';\n\nexport default function edgeReducer<NodeType, EdgeType>(\n  state: DiagramMakerEdges<EdgeType> | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerEdges<EdgeType> {\n  if (state === undefined) {\n    return {};\n  }\n  switch (action.type) {\n    case GlobalActionsType.CREATE_ITEMS:\n      return produce(state, (draftState) => {\n        action.payload.edges.forEach((edge) => {\n          draftState[edge.id] = edge as Draft<DiagramMakerEdge<EdgeType>>;\n        });\n      });\n    case EdgeActionsType.EDGE_DELETE:\n      return produce(state, (draftState) => {\n        delete draftState[action.payload.id];\n      });\n    case (EdgeActionsType.EDGE_CREATE):\n      return produce(state, (draftState) => {\n        const { id, src, dest, consumerData: untypedConsumerData } = action.payload;\n        const consumerData = untypedConsumerData as Draft<EdgeType>;\n        const diagramMakerData = {};\n        draftState[id] = {\n          consumerData,\n          dest,\n          diagramMakerData,\n          id,\n          src\n        };\n      });\n    case (EdgeActionsType.EDGE_SELECT):\n      return produce(state, (draftState) => {\n        const edgeIds = Object.keys(draftState);\n        edgeIds.forEach((edgeId) => {\n          if (edgeId !== action.payload.id) {\n            draftState[edgeId].diagramMakerData.selected = false;\n          } else {\n            draftState[edgeId].diagramMakerData.selected = true;\n          }\n        });\n      });\n    case (WorkspaceActionsType.WORKSPACE_DESELECT):\n    case (NodeActionsType.NODE_SELECT):\n      return produce(state, (draftState) => {\n        const edgeIds = Object.keys(draftState);\n        edgeIds.forEach((edgeId) => {\n          draftState[edgeId].diagramMakerData.selected = false;\n        });\n      });\n    case (GlobalActionsType.DELETE_ITEMS):\n      return produce(state, (draftState) => {\n        const { edgeIds } = action.payload;\n        edgeIds.forEach((edgeId: string) => {\n          delete draftState[edgeId];\n        });\n      });\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function Ma(n,e){if(Ba.f[0]++,Ba.s[0]++,void 0===n)return Ba.b[0][0]++,Ba.s[1]++,{};switch(Ba.b[0][1]++,Ba.s[2]++,e.type){case wr.CREATE_ITEMS:return Ba.b[1][0]++,Ba.s[3]++,DA(n,(function(n){Ba.f[1]++,Ba.s[4]++,e.payload.edges.forEach((function(e){Ba.f[2]++,Ba.s[5]++,n[e.id]=e}))}));case Or.EDGE_DELETE:return Ba.b[1][1]++,Ba.s[6]++,DA(n,(function(n){Ba.f[3]++,Ba.s[7]++,delete n[e.payload.id]}));case Or.EDGE_CREATE:return Ba.b[1][2]++,Ba.s[8]++,DA(n,(function(n){Ba.f[4]++;var A=(Ba.s[9]++,e.payload),t=(Ba.s[10]++,A.id),o=(Ba.s[11]++,A.src),i=(Ba.s[12]++,A.dest),l=(Ba.s[13]++,A.consumerData),r=(Ba.s[14]++,l),a=(Ba.s[15]++,{});Ba.s[16]++,n[t]={consumerData:r,dest:i,diagramMakerData:a,id:t,src:o}}));case Or.EDGE_SELECT:return Ba.b[1][3]++,Ba.s[17]++,DA(n,(function(n){Ba.f[5]++;var A=(Ba.s[18]++,Object.keys(n));Ba.s[19]++,A.forEach((function(A){Ba.f[6]++,Ba.s[20]++,A!==e.payload.id?(Ba.b[2][0]++,Ba.s[21]++,n[A].diagramMakerData.selected=!1):(Ba.b[2][1]++,Ba.s[22]++,n[A].diagramMakerData.selected=!0)}))}));case SA.WORKSPACE_DESELECT:Ba.b[1][4]++;case OA.NODE_SELECT:return Ba.b[1][5]++,Ba.s[23]++,DA(n,(function(n){Ba.f[7]++;var e=(Ba.s[24]++,Object.keys(n));Ba.s[25]++,e.forEach((function(e){Ba.f[8]++,Ba.s[26]++,n[e].diagramMakerData.selected=!1}))}));case wr.DELETE_ITEMS:return Ba.b[1][6]++,Ba.s[27]++,DA(n,(function(n){Ba.f[9]++;var A=(Ba.s[28]++,e.payload.edgeIds);Ba.s[29]++,A.forEach((function(e){Ba.f[10]++,Ba.s[30]++,delete n[e]}))}));default:return Ba.b[1][7]++,Ba.s[31]++,n}}var va=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/potentialEdgeReducer.ts",e="91df4da2fd458488bb10ef6ae51e9ca1bf1d7c3b",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/potentialEdgeReducer.ts",statementMap:{0:{start:{line:4,column:4},end:{line:6,column:5}},1:{start:{line:5,column:8},end:{line:5,column:20}},2:{start:{line:7,column:4},end:{line:23,column:5}},3:{start:{line:9,column:12},end:{line:12,column:14}},4:{start:{line:14,column:12},end:{line:18,column:15}},5:{start:{line:15,column:16},end:{line:17,column:17}},6:{start:{line:16,column:20},end:{line:16,column:66}},7:{start:{line:20,column:12},end:{line:20,column:24}},8:{start:{line:22,column:12},end:{line:22,column:25}}},fnMap:{0:{name:"potentialEdgeReducer",decl:{start:{line:3,column:24},end:{line:3,column:44}},loc:{start:{line:3,column:60},end:{line:24,column:1}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:14,column:34},end:{line:14,column:35}},loc:{start:{line:14,column:56},end:{line:18,column:13}},line:14}},branchMap:{0:{loc:{start:{line:4,column:4},end:{line:6,column:5}},type:"if",locations:[{start:{line:4,column:4},end:{line:6,column:5}},{start:{line:4,column:4},end:{line:6,column:5}}],line:4},1:{loc:{start:{line:7,column:4},end:{line:23,column:5}},type:"switch",locations:[{start:{line:8,column:8},end:{line:12,column:14}},{start:{line:13,column:8},end:{line:18,column:15}},{start:{line:19,column:8},end:{line:20,column:24}},{start:{line:21,column:8},end:{line:22,column:25}}],line:7},2:{loc:{start:{line:15,column:16},end:{line:17,column:17}},type:"if",locations:[{start:{line:15,column:16},end:{line:17,column:17}},{start:{line:15,column:16},end:{line:17,column:17}}],line:15}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0,0,0],2:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/potentialEdgeReducer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/potentialEdgeReducer.ts"],names:[],mappings:"AAAA,OAAO,EAAS,OAAO,EAAE,MAAM,OAAO,CAAC;AAKvC,OAAO,EAAE,eAAe,EAAE,MAAM,eAAe,CAAC;AAEhD,MAAM,CAAC,OAAO,UAAU,oBAAoB,CAC1C,KAAmD,EAAE,MAA8C;IAEnG,IAAI,KAAK,KAAK,SAAS,EAAE;QACvB,OAAO,IAAI,CAAC;KACb;IACD,QAAQ,MAAM,CAAC,IAAI,EAAE;QACnB,KAAK,CAAC,eAAe,CAAC,eAAe,CAAC;YACpC,OAAO;gBACL,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ;gBACjC,GAAG,EAAE,MAAM,CAAC,OAAO,CAAC,EAAE;aACvB,CAAC;QACJ,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC;YAC9B,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,IAAI,UAAU,EAAE;oBACd,UAAU,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;iBAC/C;YACH,CAAC,CAAC,CAAC;QACL,KAAK,CAAC,eAAe,CAAC,aAAa,CAAC;YAClC,OAAO,IAAI,CAAC;QACd;YACE,OAAO,KAAK,CAAC;KAChB;AACH,CAAC",sourcesContent:["import { Draft, produce } from 'immer';\n\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { DiagramMakerPotentialEdge } from 'diagramMaker/state/types';\n\nimport { EdgeActionsType } from './edgeActions';\n\nexport default function potentialEdgeReducer<NodeType, EdgeType>(\n  state: DiagramMakerPotentialEdge | null | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerPotentialEdge | null {\n  if (state === undefined) {\n    return null;\n  }\n  switch (action.type) {\n    case (EdgeActionsType.EDGE_DRAG_START):\n      return {\n        position: action.payload.position,\n        src: action.payload.id\n      };\n    case (EdgeActionsType.EDGE_DRAG):\n      return produce(state, (draftState) => {\n        if (draftState) {\n          draftState.position = action.payload.position;\n        }\n      });\n    case (EdgeActionsType.EDGE_DRAG_END):\n      return null;\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function ba(n,e){if(va.f[0]++,va.s[0]++,void 0===n)return va.b[0][0]++,va.s[1]++,null;switch(va.b[0][1]++,va.s[2]++,e.type){case Or.EDGE_DRAG_START:return va.b[1][0]++,va.s[3]++,{position:e.payload.position,src:e.payload.id};case Or.EDGE_DRAG:return va.b[1][1]++,va.s[4]++,DA(n,(function(n){va.f[1]++,va.s[5]++,n?(va.b[2][0]++,va.s[6]++,n.position=e.payload.position):va.b[2][1]++}));case Or.EDGE_DRAG_END:return va.b[1][2]++,va.s[7]++,null;default:return va.b[1][3]++,va.s[8]++,n}}!function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/index.ts",e="5f8a22451bf4cc6a78982e5ff05f04c58c1bed0d",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/edge/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,WAAW,EAAE,MAAM,eAAe,CAAC;AACvD,OAAO,EAAE,OAAO,IAAI,oBAAoB,EAAE,MAAM,wBAAwB,CAAC;AACzE,OAAO,EAAE,UAAU,EAAE,eAAe,EAAE,gBAAgB,EAAE,MAAM,eAAe,CAAC",sourcesContent:["export { default as edgeReducer } from './edgeReducer';\nexport { default as potentialEdgeReducer } from './potentialEdgeReducer';\nexport { EdgeAction, EdgeActionsType, SelectEdgeAction } from './edgeActions';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();var Oa=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/editorReducer.ts",e="0fd83da286ce34abcbf3c5d6ae75625ffd1d10e8",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/editorReducer.ts",statementMap:{0:{start:{line:5,column:4},end:{line:9,column:5}},1:{start:{line:6,column:8},end:{line:8,column:10}},2:{start:{line:10,column:4},end:{line:48,column:5}},3:{start:{line:12,column:12},end:{line:14,column:15}},4:{start:{line:13,column:16},end:{line:13,column:54}},5:{start:{line:16,column:12},end:{line:22,column:15}},6:{start:{line:17,column:16},end:{line:21,column:18}},7:{start:{line:24,column:12},end:{line:26,column:15}},8:{start:{line:25,column:16},end:{line:25,column:51}},9:{start:{line:28,column:12},end:{line:33,column:15}},10:{start:{line:29,column:16},end:{line:32,column:18}},11:{start:{line:35,column:12},end:{line:41,column:15}},12:{start:{line:36,column:29},end:{line:36,column:111}},13:{start:{line:37,column:16},end:{line:40,column:18}},14:{start:{line:43,column:12},end:{line:45,column:15}},15:{start:{line:44,column:16},end:{line:44,column:56}},16:{start:{line:47,column:12},end:{line:47,column:25}}},fnMap:{0:{name:"editorReducer",decl:{start:{line:4,column:24},end:{line:4,column:37}},loc:{start:{line:4,column:53},end:{line:49,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:12,column:34},end:{line:12,column:35}},loc:{start:{line:12,column:56},end:{line:14,column:13}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:16,column:34},end:{line:16,column:35}},loc:{start:{line:16,column:56},end:{line:22,column:13}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:24,column:34},end:{line:24,column:35}},loc:{start:{line:24,column:56},end:{line:26,column:13}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:28,column:34},end:{line:28,column:35}},loc:{start:{line:28,column:56},end:{line:33,column:13}},line:28},5:{name:"(anonymous_5)",decl:{start:{line:35,column:34},end:{line:35,column:35}},loc:{start:{line:35,column:56},end:{line:41,column:13}},line:35},6:{name:"(anonymous_6)",decl:{start:{line:43,column:34},end:{line:43,column:35}},loc:{start:{line:43,column:56},end:{line:45,column:13}},line:43}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:9,column:5}},{start:{line:5,column:4},end:{line:9,column:5}}],line:5},1:{loc:{start:{line:10,column:4},end:{line:48,column:5}},type:"switch",locations:[{start:{line:11,column:8},end:{line:14,column:15}},{start:{line:15,column:8},end:{line:22,column:15}},{start:{line:23,column:8},end:{line:26,column:15}},{start:{line:27,column:8},end:{line:33,column:15}},{start:{line:34,column:8},end:{line:41,column:15}},{start:{line:42,column:8},end:{line:45,column:15}},{start:{line:46,column:8},end:{line:47,column:25}}],line:10},2:{loc:{start:{line:36,column:29},end:{line:36,column:111}},type:"binary-expr",locations:[{start:{line:36,column:29},end:{line:36,column:51}},{start:{line:36,column:55},end:{line:36,column:84}},{start:{line:36,column:88},end:{line:36,column:111}}],line:36}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0,0,0,0,0,0],2:[0,0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/editorReducer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/editorReducer.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,OAAO,CAAC;AAGhC,OAAO,EAAsB,UAAU,EAAE,MAAM,0BAA0B,CAAC;AAE1E,OAAO,EAAE,iBAAiB,EAAE,MAAM,iBAAiB,CAAC;AAEpD,MAAM,CAAC,OAAO,UAAU,aAAa,CACnC,KAAqC,EAAE,MAA8C;IAErF,IAAI,KAAK,KAAK,SAAS,EAAE;QACvB,OAAO;YACL,IAAI,EAAE,UAAU,CAAC,IAAI;SACtB,CAAC;KACH;IACD,QAAQ,MAAM,CAAC,IAAI,EAAE;QACnB,KAAK,iBAAiB,CAAC,eAAe;YACpC,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,UAAU,CAAC,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;YACxC,CAAC,CAAC,CAAC;QACL,KAAK,iBAAiB,CAAC,iBAAiB;YACtC,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,UAAU,CAAC,WAAW,GAAG;oBACvB,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ;oBACjC,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ;oBACjC,UAAU,EAAE,MAAM,CAAC,OAAO,CAAC,UAAU;iBACtC,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,KAAK,iBAAiB,CAAC,iBAAiB;YACtC,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,UAAU,CAAC,WAAW,GAAG,SAAS,CAAC;YACrC,CAAC,CAAC,CAAC;QACL,KAAK,iBAAiB,CAAC,sBAAsB;YAC3C,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,UAAU,CAAC,gBAAgB,GAAG;oBAC5B,MAAM,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM;oBAC7B,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM;iBAChC,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,KAAK,iBAAiB,CAAC,wBAAwB;YAC7C,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,IAAM,MAAM,GAAG,KAAK,CAAC,gBAAgB,IAAI,KAAK,CAAC,gBAAgB,CAAC,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;gBAClG,UAAU,CAAC,gBAAgB,GAAG;oBAC5B,MAAM,QAAA;oBACN,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ;iBAClC,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,KAAK,iBAAiB,CAAC,sBAAsB;YAC3C,OAAO,OAAO,CAAC,KAAK,EAAE,UAAC,UAAU;gBAC/B,UAAU,CAAC,gBAAgB,GAAG,SAAS,CAAC;YAC1C,CAAC,CAAC,CAAC;QACL;YACE,OAAO,KAAK,CAAC;KAChB;AACH,CAAC",sourcesContent:["import { produce } from 'immer';\n\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { DiagramMakerEditor, EditorMode } from 'diagramMaker/state/types';\n\nimport { EditorActionsType } from './editorActions';\n\nexport default function editorReducer<NodeType, EdgeType>(\n  state: DiagramMakerEditor | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerEditor {\n  if (state === undefined) {\n    return {\n      mode: EditorMode.DRAG\n    };\n  }\n  switch (action.type) {\n    case EditorActionsType.SET_EDITOR_MODE:\n      return produce(state, (draftState) => {\n        draftState.mode = action.payload.mode;\n      });\n    case EditorActionsType.SHOW_CONTEXT_MENU:\n      return produce(state, (draftState) => {\n        draftState.contextMenu = {\n          position: action.payload.position,\n          targetId: action.payload.targetId,\n          targetType: action.payload.targetType\n        };\n      });\n    case EditorActionsType.HIDE_CONTEXT_MENU:\n      return produce(state, (draftState) => {\n        draftState.contextMenu = undefined;\n      });\n    case EditorActionsType.SHOW_SELECTION_MARQUEE:\n      return produce(state, (draftState) => {\n        draftState.selectionMarquee = {\n          anchor: action.payload.anchor,\n          position: action.payload.anchor\n        };\n      });\n    case EditorActionsType.UPDATE_SELECTION_MARQUEE:\n      return produce(state, (draftState) => {\n        const anchor = state.selectionMarquee && state.selectionMarquee.anchor || action.payload.position;\n        draftState.selectionMarquee = {\n          anchor,\n          position: action.payload.position\n        };\n      });\n    case EditorActionsType.HIDE_SELECTION_MARQUEE:\n      return produce(state, (draftState) => {\n        draftState.selectionMarquee = undefined;\n      });\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function Ga(n,e){if(Oa.f[0]++,Oa.s[0]++,void 0===n)return Oa.b[0][0]++,Oa.s[1]++,{mode:Rn.DRAG};switch(Oa.b[0][1]++,Oa.s[2]++,e.type){case Ie.SET_EDITOR_MODE:return Oa.b[1][0]++,Oa.s[3]++,DA(n,(function(n){Oa.f[1]++,Oa.s[4]++,n.mode=e.payload.mode}));case Ie.SHOW_CONTEXT_MENU:return Oa.b[1][1]++,Oa.s[5]++,DA(n,(function(n){Oa.f[2]++,Oa.s[6]++,n.contextMenu={position:e.payload.position,targetId:e.payload.targetId,targetType:e.payload.targetType}}));case Ie.HIDE_CONTEXT_MENU:return Oa.b[1][2]++,Oa.s[7]++,DA(n,(function(n){Oa.f[3]++,Oa.s[8]++,n.contextMenu=void 0}));case Ie.SHOW_SELECTION_MARQUEE:return Oa.b[1][3]++,Oa.s[9]++,DA(n,(function(n){Oa.f[4]++,Oa.s[10]++,n.selectionMarquee={anchor:e.payload.anchor,position:e.payload.anchor}}));case Ie.UPDATE_SELECTION_MARQUEE:return Oa.b[1][4]++,Oa.s[11]++,DA(n,(function(A){Oa.f[5]++;var t=(Oa.s[12]++,Oa.b[2][0]++,n.selectionMarquee&&(Oa.b[2][1]++,n.selectionMarquee.anchor)||(Oa.b[2][2]++,e.payload.position));Oa.s[13]++,A.selectionMarquee={anchor:t,position:e.payload.position}}));case Ie.HIDE_SELECTION_MARQUEE:return Oa.b[1][5]++,Oa.s[14]++,DA(n,(function(n){Oa.f[6]++,Oa.s[15]++,n.selectionMarquee=void 0}));default:return Oa.b[1][6]++,Oa.s[16]++,n}}!function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/index.ts",e="509a4d64c317b02b5ee462d0932b8a65b484a4ec",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/editor/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,aAAa,EAAE,MAAM,iBAAiB,CAAC",sourcesContent:["export { default as editorReducer } from './editorReducer';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();var Da=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/panelReducer.ts",e="e41b28c12f98af3356eb9f9d584d29be06d89687",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/panelReducer.ts",statementMap:{0:{start:{line:5,column:22},end:{line:5,column:24}},1:{start:{line:6,column:32},end:{line:17,column:1}},2:{start:{line:7,column:12},end:{line:7,column:27}},3:{start:{line:7,column:33},end:{line:7,column:48}},4:{start:{line:8,column:24},end:{line:8,column:77}},5:{start:{line:9,column:25},end:{line:9,column:80}},6:{start:{line:10,column:4},end:{line:15,column:5}},7:{start:{line:14,column:8},end:{line:14,column:20}},8:{start:{line:16,column:4},end:{line:16,column:17}},9:{start:{line:18,column:18},end:{line:40,column:1}},10:{start:{line:19,column:24},end:{line:19,column:56}},11:{start:{line:20,column:23},end:{line:20,column:52}},12:{start:{line:21,column:13},end:{line:21,column:34}},13:{start:{line:21,column:40},end:{line:21,column:44}},14:{start:{line:21,column:50},end:{line:21,column:54}},15:{start:{line:22,column:24},end:{line:22,column:85}},16:{start:{line:23,column:25},end:{line:23,column:88}},17:{start:{line:24,column:4},end:{line:39,column:5}},18:{start:{line:25,column:8},end:{line:25,column:62}},19:{start:{line:26,column:8},end:{line:26,column:47}},20:{start:{line:28,column:9},end:{line:39,column:5}},21:{start:{line:29,column:8},end:{line:29,column:63}},22:{start:{line:30,column:8},end:{line:30,column:47}},23:{start:{line:32,column:9},end:{line:39,column:5}},24:{start:{line:33,column:8},end:{line:33,column:65}},25:{start:{line:34,column:8},end:{line:34,column:47}},26:{start:{line:36,column:9},end:{line:39,column:5}},27:{start:{line:37,column:8},end:{line:37,column:66}},28:{start:{line:38,column:8},end:{line:38,column:47}},29:{start:{line:41,column:23},end:{line:52,column:1}},30:{start:{line:42,column:23},end:{line:42,column:52}},31:{start:{line:45,column:4},end:{line:50,column:5}},32:{start:{line:46,column:8},end:{line:46,column:38}},33:{start:{line:49,column:8},end:{line:49,column:39}},34:{start:{line:51,column:4},end:{line:51,column:44}},35:{start:{line:53,column:18},end:{line:68,column:1}},36:{start:{line:54,column:23},end:{line:54,column:52}},37:{start:{line:55,column:13},end:{line:55,column:27}},38:{start:{line:55,column:40},end:{line:55,column:51}},39:{start:{line:55,column:73},end:{line:55,column:93}},40:{start:{line:56,column:15},end:{line:56,column:32}},41:{start:{line:57,column:4},end:{line:57,column:153}},42:{start:{line:58,column:4},end:{line:67,column:5}},43:{start:{line:59,column:28},end:{line:59,column:45}},44:{start:{line:61,column:8},end:{line:63,column:9}},45:{start:{line:62,column:12},end:{line:62,column:43}},46:{start:{line:66,column:8},end:{line:66,column:40}},47:{start:{line:70,column:4},end:{line:72,column:5}},48:{start:{line:71,column:8},end:{line:71,column:18}},49:{start:{line:73,column:4},end:{line:94,column:5}},50:{start:{line:75,column:12},end:{line:79,column:15}},51:{start:{line:76,column:16},end:{line:78,column:17}},52:{start:{line:77,column:20},end:{line:77,column:77}},53:{start:{line:81,column:12},end:{line:85,column:15}},54:{start:{line:82,column:16},end:{line:84,column:17}},55:{start:{line:83,column:20},end:{line:83,column:52}},56:{start:{line:87,column:12},end:{line:91,column:15}},57:{start:{line:88,column:16},end:{line:90,column:17}},58:{start:{line:89,column:20},end:{line:89,column:57}},59:{start:{line:93,column:12},end:{line:93,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:32},end:{line:6,column:33}},loc:{start:{line:6,column:83},end:{line:17,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:18,column:18},end:{line:18,column:19}},loc:{start:{line:18,column:48},end:{line:40,column:1}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:41,column:23},end:{line:41,column:24}},loc:{start:{line:41,column:53},end:{line:52,column:1}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:53,column:18},end:{line:53,column:19}},loc:{start:{line:53,column:48},end:{line:68,column:1}},line:53},4:{name:"panelReducer",decl:{start:{line:69,column:24},end:{line:69,column:36}},loc:{start:{line:69,column:52},end:{line:95,column:1}},line:69},5:{name:"(anonymous_5)",decl:{start:{line:75,column:34},end:{line:75,column:35}},loc:{start:{line:75,column:56},end:{line:79,column:13}},line:75},6:{name:"(anonymous_6)",decl:{start:{line:81,column:34},end:{line:81,column:35}},loc:{start:{line:81,column:56},end:{line:85,column:13}},line:81},7:{name:"(anonymous_7)",decl:{start:{line:87,column:34},end:{line:87,column:35}},loc:{start:{line:87,column:56},end:{line:91,column:13}},line:87}},branchMap:{0:{loc:{start:{line:10,column:4},end:{line:15,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:15,column:5}},{start:{line:10,column:4},end:{line:15,column:5}}],line:10},1:{loc:{start:{line:10,column:8},end:{line:13,column:78}},type:"binary-expr",locations:[{start:{line:10,column:8},end:{line:10,column:27}},{start:{line:10,column:31},end:{line:10,column:50}},{start:{line:11,column:11},end:{line:11,column:42}},{start:{line:11,column:46},end:{line:11,column:65}},{start:{line:12,column:11},end:{line:12,column:30}},{start:{line:12,column:34},end:{line:12,column:66}},{start:{line:13,column:11},end:{line:13,column:42}},{start:{line:13,column:46},end:{line:13,column:78}}],line:10},2:{loc:{start:{line:24,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:39,column:5}},{start:{line:24,column:4},end:{line:39,column:5}}],line:24},3:{loc:{start:{line:24,column:8},end:{line:24,column:50}},type:"binary-expr",locations:[{start:{line:24,column:8},end:{line:24,column:27}},{start:{line:24,column:31},end:{line:24,column:50}}],line:24},4:{loc:{start:{line:28,column:9},end:{line:39,column:5}},type:"if",locations:[{start:{line:28,column:9},end:{line:39,column:5}},{start:{line:28,column:9},end:{line:39,column:5}}],line:28},5:{loc:{start:{line:28,column:13},end:{line:28,column:67}},type:"binary-expr",locations:[{start:{line:28,column:13},end:{line:28,column:44}},{start:{line:28,column:48},end:{line:28,column:67}}],line:28},6:{loc:{start:{line:32,column:9},end:{line:39,column:5}},type:"if",locations:[{start:{line:32,column:9},end:{line:39,column:5}},{start:{line:32,column:9},end:{line:39,column:5}}],line:32},7:{loc:{start:{line:32,column:13},end:{line:32,column:68}},type:"binary-expr",locations:[{start:{line:32,column:13},end:{line:32,column:32}},{start:{line:32,column:36},end:{line:32,column:68}}],line:32},8:{loc:{start:{line:36,column:9},end:{line:39,column:5}},type:"if",locations:[{start:{line:36,column:9},end:{line:39,column:5}},{start:{line:36,column:9},end:{line:39,column:5}}],line:36},9:{loc:{start:{line:36,column:13},end:{line:36,column:80}},type:"binary-expr",locations:[{start:{line:36,column:13},end:{line:36,column:44}},{start:{line:36,column:48},end:{line:36,column:80}}],line:36},10:{loc:{start:{line:45,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:50,column:5}},{start:{line:45,column:4},end:{line:50,column:5}}],line:45},11:{loc:{start:{line:58,column:4},end:{line:67,column:5}},type:"if",locations:[{start:{line:58,column:4},end:{line:67,column:5}},{start:{line:58,column:4},end:{line:67,column:5}}],line:58},12:{loc:{start:{line:61,column:8},end:{line:63,column:9}},type:"if",locations:[{start:{line:61,column:8},end:{line:63,column:9}},{start:{line:61,column:8},end:{line:63,column:9}}],line:61},13:{loc:{start:{line:70,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:70,column:4},end:{line:72,column:5}},{start:{line:70,column:4},end:{line:72,column:5}}],line:70},14:{loc:{start:{line:73,column:4},end:{line:94,column:5}},type:"switch",locations:[{start:{line:74,column:8},end:{line:79,column:15}},{start:{line:80,column:8},end:{line:85,column:15}},{start:{line:86,column:8},end:{line:91,column:15}},{start:{line:92,column:8},end:{line:93,column:25}}],line:73},15:{loc:{start:{line:76,column:16},end:{line:78,column:17}},type:"if",locations:[{start:{line:76,column:16},end:{line:78,column:17}},{start:{line:76,column:16},end:{line:78,column:17}}],line:76},16:{loc:{start:{line:82,column:16},end:{line:84,column:17}},type:"if",locations:[{start:{line:82,column:16},end:{line:84,column:17}},{start:{line:82,column:16},end:{line:84,column:17}}],line:82},17:{loc:{start:{line:82,column:20},end:{line:82,column:98}},type:"binary-expr",locations:[{start:{line:82,column:20},end:{line:82,column:49}},{start:{line:82,column:53},end:{line:82,column:98}}],line:82},18:{loc:{start:{line:88,column:16},end:{line:90,column:17}},type:"if",locations:[{start:{line:88,column:16},end:{line:90,column:17}},{start:{line:88,column:16},end:{line:90,column:17}}],line:88}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0,0,0,0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0,0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/panelReducer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/panelReducer.ts"],names:[],mappings:"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",sourcesContent:["import { Draft, produce } from 'immer';\n\nimport { constrainRectangleWithinRectangle } from 'diagramMaker/service/positionUtils';\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport {\n  DragPanelAction,\n  DragStartPanelAction,\n  PanelActionsType\n} from 'diagramMaker/state/panel/panelActions';\nimport { DiagramMakerPanels, Position, PositionAnchor, Size } from 'diagramMaker/state/types';\n\nconst ANCHOR_DISTANCE = 10;\n\nconst isPanelWithinAnchorBounds = (panelPosition: Position, panelSize: Size, containerSize: Size): boolean => {\n  const { x, y } = panelPosition;\n\n  const rightDistance = Math.abs(containerSize.width - (x + panelSize.width));\n  const bottomDistance = Math.abs(containerSize.height - (y + panelSize.height));\n\n  if (x < ANCHOR_DISTANCE  && y < ANCHOR_DISTANCE\n    || rightDistance < ANCHOR_DISTANCE && y < ANCHOR_DISTANCE\n    || x < ANCHOR_DISTANCE && bottomDistance < ANCHOR_DISTANCE\n    || rightDistance < ANCHOR_DISTANCE && bottomDistance < ANCHOR_DISTANCE\n  ) {\n    return true;\n  }\n\n  return false;\n};\n\nconst anchorPanel = (\n  draftState: Draft<DiagramMakerPanels>,\n  action: DragPanelAction\n) => {\n  const containerSize = action.payload.viewContainerSize;\n  const currentPanel = draftState[action.payload.id];\n  const { x, y } = currentPanel.position;\n\n  const rightDistance = Math.abs(containerSize.width - (x + currentPanel.size.width));\n  const bottomDistance = Math.abs(containerSize.height - (y + currentPanel.size.height));\n\n  if (x < ANCHOR_DISTANCE  && y < ANCHOR_DISTANCE) {\n    currentPanel.positionAnchor = PositionAnchor.TOP_LEFT;\n    currentPanel.position = { x: 0, y: 0 };\n  } else if (rightDistance < ANCHOR_DISTANCE && y < ANCHOR_DISTANCE) {\n    currentPanel.positionAnchor = PositionAnchor.TOP_RIGHT;\n    currentPanel.position = { x: 0, y: 0 };\n  } else if (x < ANCHOR_DISTANCE && bottomDistance < ANCHOR_DISTANCE) {\n    currentPanel.positionAnchor = PositionAnchor.BOTTOM_LEFT;\n    currentPanel.position = { x: 0, y: 0 };\n  } else if (rightDistance < ANCHOR_DISTANCE && bottomDistance < ANCHOR_DISTANCE) {\n    currentPanel.positionAnchor = PositionAnchor.BOTTOM_RIGHT;\n    currentPanel.position = { x: 0, y: 0 };\n  }\n};\n\nconst dragStartReducer = (draftState: Draft<DiagramMakerPanels>, action: DragStartPanelAction) => {\n  const currentPanel = draftState[action.payload.id];\n\n  // When in undocking mode, we wait until panel is outside docking bounds\n  // Before checking for docking again\n  if (currentPanel.positionAnchor) {\n    currentPanel.undocking = true;\n  } else {\n    currentPanel.undocking = false;\n  }\n\n  currentPanel.positionAnchor = undefined;\n};\n\nconst dragReducer = (draftState: Draft<DiagramMakerPanels>, action: DragPanelAction) => {\n  const currentPanel = draftState[action.payload.id];\n\n  const { position, viewContainerSize } = action.payload;\n  const { size } = currentPanel;\n\n  currentPanel.position = constrainRectangleWithinRectangle(\n    { position, size },\n    { position: { x: 0, y: 0 }, size: viewContainerSize }\n  );\n\n  if (currentPanel.undocking) {\n    const containerSize = viewContainerSize;\n\n    // Once we are outside of anchor bounds, we are no longer in undocking mode\n    if (!isPanelWithinAnchorBounds(currentPanel.position, currentPanel.size, containerSize)) {\n      currentPanel.undocking = false;\n    }\n  } else {\n    anchorPanel(draftState, action);\n  }\n};\n\nexport default function panelReducer<NodeType, EdgeType>(\n  state: DiagramMakerPanels | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n): DiagramMakerPanels {\n  if (state === undefined) {\n    return {};\n  }\n  switch (action.type) {\n    case PanelActionsType.PANEL_RESIZE:\n      return produce(state, (draftState) => {\n        if (draftState[action.payload.id]) {\n          draftState[action.payload.id].size = action.payload.size;\n        }\n      });\n    case PanelActionsType.PANEL_DRAG:\n      return produce(state, (draftState) => {\n        if (draftState[action.payload.id] && !draftState[action.payload.id].positionAnchor) {\n          dragReducer(draftState, action);\n        }\n      });\n    case PanelActionsType.PANEL_DRAG_START:\n      return produce(state, (draftState) => {\n        if (draftState[action.payload.id]) {\n          dragStartReducer(draftState, action);\n        }\n      });\n    default:\n      return state;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),ka=(Da.s[0]++,10);Da.s[1]++;Da.s[9]++;Da.s[29]++;Da.s[35]++;var Ka=function(n,e){Da.f[3]++;var A=(Da.s[36]++,n[e.payload.id]),t=(Da.s[37]++,e.payload),o=(Da.s[38]++,t.position),i=(Da.s[39]++,t.viewContainerSize),l=(Da.s[40]++,A.size);if(Da.s[41]++,A.position=tn({position:o,size:l},{position:{x:0,y:0},size:i}),Da.s[42]++,A.undocking){Da.b[11][0]++;var r=(Da.s[43]++,i);Da.s[44]++,!function(n,e,A){Da.f[0]++;var t=(Da.s[2]++,n.x),o=(Da.s[3]++,n.y),i=(Da.s[4]++,Math.abs(A.width-(t+e.width))),l=(Da.s[5]++,Math.abs(A.height-(o+e.height)));return Da.s[6]++,Da.b[1][0]++,t<ka&&(Da.b[1][1]++,o<ka)||(Da.b[1][2]++,i<ka&&(Da.b[1][3]++,o<ka))||(Da.b[1][4]++,t<ka&&(Da.b[1][5]++,l<ka))||(Da.b[1][6]++,i<ka&&(Da.b[1][7]++,l<ka))?(Da.b[0][0]++,Da.s[7]++,!0):(Da.b[0][1]++,Da.s[8]++,!1)}(A.position,A.size,r)?(Da.b[12][0]++,Da.s[45]++,A.undocking=!1):Da.b[12][1]++}else Da.b[11][1]++,Da.s[46]++,function(n,e){Da.f[1]++;var A=(Da.s[10]++,e.payload.viewContainerSize),t=(Da.s[11]++,n[e.payload.id]),o=(Da.s[12]++,t.position),i=(Da.s[13]++,o.x),l=(Da.s[14]++,o.y),r=(Da.s[15]++,Math.abs(A.width-(i+t.size.width))),a=(Da.s[16]++,Math.abs(A.height-(l+t.size.height)));Da.s[17]++,Da.b[3][0]++,i<ka&&(Da.b[3][1]++,l<ka)?(Da.b[2][0]++,Da.s[18]++,t.positionAnchor=Yn.TOP_LEFT,Da.s[19]++,t.position={x:0,y:0}):(Da.b[2][1]++,Da.s[20]++,Da.b[5][0]++,r<ka&&(Da.b[5][1]++,l<ka)?(Da.b[4][0]++,Da.s[21]++,t.positionAnchor=Yn.TOP_RIGHT,Da.s[22]++,t.position={x:0,y:0}):(Da.b[4][1]++,Da.s[23]++,Da.b[7][0]++,i<ka&&(Da.b[7][1]++,a<ka)?(Da.b[6][0]++,Da.s[24]++,t.positionAnchor=Yn.BOTTOM_LEFT,Da.s[25]++,t.position={x:0,y:0}):(Da.b[6][1]++,Da.s[26]++,Da.b[9][0]++,r<ka&&(Da.b[9][1]++,a<ka)?(Da.b[8][0]++,Da.s[27]++,t.positionAnchor=Yn.BOTTOM_RIGHT,Da.s[28]++,t.position={x:0,y:0}):Da.b[8][1]++)))}(n,e)};function Sa(n,e){if(Da.f[4]++,Da.s[47]++,void 0===n)return Da.b[13][0]++,Da.s[48]++,{};switch(Da.b[13][1]++,Da.s[49]++,e.type){case ia.PANEL_RESIZE:return Da.b[14][0]++,Da.s[50]++,DA(n,(function(n){Da.f[5]++,Da.s[51]++,n[e.payload.id]?(Da.b[15][0]++,Da.s[52]++,n[e.payload.id].size=e.payload.size):Da.b[15][1]++}));case ia.PANEL_DRAG:return Da.b[14][1]++,Da.s[53]++,DA(n,(function(n){Da.f[6]++,Da.s[54]++,Da.b[17][0]++,n[e.payload.id]&&(Da.b[17][1]++,!n[e.payload.id].positionAnchor)?(Da.b[16][0]++,Da.s[55]++,Ka(n,e)):Da.b[16][1]++}));case ia.PANEL_DRAG_START:return Da.b[14][2]++,Da.s[56]++,DA(n,(function(n){Da.f[7]++,Da.s[57]++,n[e.payload.id]?(Da.b[18][0]++,Da.s[58]++,function(n,e){Da.f[2]++;var A=(Da.s[30]++,n[e.payload.id]);Da.s[31]++,A.positionAnchor?(Da.b[10][0]++,Da.s[32]++,A.undocking=!0):(Da.b[10][1]++,Da.s[33]++,A.undocking=!1),Da.s[34]++,A.positionAnchor=void 0}(n,e)):Da.b[18][1]++}));default:return Da.b[14][3]++,Da.s[59]++,n}}!function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/index.ts",e="7fc2f1bd9df2f0ce1c1d8518abe5268ec156d52c",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/panel/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,YAAY,EAAE,MAAM,gBAAgB,CAAC;AACzD,OAAO,EACL,oBAAoB,EACpB,eAAe,EACf,WAAW,EACX,gBAAgB,EAChB,iBAAiB,EAClB,MAAM,gBAAgB,CAAC",sourcesContent:["export { default as panelReducer } from './panelReducer';\nexport {\n  DragStartPanelAction,\n  DragPanelAction,\n  PanelAction,\n  PanelActionsType,\n  ResizePanelAction\n} from './panelActions';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();var _a=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/plugin/pluginReducer.ts",e="e12b1ef611a59a774b07f8e42673221473e241fe",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/plugin/pluginReducer.ts",statementMap:{0:{start:{line:2,column:4},end:{line:4,column:5}},1:{start:{line:3,column:8},end:{line:3,column:18}},2:{start:{line:5,column:4},end:{line:5,column:17}}},fnMap:{0:{name:"pluginReducer",decl:{start:{line:1,column:24},end:{line:1,column:37}},loc:{start:{line:1,column:53},end:{line:6,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:4},end:{line:4,column:5}},type:"if",locations:[{start:{line:2,column:4},end:{line:4,column:5}},{start:{line:2,column:4},end:{line:4,column:5}}],line:2}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/plugin/pluginReducer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/plugin/pluginReducer.ts"],names:[],mappings:"AAGA,MAAM,CAAC,OAAO,UAAU,aAAa,CACjC,KAAsC,EAAE,MAA8C;IAExF,IAAI,KAAK,KAAK,SAAS,EAAE;QACvB,OAAO,EAAE,CAAC;KACX;IACD,OAAO,KAAK,CAAC;AACf,CAAC",sourcesContent:["import { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { DiagramMakerPlugins } from 'diagramMaker/state/types';\n\nexport default function pluginReducer<NodeType, EdgeType>(\n    state: DiagramMakerPlugins | undefined, action: DiagramMakerAction<NodeType, EdgeType>\n  ): DiagramMakerPlugins {\n  if (state === undefined) {\n    return {};\n  }\n  return state;\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();function xa(n,e){return _a.f[0]++,_a.s[0]++,void 0===n?(_a.b[0][0]++,_a.s[1]++,{}):(_a.b[0][1]++,_a.s[2]++,n)}!function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/plugin/index.ts",e="7cf4f6c1023f42caa905c377de16fac4b015ba37",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/plugin/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/plugin/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/plugin/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,aAAa,EAAE,MAAM,iBAAiB,CAAC",sourcesContent:["export { default as pluginReducer } from './pluginReducer';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();var Ta=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/common/rootReducer.ts",e="da8dfc4031739ce3510c46497392b6510e483d36",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/common/rootReducer.ts",statementMap:{0:{start:{line:10,column:4},end:{line:20,column:7}}},fnMap:{0:{name:"getRootReducer",decl:{start:{line:9,column:16},end:{line:9,column:30}},loc:{start:{line:9,column:33},end:{line:21,column:1}},line:9}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/common/rootReducer.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/common/rootReducer.ts"],names:[],mappings:"AAAA,OAAO,EAAE,eAAe,EAAW,MAAM,OAAO,CAAC;AACjD,OAAO,EAAE,kBAAkB,EAAE,MAAM,iBAAiB,CAAC;AAGrD,OAAO,EAAE,WAAW,EAAE,oBAAoB,EAAE,MAAM,yBAAyB,CAAC;AAC5E,OAAO,EAAE,aAAa,EAAE,MAAM,2BAA2B,CAAC;AAC1D,OAAO,EAAE,WAAW,EAAE,oBAAoB,EAAE,MAAM,yBAAyB,CAAC;AAC5E,OAAO,EAAE,YAAY,EAAE,MAAM,0BAA0B,CAAC;AACxD,OAAO,EAAE,aAAa,EAAE,MAAM,2BAA2B,CAAC;AAE1D,OAAO,EAAE,gBAAgB,EAAE,MAAM,8BAA8B,CAAC;AAEhE,MAAM,UAAU,cAAc;IAE5B,OAAO,eAAe,CAA+E;QACnG,KAAK,EAAE,WAAW;QAClB,MAAM,EAAE,aAAa;QACrB,KAAK,EAAE,WAAW;QAClB,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,aAAa;QACtB,aAAa,EAAE,oBAAoB;QACnC,aAAa,EAAE,oBAAoB;QACnC,WAAW,EAAE,kBAAkB;QAC/B,SAAS,EAAE,gBAAgB;KAC5B,CAAC,CAAC;AACL,CAAC",sourcesContent:["import { combineReducers, Reducer } from 'redux';\nimport { undoHistoryReducer } from 'redux-undo-redo';\n\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { edgeReducer, potentialEdgeReducer } from 'diagramMaker/state/edge';\nimport { editorReducer } from 'diagramMaker/state/editor';\nimport { nodeReducer, potentialNodeReducer } from 'diagramMaker/state/node';\nimport { panelReducer } from 'diagramMaker/state/panel';\nimport { pluginReducer } from 'diagramMaker/state/plugin';\nimport { DiagramMakerData } from 'diagramMaker/state/types';\nimport { workspaceReducer } from 'diagramMaker/state/workspace';\n\nexport function getRootReducer<NodeType, EdgeType>(\n): Reducer<DiagramMakerData<NodeType, EdgeType>, DiagramMakerAction<NodeType, EdgeType>> {\n  return combineReducers<DiagramMakerData<NodeType, EdgeType>, DiagramMakerAction<NodeType, EdgeType>>({\n    edges: edgeReducer,\n    editor: editorReducer,\n    nodes: nodeReducer,\n    panels: panelReducer,\n    plugins: pluginReducer,\n    potentialEdge: potentialEdgeReducer,\n    potentialNode: potentialNodeReducer,\n    undoHistory: undoHistoryReducer,\n    workspace: workspaceReducer\n  });\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();var Qa=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/common/sequenceReducers.ts",e="b190d3a5beccced97c66de3cfb4105f17b620efc",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/common/sequenceReducers.ts",statementMap:{0:{start:{line:9,column:19},end:{line:9,column:21}},1:{start:{line:10,column:4},end:{line:12,column:5}},2:{start:{line:11,column:8},end:{line:11,column:41}},3:{start:{line:13,column:4},end:{line:21,column:6}},4:{start:{line:14,column:32},end:{line:14,column:58}},5:{start:{line:15,column:8},end:{line:19,column:11}},6:{start:{line:16,column:12},end:{line:18,column:13}},7:{start:{line:17,column:16},end:{line:17,column:71}},8:{start:{line:20,column:8},end:{line:20,column:33}}},fnMap:{0:{name:"sequenceReducers",decl:{start:{line:8,column:16},end:{line:8,column:32}},loc:{start:{line:8,column:46},end:{line:22,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:13,column:11},end:{line:13,column:12}},loc:{start:{line:13,column:36},end:{line:21,column:5}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:15,column:25},end:{line:15,column:26}},loc:{start:{line:15,column:44},end:{line:19,column:9}},line:15}},branchMap:{0:{loc:{start:{line:16,column:12},end:{line:18,column:13}},type:"if",locations:[{start:{line:16,column:12},end:{line:18,column:13}},{start:{line:16,column:12},end:{line:18,column:13}}],line:16}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/common/sequenceReducers.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/common/sequenceReducers.ts"],names:[],mappings:"AAEA;;;;;;GAMG;AACH,MAAM,UAAU,gBAAgB,CAC9B,WAA2C;IAC3C,kBAAkE;SAAlE,UAAkE,EAAlE,qBAAkE,EAAlE,IAAkE;QAAlE,iCAAkE;;IAElE,OAAO,UAAC,KAA4B,EAAE,MAAkB;QACtD,IAAI,iBAAiB,GAAG,WAAW,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACnD,QAAQ,CAAC,OAAO,CAAC,UAAC,OAAO;YACvB,IAAI,OAAO,EAAE;gBACX,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;aACxD;QACH,CAAC,CAAC,CAAC;QACH,OAAO,iBAAiB,CAAC;IAC3B,CAAC,CAAC;AACJ,CAAC",sourcesContent:["import { AnyAction, Reducer } from 'redux';\n\n/**\n * Combine multiple reducers into one that will pipe `state` through the provided reducers one-by-one,\n * passing the result of the previous reducer as an input of the next one.\n *\n * Allows having `null` or `undefined` reducers in the list. They will be treated as identity function and will\n * pass the state forward without any modifications.\n */\nexport function sequenceReducers<StateType, ActionType extends AnyAction>(\n  rootReducer: Reducer<StateType, ActionType>,\n  ...reducers: (Reducer<StateType, ActionType> | undefined | null)[]\n): Reducer<StateType, ActionType> {\n  return (state: StateType | undefined, action: ActionType) => {\n    let intermediateState = rootReducer(state, action);\n    reducers.forEach((reducer) => {\n      if (reducer) {\n        intermediateState = reducer(intermediateState, action);\n      }\n    });\n    return intermediateState;\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();var Ua=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/middleware/createInterceptorMiddleware.ts",e="45b8f134894561cd6c2a0fbded30161fb6505859",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/middleware/createInterceptorMiddleware.ts",statementMap:{0:{start:{line:2,column:4},end:{line:7,column:12}},1:{start:{line:2,column:30},end:{line:7,column:9}},2:{start:{line:2,column:55},end:{line:7,column:6}},3:{start:{line:3,column:8},end:{line:5,column:9}},4:{start:{line:4,column:12},end:{line:4,column:32}},5:{start:{line:6,column:8},end:{line:6,column:56}}},fnMap:{0:{name:"createInterceptorMiddleware",decl:{start:{line:1,column:16},end:{line:1,column:43}},loc:{start:{line:1,column:63},end:{line:8,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:11},end:{line:2,column:12}},loc:{start:{line:2,column:28},end:{line:7,column:11}},line:2},2:{name:"(anonymous_2)",decl:{start:{line:2,column:37},end:{line:2,column:38}},loc:{start:{line:2,column:53},end:{line:7,column:8}},line:2},3:{name:"(anonymous_3)",decl:{start:{line:2,column:62},end:{line:2,column:63}},loc:{start:{line:2,column:80},end:{line:7,column:5}},line:2}},branchMap:{0:{loc:{start:{line:3,column:8},end:{line:5,column:9}},type:"if",locations:[{start:{line:3,column:8},end:{line:5,column:9}},{start:{line:3,column:8},end:{line:5,column:9}}],line:3}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/middleware/createInterceptorMiddleware.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/middleware/createInterceptorMiddleware.ts"],names:[],mappings:"AAMA,MAAM,UAAU,2BAA2B,CACzC,iBAAyD;IAEzD,OAAO,UAAC,KAAoB,IAAK,OAAA,UAAC,IAAsB,IAAK,OAAA,UAAC,MAAc;QAC1E,IAAI,CAAC,iBAAiB,EAAE;YACtB,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC;SACrB;QAED,iBAAiB,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;IAClD,CAAC,EAN4D,CAM5D,EANgC,CAMhC,CAAC;AACJ,CAAC",sourcesContent:["import { DiagramMakerData } from 'diagramMaker/state/types';\nimport { Action, Dispatch, MiddlewareAPI } from 'redux';\n\nexport type ActionInterceptor<NodeType, EdgeType> =\n  (action: Action, dispatch: Dispatch<Action>, getState: () => DiagramMakerData<NodeType, EdgeType>) => void;\n\nexport function createInterceptorMiddleware<NodeType, EdgeType>(\n  actionInterceptor?: ActionInterceptor<NodeType, EdgeType>\n) {\n  return (store: MiddlewareAPI) => (next: Dispatch<Action>) => (action: Action) => {\n    if (!actionInterceptor) {\n      return next(action);\n    }\n\n    actionInterceptor(action, next, store.getState);\n  };\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();var wa=function(n){return function(e,A,t){for(var o=-1,i=Object(e),l=t(e),r=l.length;r--;){var a=l[n?r:++o];if(!1===A(i[a],a,i))break}return e}}();var Na=function(n,e){return function(A,t){if(null==A)return A;if(!So(A))return n(A,t);for(var o=A.length,i=e?o:-1,l=Object(A);(e?i--:++i<o)&&!1!==t(l[i],i,l););return A}}((function(n,e){return n&&wa(n,e,_o)}));var Pa=function(n,e){var A=[];return Na(n,(function(n,t,o){e(n,t,o)&&A.push(n)})),A};var Ra=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this};var Ya=function(n){return this.__data__.has(n)};function Wa(n){var e=-1,A=null==n?0:n.length;for(this.__data__=new Vt;++e<A;)this.add(n[e])}Wa.prototype.add=Wa.prototype.push=Ra,Wa.prototype.has=Ya;var za=Wa;var La=function(n,e){for(var A=-1,t=null==n?0:n.length;++A<t;)if(e(n[A],A,n))return!0;return!1};var ja=function(n,e){return n.has(e)};var Fa=function(n,e,A,t,o,i){var l=1&A,r=n.length,a=e.length;if(r!=a&&!(l&&a>r))return!1;var c=i.get(n),s=i.get(e);if(c&&s)return c==e&&s==n;var C=-1,u=!0,d=2&A?new za:void 0;for(i.set(n,e),i.set(e,n);++C<r;){var m=n[C],E=e[C];if(t)var p=l?t(E,m,C,e,n,i):t(m,E,C,n,e,i);if(void 0!==p){if(p)continue;u=!1;break}if(d){if(!La(e,(function(n,e){if(!ja(d,e)&&(m===n||o(m,n,A,t,i)))return d.push(e)}))){u=!1;break}}else if(m!==E&&!o(m,E,A,t,i)){u=!1;break}}return i.delete(n),i.delete(e),u};var Ha=function(n){var e=-1,A=Array(n.size);return n.forEach((function(n,t){A[++e]=[t,n]})),A};var qa=function(n){var e=-1,A=Array(n.size);return n.forEach((function(n){A[++e]=n})),A},Va=k?k.prototype:void 0,Xa=Va?Va.valueOf:void 0;var Za=function(n,e,A,t,o,i,l){switch(A){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!i(new di(n),new di(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return et(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var r=Ha;case"[object Set]":var a=1&t;if(r||(r=qa),n.size!=e.size&&!a)return!1;var c=l.get(n);if(c)return c==e;t|=2,l.set(n,e);var s=Fa(r(n),r(e),t,o,i,l);return l.delete(n),s;case"[object Symbol]":if(Xa)return Xa.call(n)==Xa.call(e)}return!1},Ja=Object.prototype.hasOwnProperty;var $a=function(n,e,A,t,o,i){var l=1&A,r=Jo(n),a=r.length;if(a!=Jo(e).length&&!l)return!1;for(var c=a;c--;){var s=r[c];if(!(l?s in e:Ja.call(e,s)))return!1}var C=i.get(n),u=i.get(e);if(C&&u)return C==e&&u==n;var d=!0;i.set(n,e),i.set(e,n);for(var m=l;++c<a;){var E=n[s=r[c]],p=e[s];if(t)var f=l?t(p,E,s,e,n,i):t(E,p,s,n,e,i);if(!(void 0===f?E===p||o(E,p,A,t,i):f)){d=!1;break}m||(m="constructor"==s)}if(d&&!m){var g=n.constructor,h=e.constructor;g==h||!("constructor"in n)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof h&&h instanceof h||(d=!1)}return i.delete(n),i.delete(e),d},nc=Object.prototype.hasOwnProperty;var ec=function(n,e,A,t,o,i){var l=Co(n),r=Co(e),a=l?"[object Array]":si(n),c=r?"[object Array]":si(e),s="[object Object]"==(a="[object Arguments]"==a?"[object Object]":a),C="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),u=a==c;if(u&&Object(uo.a)(n)){if(!Object(uo.a)(e))return!1;l=!0,s=!1}if(u&&!s)return i||(i=new Jt),l||Bo(n)?Fa(n,e,A,t,o,i):Za(n,e,a,A,t,o,i);if(!(1&A)){var d=s&&nc.call(n,"__wrapped__"),m=C&&nc.call(e,"__wrapped__");if(d||m){var E=d?n.value():n,p=m?e.value():e;return i||(i=new Jt),o(E,p,A,t,i)}}return!!u&&(i||(i=new Jt),$a(n,e,A,t,o,i))};var Ac=function n(e,A,t,o,i){return e===A||(null==e||null==A||!P(e)&&!P(A)?e!=e&&A!=A:ec(e,A,t,o,n,i))};var tc=function(n,e,A,t){var o=A.length,i=o,l=!t;if(null==n)return!i;for(n=Object(n);o--;){var r=A[o];if(l&&r[2]?r[1]!==n[r[0]]:!(r[0]in n))return!1}for(;++o<i;){var a=(r=A[o])[0],c=n[a],s=r[1];if(l&&r[2]){if(void 0===c&&!(a in n))return!1}else{var C=new Jt;if(t)var u=t(c,s,a,n,e,C);if(!(void 0===u?Ac(s,c,3,t,C):u))return!1}}return!0};var oc=function(n){return n==n&&!G(n)};var ic=function(n){for(var e=_o(n),A=e.length;A--;){var t=e[A],o=n[t];e[A]=[t,o,oc(o)]}return e};var lc=function(n,e){return function(A){return null!=A&&(A[n]===e&&(void 0!==e||n in Object(A)))}};var rc=function(n){var e=ic(n);return 1==e.length&&e[0][2]?lc(e[0][0],e[0][1]):function(A){return A===n||tc(A,n,e)}},ac=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cc=/^\w*$/;var sc=function(n,e){if(Co(n))return!1;var A=typeof n;return!("number"!=A&&"symbol"!=A&&"boolean"!=A&&null!=n&&!R(n))||(cc.test(n)||!ac.test(n)||null!=e&&n in Object(e))};function Cc(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var A=function(){var t=arguments,o=e?e.apply(this,t):t[0],i=A.cache;if(i.has(o))return i.get(o);var l=n.apply(this,t);return A.cache=i.set(o,l)||i,l};return A.cache=new(Cc.Cache||Vt),A}Cc.Cache=Vt;var uc=Cc;var dc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mc=/\\(\\)?/g,Ec=function(n){var e=uc(n,(function(n){return 500===A.size&&A.clear(),n})),A=e.cache;return e}((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(dc,(function(n,A,t,o){e.push(t?o.replace(mc,"$1"):A||n)})),e})),pc=k?k.prototype:void 0,fc=pc?pc.toString:void 0;var gc=function n(e){if("string"==typeof e)return e;if(Co(e))return Ni(e,n)+"";if(R(e))return fc?fc.call(e):"";var A=e+"";return"0"==A&&1/e==-1/0?"-0":A};var hc=function(n){return null==n?"":gc(n)};var Ic=function(n,e){return Co(n)?n:sc(n,e)?[n]:Ec(hc(n))};var yc=function(n){if("string"==typeof n||R(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e};var Bc=function(n,e){for(var A=0,t=(e=Ic(e,n)).length;null!=n&&A<t;)n=n[yc(e[A++])];return A&&A==t?n:void 0};var Mc=function(n,e,A){var t=null==n?void 0:Bc(n,e);return void 0===t?A:t};var vc=function(n,e){return null!=n&&e in Object(n)};var bc=function(n,e,A){for(var t=-1,o=(e=Ic(e,n)).length,i=!1;++t<o;){var l=yc(e[t]);if(!(i=null!=n&&A(n,l)))break;n=n[l]}return i||++t!=o?i:!!(o=null==n?0:n.length)&&po(o)&&Eo(l,o)&&(Co(n)||so(n))};var Oc=function(n,e){return null!=n&&bc(n,e,vc)};var Gc=function(n,e){return sc(n)&&oc(e)?lc(yc(n),e):function(A){var t=Mc(A,n);return void 0===t&&t===e?Oc(A,n):Ac(e,t,3)}};var Dc=function(n){return n};var kc=function(n){return function(e){return null==e?void 0:e[n]}};var Kc=function(n){return function(e){return Bc(e,n)}};var Sc=function(n){return sc(n)?kc(yc(n)):Kc(n)};var _c=function(n){return"function"==typeof n?n:null==n?Dc:"object"==typeof n?Co(n)?Gc(n[0],n[1]):rc(n):Sc(n)};var xc=function(n,e){return(Co(n)?Yo:Pa)(n,_c(e,3))},Tc=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/middleware/undoMiddleware.ts",e="9131db061d3c6c417cbd95dfe769071d038390c3",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/middleware/undoMiddleware.ts",statementMap:{0:{start:{line:7,column:31},end:{line:30,column:1}},1:{start:{line:9,column:4},end:{line:29,column:7}},2:{start:{line:12,column:16},end:{line:12,column:72}},3:{start:{line:15,column:16},end:{line:15,column:72}},4:{start:{line:19,column:20},end:{line:19,column:72}},5:{start:{line:21,column:55},end:{line:26,column:19}},6:{start:{line:23,column:24},end:{line:23,column:76}},7:{start:{line:25,column:65},end:{line:25,column:117}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:31},end:{line:7,column:32}},loc:{start:{line:7,column:43},end:{line:30,column:1}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:60},end:{line:13,column:13}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:14,column:42},end:{line:14,column:43}},loc:{start:{line:14,column:60},end:{line:16,column:13}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:18,column:24},end:{line:18,column:25}},loc:{start:{line:18,column:48},end:{line:20,column:17}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:21,column:28},end:{line:21,column:29}},loc:{start:{line:21,column:53},end:{line:26,column:21}},line:21},5:{name:"(anonymous_5)",decl:{start:{line:22,column:47},end:{line:22,column:48}},loc:{start:{line:22,column:63},end:{line:24,column:21}},line:22},6:{name:"(anonymous_6)",decl:{start:{line:25,column:47},end:{line:25,column:48}},loc:{start:{line:25,column:63},end:{line:25,column:119}},line:25}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/middleware/undoMiddleware.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/middleware/undoMiddleware.ts"],names:[],mappings:"AAAA,OAAO,MAAM,MAAM,kBAAkB,CAAC;AACtC,OAAO,EAAE,oBAAoB,EAAE,MAAM,iBAAiB,CAAC;AAEvD,OAAO,EAAoB,WAAW,EAAE,MAAM,qCAAqC,CAAC;AACpF,OAAO,EAAE,uBAAuB,EAAE,oBAAoB,EAAE,MAAM,kDAAkD,CAAC;AACjH,OAAO,EAAqB,aAAa,EAAE,MAAM,yCAAyC,CAAC;AAC3F,OAAO,EAAoB,WAAW,EAAE,MAAM,qCAAqC,CAAC;AAGpF,MAAM,CAAC,IAAM,iBAAiB,GAAG;;IAC/B,OAAO,oBAAoB,CAAuC;QAChE,gBAAgB;YACd,GAAC,WAAW,CAAC,WAAW,IAAG,UAAC,MAAkC;gBAC1D,OAAA,uBAAuB,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAAhD,CAAgD;YACpD,GAAC,WAAW,CAAC,WAAW,IAAG,UAAC,MAAkC;gBAC1D,OAAA,uBAAuB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;YAAhD,CAAgD;YACpD,GAAC,aAAa,CAAC,YAAY,IAAG;gBAC5B,MAAM,EAAE,UAAC,MAAyB,EAAE,IAAS;oBAC3C,OAAA,oBAAoB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC;gBAA5C,CAA4C;gBAC9C,UAAU,EAAE,UAAC,KAA2C,EAAE,MAAyB,IAAK,OAAA,CAAC;oBACvF,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,UAAC,IAAgC;wBAC1D,OAAA,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;oBAA5C,CAA4C,CAAC;oBAC/C,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,UAAC,IAAgC,IAAK,OAAA,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAA5C,CAA4C,CAAC;iBAC/G,CAAC,EAJsF,CAItF;aACH;eACF;KACF,CAAC,CAAC;AACL,CAAC,CAAC",sourcesContent:["import filter from 'lodash-es/filter';\nimport { createUndoMiddleware } from 'redux-undo-redo';\n\nimport { CreateEdgeAction, EdgeActions } from 'diagramMaker/state/edge/edgeActions';\nimport { createDeleteItemsAction, createNewItemsAction } from 'diagramMaker/state/global/globalActionDispatcher';\nimport { DeleteItemsAction, GlobalActions } from 'diagramMaker/state/global/globalActions';\nimport { CreateNodeAction, NodeActions } from 'diagramMaker/state/node/nodeActions';\nimport { DiagramMakerData, DiagramMakerEdge, DiagramMakerNode } from 'diagramMaker/state/types';\n\nexport const getUndoMiddleware = <NodeType, EdgeType>() => {\n  return createUndoMiddleware<DiagramMakerData<NodeType, EdgeType>>({\n    revertingActions: {\n      [EdgeActions.EDGE_CREATE]: (action: CreateEdgeAction<EdgeType>) =>\n          createDeleteItemsAction([], [action.payload.id]),\n      [NodeActions.NODE_CREATE]: (action: CreateNodeAction<NodeType>) =>\n          createDeleteItemsAction([action.payload.id], []),\n      [GlobalActions.DELETE_ITEMS]: {\n        action: (action: DeleteItemsAction, args: any) =>\n          createNewItemsAction(args.nodes, args.edges),\n        createArgs: (state: DiagramMakerData<NodeType, EdgeType>, action: DeleteItemsAction) => ({\n          edges: filter(state.edges, (edge: DiagramMakerEdge<EdgeType>) =>\n            action.payload.edgeIds.indexOf(edge.id) > -1),\n          nodes: filter(state.nodes, (node: DiagramMakerNode<NodeType>) => action.payload.nodeIds.indexOf(node.id) > -1)\n        })\n      }\n    }\n  });\n};\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}();Tc.s[0]++;var Qc=function(){var n;return Tc.f[0]++,Tc.s[1]++,Object(ye.createUndoMiddleware)({revertingActions:(n={},n[Kr.EDGE_CREATE]=function(n){return Tc.f[1]++,Tc.s[2]++,Wr([],[n.payload.id])},n[_A.NODE_CREATE]=function(n){return Tc.f[2]++,Tc.s[3]++,Wr([n.payload.id],[])},n[Rr.DELETE_ITEMS]={action:function(n,e){return Tc.f[3]++,Tc.s[4]++,A=e.nodes,t=e.edges,Yr.f[1]++,Yr.s[1]++,{type:wr.CREATE_ITEMS,payload:{nodes:A,edges:t}};var A,t},createArgs:function(n,e){return Tc.f[4]++,Tc.s[5]++,{edges:xc(n.edges,(function(n){return Tc.f[5]++,Tc.s[6]++,e.payload.edgeIds.indexOf(n.id)>-1})),nodes:xc(n.nodes,(function(n){return Tc.f[6]++,Tc.s[7]++,e.payload.nodeIds.indexOf(n.id)>-1}))}}},n)})},Uc=(function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/middleware/index.ts",e="a5702a633fb4370318dbb9bd6f3a26386e0932e8",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/middleware/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/middleware/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/middleware/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,iBAAiB,EAAE,2BAA2B,EAAE,MAAM,+BAA+B,CAAC;AAC/F,OAAO,EAAE,iBAAiB,EAAE,MAAM,kBAAkB,CAAC",sourcesContent:["export { ActionInterceptor, createInterceptorMiddleware } from './createInterceptorMiddleware';\nexport { getUndoMiddleware } from './undoMiddleware';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/createStore.ts",e="b6a712a3098d4940e945606f6936e66514115697",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/createStore.ts",statementMap:{0:{start:{line:7,column:32},end:{line:7,column:95}},1:{start:{line:8,column:25},end:{line:8,column:61}},2:{start:{line:9,column:21},end:{line:9,column:67}},3:{start:{line:10,column:27},end:{line:12,column:20}},4:{start:{line:20,column:4},end:{line:20,column:131}}},fnMap:{0:{name:"createStore",decl:{start:{line:6,column:24},end:{line:6,column:35}},loc:{start:{line:6,column:107},end:{line:21,column:1}},line:6}},branchMap:{0:{loc:{start:{line:10,column:27},end:{line:12,column:20}},type:"cond-expr",locations:[{start:{line:11,column:10},end:{line:11,column:47}},{start:{line:12,column:10},end:{line:12,column:20}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/createStore.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/createStore.ts"],names:[],mappings:"AAAA,OAAO,EACL,eAAe,EACf,OAAO,EACP,WAAW,IAAI,gBAAgB,EAIhC,MAAM,OAAO,CAAC;AAGf,OAAO,EAAE,cAAc,EAAE,MAAM,uCAAuC,CAAC;AACvE,OAAO,EAAE,gBAAgB,EAAE,MAAM,4CAA4C,CAAC;AAC9E,OAAO,EAAE,aAAa,EAAE,MAAM,2BAA2B,CAAC;AAC1D,OAAO,EAAqB,2BAA2B,EAAE,iBAAiB,EAAE,MAAM,+BAA+B,CAAC;AAGlH,MAAM,CAAC,OAAO,UAAU,WAAW,CACjC,WAAkD,EAClD,mBAA2G,EAC3G,gBAAgC,EAChC,iBAAyD;IAGzD,IAAM,qBAAqB,GAAG,eAAe,CAAC,2BAA2B,CAAC,iBAAiB,CAAC,CAAC,CAAC;IAC9F,IAAM,cAAc,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC,CAAC;IAC5D,IAAM,UAAU,GAAG,OAAO,CAAC,qBAAqB,EAAE,cAAc,CAAC,CAAC;IAClE,IAAM,gBAAgB,GAAG,gBAAgB;QACvC,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,gBAAgB,CAAC;QACvC,CAAC,CAAC,UAAU,CAAC;IAEf;;;;;;OAMG;IAEH,OAAO,gBAAgB,CACrB,gBAAgB,CACd,cAAc,EAAE,EAChB,aAAa,EACb,mBAAmB,CACpB,EACD,WAAkB,EAClB,gBAAgB,CACjB,CAAC;AACJ,CAAC",sourcesContent:["import {\n  applyMiddleware,\n  compose,\n  createStore as reduxCreateStore,\n  Reducer,\n  Store,\n  StoreEnhancer\n} from 'redux';\n\nimport { DiagramMakerAction } from 'diagramMaker/state/actions';\nimport { getRootReducer } from 'diagramMaker/state/common/rootReducer';\nimport { sequenceReducers } from 'diagramMaker/state/common/sequenceReducers';\nimport { layoutReducer } from 'diagramMaker/state/layout';\nimport { ActionInterceptor, createInterceptorMiddleware, getUndoMiddleware } from 'diagramMaker/state/middleware';\nimport { DiagramMakerData } from 'diagramMaker/state/types';\n\nexport default function createStore<NodeType, EdgeType>(\n  initialData?: DiagramMakerData<NodeType, EdgeType>,\n  consumerRootReducer?: Reducer<DiagramMakerData<NodeType, EdgeType>, DiagramMakerAction<NodeType, EdgeType>>,\n  consumerEnhancer?: StoreEnhancer,\n  actionInterceptor?: ActionInterceptor<NodeType, EdgeType>\n): Store<DiagramMakerData<NodeType, EdgeType>> {\n\n  const interceptorMiddleware = applyMiddleware(createInterceptorMiddleware(actionInterceptor));\n  const undoMiddleware = applyMiddleware(getUndoMiddleware());\n  const middleware = compose(interceptorMiddleware, undoMiddleware);\n  const composedEnhancer = consumerEnhancer\n    ? compose(middleware, consumerEnhancer)\n    : middleware;\n\n  /**\n   * FIXME: Due to this issue: https://github.com/Microsoft/TypeScript/issues/21592\n   * The below line needs an \"any\" typecast. It throws a type error for excessive\n   * stack depth otherwise. Also, note that due to the type signatures on the function\n   * declaration, type safety is lost within this method, but is retained everywhere else.\n   * Remove this when typescript fixes it.\n   */\n\n  return reduxCreateStore(\n    sequenceReducers<DiagramMakerData<NodeType, EdgeType>, DiagramMakerAction<NodeType, EdgeType>>(\n      getRootReducer(),\n      layoutReducer,\n      consumerRootReducer\n    ),\n    initialData as any,\n    composedEnhancer\n  );\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}());function wc(n,e,A,t){Uc.f[0]++;var o=(Uc.s[0]++,Object(fa.a)(function(n){return Ua.f[0]++,Ua.s[0]++,function(e){return Ua.f[1]++,Ua.s[1]++,function(A){return Ua.f[2]++,Ua.s[2]++,function(t){if(Ua.f[3]++,Ua.s[3]++,!n)return Ua.b[0][0]++,Ua.s[4]++,A(t);Ua.b[0][1]++,Ua.s[5]++,n(t,A,e.getState)}}}}(t))),i=(Uc.s[1]++,Object(fa.a)(Qc())),l=(Uc.s[2]++,Object(fa.d)(o,i)),r=(Uc.s[3]++,A?(Uc.b[0][0]++,Object(fa.d)(l,A)):(Uc.b[0][1]++,l));return Uc.s[4]++,Object(fa.e)(function(n){Qa.f[0]++;var e=(Qa.s[0]++,[]);Qa.s[1]++;for(var A=1;A<arguments.length;A++)Qa.s[2]++,e[A-1]=arguments[A];return Qa.s[3]++,function(A,t){Qa.f[1]++;var o=(Qa.s[4]++,n(A,t));return Qa.s[5]++,e.forEach((function(n){Qa.f[2]++,Qa.s[6]++,n?(Qa.b[0][0]++,Qa.s[7]++,o=n(o,t)):Qa.b[0][1]++})),Qa.s[8]++,o}}((Ta.f[0]++,Ta.s[0]++,Object(fa.c)({edges:Ma,editor:Ga,nodes:ha,panels:Sa,plugins:xa,potentialEdge:ba,potentialNode:ya,undoHistory:ye.undoHistoryReducer,workspace:JA})),sl,e),n,r)}var Nc=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/DiagramMaker.ts",e="602f5e7a4632f638fe5269dcae94281f6fcc60bf",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/DiagramMaker.ts",statementMap:{0:{start:{line:17,column:34},end:{line:70,column:3}},1:{start:{line:19,column:20},end:{line:19,column:24}},2:{start:{line:20,column:17},end:{line:20,column:40}},3:{start:{line:20,column:56},end:{line:20,column:70}},4:{start:{line:20,column:94},end:{line:20,column:116}},5:{start:{line:20,column:137},end:{line:20,column:156}},6:{start:{line:20,column:174},end:{line:20,column:190}},7:{start:{line:29,column:8},end:{line:32,column:10}},8:{start:{line:30,column:34},end:{line:30,column:92}},9:{start:{line:31,column:12},end:{line:31,column:103}},10:{start:{line:42,column:8},end:{line:45,column:10}},11:{start:{line:43,column:12},end:{line:43,column:61}},12:{start:{line:44,column:12},end:{line:44,column:49}},13:{start:{line:46,column:8},end:{line:55,column:10}},14:{start:{line:47,column:12},end:{line:49,column:13}},15:{start:{line:48,column:16},end:{line:48,column:33}},16:{start:{line:50,column:28},end:{line:50,column:62}},17:{start:{line:51,column:12},end:{line:53,column:13}},18:{start:{line:52,column:16},end:{line:52,column:55}},19:{start:{line:54,column:12},end:{line:54,column:29}},20:{start:{line:56,column:8},end:{line:56,column:48}},21:{start:{line:57,column:8},end:{line:57,column:121}},22:{start:{line:58,column:8},end:{line:58,column:51}},23:{start:{line:59,column:8},end:{line:59,column:54}},24:{start:{line:60,column:8},end:{line:60,column:39}},25:{start:{line:61,column:8},end:{line:63,column:9}},26:{start:{line:62,column:12},end:{line:62,column:54}},27:{start:{line:64,column:8},end:{line:64,column:78}},28:{start:{line:65,column:8},end:{line:65,column:93}},29:{start:{line:66,column:8},end:{line:66,column:68}},30:{start:{line:67,column:8},end:{line:67,column:31}},31:{start:{line:69,column:4},end:{line:69,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:34},end:{line:17,column:35}},loc:{start:{line:17,column:46},end:{line:70,column:1}},line:17},1:{name:"DiagramMaker",decl:{start:{line:18,column:13},end:{line:18,column:25}},loc:{start:{line:18,column:49},end:{line:68,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:29,column:31},end:{line:29,column:32}},loc:{start:{line:29,column:43},end:{line:32,column:9}},line:29},3:{name:"(anonymous_3)",decl:{start:{line:42,column:23},end:{line:42,column:24}},loc:{start:{line:42,column:35},end:{line:45,column:9}},line:42},4:{name:"(anonymous_4)",decl:{start:{line:46,column:28},end:{line:46,column:29}},loc:{start:{line:46,column:49},end:{line:55,column:9}},line:46}},branchMap:{0:{loc:{start:{line:20,column:17},end:{line:20,column:40}},type:"cond-expr",locations:[{start:{line:20,column:33},end:{line:20,column:35}},{start:{line:20,column:38},end:{line:20,column:40}}],line:20},1:{loc:{start:{line:47,column:12},end:{line:49,column:13}},type:"if",locations:[{start:{line:47,column:12},end:{line:49,column:13}},{start:{line:47,column:12},end:{line:49,column:13}}],line:47},2:{loc:{start:{line:51,column:12},end:{line:53,column:13}},type:"if",locations:[{start:{line:51,column:12},end:{line:53,column:13}},{start:{line:51,column:12},end:{line:53,column:13}}],line:51},3:{loc:{start:{line:61,column:8},end:{line:63,column:9}},type:"if",locations:[{start:{line:61,column:8},end:{line:63,column:9}},{start:{line:61,column:8},end:{line:63,column:9}}],line:61}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/DiagramMaker.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/DiagramMaker.ts"],names:[],mappings:"AAAA,2BAA2B;AAC3B,gDAAgD;AAChD,OAAO,sCAAsC,CAAC;AAI9C,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,qCAAqC,CAAC;AACtE,OAAO,aAAqC,MAAM,oCAAoC,CAAC;AACvF,OAAO,eAAe,MAAM,sCAAsC,CAAC;AACnE,OAAO,EAAE,OAAO,IAAI,QAAQ,EAAoB,MAAM,wCAAwC,CAAC;AAC/F,OAAO,EACL,kBAAkB,EAClB,OAAO,IAAI,cAAc,EACzB,gBAAgB,EACjB,MAAM,wCAAwC,CAAC;AAChD,OAAO,iBAAiB,MAAM,2CAA2C,CAAC;AAC1E,OAAO,gBAAgB,MAAM,qCAAqC,CAAC;AACnE,OAAO,WAAW,MAAM,gCAAgC,CAAC;AAGzD;;;;GAIG;AACH;IAoBE,sBACE,SAA+B,EAC/B,MAA8C,EAC9C,EAKM;QARR,iBAyBC;YAtBC,qBAKI,EAAE,KAAA,EALJ,WAAW,iBAAA,EAAE,mBAAmB,yBAAA,EAAE,gBAAgB,sBAAA,EAAE,aAAa,mBAAA;QAwBrE;;;;;;;WAOG;QACI,oBAAe,GAAG;YACvB,IAAM,eAAe,GAAG,iBAAiB,CAAC,uBAAuB,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;YAClF,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,kBAAkB,CAAC,8BAA8B,EAAE,eAAe,CAAC,CAAC;QAC5F,CAAC,CAAA;QAED;;;;;;;;WAQG;QACI,YAAO,GAAG;YACf,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;YAChD,OAAO,CAAC,KAAI,CAAC,SAAS,EAAE,KAAI,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,CAAA;QAEO,iBAAY,GAAG,UAAC,SAA+B;YACrD,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;gBACjC,OAAO,SAAS,CAAC;aAClB;YACD,IAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;YACrD,IAAI,CAAC,SAAS,EAAE;gBACd,MAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAC;aACxC;YACD,OAAO,SAAS,CAAC;QACnB,CAAC,CAAA;QArDC,IAAI,CAAC,MAAM,GAAG,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC;QACxC,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,WAAW,EAAE,mBAAmB,EAAE,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,CAAC;QACjH,IAAI,CAAC,GAAG,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE3C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC/B,IAAI,aAAa,EAAE;YACjB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;SAC3C;QACD,IAAI,CAAC,YAAY,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACtE,IAAI,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAErF,IAAI,CAAC,IAAI,GAAG,MAAM,CAAqB,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAEhF,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAuCH,mBAAC;AAAD,CAAC,AApFD,IAoFC",sourcesContent:["// Object.values() polyfill\n// TODO: import polyfills instead of bundling it\nimport 'diagramMaker/polyfills/object-values';\n\nimport { Action, AnyAction, Reducer, Store, StoreEnhancer } from 'redux';\n\nimport { destroy, render } from 'diagramMaker/components/renderUtils';\nimport ConfigService, { DiagramMakerConfig } from 'diagramMaker/service/ConfigService';\nimport DiagramMakerApi from 'diagramMaker/service/DiagramMakerApi';\nimport { default as Observer, ObserverCallback } from 'diagramMaker/service/observer/Observer';\nimport {\n  ContainerEventType,\n  default as UIEventManager,\n  DestroyEventType\n} from 'diagramMaker/service/ui/UIEventManager';\nimport UIEventNormalizer from 'diagramMaker/service/ui/UIEventNormalizer';\nimport ActionDispatcher from 'diagramMaker/state/ActionDispatcher';\nimport createStore from 'diagramMaker/state/createStore';\nimport { DiagramMakerData } from 'diagramMaker/state/types';\n\n/**\n * Top Level DiagramMaker Class.\n * Instantiate to render a diagram maker instance within a container.\n * @class\n */\nexport default class DiagramMaker<NodeType = {}, EdgeType = {}> {\n  /**\n   * DiagramMaker store.\n   * Currently used for dispatching, fetching state & listening to updates.\n   * Will be moved to API and closed out.\n   */\n  public readonly store: Store<DiagramMakerData<NodeType, EdgeType>>;\n  /**\n   * DiagramMaker APIs.\n   */\n  public readonly api: DiagramMakerApi<NodeType, EdgeType>;\n\n  // Root is required to ensure that we replace on rerender, since Preact.render appends by default.\n  private ROOT: Element;\n  private config: ConfigService<NodeType, EdgeType>;\n  private container: HTMLElement;\n  private actionDispatcher: ActionDispatcher<NodeType, EdgeType>;\n  private observer: Observer;\n  private eventManager: UIEventManager;\n\n  constructor(\n    domHandle: string | HTMLElement,\n    config: DiagramMakerConfig<NodeType, EdgeType>,\n    { initialData, consumerRootReducer, consumerEnhancer, eventListener }: {\n      initialData?: DiagramMakerData<NodeType, EdgeType>,\n      consumerRootReducer?: Reducer<DiagramMakerData<NodeType, EdgeType>, Action>,\n      consumerEnhancer?: StoreEnhancer,\n      eventListener?: ObserverCallback;\n    } = {}\n  ) {\n    this.config = new ConfigService(config);\n    this.store = createStore(initialData, consumerRootReducer, consumerEnhancer, this.config.getActionInterceptor());\n    this.api = new DiagramMakerApi(this.store);\n\n    this.container = this.getContainer(domHandle);\n    this.observer = new Observer();\n    if (eventListener) {\n      this.observer.subscribeAll(eventListener);\n    }\n    this.eventManager = new UIEventManager(this.observer, this.container);\n    this.actionDispatcher = new ActionDispatcher(this.observer, this.store, this.config);\n\n    this.ROOT = render<NodeType, EdgeType>(this.store, this.container, this.config);\n\n    this.updateContainer();\n  }\n\n  /**\n   * API called to update diagram maker about container size changes.\n   * Should be called when the window resizes or panels outside of diagram maker\n   * opening up to cause changes to container size.\n   *\n   * This is used for several calculations, so dragging & other interactions might be broken\n   * if this API is not called appropriately.\n   */\n  public updateContainer = () => {\n    const normalizedEvent = UIEventNormalizer.normalizeContainerEvent(this.container);\n    this.observer.publish(ContainerEventType.DIAGRAM_MAKER_CONTAINER_UPDATE, normalizedEvent);\n  }\n\n  /**\n   * API called to clean up a diagram maker instance after the user navigates away from the page\n   * or closes the workspace.\n   *\n   * This is used to clean up event handlers that diagram maker attaches to the container, so\n   * it could lead to a memory leak if its not called. This is because DOM & event listeners\n   * have a self loop so it never gets garbage collected automatically unless we remove the event\n   * listeners.\n   */\n  public destroy = () => {\n    this.observer.publish(DestroyEventType.DESTROY);\n    destroy(this.container, this.ROOT);\n  }\n\n  private getContainer = (domHandle: string | HTMLElement) => {\n    if (typeof domHandle !== 'string') {\n      return domHandle;\n    }\n    const container = document.getElementById(domHandle);\n    if (!container) {\n      throw new Error('Container not found');\n    }\n    return container;\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),Pc=(Nc.s[0]++,Nc.f[0]++,Nc.s[31]++,function(n,e,A){Nc.f[1]++;var t=(Nc.s[1]++,this),o=(Nc.s[2]++,void 0===A?(Nc.b[0][0]++,{}):(Nc.b[0][1]++,A)),i=(Nc.s[3]++,o.initialData),l=(Nc.s[4]++,o.consumerRootReducer),r=(Nc.s[5]++,o.consumerEnhancer),a=(Nc.s[6]++,o.eventListener);Nc.s[7]++,this.updateContainer=function(){Nc.f[2]++;var n=(Nc.s[8]++,Pl.normalizeContainerEvent(t.container));Nc.s[9]++,t.observer.publish(Kl.DIAGRAM_MAKER_CONTAINER_UPDATE,n)},Nc.s[10]++,this.destroy=function(){var n,e;Nc.f[3]++,Nc.s[11]++,t.observer.publish(Sl.DESTROY),Nc.s[12]++,n=t.container,e=t.ROOT,ge.f[1]++,ge.s[2]++,s.render(null,n,e)},Nc.s[13]++,this.getContainer=function(n){if(Nc.f[4]++,Nc.s[14]++,"string"!=typeof n)return Nc.b[1][0]++,Nc.s[15]++,n;Nc.b[1][1]++;var e=(Nc.s[16]++,document.getElementById(n));if(Nc.s[17]++,!e)throw Nc.b[2][0]++,Nc.s[18]++,new Error("Container not found");return Nc.b[2][1]++,Nc.s[19]++,e},Nc.s[20]++,this.config=new Kn(e),Nc.s[21]++,this.store=wc(i,l,r,this.config.getActionInterceptor()),Nc.s[22]++,this.api=new ml(this.store),Nc.s[23]++,this.container=this.getContainer(n),Nc.s[24]++,this.observer=new pl,Nc.s[25]++,a?(Nc.b[3][0]++,Nc.s[26]++,this.observer.subscribeAll(a)):Nc.b[3][1]++,Nc.s[27]++,this.eventManager=new gr(this.observer,this.container),Nc.s[28]++,this.actionDispatcher=new pa(this.observer,this.store,this.config),Nc.s[29]++,this.ROOT=he(this.store,this.container,this.config),Nc.s[30]++,this.updateContainer()}),Rc=function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/state/actions.ts",e="096437a84d3d5504e53848b50192ee063a32015a",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/state/actions.ts",statementMap:{0:{start:{line:1,column:15},end:{line:11,column:1}},1:{start:{line:2,column:4},end:{line:9,column:6}},2:{start:{line:3,column:8},end:{line:7,column:9}},3:{start:{line:4,column:12},end:{line:4,column:29}},4:{start:{line:5,column:12},end:{line:6,column:28}},5:{start:{line:5,column:29},end:{line:6,column:28}},6:{start:{line:6,column:16},end:{line:6,column:28}},7:{start:{line:8,column:8},end:{line:8,column:17}},8:{start:{line:10,column:4},end:{line:10,column:43}},9:{start:{line:19,column:33},end:{line:19,column:208}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:42},end:{line:1,column:43}},loc:{start:{line:1,column:54},end:{line:11,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:2,column:32},end:{line:2,column:33}},loc:{start:{line:2,column:44},end:{line:9,column:5}},line:2}},branchMap:{0:{loc:{start:{line:1,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:1,column:16},end:{line:1,column:20}},{start:{line:1,column:24},end:{line:1,column:37}},{start:{line:1,column:42},end:{line:11,column:1}}],line:1},1:{loc:{start:{line:2,column:15},end:{line:9,column:5}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:28}},{start:{line:2,column:32},end:{line:9,column:5}}],line:2},2:{loc:{start:{line:5,column:29},end:{line:6,column:28}},type:"if",locations:[{start:{line:5,column:29},end:{line:6,column:28}},{start:{line:5,column:29},end:{line:6,column:28}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0},b:{0:[0,0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/state/actions.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/state/actions.ts"],names:[],mappings:";;;;;;;;;;;AAAA,OAAO,EAAc,WAAW,EAAmB,MAAM,qCAAqC,CAAC;AAC/F,OAAO,EAAgB,aAAa,EAAqB,MAAM,yCAAyC,CAAC;AACzG,OAAO,EAAgB,aAAa,EAAqB,MAAM,yCAAyC,CAAC;AACzG,OAAO,EAAgB,aAAa,EAAqB,MAAM,yCAAyC,CAAC;AACzG,OAAO,EAAc,WAAW,EAAmB,MAAM,qCAAqC,CAAC;AAC/F,OAAO,EAAe,YAAY,EAAoB,MAAM,uCAAuC,CAAC;AACpG,OAAO,EAAmB,gBAAgB,EAAwB,MAAM,+CAA+C,CAAC;AAExH,MAAM,CAAC,IAAM,mBAAmB,sEAC3B,WAAW,GACX,YAAY,GACZ,gBAAgB,GAChB,WAAW,GACX,aAAa,GACb,aAAa,GACb,aAAa,CACjB,CAAC",sourcesContent:["import { EdgeAction, EdgeActions, EdgeActionsType } from 'diagramMaker/state/edge/edgeActions';\nimport { EditorAction, EditorActions, EditorActionsType } from 'diagramMaker/state/editor/editorActions';\nimport { GlobalAction, GlobalActions, GlobalActionsType } from 'diagramMaker/state/global/globalActions';\nimport { LayoutAction, LayoutActions, LayoutActionsType } from 'diagramMaker/state/layout/layoutActions';\nimport { NodeAction, NodeActions, NodeActionsType } from 'diagramMaker/state/node/nodeActions';\nimport { PanelAction, PanelActions, PanelActionsType } from 'diagramMaker/state/panel/panelActions';\nimport { WorkspaceAction, WorkspaceActions, WorkspaceActionsType } from 'diagramMaker/state/workspace/workspaceActions';\n\nexport const DiagramMakerActions = {\n  ...NodeActions,\n  ...PanelActions,\n  ...WorkspaceActions,\n  ...EdgeActions,\n  ...EditorActions,\n  ...GlobalActions,\n  ...LayoutActions\n};\n\nexport type DiagramMakerAction<NodeType, EdgeType> = NodeAction<NodeType> | WorkspaceAction | PanelAction |\nEdgeAction<EdgeType> | GlobalAction<NodeType, EdgeType>  | EditorAction | LayoutAction;\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});return i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}(),Yc=(Rc.s[0]++,void Rc.b[0][0]++&&(Rc.b[0][1]++,(void 0).__assign)||(Rc.b[0][2]++,function(){return Rc.f[0]++,Rc.s[1]++,Rc.b[1][0]++,Yc=Object.assign||(Rc.b[1][1]++,function(n){Rc.f[1]++,Rc.s[2]++;for(var e,A=1,t=arguments.length;A<t;A++)for(var o in Rc.s[3]++,e=arguments[A],Rc.s[4]++,e)Rc.s[5]++,Object.prototype.hasOwnProperty.call(e,o)?(Rc.b[2][0]++,Rc.s[6]++,n[o]=e[o]):Rc.b[2][1]++;return Rc.s[7]++,n}),Rc.s[8]++,Yc.apply(this,arguments)})),Wc=(Rc.s[9]++,Yc(Yc(Yc(Yc(Yc(Yc(Yc({},_A),aa),QA),Kr),ve),Rr),il));!function(){var n="/Users/akasivis/Desktop/git/diagram-maker/src/index.ts",e="cf7f0f223fc1ff3d59366cf9cb1d2624433660e7",A=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/Users/akasivis/Desktop/git/diagram-maker/src/index.ts",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/index.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/index.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,IAAI,YAAY,EAAE,MAAM,gBAAgB,CAAC;AACzD,OAAO,EACL,kBAAkB,EAClB,KAAK,EACL,qBAAqB,EACtB,MAAM,yBAAyB,CAAC;AACjC,OAAO,EAAE,sBAAsB,EAAE,MAAM,oBAAoB,CAAC;AAC5D,OAAO,EAAE,eAAe,EAAE,MAAM,gCAAgC,CAAC;AACjE,OAAO,EAAE,KAAK,EAAE,MAAM,6BAA6B,CAAC;AACpD,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,MAAM,0BAA0B,CAAC;AACnE,OAAO,EAAE,YAAY,EAAE,aAAa,EAAE,MAAM,8BAA8B,CAAC;AAC3E,OAAO,EAAE,YAAY,EAAE,aAAa,EAAE,MAAM,8BAA8B,CAAC;AAC3E,OAAO,EACL,MAAM,EACN,aAAa,EACb,uBAAuB,EACxB,MAAM,8BAA8B,CAAC;AACtC,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,MAAM,0BAA0B,CAAC;AACnE,OAAO,EAAE,WAAW,EAAE,YAAY,EAAE,MAAM,4BAA4B,CAAC;AACvE,OAAO,EACL,eAAe,EACf,gBAAgB,EACjB,MAAM,oCAAoC,CAAC;AAC5C,OAAO,EAAE,kBAAkB,EAAE,mBAAmB,EAAE,MAAM,iBAAiB,CAAC;AAC1E,OAAO,EAAE,UAAU,EAAE,cAAc,EAAE,MAAM,eAAe,CAAC;AAC3D,OAAO,EAAE,gBAAgB,EAAE,MAAM,iCAAiC,CAAC;AACnE,OAAO,EAAE,OAAO,IAAI,gBAAgB,EAAE,MAAM,0BAA0B,CAAC",sourcesContent:["export { default as DiagramMaker } from './DiagramMaker';\nexport {\n  ConnectorPlacement,\n  Shape,\n  VisibleConnectorTypes\n} from './service/ConfigService';\nexport { DiagramMakerComponents } from './service/ui/types';\nexport { NormalizedEvent } from './service/ui/UIEventNormalizer';\nexport { Event } from './service/ui/UIEventManager';\nexport { EdgeAction, EdgeActions } from './state/edge/edgeActions';\nexport { EditorAction, EditorActions } from './state/editor/editorActions';\nexport { GlobalAction, GlobalActions } from './state/global/globalActions';\nexport {\n  Layout,\n  LayoutActions,\n  WorkflowLayoutDirection\n} from './state/layout/layoutActions';\nexport { NodeAction, NodeActions } from './state/node/nodeActions';\nexport { PanelAction, PanelActions } from './state/panel/panelActions';\nexport {\n  WorkspaceAction,\n  WorkspaceActions\n} from './state/workspace/workspaceActions';\nexport { DiagramMakerAction, DiagramMakerActions } from './state/actions';\nexport { EditorMode, PositionAnchor } from './state/types';\nexport { sequenceReducers } from './state/common/sequenceReducers';\nexport { default as ActionDispatcher } from './state/ActionDispatcher';\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=A[t]||(A[t]={});i[n]&&i[n].hash===e?i[n]:(o.hash=e,i[n]=o)}()},function(n,e,A){"use strict";var t=A(55),o="object"==typeof self&&self&&self.Object===Object&&self,i=t.a||o||Function("return this")();e.a=i},function(n,e){var A=Array.isArray;n.exports=A},function(n,e,A){var t;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var A={}.hasOwnProperty;function o(){for(var n=[],e=0;e<arguments.length;e++){var t=arguments[e];if(t){var i=typeof t;if("string"===i||"number"===i)n.push(t);else if(Array.isArray(t)&&t.length){var l=o.apply(null,t);l&&n.push(l)}else if("object"===i)for(var r in t)A.call(t,r)&&t[r]&&n.push(r)}}return n.join(" ")}n.exports?(o.default=o,n.exports=o):void 0===(t=function(){return o}.apply(e,[]))||(n.exports=t)}()},function(n,e,A){"use strict";var t=A(1),o=A(12).Graph;function i(n,e,A,o){var i;do{i=t.uniqueId(o)}while(n.hasNode(i));return A.dummy=e,n.setNode(i,A),i}function l(n){return t.max(t.map(n.nodes(),(function(e){var A=n.node(e).rank;if(!t.isUndefined(A))return A})))}n.exports={addDummyNode:i,simplify:function(n){var e=(new o).setGraph(n.graph());return t.forEach(n.nodes(),(function(A){e.setNode(A,n.node(A))})),t.forEach(n.edges(),(function(A){var t=e.edge(A.v,A.w)||{weight:0,minlen:1},o=n.edge(A);e.setEdge(A.v,A.w,{weight:t.weight+o.weight,minlen:Math.max(t.minlen,o.minlen)})})),e},asNonCompoundGraph:function(n){var e=new o({multigraph:n.isMultigraph()}).setGraph(n.graph());return t.forEach(n.nodes(),(function(A){n.children(A).length||e.setNode(A,n.node(A))})),t.forEach(n.edges(),(function(A){e.setEdge(A,n.edge(A))})),e},successorWeights:function(n){var e=t.map(n.nodes(),(function(e){var A={};return t.forEach(n.outEdges(e),(function(e){A[e.w]=(A[e.w]||0)+n.edge(e).weight})),A}));return t.zipObject(n.nodes(),e)},predecessorWeights:function(n){var e=t.map(n.nodes(),(function(e){var A={};return t.forEach(n.inEdges(e),(function(e){A[e.v]=(A[e.v]||0)+n.edge(e).weight})),A}));return t.zipObject(n.nodes(),e)},intersectRect:function(n,e){var A,t,o=n.x,i=n.y,l=e.x-o,r=e.y-i,a=n.width/2,c=n.height/2;if(!l&&!r)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(r)*a>Math.abs(l)*c?(r<0&&(c=-c),A=c*l/r,t=c):(l<0&&(a=-a),A=a,t=a*r/l);return{x:o+A,y:i+t}},buildLayerMatrix:function(n){var e=t.map(t.range(l(n)+1),(function(){return[]}));return t.forEach(n.nodes(),(function(A){var o=n.node(A),i=o.rank;t.isUndefined(i)||(e[i][o.order]=A)})),e},normalizeRanks:function(n){var e=t.min(t.map(n.nodes(),(function(e){return n.node(e).rank})));t.forEach(n.nodes(),(function(A){var o=n.node(A);t.has(o,"rank")&&(o.rank-=e)}))},removeEmptyRanks:function(n){var e=t.min(t.map(n.nodes(),(function(e){return n.node(e).rank}))),A=[];t.forEach(n.nodes(),(function(t){var o=n.node(t).rank-e;A[o]||(A[o]=[]),A[o].push(t)}));var o=0,i=n.graph().nodeRankFactor;t.forEach(A,(function(e,A){t.isUndefined(e)&&A%i!=0?--o:o&&t.forEach(e,(function(e){n.node(e).rank+=o}))}))},addBorderNode:function(n,e,A,t){var o={width:0,height:0};arguments.length>=4&&(o.rank=A,o.order=t);return i(n,"border",o,e)},maxRank:l,partition:function(n,e){var A={lhs:[],rhs:[]};return t.forEach(n,(function(n){e(n)?A.lhs.push(n):A.rhs.push(n)})),A},time:function(n,e){var A=t.now();try{return e()}finally{console.log(n+" time: "+(t.now()-A)+"ms")}},notime:function(n,e){return e()}}},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,A){var t;try{t={clone:A(214),constant:A(70),each:A(113),filter:A(116),has:A(117),isArray:A(4),isEmpty:A(232),isFunction:A(29),isUndefined:A(118),keys:A(17),map:A(119),reduce:A(121),size:A(235),transform:A(240),union:A(241),values:A(66)}}catch(n){}t||(t=window._),n.exports=t},function(n,e,A){"use strict";A.d(e,"j",(function(){return i})),A.d(e,"l",(function(){return l})),A.d(e,"k",(function(){return r})),A.d(e,"g",(function(){return a})),A.d(e,"f",(function(){return c})),A.d(e,"b",(function(){return s})),A.d(e,"e",(function(){return u})),A.d(e,"c",(function(){return d})),A.d(e,"h",(function(){return m})),A.d(e,"n",(function(){return E})),A.d(e,"d",(function(){return f})),A.d(e,"m",(function(){return h})),A.d(e,"i",(function(){return I})),A.d(e,"o",(function(){return y})),A.d(e,"p",(function(){return B})),A.d(e,"a",(function(){return M}));var t=A(2);function o(n){var e=document.createElement("div"),A=document.createTextNode(n);return e.appendChild(A),e}function i(n,e){var A=o(n.typeId);return A.classList.add("rectangle","example-node"),e.innerHTML="",e.appendChild(A),A}function l(n,e){var A=o(n.id.substring(0,13));return A.classList.add("rectangle","example-node"),n.diagramMakerData.selected&&A.classList.add("selected"),n.consumerData&&(n.consumerData.odd?A.classList.add("odd"):A.classList.add("even")),e.innerHTML="",e.appendChild(A),A}function r(n,e){var A=o(n.id.substring(0,13));A.classList.add("rectangle","example-node","connector-node"),n.diagramMakerData.selected&&A.classList.add("selected"),e.innerHTML="";var t=document.createElement("div");return t.classList.add("outer","outer-rectangle"),t.setAttribute("data-id",n.id),t.setAttribute("data-type","DiagramMaker.Connector"),t.setAttribute("data-draggable","true"),t.setAttribute("data-event-target","true"),A.setAttribute("data-id",n.id),A.setAttribute("data-type","DiagramMaker.Connector"),A.setAttribute("data-dropzone","true"),e.appendChild(t),e.appendChild(A),A}function a(n,e){if(""===e.innerHTML){var A=document.createElement("div"),t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("data-event-target","true"),t.setAttribute("data-draggable","true"),A.appendChild(t),A.classList.add("rectangle","example-node"),n.diagramMakerData.selected&&A.classList.add("selected"),e.appendChild(A),A}var o=e.children[0];n.diagramMakerData.selected?o.classList.add("selected"):o.classList.remove("selected")}function c(n,e){if(""===e.innerHTML){var A=document.createElement("div"),t=document.createElement("select"),o=document.createElement("option"),i=document.createTextNode("test");return o.appendChild(i),t.appendChild(o),t.setAttribute("type","text"),t.setAttribute("data-event-target","true"),A.appendChild(t),A.classList.add("rectangle","example-node"),n.diagramMakerData.selected&&A.classList.add("selected"),e.appendChild(A),A}var l=e.children[0];n.diagramMakerData.selected?l.classList.add("selected"):l.classList.remove("selected")}function s(n,e){var A=o(n.id.substring(0,13));A.classList.add("circle","example-node"),n.diagramMakerData.selected&&A.classList.add("selected"),e.innerHTML="";var t=document.createElement("div");return t.classList.add("outer"),t.setAttribute("data-id",n.id),t.setAttribute("data-type","DiagramMaker.Connector"),t.setAttribute("data-draggable","true"),t.setAttribute("data-event-target","true"),A.setAttribute("data-id",n.id),A.setAttribute("data-type","DiagramMaker.Connector"),A.setAttribute("data-dropzone","true"),e.appendChild(t),e.appendChild(A),A}function C(n){var e=o(n);return e.classList.add("contextMenu"),e}function u(n,e){n&&(e.innerHTML="",e.appendChild(C("This is the node: "+n)))}function d(n,e){n&&(e.innerHTML="",e.appendChild(C("This is the edge: "+n)))}function m(n,e){n&&(e.innerHTML="",e.appendChild(C("This is the panel: "+n)))}function E(n){n.innerHTML="",n.appendChild(C("This is the workspace"))}function p(n,e,A){var t=o(e);return t.classList.add("rectangle","example-node","potential-node"),t.setAttribute("data-id",n),t.setAttribute("data-type","DiagramMaker.PotentialNode"),t.setAttribute("data-draggable","true"),t.setAttribute("data-event-target","true"),A&&(t.setAttribute("data-width",""+A.width),t.setAttribute("data-height",""+A.height)),t}function f(n){if(""===n.innerHTML){var e=document.createElement("div");e.setAttribute("data-event-target","true"),e.setAttribute("data-dropzone","true"),e.classList.add("library");var A=document.createElement("div");return A.innerText="drag here",A.classList.add("draggableElement"),A.setAttribute("data-event-target","true"),A.setAttribute("data-draggable","true"),A.setAttribute("data-type","DiagramMaker.PanelDragHandle"),A.setAttribute("data-id","library"),e.appendChild(A),e.appendChild(p("testId-normal","Normal")),e.appendChild(p("testId-normalWithSize","Normal with Size",{width:100,height:50})),e.appendChild(p("testId-topBottom","Top Bottom")),e.appendChild(p("testId-centered","Centered")),e.appendChild(p("testId-start","Start Node")),e.appendChild(p("testId-end","End Node")),e.appendChild(p("testId-dead","Dead Node")),e.appendChild(p("testId-input","With Input")),e.appendChild(p("testId-dropdown","With Dropdown")),n.appendChild(e),e}}function g(n,e){var A=o(n);return A.setAttribute("data-type","DiagramMaker.Tools"),A.setAttribute("data-id",n),A.addEventListener("click",e),A}function h(n,e){if(""===n.innerHTML){var A,o,i=document.createElement("div");i.classList.add("tools"),i.appendChild(function(n){return g("UpdateContainer",(function(){n().updateContainer()}))}(e)),i.appendChild(function(n){return g("Destroy",(function(){n().destroy()}))}(e)),i.appendChild(function(n){return g("Drag",(function(){n().api.setEditorMode(t.d.DRAG)}))}(e)),i.appendChild(function(n){return g("Select",(function(){n().api.setEditorMode(t.d.SELECT)}))}(e)),i.appendChild(function(n){return g("ReadOnly",(function(){n().api.setEditorMode(t.d.READ_ONLY)}))}(e)),i.appendChild(function(n){return g("FocusNode",(function(){n().api.focusNode("node1")}))}(e)),i.appendChild(function(n){return g("FocusSelected",(function(){n().api.focusSelected()}))}(e)),i.appendChild(function(n){return g("Fit",(function(){n().api.fit()}))}(e)),i.appendChild(function(n){return g("ZoomIn",(function(){n().api.zoomIn()}))}(e)),i.appendChild(function(n){return g("ZoomOut",(function(){n().api.zoomOut()}))}(e)),i.appendChild(function(n){return g("ResetZoom",(function(){n().api.resetZoom()}))}(e)),i.appendChild(function(n){return g("Undo",(function(){n().api.undo()}))}(e)),i.appendChild(function(n){return g("Redo",(function(){n().api.redo()}))}(e)),i.appendChild(function(n){return g("WorkflowLayout",(function(){n().api.layout({direction:t.j.LEFT_RIGHT,distanceMin:200,layoutType:t.f.WORKFLOW})}))}(e)),i.appendChild(function(n){return g("HierarchicalLayout",(function(){n().api.layout({distanceMin:200,fixedNodeIds:["node1"],layoutType:t.f.HIERARCHICAL})}))}(e)),i.appendChild((A=document.createElement("div"),(o=document.createElement("input")).classList.add("testInput"),o.setAttribute("data-type","DiagramMaker.Tools"),o.setAttribute("data-id","TestInput"),o.setAttribute("type","text"),A.appendChild(o),A)),n.appendChild(i)}}function I(n,e){if(""===n.innerHTML){var A=document.createElement("div");A.setAttribute("data-event-target","true"),A.setAttribute("data-dropzone","true"),A.classList.add("library");var t=document.createElement("div");t.innerText="drag here",t.classList.add("draggableElement"),t.setAttribute("data-event-target","true"),t.setAttribute("data-draggable","true"),t.setAttribute("data-type","DiagramMaker.PanelDragHandle"),t.setAttribute("data-id","plugin"),A.appendChild(t);var i=o("Click this plugin to move workspace to a target position");i.setAttribute("data-event-target","true"),i.setAttribute("data-type","testPlugin"),i.setAttribute("data-id","testPlugin");var l=e.plugins.testPlugin.data.size.width,r=e.plugins.testPlugin.data.size.height;return i.style.width=l+"px",i.style.height=r+"px",i.style.backgroundColor="orange",i.style.paddingTop="15px",i.style.textAlign="center",A.appendChild(i),n.appendChild(A),A}}function y(n,e){if(n.type===t.e.LEFT_CLICK&&"testPlugin"===n.target.type){var A=e.store.getState();if(!A.plugins)return;var o=A.plugins.testPlugin.data.workspacePos;e.api.dispatch({payload:{position:o},type:t.k.WORKSPACE_DRAG})}}function B(n){var e=n,A=document.getElementById("diagramMakerLogger");if(A){var t=o("Type is "+n.type);if(t.setAttribute("data-type","DiagramMaker.ActionType"),t.setAttribute("data-id",n.type),A.innerHTML="",A.appendChild(t),e.payload){var i=o("Payload is "+JSON.stringify(e.payload));i.setAttribute("data-type","DiagramMaker.ActionPayload"),i.setAttribute("data-id",n.type),A.appendChild(i)}}}function M(){}},function(n,e,A){var t=A(143),o=A(189),i=A(20),l=A(4),r=A(195);n.exports=function(n){return"function"==typeof n?n:null==n?i:"object"==typeof n?l(n)?o(n[0],n[1]):t(n):r(n)}},function(n,e,A){var t=A(76),o="object"==typeof self&&self&&self.Object===Object&&self,i=t||o||Function("return this")();n.exports=i},function(n,e,A){var t;try{t=A(212)}catch(n){}t||(t=window.graphlib),n.exports=t},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,A){var t=A(29),o=A(62);n.exports=function(n){return null!=n&&o(n.length)&&!t(n)}},function(n,e,A){"use strict";A.d(e,"a",(function(){return p})),A.d(e,"b",(function(){return C})),A.d(e,"c",(function(){return c})),A.d(e,"d",(function(){return E})),A.d(e,"e",(function(){return r}));var t=A(75),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function l(n){if("object"!=typeof n||null===n)return!1;for(var e=n;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function r(n,e,A){var o;if("function"==typeof e&&"function"==typeof A||"function"==typeof A&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===A&&(A=e,e=void 0),void 0!==A){if("function"!=typeof A)throw new Error("Expected the enhancer to be a function.");return A(r)(n,e)}if("function"!=typeof n)throw new Error("Expected the reducer to be a function.");var a=n,c=e,s=[],C=s,u=!1;function d(){C===s&&(C=s.slice())}function m(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function E(n){if("function"!=typeof n)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return d(),C.push(n),function(){if(e){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,d();var A=C.indexOf(n);C.splice(A,1),s=null}}}function p(n){if(!l(n))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===n.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,c=a(c,n)}finally{u=!1}for(var e=s=C,A=0;A<e.length;A++){(0,e[A])()}return n}function f(n){if("function"!=typeof n)throw new Error("Expected the nextReducer to be a function.");a=n,p({type:i.REPLACE})}function g(){var n,e=E;return(n={subscribe:function(n){if("object"!=typeof n||null===n)throw new TypeError("Expected the observer to be an object.");function A(){n.next&&n.next(m())}return A(),{unsubscribe:e(A)}}})[t.a]=function(){return this},n}return p({type:i.INIT}),(o={dispatch:p,subscribe:E,getState:m,replaceReducer:f})[t.a]=g,o}function a(n,e){var A=e&&e.type;return"Given "+(A&&'action "'+String(A)+'"'||"an action")+', reducer "'+n+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(n){for(var e=Object.keys(n),A={},t=0;t<e.length;t++){var o=e[t];0,"function"==typeof n[o]&&(A[o]=n[o])}var l,r=Object.keys(A);try{!function(n){Object.keys(n).forEach((function(e){var A=n[e];if(void 0===A(void 0,{type:i.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===A(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(A)}catch(n){l=n}return function(n,e){if(void 0===n&&(n={}),l)throw l;for(var t=!1,o={},i=0;i<r.length;i++){var c=r[i],s=A[c],C=n[c],u=s(C,e);if(void 0===u){var d=a(c,e);throw new Error(d)}o[c]=u,t=t||u!==C}return(t=t||r.length!==Object.keys(n).length)?o:n}}function s(n,e){return function(){return e(n.apply(this,arguments))}}function C(n,e){if("function"==typeof n)return s(n,e);if("object"!=typeof n||null===n)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===n?"null":typeof n)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var A={};for(var t in n){var o=n[t];"function"==typeof o&&(A[t]=s(o,e))}return A}function u(n,e,A){return e in n?Object.defineProperty(n,e,{value:A,enumerable:!0,configurable:!0,writable:!0}):n[e]=A,n}function d(n,e){var A=Object.keys(n);return Object.getOwnPropertySymbols&&A.push.apply(A,Object.getOwnPropertySymbols(n)),e&&(A=A.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),A}function m(n){for(var e=1;e<arguments.length;e++){var A=null!=arguments[e]?arguments[e]:{};e%2?d(A,!0).forEach((function(e){u(n,e,A[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(A)):d(A).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(A,e))}))}return n}function E(){for(var n=arguments.length,e=new Array(n),A=0;A<n;A++)e[A]=arguments[A];return 0===e.length?function(n){return n}:1===e.length?e[0]:e.reduce((function(n,e){return function(){return n(e.apply(void 0,arguments))}}))}function p(){for(var n=arguments.length,e=new Array(n),A=0;A<n;A++)e[A]=arguments[A];return function(n){return function(){var A=n.apply(void 0,arguments),t=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:A.getState,dispatch:function(){return t.apply(void 0,arguments)}},i=e.map((function(n){return n(o)}));return m({},A,{dispatch:t=E.apply(void 0,i)(A.dispatch)})}}}},function(n,e,A){"use strict";(function(n){var t=A(55),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof n&&n&&!n.nodeType&&n,l=i&&i.exports===o&&t.a.process,r=function(){try{var n=i&&i.require&&i.require("util").types;return n||l&&l.binding&&l.binding("util")}catch(n){}}();e.a=r}).call(this,A(36)(n))},function(n,e,A){var t=A(87),o=A(64),i=A(14);n.exports=function(n){return i(n)?t(n):o(n)}},function(n,e,A){var t=A(155),o=A(160);n.exports=function(n,e){var A=o(n,e);return t(A)?A:void 0}},function(n,e,A){var t=A(25),o=A(156),i=A(157),l=t?t.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":l&&l in Object(n)?o(n):i(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,A){var t=A(87),o=A(200),i=A(14);n.exports=function(n){return i(n)?t(n,!0):o(n)}},function(n,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.actions=e.undoHistoryReducerCreator=e.undoHistoryReducer=e.createUndoMiddleware=void 0;var t=A(140);Object.defineProperty(e,"undoHistoryReducerCreator",{enumerable:!0,get:function(){return t.undoHistoryReducerCreator}});var o=r(A(202)),i=r(t),l=function(n){if(n&&n.__esModule)return n;var e={};if(null!=n)for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(e[A]=n[A]);return e.default=n,e}(A(106));function r(n){return n&&n.__esModule?n:{default:n}}e.createUndoMiddleware=o.default,e.undoHistoryReducer=i.default,e.actions=l},function(n,e,A){"use strict";(function(n){var t=A(3),o=A(136),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,l=i&&"object"==typeof n&&n&&!n.nodeType&&n,r=l&&l.exports===i?t.a.Buffer:void 0,a=(r?r.isBuffer:void 0)||o.a;e.a=a}).call(this,A(36)(n))},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,A){var t=A(11).Symbol;n.exports=t},function(n,e,A){(function(n){var t=A(11),o=A(182),i=e&&!e.nodeType&&e,l=i&&"object"==typeof n&&n&&!n.nodeType&&n,r=l&&l.exports===i?t.Buffer:void 0,a=(r?r.isBuffer:void 0)||o;n.exports=a}).call(this,A(61)(n))},function(n,e,A){var t=A(185),o=A(56),i=A(186),l=A(89),r=A(187),a=A(19),c=A(77),s=c(t),C=c(o),u=c(i),d=c(l),m=c(r),E=a;(t&&"[object DataView]"!=E(new t(new ArrayBuffer(1)))||o&&"[object Map]"!=E(new o)||i&&"[object Promise]"!=E(i.resolve())||l&&"[object Set]"!=E(new l)||r&&"[object WeakMap]"!=E(new r))&&(E=function(n){var e=a(n),A="[object Object]"==e?n.constructor:void 0,t=A?c(A):"";if(t)switch(t){case s:return"[object DataView]";case C:return"[object Map]";case u:return"[object Promise]";case d:return"[object Set]";case m:return"[object WeakMap]"}return e}),n.exports=E},function(n,e,A){var t=A(19),o=A(13);n.exports=function(n){return"symbol"==typeof n||o(n)&&"[object Symbol]"==t(n)}},function(n,e,A){var t=A(19),o=A(7);n.exports=function(n){if(!o(n))return!1;var e=t(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e,A){var t=A(181),o=A(13),i=Object.prototype,l=i.hasOwnProperty,r=i.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(n){return o(n)&&l.call(n,"callee")&&!r.call(n,"callee")};n.exports=a},function(n,e,A){var t=A(183),o=A(43),i=A(63),l=i&&i.isTypedArray,r=l?o(l):t;n.exports=r},function(n,e){n.exports=function(n,e){for(var A=-1,t=null==n?0:n.length,o=Array(t);++A<t;)o[A]=e(n[A],A,n);return o}},function(n,e,A){var t=A(28);n.exports=function(n){if("string"==typeof n||t(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,A){var t=A(47),o=A(48);n.exports=function(n,e,A,i){var l=!A;A||(A={});for(var r=-1,a=e.length;++r<a;){var c=e[r],s=i?i(A[c],n[c],c,A,n):void 0;void 0===s&&(s=n[c]),l?o(A,c,s):t(A,c,s)}return A}},function(n,e){var A;A=function(){return this}();try{A=A||new Function("return this")()}catch(n){"object"==typeof window&&(A=window)}n.exports=A},function(n,e){n.exports=function(n){if(!n.webpackPolyfill){var e=Object.create(n);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(n,e,A){var t=A(38),o=A(150),i=A(151),l=A(152),r=A(153),a=A(154);function c(n){var e=this.__data__=new t(n);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=l,c.prototype.has=r,c.prototype.set=a,n.exports=c},function(n,e,A){var t=A(145),o=A(146),i=A(147),l=A(148),r=A(149);function a(n){var e=-1,A=null==n?0:n.length;for(this.clear();++e<A;){var t=n[e];this.set(t[0],t[1])}}a.prototype.clear=t,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=l,a.prototype.set=r,n.exports=a},function(n,e,A){var t=A(24);n.exports=function(n,e){for(var A=n.length;A--;)if(t(n[A][0],e))return A;return-1}},function(n,e,A){var t=A(18)(Object,"create");n.exports=t},function(n,e,A){var t=A(169);n.exports=function(n,e){var A=n.__data__;return t(e)?A["string"==typeof e?"string":"hash"]:A.map}},function(n,e){var A=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var t=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==t||"symbol"!=t&&A.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e){var A=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||A)}},function(n,e,A){var t=A(46),o=A(33);n.exports=function(n,e){for(var A=0,i=(e=t(e,n)).length;null!=n&&A<i;)n=n[o(e[A++])];return A&&A==i?n:void 0}},function(n,e,A){var t=A(4),o=A(65),i=A(190),l=A(93);n.exports=function(n,e){return t(n)?n:o(n,e)?[n]:i(l(n))}},function(n,e,A){var t=A(48),o=A(24),i=Object.prototype.hasOwnProperty;n.exports=function(n,e,A){var l=n[e];i.call(n,e)&&o(l,A)&&(void 0!==A||e in n)||t(n,e,A)}},function(n,e,A){var t=A(98);n.exports=function(n,e,A){"__proto__"==e&&t?t(n,e,{configurable:!0,enumerable:!0,value:A,writable:!0}):n[e]=A}},function(n,e,A){var t=A(88)(Object.getPrototypeOf,Object);n.exports=t},function(n,e,A){var t=A(71),o=A(229)(t);n.exports=o},function(n,e,A){var t=A(20),o=A(122),i=A(123);n.exports=function(n,e){return i(o(n,e,t),n+"")}},function(n,e,A){var t=A(24),o=A(14),i=A(42),l=A(7);n.exports=function(n,e,A){if(!l(A))return!1;var r=typeof e;return!!("number"==r?o(A)&&i(e,A.length):"string"==r&&e in A)&&t(A[e],n)}},function(n,e,A){"use strict";var t=A(1);n.exports={longestPath:function(n){var e={};t.forEach(n.sources(),(function A(o){var i=n.node(o);if(t.has(e,o))return i.rank;e[o]=!0;var l=t.min(t.map(n.outEdges(o),(function(e){return A(e.w)-n.edge(e).minlen})));return l!==Number.POSITIVE_INFINITY&&null!=l||(l=0),i.rank=l}))},slack:function(n,e){return n.node(e.w).rank-n.node(e.v).rank-n.edge(e).minlen}}},function(n,e,A){"use strict";(function(n){A.d(e,"a",(function(){return h})),A.d(e,"b",(function(){return hn}));var t=A(0),o=A(15),i=function(n){return n&&n[0]||null};function l(){}l.isRequired=l;var r={element:l,func:l,shape:function(){return l},instanceOf:function(){return l}},a=r.shape({trySubscribe:r.func.isRequired,tryUnsubscribe:r.func.isRequired,notifyNestedSubs:r.func.isRequired,isSubscribed:r.func.isRequired}),c=r.shape({subscribe:r.func.isRequired,dispatch:r.func.isRequired,getState:r.func.isRequired});function s(n){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(n);try{throw new Error(n)}catch(n){}}var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},u=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},d=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var A=arguments[e];for(var t in A)Object.prototype.hasOwnProperty.call(A,t)&&(n[t]=A[t])}return n},m=function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},E=function(n,e){var A={};for(var t in n)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(n,t)&&(A[t]=n[t]);return A},p=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e},f=!1;function g(){f||(f=!0,s("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}var h=function(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",A=arguments[1],o=A||e+"Subscription",l=function(n){function A(t,o){u(this,A);var i=p(this,n.call(this,t,o));return i[e]=t.store,i}return m(A,n),A.prototype.getChildContext=function(){var n;return(n={})[e]=this[e],n[o]=null,n},A.prototype.render=function(){return i(this.props.children)},A}(t.Component);return l.prototype.componentWillReceiveProps=function(n){this[e]!==n.store&&g()},l.childContextTypes=((n={})[e]=c.isRequired,n[o]=a,n),l}(),I={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},y={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},B=Object.defineProperty,M=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,b=Object.getOwnPropertyDescriptor,O=Object.getPrototypeOf,G=O&&O(Object),D=function n(e,A,t){if("string"!=typeof A){if(G){var o=O(A);o&&o!==G&&n(e,o,t)}var i=M(A);v&&(i=i.concat(v(A)));for(var l=0;l<i.length;++l){var r=i[l];if(!(I[r]||y[r]||t&&t[r])){var a=b(A,r);try{B(e,r,a)}catch(n){}}}return e}return e},k={notify:function(){}};var K=function(){function n(e,A,t){u(this,n),this.store=e,this.parentSub=A,this.onStateChange=t,this.unsubscribe=null,this.listeners=k}return n.prototype.addNestedSub=function(n){return this.trySubscribe(),this.listeners.subscribe(n)},n.prototype.notifyNestedSubs=function(){this.listeners.notify()},n.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},n.prototype.trySubscribe=function(){var n,e;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(n=[],e=[],{clear:function(){e=null,n=null},notify:function(){for(var A=n=e,t=0;t<A.length;t++)A[t]()},get:function(){return e},subscribe:function(A){var t=!0;return e===n&&(e=n.slice()),e.push(A),function(){t&&null!==n&&(t=!1,e===n&&(e=n.slice()),e.splice(e.indexOf(A),1))}}}))},n.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=k)},n}(),S=0,_={};function x(){}function T(n,e){var A={run:function(t){try{var o=n(e.getState(),t);(o!==A.props||A.error)&&(A.shouldComponentUpdate=!0,A.props=o,A.error=null)}catch(n){A.shouldComponentUpdate=!0,A.error=n}}};return A}function Q(n){var e,A,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.getDisplayName,l=void 0===i?function(n){return"ConnectAdvanced("+n+")"}:i,r=o.methodName,s=void 0===r?"connectAdvanced":r,C=o.renderCountProp,f=void 0===C?void 0:C,g=o.shouldHandleStateChanges,h=void 0===g||g,I=o.storeKey,y=void 0===I?"store":I,B=o.withRef,M=void 0!==B&&B,v=E(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),b=y+"Subscription",O=S++,G=((e={})[y]=c,e[b]=a,e),k=((A={})[b]=a,A);return function(e){JSON.stringify(e);var A=e.displayName||e.name||"Component",o=l(A),i=d({},v,{getDisplayName:l,methodName:s,renderCountProp:f,shouldHandleStateChanges:h,storeKey:y,withRef:M,displayName:o,wrappedComponentName:A,WrappedComponent:e}),r=function(A){function o(n,e){u(this,o);var t=p(this,A.call(this,n,e));return t.version=O,t.state={},t.renderCount=0,t.store=n[y]||e[y],t.propsMode=Boolean(n[y]),t.setWrappedInstance=t.setWrappedInstance.bind(t),t.store,t.initSelector(),t.initSubscription(),t}return m(o,A),o.prototype.getChildContext=function(){var n,e=this.propsMode?null:this.subscription;return(n={})[b]=e||this.context[b],n},o.prototype.componentDidMount=function(){h&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},o.prototype.componentWillReceiveProps=function(n){this.selector.run(n)},o.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},o.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=x,this.store=null,this.selector.run=x,this.selector.shouldComponentUpdate=!1},o.prototype.getWrappedInstance=function(){return this.wrappedInstance},o.prototype.setWrappedInstance=function(n){this.wrappedInstance=n},o.prototype.initSelector=function(){var e=n(this.store.dispatch,i);this.selector=T(e,this.store),this.selector.run(this.props)},o.prototype.initSubscription=function(){if(h){var n=(this.propsMode?this.props:this.context)[b];this.subscription=new K(this.store,n,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},o.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(_)):this.notifyNestedSubs()},o.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},o.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},o.prototype.addExtraProps=function(n){if(!(M||f||this.propsMode&&this.subscription))return n;var e=d({},n);return M&&(e.ref=this.setWrappedInstance),f&&(e[f]=this.renderCount++),this.propsMode&&this.subscription&&(e[b]=this.subscription),e},o.prototype.render=function(){var n=this.selector;if(n.shouldComponentUpdate=!1,n.error)throw n.error;return Object(t.h)(e,this.addExtraProps(n.props))},o}(t.Component);return r.WrappedComponent=e,r.displayName=o,r.childContextTypes=k,r.contextTypes=G,r.prototype.componentWillUpdate=function(){var n=this;if(this.version!==O){this.version=O,this.initSelector();var e=[];this.subscription&&(e=this.subscription.listeners.get(),this.subscription.tryUnsubscribe()),this.initSubscription(),h&&(this.subscription.trySubscribe(),e.forEach((function(e){return n.subscription.listeners.subscribe(e)})))}},D(r,e)}}var U=Object.prototype.hasOwnProperty;function w(n,e){return n===e?0!==n||0!==e||1/n==1/e:n!=n&&e!=e}function N(n,e){if(w(n,e))return!0;if("object"!==(void 0===n?"undefined":C(n))||null===n||"object"!==(void 0===e?"undefined":C(e))||null===e)return!1;var A=Object.keys(n),t=Object.keys(e);if(A.length!==t.length)return!1;for(var o=0;o<A.length;o++)if(!U.call(e,A[o])||!w(n[A[o]],e[A[o]]))return!1;return!0}var P="object"==(void 0===n?"undefined":C(n))&&n&&n.Object===Object&&n,R="object"==("undefined"==typeof self?"undefined":C(self))&&self&&self.Object===Object&&self,Y=(P||R||Function("return this")()).Symbol,W=Object.prototype,z=W.hasOwnProperty,L=W.toString,j=Y?Y.toStringTag:void 0;var F=Object.prototype.toString;var H=Y?Y.toStringTag:void 0;function q(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":H&&H in Object(n)?function(n){var e=z.call(n,j),A=n[j];try{n[j]=void 0;var t=!0}catch(n){}var o=L.call(n);return t&&(e?n[j]=A:delete n[j]),o}(n):function(n){return F.call(n)}(n)}var V,X,Z=(V=Object.getPrototypeOf,X=Object,function(n){return V(X(n))});var J=Function.prototype,$=Object.prototype,nn=J.toString,en=$.hasOwnProperty,An=nn.call(Object);function tn(n){if(!function(n){return null!=n&&"object"==(void 0===n?"undefined":C(n))}(n)||"[object Object]"!=q(n))return!1;var e=Z(n);if(null===e)return!0;var A=en.call(e,"constructor")&&e.constructor;return"function"==typeof A&&A instanceof A&&nn.call(A)==An}function on(n,e,A){tn(n)||s(A+"() in "+e+" must return a plain object. Instead received "+n+".")}function ln(n){return function(e,A){var t=n(e,A);function o(){return t}return o.dependsOnOwnProps=!1,o}}function rn(n){return null!==n.dependsOnOwnProps&&void 0!==n.dependsOnOwnProps?Boolean(n.dependsOnOwnProps):1!==n.length}function an(n,e){return function(A,t){var o=t.displayName,i=function(n,e){return i.dependsOnOwnProps?i.mapToProps(n,e):i.mapToProps(n)};return i.dependsOnOwnProps=!0,i.mapToProps=function(A,t){i.mapToProps=n,i.dependsOnOwnProps=rn(n);var l=i(A,t);return"function"==typeof l&&(i.mapToProps=l,i.dependsOnOwnProps=rn(l),l=i(A,t)),on(l,o,e),l},i}}var cn=[function(n){return"function"==typeof n?an(n,"mapDispatchToProps"):void 0},function(n){return n?void 0:ln((function(n){return{dispatch:n}}))},function(n){return n&&"object"===(void 0===n?"undefined":C(n))?ln((function(e){return Object(o.b)(n,e)})):void 0}];var sn=[function(n){return"function"==typeof n?an(n,"mapStateToProps"):void 0},function(n){return n?void 0:ln((function(){return{}}))}];function Cn(n,e,A){return d({},A,n,e)}var un=[function(n){return"function"==typeof n?function(n){return function(e,A){var t=A.displayName,o=A.pure,i=A.areMergedPropsEqual,l=!1,r=void 0;return function(e,A,a){var c=n(e,A,a);return l?o&&i(c,r)||(r=c):(l=!0,on(r=c,t,"mergeProps")),r}}}(n):void 0},function(n){return n?void 0:function(){return Cn}}];function dn(n,e,A){if(!n)throw new Error("Unexpected value for "+e+" in "+A+".");"mapStateToProps"!==e&&"mapDispatchToProps"!==e||n.hasOwnProperty("dependsOnOwnProps")||s("The selector for "+e+" of "+A+" did not specify a value for dependsOnOwnProps.")}function mn(n,e,A,t){return function(o,i){return A(n(o,i),e(t,i),i)}}function En(n,e,A,t,o){var i=o.areStatesEqual,l=o.areOwnPropsEqual,r=o.areStatePropsEqual,a=!1,c=void 0,s=void 0,C=void 0,u=void 0,d=void 0;function m(o,a){var m,E,p=!l(a,s),f=!i(o,c);return c=o,s=a,p&&f?(C=n(c,s),e.dependsOnOwnProps&&(u=e(t,s)),d=A(C,u,s)):p?(n.dependsOnOwnProps&&(C=n(c,s)),e.dependsOnOwnProps&&(u=e(t,s)),d=A(C,u,s)):f?(m=n(c,s),E=!r(m,C),C=m,E&&(d=A(C,u,s)),d):d}return function(o,i){return a?m(o,i):(C=n(c=o,s=i),u=e(t,s),d=A(C,u,s),a=!0,d)}}function pn(n,e){var A=e.initMapStateToProps,t=e.initMapDispatchToProps,o=e.initMergeProps,i=E(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=A(n,i),r=t(n,i),a=o(n,i);return function(n,e,A,t){dn(n,"mapStateToProps",t),dn(e,"mapDispatchToProps",t),dn(A,"mergeProps",t)}(l,r,a,i.displayName),(i.pure?En:mn)(l,r,a,n,i)}function fn(n,e,A){for(var t=e.length-1;t>=0;t--){var o=e[t](n);if(o)return o}return function(e,t){throw new Error("Invalid value of type "+(void 0===n?"undefined":C(n))+" for "+A+" argument when connecting component "+t.wrappedComponentName+".")}}function gn(n,e){return n===e}var hn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.connectHOC,A=void 0===e?Q:e,t=n.mapStateToPropsFactories,o=void 0===t?sn:t,i=n.mapDispatchToPropsFactories,l=void 0===i?cn:i,r=n.mergePropsFactories,a=void 0===r?un:r,c=n.selectorFactory,s=void 0===c?pn:c;return function(n,e,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.pure,c=void 0===r||r,C=i.areStatesEqual,u=void 0===C?gn:C,m=i.areOwnPropsEqual,p=void 0===m?N:m,f=i.areStatePropsEqual,g=void 0===f?N:f,h=i.areMergedPropsEqual,I=void 0===h?N:h,y=E(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),B=fn(n,o,"mapStateToProps"),M=fn(e,l,"mapDispatchToProps"),v=fn(t,a,"mergeProps");return A(s,d({methodName:"connect",getDisplayName:function(n){return"Connect("+n+")"},shouldHandleStateChanges:Boolean(n),initMapStateToProps:B,initMapDispatchToProps:M,initMergeProps:v,pure:c,areStatesEqual:u,areOwnPropsEqual:p,areStatePropsEqual:g,areMergedPropsEqual:I},y))}}()}).call(this,A(35))},function(n,e,A){"use strict";(function(n){var A="object"==typeof n&&n&&n.Object===Object&&n;e.a=A}).call(this,A(35))},function(n,e,A){var t=A(18)(A(11),"Map");n.exports=t},function(n,e,A){var t=A(161),o=A(168),i=A(170),l=A(171),r=A(172);function a(n){var e=-1,A=null==n?0:n.length;for(this.clear();++e<A;){var t=n[e];this.set(t[0],t[1])}}a.prototype.clear=t,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=l,a.prototype.set=r,n.exports=a},function(n,e){n.exports=function(n){var e=-1,A=Array(n.size);return n.forEach((function(n){A[++e]=n})),A}},function(n,e){n.exports=function(n,e){for(var A=-1,t=e.length,o=n.length;++A<t;)n[o+A]=e[A];return n}},function(n,e,A){var t=A(85),o=A(86),i=Object.prototype.propertyIsEnumerable,l=Object.getOwnPropertySymbols,r=l?function(n){return null==n?[]:(n=Object(n),t(l(n),(function(e){return i.call(n,e)})))}:o;n.exports=r},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,A){(function(n){var t=A(76),o=e&&!e.nodeType&&e,i=o&&"object"==typeof n&&n&&!n.nodeType&&n,l=i&&i.exports===o&&t.process,r=function(){try{var n=i&&i.require&&i.require("util").types;return n||l&&l.binding&&l.binding("util")}catch(n){}}();n.exports=r}).call(this,A(61)(n))},function(n,e,A){var t=A(44),o=A(184),i=Object.prototype.hasOwnProperty;n.exports=function(n){if(!t(n))return o(n);var e=[];for(var A in Object(n))i.call(n,A)&&"constructor"!=A&&e.push(A);return e}},function(n,e,A){var t=A(4),o=A(28),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;n.exports=function(n,e){if(t(n))return!1;var A=typeof n;return!("number"!=A&&"symbol"!=A&&"boolean"!=A&&null!=n&&!o(n))||(l.test(n)||!i.test(n)||null!=e&&n in Object(e))}},function(n,e,A){var t=A(209),o=A(17);n.exports=function(n){return null==n?[]:t(n,o(n))}},function(n,e,A){"use strict";var t=A(8);n.exports=o;function o(n){this._isDirected=!t.has(n,"directed")||n.directed,this._isMultigraph=!!t.has(n,"multigraph")&&n.multigraph,this._isCompound=!!t.has(n,"compound")&&n.compound,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(n,e){n[e]?n[e]++:n[e]=1}function l(n,e){--n[e]||delete n[e]}function r(n,e,A,o){var i=""+e,l=""+A;if(!n&&i>l){var r=i;i=l,l=r}return i+""+l+""+(t.isUndefined(o)?"\0":o)}function a(n,e,A,t){var o=""+e,i=""+A;if(!n&&o>i){var l=o;o=i,i=l}var r={v:o,w:i};return t&&(r.name=t),r}function c(n,e){return r(n,e.v,e.w,e.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(n){return this._label=n,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(n){return t.isFunction(n)||(n=t.constant(n)),this._defaultNodeLabelFn=n,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return t.keys(this._nodes)},o.prototype.sources=function(){var n=this;return t.filter(this.nodes(),(function(e){return t.isEmpty(n._in[e])}))},o.prototype.sinks=function(){var n=this;return t.filter(this.nodes(),(function(e){return t.isEmpty(n._out[e])}))},o.prototype.setNodes=function(n,e){var A=arguments,o=this;return t.each(n,(function(n){A.length>1?o.setNode(n,e):o.setNode(n)})),this},o.prototype.setNode=function(n,e){return t.has(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=e),this):(this._nodes[n]=arguments.length>1?e:this._defaultNodeLabelFn(n),this._isCompound&&(this._parent[n]="\0",this._children[n]={},this._children["\0"][n]=!0),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)},o.prototype.node=function(n){return this._nodes[n]},o.prototype.hasNode=function(n){return t.has(this._nodes,n)},o.prototype.removeNode=function(n){var e=this;if(t.has(this._nodes,n)){var A=function(n){e.removeEdge(e._edgeObjs[n])};delete this._nodes[n],this._isCompound&&(this._removeFromParentsChildList(n),delete this._parent[n],t.each(this.children(n),(function(n){e.setParent(n)})),delete this._children[n]),t.each(t.keys(this._in[n]),A),delete this._in[n],delete this._preds[n],t.each(t.keys(this._out[n]),A),delete this._out[n],delete this._sucs[n],--this._nodeCount}return this},o.prototype.setParent=function(n,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(e))e="\0";else{for(var A=e+="";!t.isUndefined(A);A=this.parent(A))if(A===n)throw new Error("Setting "+e+" as parent of "+n+" would create a cycle");this.setNode(e)}return this.setNode(n),this._removeFromParentsChildList(n),this._parent[n]=e,this._children[e][n]=!0,this},o.prototype._removeFromParentsChildList=function(n){delete this._children[this._parent[n]][n]},o.prototype.parent=function(n){if(this._isCompound){var e=this._parent[n];if("\0"!==e)return e}},o.prototype.children=function(n){if(t.isUndefined(n)&&(n="\0"),this._isCompound){var e=this._children[n];if(e)return t.keys(e)}else{if("\0"===n)return this.nodes();if(this.hasNode(n))return[]}},o.prototype.predecessors=function(n){var e=this._preds[n];if(e)return t.keys(e)},o.prototype.successors=function(n){var e=this._sucs[n];if(e)return t.keys(e)},o.prototype.neighbors=function(n){var e=this.predecessors(n);if(e)return t.union(e,this.successors(n))},o.prototype.isLeaf=function(n){return 0===(this.isDirected()?this.successors(n):this.neighbors(n)).length},o.prototype.filterNodes=function(n){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var A=this;t.each(this._nodes,(function(A,t){n(t)&&e.setNode(t,A)})),t.each(this._edgeObjs,(function(n){e.hasNode(n.v)&&e.hasNode(n.w)&&e.setEdge(n,A.edge(n))}));var o={};return this._isCompound&&t.each(e.nodes(),(function(n){e.setParent(n,function n(t){var i=A.parent(t);return void 0===i||e.hasNode(i)?(o[t]=i,i):i in o?o[i]:n(i)}(n))})),e},o.prototype.setDefaultEdgeLabel=function(n){return t.isFunction(n)||(n=t.constant(n)),this._defaultEdgeLabelFn=n,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return t.values(this._edgeObjs)},o.prototype.setPath=function(n,e){var A=this,o=arguments;return t.reduce(n,(function(n,t){return o.length>1?A.setEdge(n,t,e):A.setEdge(n,t),t})),this},o.prototype.setEdge=function(){var n,e,A,o,l=!1,c=arguments[0];"object"==typeof c&&null!==c&&"v"in c?(n=c.v,e=c.w,A=c.name,2===arguments.length&&(o=arguments[1],l=!0)):(n=c,e=arguments[1],A=arguments[3],arguments.length>2&&(o=arguments[2],l=!0)),n=""+n,e=""+e,t.isUndefined(A)||(A=""+A);var s=r(this._isDirected,n,e,A);if(t.has(this._edgeLabels,s))return l&&(this._edgeLabels[s]=o),this;if(!t.isUndefined(A)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(n),this.setNode(e),this._edgeLabels[s]=l?o:this._defaultEdgeLabelFn(n,e,A);var C=a(this._isDirected,n,e,A);return n=C.v,e=C.w,Object.freeze(C),this._edgeObjs[s]=C,i(this._preds[e],n),i(this._sucs[n],e),this._in[e][s]=C,this._out[n][s]=C,this._edgeCount++,this},o.prototype.edge=function(n,e,A){var t=1===arguments.length?c(this._isDirected,arguments[0]):r(this._isDirected,n,e,A);return this._edgeLabels[t]},o.prototype.hasEdge=function(n,e,A){var o=1===arguments.length?c(this._isDirected,arguments[0]):r(this._isDirected,n,e,A);return t.has(this._edgeLabels,o)},o.prototype.removeEdge=function(n,e,A){var t=1===arguments.length?c(this._isDirected,arguments[0]):r(this._isDirected,n,e,A),o=this._edgeObjs[t];return o&&(n=o.v,e=o.w,delete this._edgeLabels[t],delete this._edgeObjs[t],l(this._preds[e],n),l(this._sucs[n],e),delete this._in[e][t],delete this._out[n][t],this._edgeCount--),this},o.prototype.inEdges=function(n,e){var A=this._in[n];if(A){var o=t.values(A);return e?t.filter(o,(function(n){return n.v===e})):o}},o.prototype.outEdges=function(n,e){var A=this._out[n];if(A){var o=t.values(A);return e?t.filter(o,(function(n){return n.w===e})):o}},o.prototype.nodeEdges=function(n,e){var A=this.inEdges(n,e);if(A)return A.concat(this.outEdges(n,e))}},function(n,e){n.exports=function(n,e){for(var A=-1,t=null==n?0:n.length;++A<t&&!1!==e(n[A],A,n););return n}},function(n,e,A){var t=A(82);n.exports=function(n){var e=new n.constructor(n.byteLength);return new t(e).set(new t(n)),e}},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,A){var t=A(72),o=A(17);n.exports=function(n,e){return n&&t(n,e,o)}},function(n,e,A){var t=A(228)();n.exports=t},function(n,e,A){var t=A(59),o=A(242);n.exports=function n(e,A,i,l,r){var a=-1,c=e.length;for(i||(i=o),r||(r=[]);++a<c;){var s=e[a];A>0&&i(s)?A>1?n(s,A-1,i,l,r):t(r,s):l||(r[r.length]=s)}return r}},function(n,e,A){var t=A(28);n.exports=function(n,e,A){for(var o=-1,i=n.length;++o<i;){var l=n[o],r=e(l);if(null!=r&&(void 0===a?r==r&&!t(r):A(r,a)))var a=r,c=l}return c}},function(n,e,A){"use strict";(function(n,t){var o,i=A(135);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:t;var l=Object(i.a)(o);e.a=l}).call(this,A(35),A(36)(n))},function(n,e,A){(function(e){var A="object"==typeof e&&e&&e.Object===Object&&e;n.exports=A}).call(this,A(35))},function(n,e){var A=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return A.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,A){var t=A(173),o=A(13);n.exports=function n(e,A,i,l,r){return e===A||(null==e||null==A||!o(e)&&!o(A)?e!=e&&A!=A:t(e,A,i,l,n,r))}},function(n,e,A){var t=A(80),o=A(176),i=A(81);n.exports=function(n,e,A,l,r,a){var c=1&A,s=n.length,C=e.length;if(s!=C&&!(c&&C>s))return!1;var u=a.get(n),d=a.get(e);if(u&&d)return u==e&&d==n;var m=-1,E=!0,p=2&A?new t:void 0;for(a.set(n,e),a.set(e,n);++m<s;){var f=n[m],g=e[m];if(l)var h=c?l(g,f,m,e,n,a):l(f,g,m,n,e,a);if(void 0!==h){if(h)continue;E=!1;break}if(p){if(!o(e,(function(n,e){if(!i(p,e)&&(f===n||r(f,n,A,l,a)))return p.push(e)}))){E=!1;break}}else if(f!==g&&!r(f,g,A,l,a)){E=!1;break}}return a.delete(n),a.delete(e),E}},function(n,e,A){var t=A(57),o=A(174),i=A(175);function l(n){var e=-1,A=null==n?0:n.length;for(this.__data__=new t;++e<A;)this.add(n[e])}l.prototype.add=l.prototype.push=o,l.prototype.has=i,n.exports=l},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,A){var t=A(11).Uint8Array;n.exports=t},function(n,e,A){var t=A(84),o=A(60),i=A(17);n.exports=function(n){return t(n,i,o)}},function(n,e,A){var t=A(59),o=A(4);n.exports=function(n,e,A){var i=e(n);return o(n)?i:t(i,A(n))}},function(n,e){n.exports=function(n,e){for(var A=-1,t=null==n?0:n.length,o=0,i=[];++A<t;){var l=n[A];e(l,A,n)&&(i[o++]=l)}return i}},function(n,e){n.exports=function(){return[]}},function(n,e,A){var t=A(180),o=A(30),i=A(4),l=A(26),r=A(42),a=A(31),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var A=i(n),s=!A&&o(n),C=!A&&!s&&l(n),u=!A&&!s&&!C&&a(n),d=A||s||C||u,m=d?t(n.length,String):[],E=m.length;for(var p in n)!e&&!c.call(n,p)||d&&("length"==p||C&&("offset"==p||"parent"==p)||u&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||r(p,E))||m.push(p);return m}},function(n,e){n.exports=function(n,e){return function(A){return n(e(A))}}},function(n,e,A){var t=A(18)(A(11),"Set");n.exports=t},function(n,e,A){var t=A(7);n.exports=function(n){return n==n&&!t(n)}},function(n,e){n.exports=function(n,e){return function(A){return null!=A&&(A[n]===e&&(void 0!==e||n in Object(A)))}}},function(n,e,A){var t=A(45);n.exports=function(n,e,A){var o=null==n?void 0:t(n,e);return void 0===o?A:o}},function(n,e,A){var t=A(193);n.exports=function(n){return null==n?"":t(n)}},function(n,e,A){var t=A(194),o=A(95);n.exports=function(n,e){return null!=n&&o(n,e,t)}},function(n,e,A){var t=A(46),o=A(30),i=A(4),l=A(42),r=A(62),a=A(33);n.exports=function(n,e,A){for(var c=-1,s=(e=t(e,n)).length,C=!1;++c<s;){var u=a(e[c]);if(!(C=null!=n&&A(n,u)))break;n=n[u]}return C||++c!=s?C:!!(s=null==n?0:n.length)&&r(s)&&l(u,s)&&(i(n)||o(n))}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,A){var t=A(45),o=A(199),i=A(46);n.exports=function(n,e,A){for(var l=-1,r=e.length,a={};++l<r;){var c=e[l],s=t(n,c);A(s,c)&&o(a,i(c,n),s)}return a}},function(n,e,A){var t=A(18),o=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=o},function(n,e,A){var t=A(84),o=A(100),i=A(21);n.exports=function(n){return t(n,i,o)}},function(n,e,A){var t=A(59),o=A(49),i=A(60),l=A(86),r=Object.getOwnPropertySymbols?function(n){for(var e=[];n;)t(e,i(n)),n=o(n);return e}:l;n.exports=r},function(n,e,A){var t=A(102),o=A(204),i=A(205);n.exports=function(n,e,A){return e==e?i(n,e,A):t(n,o,A)}},function(n,e){n.exports=function(n,e,A,t){for(var o=n.length,i=A+(t?1:-1);t?i--:++i<o;)if(e(n[i],i,n))return i;return-1}},function(n,e,A){var t=A(19),o=A(4),i=A(13);n.exports=function(n){return"string"==typeof n||!o(n)&&i(n)&&"[object String]"==t(n)}},function(n,e,A){var t=A(105);n.exports=function(n){var e=t(n),A=e%1;return e==e?A?e-A:e:0}},function(n,e,A){var t=A(206);n.exports=function(n){return n?(n=t(n))===1/0||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}},function(n,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.undo=function(){return{type:"UNDO_HISTORY@UNDO"}},e.redo=function(){return{type:"UNDO_HISTORY@REDO"}},e.addUndoItem=function(n,e,A,t){return{type:"UNDO_HISTORY@ADD",payload:{action:n,beforeState:e,afterState:A,args:t}}},e.clear=function(){return{type:"UNDO_HISTORY@CLEAR"}}},function(n,e,A){var t=A(37),o=A(68),i=A(47),l=A(215),r=A(216),a=A(108),c=A(109),s=A(217),C=A(218),u=A(83),d=A(99),m=A(27),E=A(219),p=A(220),f=A(111),g=A(4),h=A(26),I=A(224),y=A(7),B=A(226),M=A(17),v=A(21),b={};b["[object Arguments]"]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object DataView]"]=b["[object Boolean]"]=b["[object Date]"]=b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Map]"]=b["[object Number]"]=b["[object Object]"]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object Symbol]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b["[object Error]"]=b["[object Function]"]=b["[object WeakMap]"]=!1,n.exports=function n(e,A,O,G,D,k){var K,S=1&A,_=2&A,x=4&A;if(O&&(K=D?O(e,G,D,k):O(e)),void 0!==K)return K;if(!y(e))return e;var T=g(e);if(T){if(K=E(e),!S)return c(e,K)}else{var Q=m(e),U="[object Function]"==Q||"[object GeneratorFunction]"==Q;if(h(e))return a(e,S);if("[object Object]"==Q||"[object Arguments]"==Q||U&&!D){if(K=_||U?{}:f(e),!S)return _?C(e,r(K,e)):s(e,l(K,e))}else{if(!b[Q])return D?e:{};K=p(e,Q,S)}}k||(k=new t);var w=k.get(e);if(w)return w;k.set(e,K),B(e)?e.forEach((function(t){K.add(n(t,A,O,t,e,k))})):I(e)&&e.forEach((function(t,o){K.set(o,n(t,A,O,o,e,k))}));var N=T?void 0:(x?_?d:u:_?v:M)(e);return o(N||e,(function(t,o){N&&(t=e[o=t]),i(K,o,n(t,A,O,o,e,k))})),K}},function(n,e,A){(function(n){var t=A(11),o=e&&!e.nodeType&&e,i=o&&"object"==typeof n&&n&&!n.nodeType&&n,l=i&&i.exports===o?t.Buffer:void 0,r=l?l.allocUnsafe:void 0;n.exports=function(n,e){if(e)return n.slice();var A=n.length,t=r?r(A):new n.constructor(A);return n.copy(t),t}}).call(this,A(61)(n))},function(n,e){n.exports=function(n,e){var A=-1,t=n.length;for(e||(e=Array(t));++A<t;)e[A]=n[A];return e}},function(n,e,A){var t=A(69);n.exports=function(n,e){var A=e?t(n.buffer):n.buffer;return new n.constructor(A,n.byteOffset,n.length)}},function(n,e,A){var t=A(112),o=A(49),i=A(44);n.exports=function(n){return"function"!=typeof n.constructor||i(n)?{}:t(o(n))}},function(n,e,A){var t=A(7),o=Object.create,i=function(){function n(){}return function(e){if(!t(e))return{};if(o)return o(e);n.prototype=e;var A=new n;return n.prototype=void 0,A}}();n.exports=i},function(n,e,A){n.exports=A(114)},function(n,e,A){var t=A(68),o=A(50),i=A(115),l=A(4);n.exports=function(n,e){return(l(n)?t:o)(n,i(e))}},function(n,e,A){var t=A(20);n.exports=function(n){return"function"==typeof n?n:t}},function(n,e,A){var t=A(85),o=A(230),i=A(10),l=A(4);n.exports=function(n,e){return(l(n)?t:o)(n,i(e,3))}},function(n,e,A){var t=A(231),o=A(95);n.exports=function(n,e){return null!=n&&o(n,e,t)}},function(n,e){n.exports=function(n){return void 0===n}},function(n,e,A){var t=A(32),o=A(10),i=A(120),l=A(4);n.exports=function(n,e){return(l(n)?t:i)(n,o(e,3))}},function(n,e,A){var t=A(50),o=A(14);n.exports=function(n,e){var A=-1,i=o(n)?Array(n.length):[];return t(n,(function(n,t,o){i[++A]=e(n,t,o)})),i}},function(n,e,A){var t=A(233),o=A(50),i=A(10),l=A(234),r=A(4);n.exports=function(n,e,A){var a=r(n)?t:l,c=arguments.length<3;return a(n,i(e,4),A,c,o)}},function(n,e,A){var t=A(243),o=Math.max;n.exports=function(n,e,A){return e=o(void 0===e?n.length-1:e,0),function(){for(var i=arguments,l=-1,r=o(i.length-e,0),a=Array(r);++l<r;)a[l]=i[e+l];l=-1;for(var c=Array(e+1);++l<e;)c[l]=i[l];return c[e]=A(a),t(n,this,c)}}},function(n,e,A){var t=A(244),o=A(245)(t);n.exports=o},function(n,e,A){var t=A(14),o=A(13);n.exports=function(n){return o(n)&&t(n)}},function(n,e,A){var t=A(8),o=A(126);n.exports=function(n,e,A,t){return function(n,e,A,t){var i,l,r={},a=new o,c=function(n){var e=n.v!==i?n.v:n.w,t=r[e],o=A(n),c=l.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+n+" Weight: "+o);c<t.distance&&(t.distance=c,t.predecessor=i,a.decrease(e,c))};n.nodes().forEach((function(n){var A=n===e?0:Number.POSITIVE_INFINITY;r[n]={distance:A},a.add(n,A)}));for(;a.size()>0&&(i=a.removeMin(),(l=r[i]).distance!==Number.POSITIVE_INFINITY);)t(i).forEach(c);return r}(n,String(e),A||i,t||function(e){return n.outEdges(e)})};var i=t.constant(1)},function(n,e,A){var t=A(8);function o(){this._arr=[],this._keyIndices={}}n.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(n){return n.key}))},o.prototype.has=function(n){return t.has(this._keyIndices,n)},o.prototype.priority=function(n){var e=this._keyIndices[n];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(n,e){var A=this._keyIndices;if(n=String(n),!t.has(A,n)){var o=this._arr,i=o.length;return A[n]=i,o.push({key:n,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},o.prototype.decrease=function(n,e){var A=this._keyIndices[n];if(e>this._arr[A].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[A].priority+" New: "+e);this._arr[A].priority=e,this._decrease(A)},o.prototype._heapify=function(n){var e=this._arr,A=2*n,t=A+1,o=n;A<e.length&&(o=e[A].priority<e[o].priority?A:o,t<e.length&&(o=e[t].priority<e[o].priority?t:o),o!==n&&(this._swap(n,o),this._heapify(o)))},o.prototype._decrease=function(n){for(var e,A=this._arr,t=A[n].priority;0!==n&&!(A[e=n>>1].priority<t);)this._swap(n,e),n=e},o.prototype._swap=function(n,e){var A=this._arr,t=this._keyIndices,o=A[n],i=A[e];A[n]=i,A[e]=o,t[i.key]=n,t[o.key]=e}},function(n,e,A){var t=A(8);n.exports=function(n){var e=0,A=[],o={},i=[];return n.nodes().forEach((function(l){t.has(o,l)||function l(r){var a=o[r]={onStack:!0,lowlink:e,index:e++};if(A.push(r),n.successors(r).forEach((function(n){t.has(o,n)?o[n].onStack&&(a.lowlink=Math.min(a.lowlink,o[n].index)):(l(n),a.lowlink=Math.min(a.lowlink,o[n].lowlink))})),a.lowlink===a.index){var c,s=[];do{c=A.pop(),o[c].onStack=!1,s.push(c)}while(r!==c);i.push(s)}}(l)})),i}},function(n,e,A){var t=A(8);function o(n){var e={},A={},o=[];if(t.each(n.sinks(),(function l(r){if(t.has(A,r))throw new i;t.has(e,r)||(A[r]=!0,e[r]=!0,t.each(n.predecessors(r),l),delete A[r],o.push(r))})),t.size(e)!==n.nodeCount())throw new i;return o}function i(){}n.exports=o,o.CycleException=i,i.prototype=new Error},function(n,e,A){var t=A(8);n.exports=function(n,e,A){t.isArray(e)||(e=[e]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),i=[],l={};return t.each(e,(function(e){if(!n.hasNode(e))throw new Error("Graph does not have node: "+e);!function n(e,A,o,i,l,r){t.has(i,A)||(i[A]=!0,o||r.push(A),t.each(l(A),(function(A){n(e,A,o,i,l,r)})),o&&r.push(A))}(n,e,"post"===A,l,o,i)})),i}},function(n,e,A){var t=A(73);n.exports=function(n){return(null==n?0:n.length)?t(n,1):[]}},function(n,e,A){var t=A(48),o=A(24);n.exports=function(n,e,A){(void 0!==A&&!o(n[e],A)||void 0===A&&!(e in n))&&t(n,e,A)}},function(n,e){n.exports=function(n,e){if(("constructor"!==e||"function"!=typeof n[e])&&"__proto__"!=e)return n[e]}},function(n,e){n.exports=function(n,e){return n<e}},function(n,e,A){"use strict";var t=A(1),o=A(12).Graph,i=A(53).slack;function l(n,e){return t.forEach(n.nodes(),(function A(o){t.forEach(e.nodeEdges(o),(function(t){var l=t.v,r=o===l?t.w:l;n.hasNode(r)||i(e,t)||(n.setNode(r,{}),n.setEdge(o,r,{}),A(r))}))})),n.nodeCount()}function r(n,e){return t.minBy(e.edges(),(function(A){if(n.hasNode(A.v)!==n.hasNode(A.w))return i(e,A)}))}function a(n,e,A){t.forEach(n.nodes(),(function(n){e.node(n).rank+=A}))}n.exports=function(n){var e,A,t=new o({directed:!1}),c=n.nodes()[0],s=n.nodeCount();t.setNode(c,{});for(;l(t,n)<s;)e=r(t,n),A=t.hasNode(e.v)?i(n,e):-i(n,e),a(t,n,A);return t}},function(n,e,A){"use strict";function t(n){var e,A=n.Symbol;return"function"==typeof A?A.observable?e=A.observable:(e=A("observable"),A.observable=e):e="@@observable",e}A.d(e,"a",(function(){return t}))},function(n,e,A){"use strict";e.a=function(){return!1}},function(n,e,A){"use strict";(function(n){var t=A(3),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof n&&n&&!n.nodeType&&n,l=i&&i.exports===o?t.a.Buffer:void 0,r=l?l.allocUnsafe:void 0;e.a=function(n,e){if(e)return n.slice();var A=n.length,t=r?r(A):new n.constructor(A);return n.copy(t),t}}).call(this,A(36)(n))},,function(n,e,A){"use strict";var t,o,i,l,r,a,c=(t="/Users/akasivis/Desktop/git/diagram-maker/src/polyfills/object-values.ts",o="daac9f6d6088cc3c25cafa946ec27f7fdfc4a926",i=new(0,function(){}.constructor)("return this")(),r={path:"/Users/akasivis/Desktop/git/diagram-maker/src/polyfills/object-values.ts",statementMap:{0:{start:{line:3,column:0},end:{line:8,column:1}},1:{start:{line:4,column:4},end:{line:7,column:6}},2:{start:{line:5,column:8},end:{line:6,column:54}},3:{start:{line:6,column:34},end:{line:6,column:50}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:20},end:{line:4,column:21}},loc:{start:{line:4,column:35},end:{line:7,column:5}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:6,column:17},end:{line:6,column:18}},loc:{start:{line:6,column:32},end:{line:6,column:52}},line:6}},branchMap:{0:{loc:{start:{line:3,column:0},end:{line:8,column:1}},type:"if",locations:[{start:{line:3,column:0},end:{line:8,column:1}},{start:{line:3,column:0},end:{line:8,column:1}}],line:3}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:"/Users/akasivis/Desktop/git/diagram-maker/src/polyfills/object-values.ts",sourceRoot:"",sources:["/Users/akasivis/Desktop/git/diagram-maker/src/polyfills/object-values.ts"],names:[],mappings:";AAAA,6BAA6B;AAC7B,IAAI,CAAE,MAAc,CAAC,MAAM,EAAE;IAC1B,MAAc,CAAC,MAAM,GAAG,UAAC,GAAQ;QAChC,OAAA,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;aACb,GAAG,CAAC,UAAC,GAAW,IAAK,OAAA,GAAG,CAAC,GAAG,CAAC,EAAR,CAAQ,CAAC;IADjC,CACiC,CAAC;CACrC",sourcesContent:["// Polyfill for Object.values\nif (!(Object as any).values) {\n  (Object as any).values = (src: any) =>\n    Object.keys(src)\n      .map((key: string) => src[key]);\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},(a=i[l="__coverage__"]||(i[l]={}))[t]&&a[t].hash===o?a[t]:(r.hash=o,a[t]=r));c.s[0]++,Object.values?c.b[0][1]++:(c.b[0][0]++,c.s[1]++,Object.values=function(n){return c.f[0]++,c.s[2]++,Object.keys(n).map((function(e){return c.f[1]++,c.s[3]++,n[e]}))})},function(n,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=i(A(141)),o=i(A(142));function i(n){return n&&n.__esModule?n:{default:n}}function l(n){if(Array.isArray(n)){for(var e=0,A=Array(n.length);e<n.length;e++)A[e]=n[e];return A}return Array.from(n)}e.undoHistoryReducerCreator=c;var r={undoQueue:[],redoQueue:[]},a=c();function c(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.undoHistoryLimit;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,A=arguments[1],i=A.type,a=A.payload,c=n.undoQueue,s=n.redoQueue;switch(i){case"UNDO_HISTORY@UNDO":return 0===c.length?n:{undoQueue:c.slice(1),redoQueue:[c[0]].concat(l(s))};case"UNDO_HISTORY@REDO":return 0===s.length?n:{undoQueue:[s[0]].concat(l(c)),redoQueue:s.slice(1)};case"UNDO_HISTORY@ADD":var C=[(0,o.default)(a,t.default)];return e?C.push.apply(C,l(c.slice(0,e-1))):C.push.apply(C,l(c)),{undoQueue:C,redoQueue:[]};case"UNDO_HISTORY@CLEAR":return r;default:return n}}}e.default=a},function(n,e){n.exports=function(n){return null==n}},function(n,e,A){var t=A(10),o=A(197),i=A(198);n.exports=function(n,e){return i(n,o(t(e)))}},function(n,e,A){var t=A(144),o=A(188),i=A(91);n.exports=function(n){var e=o(n);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(A){return A===n||t(A,n,e)}}},function(n,e,A){var t=A(37),o=A(78);n.exports=function(n,e,A,i){var l=A.length,r=l,a=!i;if(null==n)return!r;for(n=Object(n);l--;){var c=A[l];if(a&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++l<r;){var s=(c=A[l])[0],C=n[s],u=c[1];if(a&&c[2]){if(void 0===C&&!(s in n))return!1}else{var d=new t;if(i)var m=i(C,u,s,n,e,d);if(!(void 0===m?o(u,C,3,i,d):m))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,A){var t=A(39),o=Array.prototype.splice;n.exports=function(n){var e=this.__data__,A=t(e,n);return!(A<0)&&(A==e.length-1?e.pop():o.call(e,A,1),--this.size,!0)}},function(n,e,A){var t=A(39);n.exports=function(n){var e=this.__data__,A=t(e,n);return A<0?void 0:e[A][1]}},function(n,e,A){var t=A(39);n.exports=function(n){return t(this.__data__,n)>-1}},function(n,e,A){var t=A(39);n.exports=function(n,e){var A=this.__data__,o=t(A,n);return o<0?(++this.size,A.push([n,e])):A[o][1]=e,this}},function(n,e,A){var t=A(38);n.exports=function(){this.__data__=new t,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,A=e.delete(n);return this.size=e.size,A}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,A){var t=A(38),o=A(56),i=A(57);n.exports=function(n,e){var A=this.__data__;if(A instanceof t){var l=A.__data__;if(!o||l.length<199)return l.push([n,e]),this.size=++A.size,this;A=this.__data__=new i(l)}return A.set(n,e),this.size=A.size,this}},function(n,e,A){var t=A(29),o=A(158),i=A(7),l=A(77),r=/^\[object .+?Constructor\]$/,a=Function.prototype,c=Object.prototype,s=a.toString,C=c.hasOwnProperty,u=RegExp("^"+s.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!i(n)||o(n))&&(t(n)?u:r).test(l(n))}},function(n,e,A){var t=A(25),o=Object.prototype,i=o.hasOwnProperty,l=o.toString,r=t?t.toStringTag:void 0;n.exports=function(n){var e=i.call(n,r),A=n[r];try{n[r]=void 0;var t=!0}catch(n){}var o=l.call(n);return t&&(e?n[r]=A:delete n[r]),o}},function(n,e){var A=Object.prototype.toString;n.exports=function(n){return A.call(n)}},function(n,e,A){var t,o=A(159),i=(t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";n.exports=function(n){return!!i&&i in n}},function(n,e,A){var t=A(11)["__core-js_shared__"];n.exports=t},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,A){var t=A(162),o=A(38),i=A(56);n.exports=function(){this.size=0,this.__data__={hash:new t,map:new(i||o),string:new t}}},function(n,e,A){var t=A(163),o=A(164),i=A(165),l=A(166),r=A(167);function a(n){var e=-1,A=null==n?0:n.length;for(this.clear();++e<A;){var t=n[e];this.set(t[0],t[1])}}a.prototype.clear=t,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=l,a.prototype.set=r,n.exports=a},function(n,e,A){var t=A(40);n.exports=function(){this.__data__=t?t(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,A){var t=A(40),o=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(t){var A=e[n];return"__lodash_hash_undefined__"===A?void 0:A}return o.call(e,n)?e[n]:void 0}},function(n,e,A){var t=A(40),o=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return t?void 0!==e[n]:o.call(e,n)}},function(n,e,A){var t=A(40);n.exports=function(n,e){var A=this.__data__;return this.size+=this.has(n)?0:1,A[n]=t&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,A){var t=A(41);n.exports=function(n){var e=t(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,A){var t=A(41);n.exports=function(n){return t(this,n).get(n)}},function(n,e,A){var t=A(41);n.exports=function(n){return t(this,n).has(n)}},function(n,e,A){var t=A(41);n.exports=function(n,e){var A=t(this,n),o=A.size;return A.set(n,e),this.size+=A.size==o?0:1,this}},function(n,e,A){var t=A(37),o=A(79),i=A(177),l=A(179),r=A(27),a=A(4),c=A(26),s=A(31),C="[object Object]",u=Object.prototype.hasOwnProperty;n.exports=function(n,e,A,d,m,E){var p=a(n),f=a(e),g=p?"[object Array]":r(n),h=f?"[object Array]":r(e),I=(g="[object Arguments]"==g?C:g)==C,y=(h="[object Arguments]"==h?C:h)==C,B=g==h;if(B&&c(n)){if(!c(e))return!1;p=!0,I=!1}if(B&&!I)return E||(E=new t),p||s(n)?o(n,e,A,d,m,E):i(n,e,g,A,d,m,E);if(!(1&A)){var M=I&&u.call(n,"__wrapped__"),v=y&&u.call(e,"__wrapped__");if(M||v){var b=M?n.value():n,O=v?e.value():e;return E||(E=new t),m(b,O,A,d,E)}}return!!B&&(E||(E=new t),l(n,e,A,d,m,E))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var A=-1,t=null==n?0:n.length;++A<t;)if(e(n[A],A,n))return!0;return!1}},function(n,e,A){var t=A(25),o=A(82),i=A(24),l=A(79),r=A(178),a=A(58),c=t?t.prototype:void 0,s=c?c.valueOf:void 0;n.exports=function(n,e,A,t,c,C,u){switch(A){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!C(new o(n),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var d=r;case"[object Set]":var m=1&t;if(d||(d=a),n.size!=e.size&&!m)return!1;var E=u.get(n);if(E)return E==e;t|=2,u.set(n,e);var p=l(d(n),d(e),t,c,C,u);return u.delete(n),p;case"[object Symbol]":if(s)return s.call(n)==s.call(e)}return!1}},function(n,e){n.exports=function(n){var e=-1,A=Array(n.size);return n.forEach((function(n,t){A[++e]=[t,n]})),A}},function(n,e,A){var t=A(83),o=Object.prototype.hasOwnProperty;n.exports=function(n,e,A,i,l,r){var a=1&A,c=t(n),s=c.length;if(s!=t(e).length&&!a)return!1;for(var C=s;C--;){var u=c[C];if(!(a?u in e:o.call(e,u)))return!1}var d=r.get(n),m=r.get(e);if(d&&m)return d==e&&m==n;var E=!0;r.set(n,e),r.set(e,n);for(var p=a;++C<s;){var f=n[u=c[C]],g=e[u];if(i)var h=a?i(g,f,u,e,n,r):i(f,g,u,n,e,r);if(!(void 0===h?f===g||l(f,g,A,i,r):h)){E=!1;break}p||(p="constructor"==u)}if(E&&!p){var I=n.constructor,y=e.constructor;I==y||!("constructor"in n)||!("constructor"in e)||"function"==typeof I&&I instanceof I&&"function"==typeof y&&y instanceof y||(E=!1)}return r.delete(n),r.delete(e),E}},function(n,e){n.exports=function(n,e){for(var A=-1,t=Array(n);++A<n;)t[A]=e(A);return t}},function(n,e,A){var t=A(19),o=A(13);n.exports=function(n){return o(n)&&"[object Arguments]"==t(n)}},function(n,e){n.exports=function(){return!1}},function(n,e,A){var t=A(19),o=A(62),i=A(13),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,n.exports=function(n){return i(n)&&o(n.length)&&!!l[t(n)]}},function(n,e,A){var t=A(88)(Object.keys,Object);n.exports=t},function(n,e,A){var t=A(18)(A(11),"DataView");n.exports=t},function(n,e,A){var t=A(18)(A(11),"Promise");n.exports=t},function(n,e,A){var t=A(18)(A(11),"WeakMap");n.exports=t},function(n,e,A){var t=A(90),o=A(17);n.exports=function(n){for(var e=o(n),A=e.length;A--;){var i=e[A],l=n[i];e[A]=[i,l,t(l)]}return e}},function(n,e,A){var t=A(78),o=A(92),i=A(94),l=A(65),r=A(90),a=A(91),c=A(33);n.exports=function(n,e){return l(n)&&r(e)?a(c(n),e):function(A){var l=o(A,n);return void 0===l&&l===e?i(A,n):t(e,l,3)}}},function(n,e,A){var t=A(191),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,l=t((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(o,(function(n,A,t,o){e.push(t?o.replace(i,"$1"):A||n)})),e}));n.exports=l},function(n,e,A){var t=A(192);n.exports=function(n){var e=t(n,(function(n){return 500===A.size&&A.clear(),n})),A=e.cache;return e}},function(n,e,A){var t=A(57);function o(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var A=function(){var t=arguments,o=e?e.apply(this,t):t[0],i=A.cache;if(i.has(o))return i.get(o);var l=n.apply(this,t);return A.cache=i.set(o,l)||i,l};return A.cache=new(o.Cache||t),A}o.Cache=t,n.exports=o},function(n,e,A){var t=A(25),o=A(32),i=A(4),l=A(28),r=t?t.prototype:void 0,a=r?r.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(i(e))return o(e,n)+"";if(l(e))return a?a.call(e):"";var A=e+"";return"0"==A&&1/e==-1/0?"-0":A}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,A){var t=A(96),o=A(196),i=A(65),l=A(33);n.exports=function(n){return i(n)?t(l(n)):o(n)}},function(n,e,A){var t=A(45);n.exports=function(n){return function(e){return t(e,n)}}},function(n,e){n.exports=function(n){if("function"!=typeof n)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}},function(n,e,A){var t=A(32),o=A(10),i=A(97),l=A(99);n.exports=function(n,e){if(null==n)return{};var A=t(l(n),(function(n){return[n]}));return e=o(e),i(n,A,(function(n,A){return e(n,A[0])}))}},function(n,e,A){var t=A(47),o=A(46),i=A(42),l=A(7),r=A(33);n.exports=function(n,e,A,a){if(!l(n))return n;for(var c=-1,s=(e=o(e,n)).length,C=s-1,u=n;null!=u&&++c<s;){var d=r(e[c]),m=A;if("__proto__"===d||"constructor"===d||"prototype"===d)return n;if(c!=C){var E=u[d];void 0===(m=a?a(E,d,u):void 0)&&(m=l(E)?E:i(e[c+1])?[]:{})}t(u,d,m),u=u[d]}return n}},function(n,e,A){var t=A(7),o=A(44),i=A(201),l=Object.prototype.hasOwnProperty;n.exports=function(n){if(!t(n))return i(n);var e=o(n),A=[];for(var r in n)("constructor"!=r||!e&&l.call(n,r))&&A.push(r);return A}},function(n,e){n.exports=function(n){var e=[];if(null!=n)for(var A in Object(n))e.push(A);return e}},function(n,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=r(A(203)),o=r(A(92));e.default=function(n){var e=n.getViewState,A=n.setViewState,r=n.revertingActions;Object.values(r).some((function(n){return n.meta}))&&console.warn('[redux-undo-redo] The "meta" property in reverting actions is deprecated and replaced with "createArgs" and will be removed in future versions.');var a=Object.keys(r),c=!1;return function(n){var s=n.dispatch,C=n.getState;return function(n){return function(u){var d=C(),m=n(u);switch(u.type){case"UNDO_HISTORY@UNDO":var E=(0,l.getUndoItem)(d);E&&(c=!0,A&&s(A(E.afterState)),s(function(n){var e=n.action,A=n.args,t=e.type,i=(0,o.default)(r[t],"action",r[t]);if(!i)throw new Error("Illegal reverting action definition for '"+t+"'");return i(e,A)}(E)),A&&s(A(E.beforeState)),c=!1);break;case"UNDO_HISTORY@REDO":var p=(0,l.getRedoItem)(d);p&&(c=!0,A&&s(A(p.beforeState)),s(p.action),c=!1);break;default:!c&&(0,t.default)(a,u.type)&&s((0,i.addUndoItem)(u,e&&e(d),e&&e(C()),function(n,e){var A=(0,o.default)(r[e.type],"createArgs");A||(A=(0,o.default)(r[e.type],"meta"));return A&&A(n,e)}(d,u)))}return m}}}};var i=A(106),l=A(210);function r(n){return n&&n.__esModule?n:{default:n}}},function(n,e,A){var t=A(101),o=A(14),i=A(103),l=A(104),r=A(66),a=Math.max;n.exports=function(n,e,A,c){n=o(n)?n:r(n),A=A&&!c?l(A):0;var s=n.length;return A<0&&(A=a(s+A,0)),i(n)?A<=s&&n.indexOf(e,A)>-1:!!s&&t(n,e,A)>-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,A){for(var t=A-1,o=n.length;++t<o;)if(n[t]===e)return t;return-1}},function(n,e,A){var t=A(207),o=A(7),i=A(28),l=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,c=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(i(n))return NaN;if(o(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=o(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=t(n);var A=r.test(n);return A||a.test(n)?c(n.slice(2),A?2:8):l.test(n)?NaN:+n}},function(n,e,A){var t=A(208),o=/^\s+/;n.exports=function(n){return n?n.slice(0,t(n)+1).replace(o,""):n}},function(n,e){var A=/\s/;n.exports=function(n){for(var e=n.length;e--&&A.test(n.charAt(e)););return e}},function(n,e,A){var t=A(32);n.exports=function(n,e){return t(e,(function(e){return n[e]}))}},function(n,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getUndoItem=function(n){return n.undoHistory.undoQueue[0]},e.getRedoItem=function(n){return n.undoHistory.redoQueue[0]}},function(n,e,A){n.exports={graphlib:A(12),layout:A(262),debug:A(317),util:{time:A(6).time,notime:A(6).notime},version:A(318)}},function(n,e,A){var t=A(213);n.exports={Graph:t.Graph,json:A(252),alg:A(253),version:t.version}},function(n,e,A){n.exports={Graph:A(67),version:A(251)}},function(n,e,A){var t=A(107);n.exports=function(n){return t(n,4)}},function(n,e,A){var t=A(34),o=A(17);n.exports=function(n,e){return n&&t(e,o(e),n)}},function(n,e,A){var t=A(34),o=A(21);n.exports=function(n,e){return n&&t(e,o(e),n)}},function(n,e,A){var t=A(34),o=A(60);n.exports=function(n,e){return t(n,o(n),e)}},function(n,e,A){var t=A(34),o=A(100);n.exports=function(n,e){return t(n,o(n),e)}},function(n,e){var A=Object.prototype.hasOwnProperty;n.exports=function(n){var e=n.length,t=new n.constructor(e);return e&&"string"==typeof n[0]&&A.call(n,"index")&&(t.index=n.index,t.input=n.input),t}},function(n,e,A){var t=A(69),o=A(221),i=A(222),l=A(223),r=A(110);n.exports=function(n,e,A){var a=n.constructor;switch(e){case"[object ArrayBuffer]":return t(n);case"[object Boolean]":case"[object Date]":return new a(+n);case"[object DataView]":return o(n,A);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return r(n,A);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(n);case"[object RegExp]":return i(n);case"[object Set]":return new a;case"[object Symbol]":return l(n)}}},function(n,e,A){var t=A(69);n.exports=function(n,e){var A=e?t(n.buffer):n.buffer;return new n.constructor(A,n.byteOffset,n.byteLength)}},function(n,e){var A=/\w*$/;n.exports=function(n){var e=new n.constructor(n.source,A.exec(n));return e.lastIndex=n.lastIndex,e}},function(n,e,A){var t=A(25),o=t?t.prototype:void 0,i=o?o.valueOf:void 0;n.exports=function(n){return i?Object(i.call(n)):{}}},function(n,e,A){var t=A(225),o=A(43),i=A(63),l=i&&i.isMap,r=l?o(l):t;n.exports=r},function(n,e,A){var t=A(27),o=A(13);n.exports=function(n){return o(n)&&"[object Map]"==t(n)}},function(n,e,A){var t=A(227),o=A(43),i=A(63),l=i&&i.isSet,r=l?o(l):t;n.exports=r},function(n,e,A){var t=A(27),o=A(13);n.exports=function(n){return o(n)&&"[object Set]"==t(n)}},function(n,e){n.exports=function(n){return function(e,A,t){for(var o=-1,i=Object(e),l=t(e),r=l.length;r--;){var a=l[n?r:++o];if(!1===A(i[a],a,i))break}return e}}},function(n,e,A){var t=A(14);n.exports=function(n,e){return function(A,o){if(null==A)return A;if(!t(A))return n(A,o);for(var i=A.length,l=e?i:-1,r=Object(A);(e?l--:++l<i)&&!1!==o(r[l],l,r););return A}}},function(n,e,A){var t=A(50);n.exports=function(n,e){var A=[];return t(n,(function(n,t,o){e(n,t,o)&&A.push(n)})),A}},function(n,e){var A=Object.prototype.hasOwnProperty;n.exports=function(n,e){return null!=n&&A.call(n,e)}},function(n,e,A){var t=A(64),o=A(27),i=A(30),l=A(4),r=A(14),a=A(26),c=A(44),s=A(31),C=Object.prototype.hasOwnProperty;n.exports=function(n){if(null==n)return!0;if(r(n)&&(l(n)||"string"==typeof n||"function"==typeof n.splice||a(n)||s(n)||i(n)))return!n.length;var e=o(n);if("[object Map]"==e||"[object Set]"==e)return!n.size;if(c(n))return!t(n).length;for(var A in n)if(C.call(n,A))return!1;return!0}},function(n,e){n.exports=function(n,e,A,t){var o=-1,i=null==n?0:n.length;for(t&&i&&(A=n[++o]);++o<i;)A=e(A,n[o],o,n);return A}},function(n,e){n.exports=function(n,e,A,t,o){return o(n,(function(n,o,i){A=t?(t=!1,n):e(A,n,o,i)})),A}},function(n,e,A){var t=A(64),o=A(27),i=A(14),l=A(103),r=A(236);n.exports=function(n){if(null==n)return 0;if(i(n))return l(n)?r(n):n.length;var e=o(n);return"[object Map]"==e||"[object Set]"==e?n.size:t(n).length}},function(n,e,A){var t=A(237),o=A(238),i=A(239);n.exports=function(n){return o(n)?i(n):t(n)}},function(n,e,A){var t=A(96)("length");n.exports=t},function(n,e){var A=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");n.exports=function(n){return A.test(n)}},function(n,e){var A="[\\ud800-\\udfff]",t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",r="[\\ud800-\\udbff][\\udc00-\\udfff]",a="(?:"+t+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?"+a+("(?:\\u200d(?:"+[i,l,r].join("|")+")[\\ufe0e\\ufe0f]?"+a+")*"),s="(?:"+[i+t+"?",t,l,r,A].join("|")+")",C=RegExp(o+"(?="+o+")|"+s+c,"g");n.exports=function(n){for(var e=C.lastIndex=0;C.test(n);)++e;return e}},function(n,e,A){var t=A(68),o=A(112),i=A(71),l=A(10),r=A(49),a=A(4),c=A(26),s=A(29),C=A(7),u=A(31);n.exports=function(n,e,A){var d=a(n),m=d||c(n)||u(n);if(e=l(e,4),null==A){var E=n&&n.constructor;A=m?d?new E:[]:C(n)&&s(E)?o(r(n)):{}}return(m?t:i)(n,(function(n,t,o){return e(A,n,t,o)})),A}},function(n,e,A){var t=A(73),o=A(51),i=A(246),l=A(124),r=o((function(n){return i(t(n,1,l,!0))}));n.exports=r},function(n,e,A){var t=A(25),o=A(30),i=A(4),l=t?t.isConcatSpreadable:void 0;n.exports=function(n){return i(n)||o(n)||!!(l&&n&&n[l])}},function(n,e){n.exports=function(n,e,A){switch(A.length){case 0:return n.call(e);case 1:return n.call(e,A[0]);case 2:return n.call(e,A[0],A[1]);case 3:return n.call(e,A[0],A[1],A[2])}return n.apply(e,A)}},function(n,e,A){var t=A(70),o=A(98),i=A(20),l=o?function(n,e){return o(n,"toString",{configurable:!0,enumerable:!1,value:t(e),writable:!0})}:i;n.exports=l},function(n,e){var A=Date.now;n.exports=function(n){var e=0,t=0;return function(){var o=A(),i=16-(o-t);if(t=o,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,A){var t=A(80),o=A(247),i=A(248),l=A(81),r=A(249),a=A(58);n.exports=function(n,e,A){var c=-1,s=o,C=n.length,u=!0,d=[],m=d;if(A)u=!1,s=i;else if(C>=200){var E=e?null:r(n);if(E)return a(E);u=!1,s=l,m=new t}else m=e?[]:d;n:for(;++c<C;){var p=n[c],f=e?e(p):p;if(p=A||0!==p?p:0,u&&f==f){for(var g=m.length;g--;)if(m[g]===f)continue n;e&&m.push(f),d.push(p)}else s(m,f,A)||(m!==d&&m.push(f),d.push(p))}return d}},function(n,e,A){var t=A(101);n.exports=function(n,e){return!!(null==n?0:n.length)&&t(n,e,0)>-1}},function(n,e){n.exports=function(n,e,A){for(var t=-1,o=null==n?0:n.length;++t<o;)if(A(e,n[t]))return!0;return!1}},function(n,e,A){var t=A(89),o=A(250),i=A(58),l=t&&1/i(new t([,-0]))[1]==1/0?function(n){return new t(n)}:o;n.exports=l},function(n,e){n.exports=function(){}},function(n,e){n.exports="2.1.8"},function(n,e,A){var t=A(8),o=A(67);function i(n){return t.map(n.nodes(),(function(e){var A=n.node(e),o=n.parent(e),i={v:e};return t.isUndefined(A)||(i.value=A),t.isUndefined(o)||(i.parent=o),i}))}function l(n){return t.map(n.edges(),(function(e){var A=n.edge(e),o={v:e.v,w:e.w};return t.isUndefined(e.name)||(o.name=e.name),t.isUndefined(A)||(o.value=A),o}))}n.exports={write:function(n){var e={options:{directed:n.isDirected(),multigraph:n.isMultigraph(),compound:n.isCompound()},nodes:i(n),edges:l(n)};t.isUndefined(n.graph())||(e.value=t.clone(n.graph()));return e},read:function(n){var e=new o(n.options).setGraph(n.value);return t.each(n.nodes,(function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)})),t.each(n.edges,(function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)})),e}}},function(n,e,A){n.exports={components:A(254),dijkstra:A(125),dijkstraAll:A(255),findCycles:A(256),floydWarshall:A(257),isAcyclic:A(258),postorder:A(259),preorder:A(260),prim:A(261),tarjan:A(127),topsort:A(128)}},function(n,e,A){var t=A(8);n.exports=function(n){var e,A={},o=[];function i(o){t.has(A,o)||(A[o]=!0,e.push(o),t.each(n.successors(o),i),t.each(n.predecessors(o),i))}return t.each(n.nodes(),(function(n){e=[],i(n),e.length&&o.push(e)})),o}},function(n,e,A){var t=A(125),o=A(8);n.exports=function(n,e,A){return o.transform(n.nodes(),(function(o,i){o[i]=t(n,i,e,A)}),{})}},function(n,e,A){var t=A(8),o=A(127);n.exports=function(n){return t.filter(o(n),(function(e){return e.length>1||1===e.length&&n.hasEdge(e[0],e[0])}))}},function(n,e,A){var t=A(8);n.exports=function(n,e,A){return function(n,e,A){var t={},o=n.nodes();return o.forEach((function(n){t[n]={},t[n][n]={distance:0},o.forEach((function(e){n!==e&&(t[n][e]={distance:Number.POSITIVE_INFINITY})})),A(n).forEach((function(A){var o=A.v===n?A.w:A.v,i=e(A);t[n][o]={distance:i,predecessor:n}}))})),o.forEach((function(n){var e=t[n];o.forEach((function(A){var i=t[A];o.forEach((function(A){var t=i[n],o=e[A],l=i[A],r=t.distance+o.distance;r<l.distance&&(l.distance=r,l.predecessor=o.predecessor)}))}))})),t}(n,e||o,A||function(e){return n.outEdges(e)})};var o=t.constant(1)},function(n,e,A){var t=A(128);n.exports=function(n){try{t(n)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}},function(n,e,A){var t=A(129);n.exports=function(n,e){return t(n,e,"post")}},function(n,e,A){var t=A(129);n.exports=function(n,e){return t(n,e,"pre")}},function(n,e,A){var t=A(8),o=A(67),i=A(126);n.exports=function(n,e){var A,l=new o,r={},a=new i;function c(n){var t=n.v===A?n.w:n.v,o=a.priority(t);if(void 0!==o){var i=e(n);i<o&&(r[t]=A,a.decrease(t,i))}}if(0===n.nodeCount())return l;t.each(n.nodes(),(function(n){a.add(n,Number.POSITIVE_INFINITY),l.setNode(n)})),a.decrease(n.nodes()[0],0);var s=!1;for(;a.size()>0;){if(A=a.removeMin(),t.has(r,A))l.setEdge(A,r[A]);else{if(s)throw new Error("Input graph is not connected: "+n);s=!0}n.nodeEdges(A).forEach(c)}return l}},function(n,e,A){"use strict";var t=A(1),o=A(296),i=A(299),l=A(300),r=A(6).normalizeRanks,a=A(302),c=A(6).removeEmptyRanks,s=A(303),C=A(304),u=A(305),d=A(306),m=A(315),E=A(6),p=A(12).Graph;n.exports=function(n,e){var A=e&&e.debugTiming?E.time:E.notime;A("layout",(function(){var e=A("  buildLayoutGraph",(function(){return function(n){var e=new p({multigraph:!0,compound:!0}),A=O(n.graph());return e.setGraph(t.merge({},g,b(A,f),t.pick(A,h))),t.forEach(n.nodes(),(function(A){var o=O(n.node(A));e.setNode(A,t.defaults(b(o,I),y)),e.setParent(A,n.parent(A))})),t.forEach(n.edges(),(function(A){var o=O(n.edge(A));e.setEdge(A,t.merge({},M,b(o,B),t.pick(o,v)))})),e}(n)}));A("  runLayout",(function(){!function(n,e){e("    makeSpaceForEdgeLabels",(function(){!function(n){var e=n.graph();e.ranksep/=2,t.forEach(n.edges(),(function(A){var t=n.edge(A);t.minlen*=2,"c"!==t.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?t.width+=t.labeloffset:t.height+=t.labeloffset)}))}(n)})),e("    removeSelfEdges",(function(){!function(n){t.forEach(n.edges(),(function(e){if(e.v===e.w){var A=n.node(e.v);A.selfEdges||(A.selfEdges=[]),A.selfEdges.push({e:e,label:n.edge(e)}),n.removeEdge(e)}}))}(n)})),e("    acyclic",(function(){o.run(n)})),e("    nestingGraph.run",(function(){s.run(n)})),e("    rank",(function(){l(E.asNonCompoundGraph(n))})),e("    injectEdgeLabelProxies",(function(){!function(n){t.forEach(n.edges(),(function(e){var A=n.edge(e);if(A.width&&A.height){var t=n.node(e.v),o={rank:(n.node(e.w).rank-t.rank)/2+t.rank,e:e};E.addDummyNode(n,"edge-proxy",o,"_ep")}}))}(n)})),e("    removeEmptyRanks",(function(){c(n)})),e("    nestingGraph.cleanup",(function(){s.cleanup(n)})),e("    normalizeRanks",(function(){r(n)})),e("    assignRankMinMax",(function(){!function(n){var e=0;t.forEach(n.nodes(),(function(A){var o=n.node(A);o.borderTop&&(o.minRank=n.node(o.borderTop).rank,o.maxRank=n.node(o.borderBottom).rank,e=t.max(e,o.maxRank))})),n.graph().maxRank=e}(n)})),e("    removeEdgeLabelProxies",(function(){!function(n){t.forEach(n.nodes(),(function(e){var A=n.node(e);"edge-proxy"===A.dummy&&(n.edge(A.e).labelRank=A.rank,n.removeNode(e))}))}(n)})),e("    normalize.run",(function(){i.run(n)})),e("    parentDummyChains",(function(){a(n)})),e("    addBorderSegments",(function(){C(n)})),e("    order",(function(){d(n)})),e("    insertSelfEdges",(function(){!function(n){var e=E.buildLayerMatrix(n);t.forEach(e,(function(e){var A=0;t.forEach(e,(function(e,o){var i=n.node(e);i.order=o+A,t.forEach(i.selfEdges,(function(e){E.addDummyNode(n,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++A,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(n)})),e("    adjustCoordinateSystem",(function(){u.adjust(n)})),e("    position",(function(){m(n)})),e("    positionSelfEdges",(function(){!function(n){t.forEach(n.nodes(),(function(e){var A=n.node(e);if("selfedge"===A.dummy){var t=n.node(A.e.v),o=t.x+t.width/2,i=t.y,l=A.x-o,r=t.height/2;n.setEdge(A.e,A.label),n.removeNode(e),A.label.points=[{x:o+2*l/3,y:i-r},{x:o+5*l/6,y:i-r},{x:o+l,y:i},{x:o+5*l/6,y:i+r},{x:o+2*l/3,y:i+r}],A.label.x=A.x,A.label.y=A.y}}))}(n)})),e("    removeBorderNodes",(function(){!function(n){t.forEach(n.nodes(),(function(e){if(n.children(e).length){var A=n.node(e),o=n.node(A.borderTop),i=n.node(A.borderBottom),l=n.node(t.last(A.borderLeft)),r=n.node(t.last(A.borderRight));A.width=Math.abs(r.x-l.x),A.height=Math.abs(i.y-o.y),A.x=l.x+A.width/2,A.y=o.y+A.height/2}})),t.forEach(n.nodes(),(function(e){"border"===n.node(e).dummy&&n.removeNode(e)}))}(n)})),e("    normalize.undo",(function(){i.undo(n)})),e("    fixupEdgeLabelCoords",(function(){!function(n){t.forEach(n.edges(),(function(e){var A=n.edge(e);if(t.has(A,"x"))switch("l"!==A.labelpos&&"r"!==A.labelpos||(A.width-=A.labeloffset),A.labelpos){case"l":A.x-=A.width/2+A.labeloffset;break;case"r":A.x+=A.width/2+A.labeloffset}}))}(n)})),e("    undoCoordinateSystem",(function(){u.undo(n)})),e("    translateGraph",(function(){!function(n){var e=Number.POSITIVE_INFINITY,A=0,o=Number.POSITIVE_INFINITY,i=0,l=n.graph(),r=l.marginx||0,a=l.marginy||0;function c(n){var t=n.x,l=n.y,r=n.width,a=n.height;e=Math.min(e,t-r/2),A=Math.max(A,t+r/2),o=Math.min(o,l-a/2),i=Math.max(i,l+a/2)}t.forEach(n.nodes(),(function(e){c(n.node(e))})),t.forEach(n.edges(),(function(e){var A=n.edge(e);t.has(A,"x")&&c(A)})),e-=r,o-=a,t.forEach(n.nodes(),(function(A){var t=n.node(A);t.x-=e,t.y-=o})),t.forEach(n.edges(),(function(A){var i=n.edge(A);t.forEach(i.points,(function(n){n.x-=e,n.y-=o})),t.has(i,"x")&&(i.x-=e),t.has(i,"y")&&(i.y-=o)})),l.width=A-e+r,l.height=i-o+a}(n)})),e("    assignNodeIntersects",(function(){!function(n){t.forEach(n.edges(),(function(e){var A,t,o=n.edge(e),i=n.node(e.v),l=n.node(e.w);o.points?(A=o.points[0],t=o.points[o.points.length-1]):(o.points=[],A=l,t=i),o.points.unshift(E.intersectRect(i,A)),o.points.push(E.intersectRect(l,t))}))}(n)})),e("    reversePoints",(function(){!function(n){t.forEach(n.edges(),(function(e){var A=n.edge(e);A.reversed&&A.points.reverse()}))}(n)})),e("    acyclic.undo",(function(){o.undo(n)}))}(e,A)})),A("  updateInputGraph",(function(){!function(n,e){t.forEach(n.nodes(),(function(A){var t=n.node(A),o=e.node(A);t&&(t.x=o.x,t.y=o.y,e.children(A).length&&(t.width=o.width,t.height=o.height))})),t.forEach(n.edges(),(function(A){var o=n.edge(A),i=e.edge(A);o.points=i.points,t.has(i,"x")&&(o.x=i.x,o.y=i.y)})),n.graph().width=e.graph().width,n.graph().height=e.graph().height}(n,e)}))}))};var f=["nodesep","edgesep","ranksep","marginx","marginy"],g={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},h=["acyclicer","ranker","rankdir","align"],I=["width","height"],y={width:0,height:0},B=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},v=["labelpos"];function b(n,e){return t.mapValues(t.pick(n,e),Number)}function O(n){var e={};return t.forEach(n,(function(n,A){e[A.toLowerCase()]=n})),e}},function(n,e,A){var t=A(107);n.exports=function(n){return t(n,5)}},function(n,e,A){var t=A(51),o=A(24),i=A(52),l=A(21),r=Object.prototype,a=r.hasOwnProperty,c=t((function(n,e){n=Object(n);var A=-1,t=e.length,c=t>2?e[2]:void 0;for(c&&i(e[0],e[1],c)&&(t=1);++A<t;)for(var s=e[A],C=l(s),u=-1,d=C.length;++u<d;){var m=C[u],E=n[m];(void 0===E||o(E,r[m])&&!a.call(n,m))&&(n[m]=s[m])}return n}));n.exports=c},function(n,e,A){var t=A(266)(A(267));n.exports=t},function(n,e,A){var t=A(10),o=A(14),i=A(17);n.exports=function(n){return function(e,A,l){var r=Object(e);if(!o(e)){var a=t(A,3);e=i(e),A=function(n){return a(r[n],n,r)}}var c=n(e,A,l);return c>-1?r[a?e[c]:c]:void 0}}},function(n,e,A){var t=A(102),o=A(10),i=A(104),l=Math.max;n.exports=function(n,e,A){var r=null==n?0:n.length;if(!r)return-1;var a=null==A?0:i(A);return a<0&&(a=l(r+a,0)),t(n,o(e,3),a)}},function(n,e,A){var t=A(72),o=A(115),i=A(21);n.exports=function(n,e){return null==n?n:t(n,o(e),i)}},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,A){var t=A(48),o=A(71),i=A(10);n.exports=function(n,e){var A={};return e=i(e,3),o(n,(function(n,o,i){t(A,o,e(n,o,i))})),A}},function(n,e,A){var t=A(74),o=A(272),i=A(20);n.exports=function(n){return n&&n.length?t(n,i,o):void 0}},function(n,e){n.exports=function(n,e){return n>e}},function(n,e,A){var t=A(274),o=A(278)((function(n,e,A){t(n,e,A)}));n.exports=o},function(n,e,A){var t=A(37),o=A(131),i=A(72),l=A(275),r=A(7),a=A(21),c=A(132);n.exports=function n(e,A,s,C,u){e!==A&&i(A,(function(i,a){if(u||(u=new t),r(i))l(e,A,a,s,n,C,u);else{var d=C?C(c(e,a),i,a+"",e,A,u):void 0;void 0===d&&(d=i),o(e,a,d)}}),a)}},function(n,e,A){var t=A(131),o=A(108),i=A(110),l=A(109),r=A(111),a=A(30),c=A(4),s=A(124),C=A(26),u=A(29),d=A(7),m=A(276),E=A(31),p=A(132),f=A(277);n.exports=function(n,e,A,g,h,I,y){var B=p(n,A),M=p(e,A),v=y.get(M);if(v)t(n,A,v);else{var b=I?I(B,M,A+"",n,e,y):void 0,O=void 0===b;if(O){var G=c(M),D=!G&&C(M),k=!G&&!D&&E(M);b=M,G||D||k?c(B)?b=B:s(B)?b=l(B):D?(O=!1,b=o(M,!0)):k?(O=!1,b=i(M,!0)):b=[]:m(M)||a(M)?(b=B,a(B)?b=f(B):d(B)&&!u(B)||(b=r(M))):O=!1}O&&(y.set(M,b),h(b,M,g,I,y),y.delete(M)),t(n,A,b)}}},function(n,e,A){var t=A(19),o=A(49),i=A(13),l=Function.prototype,r=Object.prototype,a=l.toString,c=r.hasOwnProperty,s=a.call(Object);n.exports=function(n){if(!i(n)||"[object Object]"!=t(n))return!1;var e=o(n);if(null===e)return!0;var A=c.call(e,"constructor")&&e.constructor;return"function"==typeof A&&A instanceof A&&a.call(A)==s}},function(n,e,A){var t=A(34),o=A(21);n.exports=function(n){return t(n,o(n))}},function(n,e,A){var t=A(51),o=A(52);n.exports=function(n){return t((function(e,A){var t=-1,i=A.length,l=i>1?A[i-1]:void 0,r=i>2?A[2]:void 0;for(l=n.length>3&&"function"==typeof l?(i--,l):void 0,r&&o(A[0],A[1],r)&&(l=i<3?void 0:l,i=1),e=Object(e);++t<i;){var a=A[t];a&&n(e,a,t,l)}return e}))}},function(n,e,A){var t=A(74),o=A(133),i=A(20);n.exports=function(n){return n&&n.length?t(n,i,o):void 0}},function(n,e,A){var t=A(74),o=A(10),i=A(133);n.exports=function(n,e){return n&&n.length?t(n,o(e,2),i):void 0}},function(n,e,A){var t=A(11);n.exports=function(){return t.Date.now()}},function(n,e,A){var t=A(283),o=A(284)((function(n,e){return null==n?{}:t(n,e)}));n.exports=o},function(n,e,A){var t=A(97),o=A(94);n.exports=function(n,e){return t(n,e,(function(e,A){return o(n,A)}))}},function(n,e,A){var t=A(130),o=A(122),i=A(123);n.exports=function(n){return i(o(n,void 0,t),n+"")}},function(n,e,A){var t=A(286)();n.exports=t},function(n,e,A){var t=A(287),o=A(52),i=A(105);n.exports=function(n){return function(e,A,l){return l&&"number"!=typeof l&&o(e,A,l)&&(A=l=void 0),e=i(e),void 0===A?(A=e,e=0):A=i(A),l=void 0===l?e<A?1:-1:i(l),t(e,A,l,n)}}},function(n,e){var A=Math.ceil,t=Math.max;n.exports=function(n,e,o,i){for(var l=-1,r=t(A((e-n)/(o||1)),0),a=Array(r);r--;)a[i?r:++l]=n,n+=o;return a}},function(n,e,A){var t=A(73),o=A(289),i=A(51),l=A(52),r=i((function(n,e){if(null==n)return[];var A=e.length;return A>1&&l(n,e[0],e[1])?e=[]:A>2&&l(e[0],e[1],e[2])&&(e=[e[0]]),o(n,t(e,1),[])}));n.exports=r},function(n,e,A){var t=A(32),o=A(45),i=A(10),l=A(120),r=A(290),a=A(43),c=A(291),s=A(20),C=A(4);n.exports=function(n,e,A){e=e.length?t(e,(function(n){return C(n)?function(e){return o(e,1===n.length?n[0]:n)}:n})):[s];var u=-1;e=t(e,a(i));var d=l(n,(function(n,A,o){return{criteria:t(e,(function(e){return e(n)})),index:++u,value:n}}));return r(d,(function(n,e){return c(n,e,A)}))}},function(n,e){n.exports=function(n,e){var A=n.length;for(n.sort(e);A--;)n[A]=n[A].value;return n}},function(n,e,A){var t=A(292);n.exports=function(n,e,A){for(var o=-1,i=n.criteria,l=e.criteria,r=i.length,a=A.length;++o<r;){var c=t(i[o],l[o]);if(c)return o>=a?c:c*("desc"==A[o]?-1:1)}return n.index-e.index}},function(n,e,A){var t=A(28);n.exports=function(n,e){if(n!==e){var A=void 0!==n,o=null===n,i=n==n,l=t(n),r=void 0!==e,a=null===e,c=e==e,s=t(e);if(!a&&!s&&!l&&n>e||l&&r&&c&&!a&&!s||o&&r&&c||!A&&c||!i)return 1;if(!o&&!l&&!s&&n<e||s&&A&&i&&!o&&!l||a&&A&&i||!r&&i||!c)return-1}return 0}},function(n,e,A){var t=A(93),o=0;n.exports=function(n){var e=++o;return t(n)+e}},function(n,e,A){var t=A(47),o=A(295);n.exports=function(n,e){return o(n||[],e||[],t)}},function(n,e){n.exports=function(n,e,A){for(var t=-1,o=n.length,i=e.length,l={};++t<o;){var r=t<i?e[t]:void 0;A(l,n[t],r)}return l}},function(n,e,A){"use strict";var t=A(1),o=A(297);n.exports={run:function(n){var e="greedy"===n.graph().acyclicer?o(n,function(n){return function(e){return n.edge(e).weight}}(n)):function(n){var e=[],A={},o={};function i(l){t.has(o,l)||(o[l]=!0,A[l]=!0,t.forEach(n.outEdges(l),(function(n){t.has(A,n.w)?e.push(n):i(n.w)})),delete A[l])}return t.forEach(n.nodes(),i),e}(n);t.forEach(e,(function(e){var A=n.edge(e);n.removeEdge(e),A.forwardName=e.name,A.reversed=!0,n.setEdge(e.w,e.v,A,t.uniqueId("rev"))}))},undo:function(n){t.forEach(n.edges(),(function(e){var A=n.edge(e);if(A.reversed){n.removeEdge(e);var t=A.forwardName;delete A.reversed,delete A.forwardName,n.setEdge(e.w,e.v,A,t)}}))}}},function(n,e,A){var t=A(1),o=A(12).Graph,i=A(298);n.exports=function(n,e){if(n.nodeCount()<=1)return[];var A=function(n,e){var A=new o,l=0,r=0;t.forEach(n.nodes(),(function(n){A.setNode(n,{v:n,in:0,out:0})})),t.forEach(n.edges(),(function(n){var t=A.edge(n.v,n.w)||0,o=e(n),i=t+o;A.setEdge(n.v,n.w,i),r=Math.max(r,A.node(n.v).out+=o),l=Math.max(l,A.node(n.w).in+=o)}));var c=t.range(r+l+3).map((function(){return new i})),s=l+1;return t.forEach(A.nodes(),(function(n){a(c,s,A.node(n))})),{graph:A,buckets:c,zeroIdx:s}}(n,e||l),c=function(n,e,A){var t,o=[],i=e[e.length-1],l=e[0];for(;n.nodeCount();){for(;t=l.dequeue();)r(n,e,A,t);for(;t=i.dequeue();)r(n,e,A,t);if(n.nodeCount())for(var a=e.length-2;a>0;--a)if(t=e[a].dequeue()){o=o.concat(r(n,e,A,t,!0));break}}return o}(A.graph,A.buckets,A.zeroIdx);return t.flatten(t.map(c,(function(e){return n.outEdges(e.v,e.w)})),!0)};var l=t.constant(1);function r(n,e,A,o,i){var l=i?[]:void 0;return t.forEach(n.inEdges(o.v),(function(t){var o=n.edge(t),r=n.node(t.v);i&&l.push({v:t.v,w:t.w}),r.out-=o,a(e,A,r)})),t.forEach(n.outEdges(o.v),(function(t){var o=n.edge(t),i=t.w,l=n.node(i);l.in-=o,a(e,A,l)})),n.removeNode(o.v),l}function a(n,e,A){A.out?A.in?n[A.out-A.in+e].enqueue(A):n[n.length-1].enqueue(A):n[0].enqueue(A)}},function(n,e){function A(){var n={};n._next=n._prev=n,this._sentinel=n}function t(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function o(n,e){if("_next"!==n&&"_prev"!==n)return e}n.exports=A,A.prototype.dequeue=function(){var n=this._sentinel,e=n._prev;if(e!==n)return t(e),e},A.prototype.enqueue=function(n){var e=this._sentinel;n._prev&&n._next&&t(n),n._next=e._next,e._next._prev=n,e._next=n,n._prev=e},A.prototype.toString=function(){for(var n=[],e=this._sentinel,A=e._prev;A!==e;)n.push(JSON.stringify(A,o)),A=A._prev;return"["+n.join(", ")+"]"}},function(n,e,A){"use strict";var t=A(1),o=A(6);n.exports={run:function(n){n.graph().dummyChains=[],t.forEach(n.edges(),(function(e){!function(n,e){var A,t,i,l=e.v,r=n.node(l).rank,a=e.w,c=n.node(a).rank,s=e.name,C=n.edge(e),u=C.labelRank;if(c===r+1)return;for(n.removeEdge(e),i=0,++r;r<c;++i,++r)C.points=[],t={width:0,height:0,edgeLabel:C,edgeObj:e,rank:r},A=o.addDummyNode(n,"edge",t,"_d"),r===u&&(t.width=C.width,t.height=C.height,t.dummy="edge-label",t.labelpos=C.labelpos),n.setEdge(l,A,{weight:C.weight},s),0===i&&n.graph().dummyChains.push(A),l=A;n.setEdge(l,a,{weight:C.weight},s)}(n,e)}))},undo:function(n){t.forEach(n.graph().dummyChains,(function(e){var A,t=n.node(e),o=t.edgeLabel;for(n.setEdge(t.edgeObj,o);t.dummy;)A=n.successors(e)[0],n.removeNode(e),o.points.push({x:t.x,y:t.y}),"edge-label"===t.dummy&&(o.x=t.x,o.y=t.y,o.width=t.width,o.height=t.height),e=A,t=n.node(e)}))}}},function(n,e,A){"use strict";var t=A(53).longestPath,o=A(134),i=A(301);n.exports=function(n){switch(n.graph().ranker){case"network-simplex":r(n);break;case"tight-tree":!function(n){t(n),o(n)}(n);break;case"longest-path":l(n);break;default:r(n)}};var l=t;function r(n){i(n)}},function(n,e,A){"use strict";var t=A(1),o=A(134),i=A(53).slack,l=A(53).longestPath,r=A(12).alg.preorder,a=A(12).alg.postorder,c=A(6).simplify;function s(n){n=c(n),l(n);var e,A=o(n);for(d(A),C(A,n);e=E(A);)f(A,n,e,p(A,n,e))}function C(n,e){var A=a(n,n.nodes());A=A.slice(0,A.length-1),t.forEach(A,(function(A){!function(n,e,A){var t=n.node(A).parent;n.edge(A,t).cutvalue=u(n,e,A)}(n,e,A)}))}function u(n,e,A){var o=n.node(A).parent,i=!0,l=e.edge(A,o),r=0;return l||(i=!1,l=e.edge(o,A)),r=l.weight,t.forEach(e.nodeEdges(A),(function(t){var l,a,c=t.v===A,s=c?t.w:t.v;if(s!==o){var C=c===i,u=e.edge(t).weight;if(r+=C?u:-u,l=A,a=s,n.hasEdge(l,a)){var d=n.edge(A,s).cutvalue;r+=C?-d:d}}})),r}function d(n,e){arguments.length<2&&(e=n.nodes()[0]),m(n,{},1,e)}function m(n,e,A,o,i){var l=A,r=n.node(o);return e[o]=!0,t.forEach(n.neighbors(o),(function(i){t.has(e,i)||(A=m(n,e,A,i,o))})),r.low=l,r.lim=A++,i?r.parent=i:delete r.parent,A}function E(n){return t.find(n.edges(),(function(e){return n.edge(e).cutvalue<0}))}function p(n,e,A){var o=A.v,l=A.w;e.hasEdge(o,l)||(o=A.w,l=A.v);var r=n.node(o),a=n.node(l),c=r,s=!1;r.lim>a.lim&&(c=a,s=!0);var C=t.filter(e.edges(),(function(e){return s===g(n,n.node(e.v),c)&&s!==g(n,n.node(e.w),c)}));return t.minBy(C,(function(n){return i(e,n)}))}function f(n,e,A,o){var i=A.v,l=A.w;n.removeEdge(i,l),n.setEdge(o.v,o.w,{}),d(n),C(n,e),function(n,e){var A=t.find(n.nodes(),(function(n){return!e.node(n).parent})),o=r(n,A);o=o.slice(1),t.forEach(o,(function(A){var t=n.node(A).parent,o=e.edge(A,t),i=!1;o||(o=e.edge(t,A),i=!0),e.node(A).rank=e.node(t).rank+(i?o.minlen:-o.minlen)}))}(n,e)}function g(n,e,A){return A.low<=e.lim&&e.lim<=A.lim}n.exports=s,s.initLowLimValues=d,s.initCutValues=C,s.calcCutValue=u,s.leaveEdge=E,s.enterEdge=p,s.exchangeEdges=f},function(n,e,A){var t=A(1);n.exports=function(n){var e=function(n){var e={},A=0;function o(i){var l=A;t.forEach(n.children(i),o),e[i]={low:l,lim:A++}}return t.forEach(n.children(),o),e}(n);t.forEach(n.graph().dummyChains,(function(A){for(var t=n.node(A),o=t.edgeObj,i=function(n,e,A,t){var o,i,l=[],r=[],a=Math.min(e[A].low,e[t].low),c=Math.max(e[A].lim,e[t].lim);o=A;do{o=n.parent(o),l.push(o)}while(o&&(e[o].low>a||c>e[o].lim));i=o,o=t;for(;(o=n.parent(o))!==i;)r.push(o);return{path:l.concat(r.reverse()),lca:i}}(n,e,o.v,o.w),l=i.path,r=i.lca,a=0,c=l[a],s=!0;A!==o.w;){if(t=n.node(A),s){for(;(c=l[a])!==r&&n.node(c).maxRank<t.rank;)a++;c===r&&(s=!1)}if(!s){for(;a<l.length-1&&n.node(c=l[a+1]).minRank<=t.rank;)a++;c=l[a]}n.setParent(A,c),A=n.successors(A)[0]}}))}},function(n,e,A){var t=A(1),o=A(6);n.exports={run:function(n){var e=o.addDummyNode(n,"root",{},"_root"),A=function(n){var e={};return t.forEach(n.children(),(function(A){!function A(o,i){var l=n.children(o);l&&l.length&&t.forEach(l,(function(n){A(n,i+1)}));e[o]=i}(A,1)})),e}(n),i=t.max(t.values(A))-1,l=2*i+1;n.graph().nestingRoot=e,t.forEach(n.edges(),(function(e){n.edge(e).minlen*=l}));var r=function(n){return t.reduce(n.edges(),(function(e,A){return e+n.edge(A).weight}),0)}(n)+1;t.forEach(n.children(),(function(a){!function n(e,A,i,l,r,a,c){var s=e.children(c);if(!s.length)return void(c!==A&&e.setEdge(A,c,{weight:0,minlen:i}));var C=o.addBorderNode(e,"_bt"),u=o.addBorderNode(e,"_bb"),d=e.node(c);e.setParent(C,c),d.borderTop=C,e.setParent(u,c),d.borderBottom=u,t.forEach(s,(function(t){n(e,A,i,l,r,a,t);var o=e.node(t),s=o.borderTop?o.borderTop:t,d=o.borderBottom?o.borderBottom:t,m=o.borderTop?l:2*l,E=s!==d?1:r-a[c]+1;e.setEdge(C,s,{weight:m,minlen:E,nestingEdge:!0}),e.setEdge(d,u,{weight:m,minlen:E,nestingEdge:!0})})),e.parent(c)||e.setEdge(A,C,{weight:0,minlen:r+a[c]})}(n,e,l,r,i,A,a)})),n.graph().nodeRankFactor=l},cleanup:function(n){var e=n.graph();n.removeNode(e.nestingRoot),delete e.nestingRoot,t.forEach(n.edges(),(function(e){n.edge(e).nestingEdge&&n.removeEdge(e)}))}}},function(n,e,A){var t=A(1),o=A(6);function i(n,e,A,t,i,l){var r={width:0,height:0,rank:l,borderType:e},a=i[e][l-1],c=o.addDummyNode(n,"border",r,A);i[e][l]=c,n.setParent(c,t),a&&n.setEdge(a,c,{weight:1})}n.exports=function(n){t.forEach(n.children(),(function e(A){var o=n.children(A),l=n.node(A);if(o.length&&t.forEach(o,e),t.has(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(var r=l.minRank,a=l.maxRank+1;r<a;++r)i(n,"borderLeft","_bl",A,l,r),i(n,"borderRight","_br",A,l,r)}}))}},function(n,e,A){"use strict";var t=A(1);function o(n){t.forEach(n.nodes(),(function(e){i(n.node(e))})),t.forEach(n.edges(),(function(e){i(n.edge(e))}))}function i(n){var e=n.width;n.width=n.height,n.height=e}function l(n){n.y=-n.y}function r(n){var e=n.x;n.x=n.y,n.y=e}n.exports={adjust:function(n){var e=n.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||o(n)},undo:function(n){var e=n.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(n){t.forEach(n.nodes(),(function(e){l(n.node(e))})),t.forEach(n.edges(),(function(e){var A=n.edge(e);t.forEach(A.points,l),t.has(A,"y")&&l(A)}))}(n);"lr"!==e&&"rl"!==e||(!function(n){t.forEach(n.nodes(),(function(e){r(n.node(e))})),t.forEach(n.edges(),(function(e){var A=n.edge(e);t.forEach(A.points,r),t.has(A,"x")&&r(A)}))}(n),o(n))}}},function(n,e,A){"use strict";var t=A(1),o=A(307),i=A(308),l=A(309),r=A(313),a=A(314),c=A(12).Graph,s=A(6);function C(n,e,A){return t.map(e,(function(e){return r(n,e,A)}))}function u(n,e){var A=new c;t.forEach(n,(function(n){var o=n.graph().root,i=l(n,o,A,e);t.forEach(i.vs,(function(e,A){n.node(e).order=A})),a(n,A,i.vs)}))}function d(n,e){t.forEach(e,(function(e){t.forEach(e,(function(e,A){n.node(e).order=A}))}))}n.exports=function(n){var e=s.maxRank(n),A=C(n,t.range(1,e+1),"inEdges"),l=C(n,t.range(e-1,-1,-1),"outEdges"),r=o(n);d(n,r);for(var a,c=Number.POSITIVE_INFINITY,m=0,E=0;E<4;++m,++E){u(m%2?A:l,m%4>=2),r=s.buildLayerMatrix(n);var p=i(n,r);p<c&&(E=0,a=t.cloneDeep(r),c=p)}d(n,a)}},function(n,e,A){"use strict";var t=A(1);n.exports=function(n){var e={},A=t.filter(n.nodes(),(function(e){return!n.children(e).length})),o=t.max(t.map(A,(function(e){return n.node(e).rank}))),i=t.map(t.range(o+1),(function(){return[]}));var l=t.sortBy(A,(function(e){return n.node(e).rank}));return t.forEach(l,(function A(o){if(t.has(e,o))return;e[o]=!0;var l=n.node(o);i[l.rank].push(o),t.forEach(n.successors(o),A)})),i}},function(n,e,A){"use strict";var t=A(1);function o(n,e,A){for(var o=t.zipObject(A,t.map(A,(function(n,e){return e}))),i=t.flatten(t.map(e,(function(e){return t.sortBy(t.map(n.outEdges(e),(function(e){return{pos:o[e.w],weight:n.edge(e).weight}})),"pos")})),!0),l=1;l<A.length;)l<<=1;var r=2*l-1;l-=1;var a=t.map(new Array(r),(function(){return 0})),c=0;return t.forEach(i.forEach((function(n){var e=n.pos+l;a[e]+=n.weight;for(var A=0;e>0;)e%2&&(A+=a[e+1]),a[e=e-1>>1]+=n.weight;c+=n.weight*A}))),c}n.exports=function(n,e){for(var A=0,t=1;t<e.length;++t)A+=o(n,e[t-1],e[t]);return A}},function(n,e,A){var t=A(1),o=A(310),i=A(311),l=A(312);n.exports=function n(e,A,r,a){var c=e.children(A),s=e.node(A),C=s?s.borderLeft:void 0,u=s?s.borderRight:void 0,d={};C&&(c=t.filter(c,(function(n){return n!==C&&n!==u})));var m=o(e,c);t.forEach(m,(function(A){if(e.children(A.v).length){var o=n(e,A.v,r,a);d[A.v]=o,t.has(o,"barycenter")&&(i=A,l=o,t.isUndefined(i.barycenter)?(i.barycenter=l.barycenter,i.weight=l.weight):(i.barycenter=(i.barycenter*i.weight+l.barycenter*l.weight)/(i.weight+l.weight),i.weight+=l.weight))}var i,l}));var E=i(m,r);!function(n,e){t.forEach(n,(function(n){n.vs=t.flatten(n.vs.map((function(n){return e[n]?e[n].vs:n})),!0)}))}(E,d);var p=l(E,a);if(C&&(p.vs=t.flatten([C,p.vs,u],!0),e.predecessors(C).length)){var f=e.node(e.predecessors(C)[0]),g=e.node(e.predecessors(u)[0]);t.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+f.order+g.order)/(p.weight+2),p.weight+=2}return p}},function(n,e,A){var t=A(1);n.exports=function(n,e){return t.map(e,(function(e){var A=n.inEdges(e);if(A.length){var o=t.reduce(A,(function(e,A){var t=n.edge(A),o=n.node(A.v);return{sum:e.sum+t.weight*o.order,weight:e.weight+t.weight}}),{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}return{v:e}}))}},function(n,e,A){"use strict";var t=A(1);n.exports=function(n,e){var A={};return t.forEach(n,(function(n,e){var o=A[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:e};t.isUndefined(n.barycenter)||(o.barycenter=n.barycenter,o.weight=n.weight)})),t.forEach(e.edges(),(function(n){var e=A[n.v],o=A[n.w];t.isUndefined(e)||t.isUndefined(o)||(o.indegree++,e.out.push(A[n.w]))})),function(n){var e=[];function A(n){return function(e){e.merged||(t.isUndefined(e.barycenter)||t.isUndefined(n.barycenter)||e.barycenter>=n.barycenter)&&function(n,e){var A=0,t=0;n.weight&&(A+=n.barycenter*n.weight,t+=n.weight);e.weight&&(A+=e.barycenter*e.weight,t+=e.weight);n.vs=e.vs.concat(n.vs),n.barycenter=A/t,n.weight=t,n.i=Math.min(e.i,n.i),e.merged=!0}(n,e)}}function o(e){return function(A){A.in.push(e),0==--A.indegree&&n.push(A)}}for(;n.length;){var i=n.pop();e.push(i),t.forEach(i.in.reverse(),A(i)),t.forEach(i.out,o(i))}return t.map(t.filter(e,(function(n){return!n.merged})),(function(n){return t.pick(n,["vs","i","barycenter","weight"])}))}(t.filter(A,(function(n){return!n.indegree})))}},function(n,e,A){var t=A(1),o=A(6);function i(n,e,A){for(var o;e.length&&(o=t.last(e)).i<=A;)e.pop(),n.push(o.vs),A++;return A}n.exports=function(n,e){var A=o.partition(n,(function(n){return t.has(n,"barycenter")})),l=A.lhs,r=t.sortBy(A.rhs,(function(n){return-n.i})),a=[],c=0,s=0,C=0;l.sort((u=!!e,function(n,e){return n.barycenter<e.barycenter?-1:n.barycenter>e.barycenter?1:u?e.i-n.i:n.i-e.i})),C=i(a,r,C),t.forEach(l,(function(n){C+=n.vs.length,a.push(n.vs),c+=n.barycenter*n.weight,s+=n.weight,C=i(a,r,C)}));var u;var d={vs:t.flatten(a,!0)};s&&(d.barycenter=c/s,d.weight=s);return d}},function(n,e,A){var t=A(1),o=A(12).Graph;n.exports=function(n,e,A){var i=function(n){var e;for(;n.hasNode(e=t.uniqueId("_root")););return e}(n),l=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return n.node(e)}));return t.forEach(n.nodes(),(function(o){var r=n.node(o),a=n.parent(o);(r.rank===e||r.minRank<=e&&e<=r.maxRank)&&(l.setNode(o),l.setParent(o,a||i),t.forEach(n[A](o),(function(e){var A=e.v===o?e.w:e.v,i=l.edge(A,o),r=t.isUndefined(i)?0:i.weight;l.setEdge(A,o,{weight:n.edge(e).weight+r})})),t.has(r,"minRank")&&l.setNode(o,{borderLeft:r.borderLeft[e],borderRight:r.borderRight[e]}))})),l}},function(n,e,A){var t=A(1);n.exports=function(n,e,A){var o,i={};t.forEach(A,(function(A){for(var t,l,r=n.parent(A);r;){if((t=n.parent(r))?(l=i[t],i[t]=r):(l=o,o=r),l&&l!==r)return void e.setEdge(l,r);r=t}}))}},function(n,e,A){"use strict";var t=A(1),o=A(6),i=A(316).positionX;n.exports=function(n){(function(n){var e=o.buildLayerMatrix(n),A=n.graph().ranksep,i=0;t.forEach(e,(function(e){var o=t.max(t.map(e,(function(e){return n.node(e).height})));t.forEach(e,(function(e){n.node(e).y=i+o/2})),i+=o+A}))})(n=o.asNonCompoundGraph(n)),t.forEach(i(n),(function(e,A){n.node(A).x=e}))}},function(n,e,A){"use strict";var t=A(1),o=A(12).Graph,i=A(6);function l(n,e){var A={};return t.reduce(e,(function(e,o){var i=0,l=0,r=e.length,c=t.last(o);return t.forEach(o,(function(e,s){var C=function(n,e){if(n.node(e).dummy)return t.find(n.predecessors(e),(function(e){return n.node(e).dummy}))}(n,e),u=C?n.node(C).order:r;(C||e===c)&&(t.forEach(o.slice(l,s+1),(function(e){t.forEach(n.predecessors(e),(function(t){var o=n.node(t),l=o.order;!(l<i||u<l)||o.dummy&&n.node(e).dummy||a(A,t,e)}))})),l=s+1,i=u)})),o})),A}function r(n,e){var A={};function o(e,o,i,l,r){var c;t.forEach(t.range(o,i),(function(o){c=e[o],n.node(c).dummy&&t.forEach(n.predecessors(c),(function(e){var t=n.node(e);t.dummy&&(t.order<l||t.order>r)&&a(A,e,c)}))}))}return t.reduce(e,(function(e,A){var i,l=-1,r=0;return t.forEach(A,(function(t,a){if("border"===n.node(t).dummy){var c=n.predecessors(t);c.length&&(i=n.node(c[0]).order,o(A,r,a,l,i),r=a,l=i)}o(A,r,A.length,i,e.length)})),A})),A}function a(n,e,A){if(e>A){var t=e;e=A,A=t}var o=n[e];o||(n[e]=o={}),o[A]=!0}function c(n,e,A){if(e>A){var o=e;e=A,A=o}return t.has(n[e],A)}function s(n,e,A,o){var i={},l={},r={};return t.forEach(e,(function(n){t.forEach(n,(function(n,e){i[n]=n,l[n]=n,r[n]=e}))})),t.forEach(e,(function(n){var e=-1;t.forEach(n,(function(n){var a=o(n);if(a.length)for(var s=((a=t.sortBy(a,(function(n){return r[n]}))).length-1)/2,C=Math.floor(s),u=Math.ceil(s);C<=u;++C){var d=a[C];l[n]===n&&e<r[d]&&!c(A,n,d)&&(l[d]=n,l[n]=i[n]=i[d],e=r[d])}}))})),{root:i,align:l}}function C(n,e,A,i,l){var r={},a=function(n,e,A,i){var l=new o,r=n.graph(),a=function(n,e,A){return function(o,i,l){var r,a=o.node(i),c=o.node(l),s=0;if(s+=a.width/2,t.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":r=-a.width/2;break;case"r":r=a.width/2}if(r&&(s+=A?r:-r),r=0,s+=(a.dummy?e:n)/2,s+=(c.dummy?e:n)/2,s+=c.width/2,t.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":r=c.width/2;break;case"r":r=-c.width/2}return r&&(s+=A?r:-r),r=0,s}}(r.nodesep,r.edgesep,i);return t.forEach(e,(function(e){var o;t.forEach(e,(function(e){var t=A[e];if(l.setNode(t),o){var i=A[o],r=l.edge(i,t);l.setEdge(i,t,Math.max(a(n,e,o),r||0))}o=e}))})),l}(n,e,A,l),c=l?"borderLeft":"borderRight";function s(n,e){for(var A=a.nodes(),t=A.pop(),o={};t;)o[t]?n(t):(o[t]=!0,A.push(t),A=A.concat(e(t))),t=A.pop()}return s((function(n){r[n]=a.inEdges(n).reduce((function(n,e){return Math.max(n,r[e.v]+a.edge(e))}),0)}),a.predecessors.bind(a)),s((function(e){var A=a.outEdges(e).reduce((function(n,e){return Math.min(n,r[e.w]-a.edge(e))}),Number.POSITIVE_INFINITY),t=n.node(e);A!==Number.POSITIVE_INFINITY&&t.borderType!==c&&(r[e]=Math.max(r[e],A))}),a.successors.bind(a)),t.forEach(i,(function(n){r[n]=r[A[n]]})),r}function u(n,e){return t.minBy(t.values(e),(function(e){var A=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return t.forIn(e,(function(e,t){var i=function(n,e){return n.node(e).width}(n,t)/2;A=Math.max(e+i,A),o=Math.min(e-i,o)})),A-o}))}function d(n,e){var A=t.values(e),o=t.min(A),i=t.max(A);t.forEach(["u","d"],(function(A){t.forEach(["l","r"],(function(l){var r,a=A+l,c=n[a];if(c!==e){var s=t.values(c);(r="l"===l?o-t.min(s):i-t.max(s))&&(n[a]=t.mapValues(c,(function(n){return n+r})))}}))}))}function m(n,e){return t.mapValues(n.ul,(function(A,o){if(e)return n[e.toLowerCase()][o];var i=t.sortBy(t.map(n,o));return(i[1]+i[2])/2}))}n.exports={positionX:function(n){var e,A=i.buildLayerMatrix(n),o=t.merge(l(n,A),r(n,A)),a={};t.forEach(["u","d"],(function(i){e="u"===i?A:t.values(A).reverse(),t.forEach(["l","r"],(function(A){"r"===A&&(e=t.map(e,(function(n){return t.values(n).reverse()})));var l=("u"===i?n.predecessors:n.successors).bind(n),r=s(n,e,o,l),c=C(n,e,r.root,r.align,"r"===A);"r"===A&&(c=t.mapValues(c,(function(n){return-n}))),a[i+A]=c}))}));var c=u(n,a);return d(a,c),m(a,n.graph().align)},findType1Conflicts:l,findType2Conflicts:r,addConflict:a,hasConflict:c,verticalAlignment:s,horizontalCompaction:C,alignCoordinates:d,findSmallestWidthAlignment:u,balance:m}},function(n,e,A){var t=A(1),o=A(6),i=A(12).Graph;n.exports={debugOrdering:function(n){var e=o.buildLayerMatrix(n),A=new i({compound:!0,multigraph:!0}).setGraph({});return t.forEach(n.nodes(),(function(e){A.setNode(e,{label:e}),A.setParent(e,"layer"+n.node(e).rank)})),t.forEach(n.edges(),(function(n){A.setEdge(n.v,n.w,{},n.name)})),t.forEach(e,(function(n,e){var o="layer"+e;A.setNode(o,{rank:"same"}),t.reduce(n,(function(n,e){return A.setEdge(n,e,{style:"invis"}),e}))})),A}}},function(n,e){n.exports="0.8.5"},function(n,e,A){!function(n){"use strict";function e(n){return{type:n.constructor,key:n.key,ref:null,props:n.props}}var A="function"==typeof Map&&new Map;function t(n){var o,i,l,r=n instanceof Node?(i=(o=n).nodeType===Node.ELEMENT_NODE?Array.from(o.childNodes):[],{_currentElement:(l=o.nodeType===Node.TEXT_NODE)?o.textContent:{type:o.nodeName.toLowerCase(),props:o.__preactattr_},_renderedChildren:i.map((function(n){return n._component?t(n._component):t(n)})),_stringText:l?o.textContent:null,_inDevTools:!1,node:o}):function(n){var A=e(n),o=n.base,i={getPublicInstance:function(){return!0},getName:function(){return"function"==typeof(n=A).type?n.type.displayName||n.type.name:n.type;var n},_currentElement:e(n),props:n.props,state:n.state,forceUpdate:n.forceUpdate&&n.forceUpdate.bind(n),setState:n.setState&&n.setState.bind(n),node:o};return i._instance=n,n._component?i._renderedComponent=t(n._component):i._renderedComponent=t(o),i}(n);if(A.has(n)){var a=A.get(n);return Object.assign(a,r),a}return A.set(n,r),r}function o(n){return"."+Object.keys(n).length}function i(){var n={getNodeFromInstance:function(n){return n.node},getClosestInstanceFromNode:function(n){for(;n&&!n._component;)n=n.parentNode;return n?t(n._component):null}},e={};!function n(e,A){Array.from(e.childNodes).forEach((function(e){e._component?A[o(A)]=t(e._component):n(e,A)}))}(document.body,e);var i={_instancesByReactRootID:e,_renderNewRootComponent:function(){}},r={mountComponent:function(){},performUpdateIfNecessary:function(){},receiveComponent:function(){},unmountComponent:function(){}};return{componentAdded:function(n){var A=t(n);(function(n){return!n._parentComponent&&!n.__u&&(!n.base.parentElement||!n.base.parentElement.__preactattr_)})(n)&&(A._rootID=o(e),e[A._rootID]=A,i._renderNewRootComponent(A)),l(A,(function(n){n._inDevTools=!0,r.mountComponent(n)})),r.mountComponent(A)},componentUpdated:function(n){var e=[],o=A.get(n);o&&l(o,(function(n){e.push(n)})),o=t(n),r.receiveComponent(o),l(o,(function(n){var e={_topLevelWrapper:o};n._inDevTools?r.receiveComponent(n,null,null,e):(n._inDevTools=!0,r.mountComponent(n,null,null,e))})),e.forEach((function(n){document.body.contains(n.node)||(A.delete(n.node),r.unmountComponent(n))}))},componentRemoved:function(n){var o=t(n);l((function(n){A.delete(n.node),r.unmountComponent(n)})),r.unmountComponent(o),A.delete(n),o._rootID&&delete e[o._rootID]},ComponentTree:n,Mount:i,Reconciler:r}}function l(n,e){n&&(n._renderedComponent?n._renderedComponent._component||(e(n._renderedComponent),l(n._renderedComponent,e)):n._renderedChildren&&n._renderedChildren.forEach((function(n){e(n),n._component||l(n,e)})))}!function(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var e=i(),A=n.options.afterMount;n.options.afterMount=function(n){e.componentAdded(n),A&&A(n)};var t=n.options.afterUpdate;n.options.afterUpdate=function(n){e.componentUpdated(n),t&&t(n)};var o=n.options.beforeUnmount;n.options.beforeUnmount=function(n){e.componentRemoved(n),o&&o(n)},__REACT_DEVTOOLS_GLOBAL_HOOK__.inject(e)}}()}(A(0))},function(n,e,A){},function(n,e,A){},function(n,e,A){},,,,function(n,e,A){"use strict";A.r(e);var t,o=A(2),i=(A(319),{nodes:{node1:{id:"node1",typeId:"testId-normal",diagramMakerData:{position:{x:200,y:100},size:{width:200,height:100}}},node2:{id:"node2",typeId:"testId-normal",diagramMakerData:{position:{x:300,y:400},size:{width:200,height:100}}},node3:{id:"node3",typeId:"testId-normal",diagramMakerData:{position:{x:600,y:100},size:{width:200,height:100}}},node4:{id:"node4",typeId:"testId-normal",diagramMakerData:{position:{x:900,y:250},size:{width:200,height:100}}}},edges:{edge1:{id:"edge1",src:"node1",dest:"node2",diagramMakerData:{}},edge2:{id:"edge2",src:"node3",dest:"node4",diagramMakerData:{}},edge3:{id:"edge3",src:"node4",dest:"node3",diagramMakerData:{}}},panels:(t={},t.library={id:"library",position:{x:20,y:20},size:{width:250,height:600},positionAnchor:o.g.TOP_RIGHT},t.tools={id:"tools",position:{x:20,y:20},size:{width:150,height:400}},t),workspace:{position:{x:0,y:0},scale:1,canvasSize:{width:3200,height:1600},viewContainerSize:{width:window.innerWidth,height:window.innerHeight}},editor:{mode:o.d.DRAG}}),l=(A(320),A(321),A(322),A(9)),r=window;window;r.diagramMaker=new o.b("diagramMakerContainer",{options:{connectorPlacement:o.a.BOUNDARY,showArrowhead:!0},renderCallbacks:{destroy:function(){},edge:function(n,e){if(""===e.innerHTML){var A=document.createElement("div");return A.textContent=n.id.substring(0,10),A.classList.add("edgeBadge"),e.appendChild(A),A}},node:function(n,e){return"testId-centered"===n.typeId?Object(l.b)(n,e):Object(l.k)(n,e)},potentialNode:function(n,e){return Object(l.j)(n,e)},panels:{library:function(n,e,A){return Object(l.d)(A)},tools:function(n,e,A){return Object(l.m)(A,(function(){return r.diagramMaker}))}}},actionInterceptor:function(n,e,A){Object(l.p)(n),e(n)},nodeTypeConfig:{"testId-centered":{size:{width:100,height:100},connectorPlacementOverride:o.a.CENTERED},"testId-dead":{size:{width:150,height:50},visibleConnectorTypes:o.i.NONE,connectorPlacementOverride:o.a.LEFT_RIGHT},"testId-end":{size:{width:150,height:50},visibleConnectorTypes:o.i.INPUT_ONLY,connectorPlacementOverride:o.a.LEFT_RIGHT},"testId-normal":{size:{width:200,height:100},connectorPlacementOverride:o.a.BOUNDARY,shape:o.h.RECTANGLE},"testId-normalWithSize":{size:{width:300,height:50},connectorPlacementOverride:o.a.BOUNDARY,shape:o.h.RECTANGLE},"testId-start":{size:{width:150,height:50},visibleConnectorTypes:o.i.OUTPUT_ONLY,connectorPlacementOverride:o.a.LEFT_RIGHT},"testId-topBottom":{size:{width:150,height:50},connectorPlacementOverride:o.a.TOP_BOTTOM}}},{consumerEnhancer:Object(l.a)(),initialData:i})}]);